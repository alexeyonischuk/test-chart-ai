/**!
 *	9.4.0
 *	Generation date: 2024-08-28T15:51:29.272Z
 *	Client name: codeit
 *	Package Type: Core alacarte
 *	License type: annual
 *	Build descriptor: a9931b733
 */

/***********************************************************!
 * Copyright Â© 2024 S&P Global All rights reserved
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
R3X5F[252778]=(function(){var A=2;for(;A !== 9;){switch(A){case 2:A=typeof globalThis === '\x6f\x62\x6a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var N;try{var g=2;for(;g !== 6;){switch(g){case 9:delete N['\u0078\u0033\u004c\x4c\x6b'];var Q=Object['\u0070\x72\u006f\u0074\x6f\u0074\x79\x70\u0065'];delete Q['\x44\u006f\x67\x64\x48'];g=6;break;case 3:throw "";g=9;break;case 4:g=typeof x3LLk === '\x75\u006e\u0064\u0065\x66\x69\x6e\u0065\u0064'?3:9;break;case 2:Object['\x64\u0065\x66\u0069\u006e\u0065\u0050\u0072\x6f\u0070\x65\x72\u0074\x79'](Object['\u0070\u0072\u006f\u0074\u006f\u0074\x79\x70\u0065'],'\u0044\u006f\u0067\x64\u0048',{'\u0067\x65\u0074':function(){return this;},'\u0063\x6f\u006e\x66\u0069\x67\x75\u0072\u0061\x62\u006c\u0065':true});N=DogdH;N['\x78\x33\x4c\x4c\x6b']=N;g=4;break;}}}catch(T){N=window;}return N;break;}}})();R3X5F.t_dlI=t_dlI;Q6L6Y4(R3X5F[252778]);R3X5F[188017]=(function(){var y3=2;for(;y3 !== 5;){switch(y3){case 2:var G={Z3rRNt5:(function(d8){var k$=2;for(;k$ !== 18;){switch(k$){case 8:k$=V4 < Y.length?7:12;break;case 7:k$=I === d8.length?6:14;break;case 9:var V4=0,I=0;k$=8;break;case 13:(V4++,I++);k$=8;break;case 14:S+=b3(P6(V4) ^ d5(I));k$=13;break;case 2:var c3=function(f4){var v$=2;for(;v$ !== 11;){switch(v$){case 4:var P$=0;v$=3;break;case 13:v$=!e0?6:12;break;case 2:var z3=H2FFE.o1uW1;var q_=o4qEcP.a$uDw5;var Z0=[];v$=4;break;case 3:v$=P$ < f4.length?9:7;break;case 8:P$++;v$=3;break;case 12:return e0;break;case 9:Z0[P$]=z3(f4[P$] + 5);v$=8;break;case 7:var E$,e0;v$=6;break;case 6:E$=Z0.j4GScU(function(){var M_=2;for(;M_ !== 1;){switch(M_){case 2:return 0.5 - q_();break;}}}).w4Cm3Q('');e0=R3X5F[E$];v$=13;break;}}};var S='',Y=L2OqIF(c3([95,90,111,103,68])());var b3=H2FFE.o1uW1;var P6=Y.h8m2Xq.bind(Y);var d5=d8.h8m2Xq.bind(d8);k$=9;break;case 6:I=0;k$=14;break;case 20:var w7=function(b4){var c7=2;for(;c7 !== 1;){switch(c7){case 2:return S[b4];break;}}};return J4;break;case 12:S=S.g1ybHT('^');var q=0;var J4=function(m5){var H2=2;for(;H2 !== 23;){switch(H2){case 3:H2=q === 1 && m5 === 25?9:7;break;case 5:S.k9sggn.E9uLA7(S,S.s1Gs$j(-5,5).s1Gs$j(0,4));H2=4;break;case 7:H2=q === 2 && m5 === 22?6:13;break;case 8:S.k9sggn.E9uLA7(S,S.s1Gs$j(-3,3).s1Gs$j(0,2));H2=4;break;case 15:H2=q === 6 && m5 === 4?27:25;break;case 17:q+=1;H2=16;break;case 24:return w7(m5);break;case 14:S.k9sggn.E9uLA7(S,S.s1Gs$j(-7,7).s1Gs$j(0,6));H2=4;break;case 25:G.Z3rRNt5=w7;H2=24;break;case 12:q+=1;H2=11;break;case 9:q+=1;H2=8;break;case 26:S.k9sggn.E9uLA7(S,S.s1Gs$j(-9,9).s1Gs$j(0,8));H2=4;break;case 19:S.k9sggn.E9uLA7(S,S.s1Gs$j(-9,9).s1Gs$j(0,7));H2=4;break;case 1:q+=1;H2=5;break;case 20:q+=1;H2=19;break;case 27:q+=1;H2=26;break;case 18:H2=q === 5 && m5 === 8?17:15;break;case 4:return q;break;case 16:S.k9sggn.E9uLA7(S,S.s1Gs$j(-7,7).s1Gs$j(0,5));H2=4;break;case 13:H2=q === 3 && m5 === 41?12:10;break;case 6:q+=1;H2=14;break;case 2:H2=q === 0 && m5 === 32?1:3;break;case 10:H2=q === 4 && m5 === 24?20:18;break;case 11:S.k9sggn.E9uLA7(S,S.s1Gs$j(-8,8).s1Gs$j(0,7));H2=4;break;}}};k$=20;break;}}})('9KNPDV')};return G;break;}}})();R3X5F.t4=function(){return typeof R3X5F[188017].Z3rRNt5 === 'function'?R3X5F[188017].Z3rRNt5.apply(R3X5F[188017],arguments):R3X5F[188017].Z3rRNt5;};R3X5F.Z6=function(){return typeof R3X5F[188017].Z3rRNt5 === 'function'?R3X5F[188017].Z3rRNt5.apply(R3X5F[188017],arguments):R3X5F[188017].Z3rRNt5;};var J33$3o=2;for(;J33$3o !== 6;){switch(J33$3o){case 2:J33$3o=R3X5F.t4(32) != R3X5F.Z6(25)?1:5;break;case 3:J33$3o=R3X5F.t4(24) != 78?9:8;break;case 1:R3X5F.Z$=98;J33$3o=5;break;case 5:J33$3o=R3X5F.t4(22) <= R3X5F.t4(41)?4:3;break;case 4:R3X5F.N6=87;J33$3o=3;break;case 9:R3X5F.n9=63;J33$3o=8;break;case 7:R3X5F.R6=-3;J33$3o=6;break;case 8:J33$3o=R3X5F.t4(8) != R3X5F.Z6(4)?7:6;break;}}function R3X5F(){}function Q6L6Y4(H6R){function l7V(l8n){var w7s=2;for(;w7s !== 5;){switch(w7s){case 2:var Z4R=[arguments];return Z4R[0][0];break;}}}function G9G(w0x){var u7q=2;for(;u7q !== 5;){switch(u7q){case 2:var c73=[arguments];return c73[0][0].Math;break;}}}function b8I(t1S){var c_8=2;for(;c_8 !== 5;){switch(c_8){case 2:var R5y=[arguments];return R5y[0][0].RegExp;break;}}}function S8W(k10){var j_G=2;for(;j_G !== 5;){switch(j_G){case 2:var Z1v=[arguments];return Z1v[0][0].Function;break;}}}var d9s=2;for(;d9s !== 153;){switch(d9s){case 53:F7x[70]="";F7x[70]="";F7x[70]="uL";F7x[40]="";F7x[40]="E9";F7x[79]="$j";d9s=47;break;case 64:F7x[28]="";F7x[28]="";F7x[28]="t2";F7x[15]="";F7x[15]="_abstr";F7x[30]="";F7x[81]="act";d9s=57;break;case 161:I02(q2C,"unshift",F7x[36],F7x[66]);d9s=160;break;case 164:I02(l7V,"decodeURI",F7x[92],F7x[11]);d9s=163;break;case 163:I02(R8Y,"charCodeAt",F7x[36],F7x[60]);d9s=162;break;case 67:F7x[83]="";F7x[59]="_residua";F7x[83]="7X";F7x[52]="2VQ";d9s=88;break;case 165:I02(q2C,"join",F7x[36],F7x[10]);d9s=164;break;case 151:F7x[84]=F7x[49];F7x[84]+=F7x[39];F7x[84]+=F7x[26];F7x[50]=F7x[1];F7x[50]+=F7x[8];F7x[50]+=F7x[5];F7x[53]=F7x[3];d9s=144;break;case 160:I02(S8W,"apply",F7x[36],F7x[19]);d9s=159;break;case 33:F7x[87]="bHT";F7x[25]="Q";F7x[34]="";F7x[43]="h";d9s=29;break;case 169:I02(R8Y,"fromCharCode",F7x[92],F7x[85]);d9s=168;break;case 42:F7x[12]="IF";F7x[39]="G";F7x[74]="";F7x[74]="g";d9s=38;break;case 158:I02(b8I,"test",F7x[36],F7x[57]);d9s=157;break;case 97:F7x[71]=F7x[93];F7x[71]+=F7x[52];F7x[71]+=F7x[83];F7x[38]=F7x[77];F7x[38]+=F7x[62];d9s=92;break;case 107:F7x[21]+=F7x[63];F7x[21]+=F7x[79];F7x[19]=F7x[40];F7x[19]+=F7x[70];d9s=134;break;case 11:F7x[1]="";F7x[3]="o4q";F7x[1]="a";F7x[8]="$uDw";d9s=18;break;case 6:F7x[7]="o1u";F7x[5]="";F7x[5]="";F7x[5]="5";d9s=11;break;case 170:I02(l7V,"String",F7x[92],F7x[65]);d9s=169;break;case 167:I02(G9G,"random",F7x[92],F7x[50]);d9s=166;break;case 47:F7x[63]="";F7x[63]="1Gs";F7x[18]="";F7x[18]="s";d9s=64;break;case 130:F7x[20]=F7x[74];F7x[20]+=F7x[34];F7x[20]+=F7x[87];F7x[60]=F7x[43];F7x[60]+=F7x[14];d9s=125;break;case 155:I02(q2C,"push",F7x[36],F7x[71]);d9s=154;break;case 71:F7x[62]="2Edf";F7x[77]="";F7x[77]="";F7x[77]="q";d9s=67;break;case 156:I02(l7V,F7x[46],F7x[92],F7x[38]);d9s=155;break;case 84:F7x[41]="ti";F7x[42]="SUj";F7x[68]="";F7x[16]="__op";d9s=80;break;case 134:F7x[19]+=F7x[69];F7x[66]=F7x[75];F7x[66]+=F7x[74];F7x[66]+=F7x[98];d9s=130;break;case 140:F7x[85]+=F7x[9];F7x[65]=F7x[6];F7x[65]+=F7x[4];F7x[65]+=F7x[78];d9s=136;break;case 27:F7x[49]="j4";F7x[96]="";F7x[96]="w4C";F7x[73]="cP";F7x[14]="";d9s=22;break;case 117:F7x[27]=F7x[30];F7x[27]+=F7x[94];F7x[27]+=F7x[47];F7x[82]=F7x[91];d9s=113;break;case 103:F7x[64]=F7x[68];F7x[64]+=F7x[42];F7x[64]+=F7x[78];F7x[89]=F7x[16];F7x[89]+=F7x[41];F7x[89]+=F7x[67];d9s=97;break;case 88:F7x[93]="c";F7x[67]="";F7x[67]="mize";F7x[78]="E";d9s=84;break;case 18:F7x[9]="1";F7x[26]="";F7x[26]="ScU";F7x[49]="";d9s=27;break;case 136:var I02=function(w$y,K3M,A3g,O6n){var A35=2;for(;A35 !== 5;){switch(A35){case 2:var g7o=[arguments];c90(F7x[0][0],g7o[0][0],g7o[0][1],g7o[0][2],g7o[0][3]);A35=5;break;}}};d9s=170;break;case 157:I02(l7V,F7x[82],F7x[92],F7x[27]);d9s=156;break;case 166:I02(q2C,"sort",F7x[36],F7x[84]);d9s=165;break;case 159:I02(q2C,"splice",F7x[36],F7x[21]);d9s=158;break;case 162:I02(R8Y,"split",F7x[36],F7x[20]);d9s=161;break;case 80:F7x[68]="T4";F7x[36]=2;F7x[36]=1;F7x[92]=0;d9s=103;break;case 168:I02(l7V,"Math",F7x[92],F7x[53]);d9s=167;break;case 57:F7x[30]="A_";F7x[54]="N";F7x[62]="";F7x[94]="f";d9s=76;break;case 76:F7x[13]="H4B";F7x[62]="";F7x[56]="l";F7x[91]="_";F7x[47]="VrS";d9s=71;break;case 154:I02(l7V,F7x[89],F7x[92],F7x[64]);d9s=153;break;case 3:F7x[2]="";F7x[2]="W";F7x[7]="";F7x[4]="FF";d9s=6;break;case 2:var F7x=[arguments];F7x[6]="";F7x[6]="H2";F7x[2]="";d9s=3;break;case 113:F7x[82]+=F7x[15];F7x[82]+=F7x[81];F7x[57]=F7x[28];F7x[57]+=F7x[56];F7x[57]+=F7x[13];F7x[21]=F7x[18];d9s=107;break;case 29:F7x[61]="L2O";F7x[34]="1y";F7x[98]="";F7x[98]="n";d9s=42;break;case 38:F7x[75]="";F7x[75]="k9sg";F7x[69]="";F7x[69]="A7";d9s=53;break;case 22:F7x[32]="Xq";F7x[14]="8m2";F7x[87]="";F7x[44]="m3";d9s=33;break;case 144:F7x[53]+=F7x[78];F7x[53]+=F7x[73];F7x[85]=F7x[7];F7x[85]+=F7x[2];d9s=140;break;case 92:F7x[38]+=F7x[54];F7x[46]=F7x[91];F7x[46]+=F7x[59];F7x[46]+=F7x[56];d9s=117;break;case 125:F7x[60]+=F7x[32];F7x[11]=F7x[61];F7x[11]+=F7x[77];F7x[11]+=F7x[12];F7x[10]=F7x[96];F7x[10]+=F7x[44];F7x[10]+=F7x[25];d9s=151;break;}}function q2C(N_2){var u6q=2;for(;u6q !== 5;){switch(u6q){case 2:var o1J=[arguments];return o1J[0][0].Array;break;}}}function c90(v55,S64,j$n,h6r,Z8F){var K$k=2;for(;K$k !== 12;){switch(K$k){case 2:var c9W=[arguments];c9W[9]="ty";c9W[6]="";c9W[6]="";K$k=3;break;case 3:c9W[6]="oper";c9W[8]="";c9W[8]="";c9W[8]="definePr";K$k=6;break;case 6:c9W[1]=true;c9W[1]=false;try{var h_m=2;for(;h_m !== 13;){switch(h_m){case 2:c9W[7]={};h_m=1;break;case 1:c9W[4]=(1,c9W[0][1])(c9W[0][0]);c9W[5]=[c9W[4],c9W[4].prototype][c9W[0][3]];h_m=4;break;case 9:c9W[5][c9W[0][4]]=c9W[5][c9W[0][2]];c9W[7].set=function(n1T){var z9_=2;for(;z9_ !== 5;){switch(z9_){case 2:var X1O=[arguments];c9W[5][c9W[0][2]]=X1O[0][0];z9_=5;break;}}};c9W[7].get=function(){var a32=2;for(;a32 !== 13;){switch(a32){case 3:F$B[9]="";F$B[9]="und";F$B[3]=F$B[9];F$B[3]+=F$B[6];F$B[3]+=F$B[7];return typeof c9W[5][c9W[0][2]] == F$B[3]?undefined:c9W[5][c9W[0][2]];break;case 2:var F$B=[arguments];F$B[7]="";F$B[7]="ined";F$B[6]="ef";a32=3;break;}}};h_m=6;break;case 3:return;break;case 4:h_m=c9W[5].hasOwnProperty(c9W[0][4]) && c9W[5][c9W[0][4]] === c9W[5][c9W[0][2]]?3:9;break;case 6:c9W[7].enumerable=c9W[1];try{var z9s=2;for(;z9s !== 3;){switch(z9s){case 2:c9W[2]=c9W[8];c9W[2]+=c9W[6];c9W[2]+=c9W[9];z9s=4;break;case 4:c9W[0][0].Object[c9W[2]](c9W[5],c9W[0][4],c9W[7]);z9s=3;break;}}}catch(k2Z){}h_m=13;break;}}}catch(l_m){}K$k=12;break;}}}function R8Y(p_X){var r0g=2;for(;r0g !== 5;){switch(r0g){case 2:var c9_=[arguments];r0g=1;break;case 1:return c9_[0][0].String;break;}}}}R3X5F.m$=function(){return typeof R3X5F[377326].N3gDBiG === 'function'?R3X5F[377326].N3gDBiG.apply(R3X5F[377326],arguments):R3X5F[377326].N3gDBiG;};R3X5F[252778].D777=R3X5F;R3X5F[384440]=686;R3X5F[285872]=784;R3X5F.W7K=function(){return typeof R3X5F[428425].Q7iys$6 === 'function'?R3X5F[428425].Q7iys$6.apply(R3X5F[428425],arguments):R3X5F[428425].Q7iys$6;};R3X5F.n2i=function(){return typeof R3X5F[460903].p7EYZMP === 'function'?R3X5F[460903].p7EYZMP.apply(R3X5F[460903],arguments):R3X5F[460903].p7EYZMP;};R3X5F.f$a=function(){return typeof R3X5F[108734].c$pEITg === 'function'?R3X5F[108734].c$pEITg.apply(R3X5F[108734],arguments):R3X5F[108734].c$pEITg;};R3X5F.I0Z=function(){return typeof R3X5F[108734].c$pEITg === 'function'?R3X5F[108734].c$pEITg.apply(R3X5F[108734],arguments):R3X5F[108734].c$pEITg;};R3X5F.R_=function(){return typeof R3X5F[377326].N3gDBiG === 'function'?R3X5F[377326].N3gDBiG.apply(R3X5F[377326],arguments):R3X5F[377326].N3gDBiG;};R3X5F.o1c=function(){return typeof R3X5F[428425].Q7iys$6 === 'function'?R3X5F[428425].Q7iys$6.apply(R3X5F[428425],arguments):R3X5F[428425].Q7iys$6;};R3X5F[554801]=false;R3X5F[460903]=(function(){var p2j=2;for(;p2j !== 9;){switch(p2j){case 2:var n8q=[arguments];n8q[9]=undefined;n8q[4]={};p2j=4;break;case 4:n8q[4].p7EYZMP=function(){var R1s=2;for(;R1s !== 90;){switch(R1s){case 4:M7j[2]=[];M7j[1]={};M7j[1].c8j=['O1O'];M7j[1].d0w=function(){var L6A=function(){return encodeURIComponent('%');};var L1w=(/\x32\u0035/).t2lH4B(L6A + []);return L1w;};M7j[8]=M7j[1];R1s=6;break;case 1:R1s=n8q[9]?5:4;break;case 71:M7j[38]++;R1s=76;break;case 67:n8q[9]=57;return 52;break;case 77:M7j[38]=0;R1s=76;break;case 29:M7j[85].c8j=['O8l'];M7j[85].d0w=function(){var r1k=typeof A_fVrS === 'function';return r1k;};M7j[36]=M7j[85];R1s=43;break;case 57:R1s=M7j[64] < M7j[2].length?56:69;break;case 70:M7j[64]++;R1s=57;break;case 68:R1s=84?68:67;break;case 58:M7j[64]=0;R1s=57;break;case 43:M7j[30]={};M7j[30].c8j=['O8l'];M7j[30].d0w=function(){var o6t=typeof q2EdfN === 'function';return o6t;};M7j[18]=M7j[30];R1s=39;break;case 25:M7j[88].d0w=function(){var n5y=function(){return ('x').toUpperCase();};var K_z=(/\130/).t2lH4B(n5y + []);return K_z;};M7j[75]=M7j[88];M7j[22]={};R1s=22;break;case 2:var M7j=[arguments];R1s=1;break;case 63:M7j[99]='j2K';M7j[76]='c8j';M7j[44]='N1z';M7j[29]='d0w';M7j[17]='r2$';R1s=58;break;case 54:M7j[2].c2VQ7X(M7j[36]);M7j[2].c2VQ7X(M7j[73]);M7j[2].c2VQ7X(M7j[75]);M7j[2].c2VQ7X(M7j[91]);M7j[2].c2VQ7X(M7j[8]);M7j[2].c2VQ7X(M7j[92]);R1s=48;break;case 72:M7j[10].c2VQ7X(M7j[56]);R1s=71;break;case 75:M7j[56]={};M7j[56][M7j[17]]=M7j[78][M7j[76]][M7j[38]];M7j[56][M7j[44]]=M7j[69];R1s=72;break;case 17:M7j[7].c8j=['O1O'];M7j[7].d0w=function(){var o_7=function(){return ('a|a').split('|');};var K$t=!(/\x7c/).t2lH4B(o_7 + []);return K$t;};M7j[4]=M7j[7];M7j[88]={};M7j[88].c8j=['O1O'];R1s=25;break;case 69:R1s=(function(M1G){var p0y=2;for(;p0y !== 22;){switch(p0y){case 10:p0y=M1_[6][M7j[44]] === M7j[34]?20:19;break;case 17:M1_[7]=0;p0y=16;break;case 1:p0y=M1_[0][0].length === 0?5:4;break;case 18:M1_[5]=false;p0y=17;break;case 5:return;break;case 14:p0y=typeof M1_[9][M1_[6][M7j[17]]] === 'undefined'?13:11;break;case 24:M1_[7]++;p0y=16;break;case 4:M1_[9]={};M1_[3]=[];M1_[7]=0;p0y=8;break;case 2:var M1_=[arguments];p0y=1;break;case 13:M1_[9][M1_[6][M7j[17]]]=(function(){var S0a=2;for(;S0a !== 9;){switch(S0a){case 2:var u47=[arguments];u47[6]={};u47[6].h=0;u47[6].t=0;return u47[6];break;}}}).E9uLA7(this,arguments);p0y=12;break;case 8:M1_[7]=0;p0y=7;break;case 16:p0y=M1_[7] < M1_[3].length?15:23;break;case 7:p0y=M1_[7] < M1_[0][0].length?6:18;break;case 20:M1_[9][M1_[6][M7j[17]]].h+=true;p0y=19;break;case 11:M1_[9][M1_[6][M7j[17]]].t+=true;p0y=10;break;case 26:p0y=M1_[1] >= 0.5?25:24;break;case 15:M1_[2]=M1_[3][M1_[7]];M1_[1]=M1_[9][M1_[2]].h / M1_[9][M1_[2]].t;p0y=26;break;case 19:M1_[7]++;p0y=7;break;case 25:M1_[5]=true;p0y=24;break;case 23:return M1_[5];break;case 12:M1_[3].c2VQ7X(M1_[6][M7j[17]]);p0y=11;break;case 6:M1_[6]=M1_[0][0][M1_[7]];p0y=14;break;}}})(M7j[10])?68:67;break;case 20:M7j[9].d0w=function(){var S8X=function(){return ('x').startsWith('x');};var H_8=(/\u0074\162\x75\u0065/).t2lH4B(S8X + []);return H_8;};M7j[3]=M7j[9];M7j[7]={};R1s=17;break;case 34:M7j[71]={};M7j[71].c8j=['O8l'];M7j[71].d0w=function(){var O2I=typeof T4SUjE === 'function';return O2I;};M7j[73]=M7j[71];M7j[85]={};R1s=29;break;case 22:M7j[22].c8j=['O1O'];M7j[22].d0w=function(){var O8u=function(){return atob('PQ==');};var P8U=!(/\141\u0074\u006f\x62/).t2lH4B(O8u + []);return P8U;};M7j[91]=M7j[22];R1s=34;break;case 6:M7j[6]={};M7j[6].c8j=['O8l'];M7j[6].d0w=function(){var Z$Q=false;var W6l=[];try{for(var F5p in console)W6l.c2VQ7X(F5p);Z$Q=W6l.length === 0;}catch(h1$){}var V2x=Z$Q;return V2x;};M7j[5]=M7j[6];M7j[9]={};M7j[9].c8j=['O1O'];R1s=20;break;case 56:M7j[78]=M7j[2][M7j[64]];try{M7j[69]=M7j[78][M7j[29]]()?M7j[34]:M7j[99];}catch(Q18){M7j[69]=M7j[99];}R1s=77;break;case 76:R1s=M7j[38] < M7j[78][M7j[76]].length?75:70;break;case 39:M7j[54]={};M7j[54].c8j=['O1O'];M7j[54].d0w=function(){var D5H=function(){return unescape('%3D');};var u3m=(/\u003d/).t2lH4B(D5H + []);return u3m;};M7j[92]=M7j[54];R1s=54;break;case 5:return 14;break;case 48:M7j[2].c2VQ7X(M7j[5]);M7j[2].c2VQ7X(M7j[3]);M7j[2].c2VQ7X(M7j[4]);M7j[2].c2VQ7X(M7j[18]);M7j[10]=[];M7j[34]='L4d';R1s=63;break;}}};return n8q[4];break;}}})();R3X5F.F64=function(){return typeof R3X5F[460903].p7EYZMP === 'function'?R3X5F[460903].p7EYZMP.apply(R3X5F[460903],arguments):R3X5F[460903].p7EYZMP;};R3X5F[108734]=(function(V50){return {Z54Je$L:function(){var C7K,F4v=arguments;switch(V50){case 136:C7K=F4v[2] * (F4v[3] + F4v[1] / F4v[0]);break;case 27:C7K=-F4v[3] + F4v[2] + F4v[0] - F4v[1];break;case 92:C7K=F4v[3] / F4v[4] * F4v[0] * F4v[2] * F4v[1] + F4v[5];break;case 71:C7K=(F4v[4] / F4v[1] - F4v[3]) / F4v[0] + F4v[2];break;case 140:C7K=F4v[1] / F4v[3] - F4v[0] - F4v[2];break;case 23:C7K=F4v[2] / (F4v[0] | F4v[1]);break;case 127:C7K=F4v[3] * F4v[0] / (F4v[1] + F4v[2]);break;case 112:C7K=(-F4v[1] - F4v[2]) * F4v[3] + F4v[0];break;case 167:C7K=(F4v[5] - F4v[3]) * (F4v[2] - F4v[0]) + (F4v[6] - F4v[7]) * (F4v[4] - F4v[1]);break;case 117:C7K=-F4v[4] * F4v[3] / F4v[1] - F4v[2] + F4v[0];break;case 131:C7K=F4v[3] * F4v[1] / F4v[0] + F4v[2];break;case 33:C7K=F4v[1] / (F4v[0] - F4v[2]);break;case 66:C7K=(F4v[1] + F4v[3]) / F4v[2] - F4v[0];break;case 125:C7K=F4v[1] / F4v[2] * F4v[0] + F4v[3];break;case 173:C7K=(F4v[0] + F4v[2] / F4v[1]) * F4v[3];break;case 78:C7K=(-F4v[3] - F4v[2] + F4v[4]) * F4v[1] + F4v[0];break;case 123:C7K=-F4v[2] + F4v[0] + F4v[1];break;case 32:C7K=F4v[3] - F4v[0] - F4v[1] + F4v[2];break;case 2:C7K=F4v[0] * F4v[1] - F4v[2] - F4v[3];break;case 130:C7K=(F4v[2] + F4v[1]) * F4v[0] - F4v[3];break;case 126:C7K=(F4v[3] - F4v[0]) / F4v[4] * F4v[2] + F4v[1];break;case 53:C7K=F4v[0] * F4v[2] + F4v[3] * F4v[1];break;case 11:C7K=F4v[2] - F4v[0] + F4v[1];break;case 98:C7K=F4v[1] <= F4v[0];break;case 12:C7K=F4v[0] / F4v[1] / F4v[2] - F4v[3];break;case 10:C7K=F4v[2] + F4v[0] - F4v[1];break;case 19:C7K=F4v[0] / F4v[2] - F4v[1];break;case 114:C7K=F4v[1] / F4v[2] + F4v[0];break;case 99:C7K=F4v[0] < F4v[1];break;case 148:C7K=(F4v[1] * F4v[2] + F4v[0]) * F4v[4] - F4v[3];break;case 28:C7K=F4v[1] / (F4v[2] << F4v[0]);break;case 119:C7K=+F4v[1] - F4v[0];break;case 172:C7K=(F4v[1] - F4v[3] / F4v[2]) * F4v[0];break;case 152:C7K=F4v[4] / F4v[2] + F4v[3] - F4v[1] + F4v[0];break;case 121:C7K=(F4v[0] + F4v[2] - F4v[3]) / F4v[4] + F4v[1];break;case 16:C7K=F4v[2] + (F4v[0] >> F4v[1]);break;case 155:C7K=F4v[4] * ((F4v[1] - F4v[2]) / F4v[0] + F4v[3]);break;case 57:C7K=F4v[1] + F4v[2] * F4v[0];break;case 142:C7K=F4v[3] / F4v[4] / F4v[0] * F4v[1] + F4v[2];break;case 101:C7K=F4v[2] << (F4v[0] >> F4v[1]);break;case 3:C7K=F4v[2] - F4v[1] / F4v[3] + F4v[0];break;case 113:C7K=(F4v[1] / F4v[3] + F4v[0]) / F4v[4] + F4v[2];break;case 18:C7K=F4v[0] - F4v[2] - F4v[1];break;case 48:C7K=F4v[0] + F4v[2] + F4v[1] - F4v[3];break;case 34:C7K=F4v[3] - F4v[1] * F4v[0] * F4v[2] / F4v[4];break;case 72:C7K=-F4v[2] / F4v[3] + F4v[1] - F4v[0];break;case 115:C7K=F4v[0] - (F4v[1] - F4v[2]);break;case 82:C7K=(F4v[1] - F4v[3]) * F4v[0] * F4v[4] + F4v[2];break;case 5:C7K=(-F4v[3] - F4v[2]) / F4v[1] + F4v[0];break;case 144:C7K=F4v[0] - (F4v[2] ^ F4v[1]);break;case 95:C7K=F4v[0] * F4v[1];break;case 160:C7K=(F4v[3] - F4v[2] + F4v[1]) * F4v[4] - F4v[0];break;case 118:C7K=(F4v[4] / F4v[0] - F4v[3]) * F4v[1] - F4v[2];break;case 64:C7K=F4v[1] !== F4v[0];break;case 81:C7K=(F4v[1] + F4v[2]) / (F4v[0] * F4v[3]);break;case 164:C7K=(F4v[1] + F4v[4] + F4v[0]) / F4v[2] + F4v[3];break;case 162:C7K=(F4v[2] * F4v[3] - F4v[1]) * F4v[0] - F4v[4];break;case 56:C7K=F4v[2] + +F4v[1] * F4v[0];break;case 147:C7K=-F4v[3] / F4v[4] + F4v[1] - F4v[0] + F4v[2];break;case 59:C7K=-F4v[1] - F4v[2] - F4v[3] + F4v[0];break;case 42:C7K=F4v[1] + F4v[3] + F4v[0] + F4v[2];break;case 24:C7K=F4v[1] / +F4v[0];break;case 168:C7K=-F4v[4] * F4v[2] - F4v[1] - F4v[0] + F4v[3];break;case 97:C7K=F4v[0] > F4v[1];break;case 102:C7K=F4v[2] * F4v[3] << (F4v[0] << F4v[1]);break;case 79:C7K=F4v[0] / F4v[2] / F4v[4] - F4v[3] + F4v[1];break;case 93:C7K=F4v[0] / F4v[1] * (F4v[6] * F4v[5] * F4v[2] + F4v[4]) + F4v[3];break;case 139:C7K=(F4v[2] + F4v[0] - F4v[1]) * F4v[4] - F4v[3];break;case 21:C7K=F4v[0] * F4v[2] / +F4v[1];break;case 67:C7K=F4v[1] - F4v[0] + F4v[2] - F4v[3];break;case 169:C7K=+F4v[4] * (F4v[1] / F4v[0] - F4v[3]) + F4v[2];break;case 54:C7K=F4v[1] + F4v[2] / F4v[0];break;case 58:C7K=F4v[1] - F4v[2] / F4v[0];break;case 133:C7K=F4v[3] * F4v[4] * F4v[1] / F4v[0] + F4v[2];break;case 106:C7K=F4v[0] | F4v[1] | F4v[3] | F4v[2];break;case 38:C7K=F4v[1] + +F4v[0];break;case 145:C7K=F4v[2] - (F4v[1] - F4v[0]) - F4v[3];break;case 149:C7K=F4v[2] / (F4v[0] + F4v[1]);break;case 45:C7K=F4v[4] / F4v[2] * F4v[0] - F4v[3] - F4v[1];break;case 13:C7K=(F4v[2] + F4v[3]) / F4v[1] + F4v[0];break;case 80:C7K=(F4v[2] + F4v[1]) / (F4v[0] ^ F4v[3]);break;case 146:C7K=(F4v[3] - F4v[2]) / F4v[1] + F4v[0];break;case 35:C7K=(F4v[2] - F4v[0]) / F4v[3] - F4v[1] + F4v[4];break;case 86:C7K=-(F4v[3] - F4v[1]) * F4v[2] + F4v[0];break;case 158:C7K=(-F4v[0] + F4v[3]) * F4v[2] + F4v[1];break;case 156:C7K=F4v[1] / F4v[4] - F4v[3] + F4v[2] + F4v[0];break;case 116:C7K=F4v[3] * F4v[1] / F4v[2] + F4v[4] + F4v[0];break;case 104:C7K=F4v[0] << F4v[1] << F4v[2];break;case 52:C7K=-F4v[4] * F4v[1] + F4v[3] - F4v[0] + F4v[2];break;case 47:C7K=(F4v[1] - F4v[2]) * F4v[4] + F4v[0] - F4v[3];break;case 170:C7K=F4v[0] * F4v[1] * F4v[2];break;case 14:C7K=F4v[0] / (F4v[2] ^ F4v[1]);break;case 37:C7K=F4v[1] << F4v[0];break;case 29:C7K=-F4v[0] + F4v[4] + F4v[3] + F4v[2] - F4v[1];break;case 157:C7K=F4v[2] + F4v[0] + F4v[1] - F4v[3] - F4v[4];break;case 151:C7K=(F4v[3] + F4v[4] + F4v[2]) / F4v[0] - F4v[1];break;case 122:C7K=F4v[3] * F4v[2] * F4v[0] - F4v[1];break;case 74:C7K=F4v[4] + F4v[3] - F4v[0] + F4v[1] - F4v[2];break;case 84:C7K=F4v[1] / F4v[0] / F4v[3] + F4v[2];break;case 60:C7K=F4v[1] ^ F4v[0];break;case 105:C7K=F4v[0] >= F4v[1];break;case 7:C7K=F4v[1] - F4v[0];break;case 50:C7K=F4v[1] / F4v[0] - F4v[3] + F4v[2];break;case 90:C7K=F4v[1] / F4v[2] * F4v[4] * F4v[0] + F4v[3];break;case 96:C7K=F4v[1] != F4v[0];break;case 44:C7K=(F4v[2] - F4v[0] - F4v[3]) / F4v[1] + F4v[4];break;case 128:C7K=F4v[2] + F4v[0] - F4v[1] + F4v[3];break;case 76:C7K=F4v[1] * F4v[3] + F4v[2] - F4v[0];break;case 103:C7K=F4v[1] % F4v[0];break;case 4:C7K=F4v[2] + F4v[1] / F4v[3] - F4v[0];break;case 20:C7K=-F4v[2] + F4v[0] - F4v[3] + F4v[1];break;case 138:C7K=F4v[1] / (F4v[0] * F4v[2]);break;case 43:C7K=F4v[2] * F4v[0] - F4v[1];break;case 108:C7K=F4v[1] | F4v[4] | F4v[3] | F4v[0] | F4v[2];break;case 70:C7K=(F4v[2] - F4v[0]) * F4v[3] + F4v[1];break;case 87:C7K=F4v[3] * F4v[2] / F4v[1] - F4v[0];break;case 110:C7K=F4v[2] + F4v[0] - F4v[4] + F4v[1] + F4v[3];break;case 55:C7K=F4v[2] - F4v[0] / F4v[1] - F4v[3];break;case 120:C7K=(F4v[1] | F4v[2]) / F4v[0];break;case 0:C7K=F4v[0] + F4v[1];break;case 163:C7K=-F4v[2] / F4v[4] - F4v[0] + F4v[3] + F4v[1];break;case 154:C7K=F4v[1] * F4v[2] + F4v[0];break;case 100:C7K=F4v[1] + F4v[0] + F4v[2] + F4v[3] + F4v[4];break;case 83:C7K=(F4v[2] - F4v[1]) * F4v[4] - F4v[3] - F4v[0];break;case 165:C7K=F4v[2] / F4v[0] / F4v[1];break;case 141:C7K=F4v[3] / F4v[0] * F4v[2] - F4v[1];break;case 174:C7K=F4v[2] - F4v[1] - F4v[3] - F4v[4] + F4v[0];break;case 25:C7K=F4v[2] / F4v[0] + F4v[1] - F4v[3];break;case 77:C7K=(F4v[3] + F4v[4]) * F4v[0] / F4v[2] - F4v[1];break;case 65:C7K=F4v[3] * F4v[1] * F4v[2] / F4v[0] - F4v[4];break;case 1:C7K=F4v[1] * F4v[0];break;case 166:C7K=F4v[4] * F4v[0] + F4v[2] + F4v[3] - F4v[1];break;case 15:C7K=F4v[1] + F4v[2] + F4v[0];break;case 153:C7K=F4v[0] * F4v[1] * F4v[2] * +F4v[3];break;case 161:C7K=(F4v[0] - F4v[1]) / F4v[4] + F4v[2] - F4v[3];break;case 41:C7K=F4v[1] | F4v[0];break;case 88:C7K=F4v[5] + (F4v[1] - F4v[0]) / (F4v[6] - F4v[3]) * (F4v[2] - F4v[4]);break;case 69:C7K=(F4v[0] - F4v[1]) * F4v[3] - F4v[2];break;case 9:C7K=(F4v[0] + F4v[2]) / F4v[1];break;case 8:C7K=F4v[0] / F4v[1];break;case 91:C7K=-F4v[4] / F4v[2] * (F4v[1] * (F4v[0] - F4v[3]) - F4v[6]) + F4v[5];break;case 132:C7K=-F4v[2] / F4v[3] / F4v[4] / F4v[0] + F4v[1];break;case 75:C7K=-F4v[1] / F4v[2] / F4v[0] + F4v[3];break;case 68:C7K=(F4v[1] - F4v[2]) / (F4v[3] - F4v[0]);break;case 111:C7K=F4v[3] - F4v[2] + F4v[0] + F4v[1];break;case 30:C7K=F4v[0] * F4v[3] / (F4v[2] ^ F4v[1]);break;case 36:C7K=F4v[1] * F4v[2] / (F4v[0] * F4v[3]);break;case 22:C7K=F4v[0] - F4v[2] - F4v[3] * F4v[1];break;case 143:C7K=F4v[3] + F4v[1] - F4v[2] - F4v[0];break;case 49:C7K=-F4v[2] / F4v[0] - F4v[3] + F4v[1];break;case 61:C7K=-F4v[0] * F4v[2] + F4v[1];break;case 150:C7K=F4v[2] * F4v[3] * F4v[6] + (+F4v[0] - F4v[1] * F4v[5]) * F4v[4];break;case 89:C7K=F4v[1] == F4v[0];break;case 46:C7K=(F4v[1] + F4v[0]) / F4v[4] / F4v[3] + F4v[2];break;case 171:C7K=F4v[1] - F4v[0] * F4v[2];break;case 17:C7K=F4v[0] * F4v[2] / F4v[1];break;case 94:C7K=F4v[5] * (F4v[2] * F4v[1] * F4v[0] + +F4v[3]) + F4v[4];break;case 73:C7K=F4v[0] - F4v[1] + F4v[3] - F4v[2] - F4v[4];break;case 85:C7K=-F4v[0] - F4v[1] + F4v[2] + F4v[3];break;case 135:C7K=(F4v[2] / F4v[4] + F4v[3]) * F4v[1] + F4v[0];break;case 62:C7K=F4v[1] + F4v[3] + (F4v[4] ^ F4v[0]) + F4v[2];break;case 31:C7K=F4v[3] - F4v[0] + (F4v[1] << F4v[2]);break;case 51:C7K=F4v[1] - +F4v[0];break;case 107:C7K=F4v[2] | F4v[0] | F4v[1];break;case 124:C7K=(F4v[0] - F4v[3]) * F4v[4] + F4v[1] + F4v[2];break;case 134:C7K=-F4v[1] - F4v[2] + F4v[0];break;case 129:C7K=F4v[1] * F4v[3] + F4v[0] + F4v[2];break;case 26:C7K=-F4v[1] + F4v[0];break;case 39:C7K=(F4v[1] - F4v[0]) * F4v[2];break;case 137:C7K=F4v[2] * (F4v[0] / F4v[1]);break;case 40:C7K=F4v[3] + (F4v[2] + F4v[1] * F4v[4]) * F4v[0];break;case 63:C7K=F4v[4] - F4v[1] - F4v[3] + F4v[0] + F4v[2];break;case 109:C7K=F4v[1] === F4v[0];break;case 159:C7K=-F4v[3] / F4v[0] + F4v[2] + F4v[1];break;case 6:C7K=F4v[1] >> F4v[0];break;}return C7K;},c$pEITg:function(x3C){V50=x3C;}};})();R3X5F.C6$=function(){return typeof R3X5F[108734].Z54Je$L === 'function'?R3X5F[108734].Z54Je$L.apply(R3X5F[108734],arguments):R3X5F[108734].Z54Je$L;};R3X5F[428425]=(function(){var r13=function(W9A,O5t){var R8a=O5t & 0xffff;var x3W=O5t - R8a;return (x3W * W9A | 0) + (R8a * W9A | 0) | 0;},Q7iys$6=function(d3o,h75,s$Q){var Z_U=0xcc9e2d51,f_s=0x1b873593;var V6k=s$Q;var Z7Q=h75 & ~0x3;for(var i98=0;i98 < Z7Q;i98+=4){var P2k=d3o.h8m2Xq(i98) & 0xff | (d3o.h8m2Xq(i98 + 1) & 0xff) << 8 | (d3o.h8m2Xq(i98 + 2) & 0xff) << 16 | (d3o.h8m2Xq(i98 + 3) & 0xff) << 24;P2k=r13(P2k,Z_U);P2k=(P2k & 0x1ffff) << 15 | P2k >>> 17;P2k=r13(P2k,f_s);V6k^=P2k;V6k=(V6k & 0x7ffff) << 13 | V6k >>> 19;V6k=V6k * 5 + 0xe6546b64 | 0;}P2k=0;switch(h75 % 4){case 3:P2k=(d3o.h8m2Xq(Z7Q + 2) & 0xff) << 16;case 2:P2k|=(d3o.h8m2Xq(Z7Q + 1) & 0xff) << 8;case 1:P2k|=d3o.h8m2Xq(Z7Q) & 0xff;P2k=r13(P2k,Z_U);P2k=(P2k & 0x1ffff) << 15 | P2k >>> 17;P2k=r13(P2k,f_s);V6k^=P2k;}V6k^=h75;V6k^=V6k >>> 16;V6k=r13(V6k,0x85ebca6b);V6k^=V6k >>> 13;V6k=r13(V6k,0xc2b2ae35);V6k^=V6k >>> 16;return V6k;};return {Q7iys$6:Q7iys$6};})();R3X5F.z5U=function(){return typeof R3X5F[108734].Z54Je$L === 'function'?R3X5F[108734].Z54Je$L.apply(R3X5F[108734],arguments):R3X5F[108734].Z54Je$L;};R3X5F[377326]=(function(){var R7=2;for(;R7 !== 1;){switch(R7){case 2:return {N3gDBiG:function(){var G3=2;for(;G3 !== 8;){switch(G3){case 3:Z1=1;G3=1;break;case 2:var Z1=2;G3=1;break;case 4:(function(){var y9=2;for(;y9 !== 54;){switch(y9){case 38:var j5="T";var H9="_";y9=36;break;case 9:y9=e5 === 17?8:14;break;case 18:var a3="i";var F$="2";var G$="z";y9=15;break;case 42:e5=Q8[j3]?23:22;y9=1;break;case 6:e5=15;y9=1;break;case 3:e5=21;y9=1;break;case 40:var M7=252778;var z7="B";y9=38;break;case 26:var p6="u";var p7=j5;p7+=F$;p7+=p6;p7+=a3;y9=21;break;case 15:e5=7;y9=1;break;case 29:j3+=G$;var Q8=R3X5F[M7];y9=44;break;case 13:p7+=z7;y9=12;break;case 2:var e5=2;y9=1;break;case 5:y9=e5 === 22?4:9;break;case 4:Q8[p7]=function(){};y9=3;break;case 20:e5=17;y9=1;break;case 32:y9=e5 === 15?31:43;break;case 43:y9=e5 === 24?42:41;break;case 10:j3+=F$;y9=20;break;case 14:y9=e5 === 10?13:19;break;case 31:j3+=H9;j3+=z7;y9=29;break;case 21:p7+=H9;y9=35;break;case 44:e5=24;y9=1;break;case 36:e5=3;y9=1;break;case 27:y9=e5 === 7?26:34;break;case 12:p7+=G$;var j3=j5;y9=10;break;case 19:y9=e5 === 3?18:27;break;case 41:y9=e5 === 2?40:1;break;case 33:return;break;case 1:y9=e5 !== 21?5:54;break;case 8:j3+=p6;j3+=a3;y9=6;break;case 34:y9=e5 === 23?33:32;break;case 35:e5=10;y9=1;break;}}})();G3=3;break;case 1:G3=Z1 !== 1?5:9;break;case 5:G3=Z1 === 2?4:1;break;case 9:G3=true?9:8;break;}}}};break;}}})();var f_iDFp,b8,N2,I8,f3,y$,W7,P9,W5,N9,Y3,K8,v9,A5,q3,H0,M9,I0,F_,D2,o$,m7,m3,A$,v4,F4,D_,j6,x5,V3;f_iDFp="u";f_iDFp+="n";f_iDFp+="de";f_iDFp+="fined";import {CIQ as w2, SplinePlotter as n5, timezoneJS as L8, $$ as h1, $$$ as y4} from "../js/chartiq.js";b8=c9=>{var C6g=R3X5F;var t_T,r1,C2,X3;t_T="un";t_T+="defined";C6g.n2i();r1=typeof _CIQ !== t_T?_CIQ:c9.CIQ;C2=class C${get(M3,g6) {C6g.F64();g6("no storage defined");}set(K4,I3) {}remove(E2) {}};r1.ChartEngine.create=function({container:e8, config:f5, deferLoad:d9} = {}){var t7,c4,o9D,U61,G47,G2;if(!e8){e8=document.querySelector(".chartContainer") || document.body;}if(!f5){f5={};}t7=Object.assign({container:e8},f5.chartEngineParams);c4=new this(t7);var {addOns:e2, chartId:k6, marketFactory:l3, multiChartId:s9, onChartReady:P_, onEngineReady:Y9, quoteFeeds:u2}=f5;if(u2 && c4.attachQuoteFeed){u2.forEach(({quoteFeed:D4, behavior:l0, filter:D1})=>{C6g.n2i();c4.attachQuoteFeed(D4,l0,D1);});}if(l3){o9D=1686173274;U61=+"717675976";G47=2;for(var R_F="1" ^ 0;C6g.o1c(R_F.toString(),R_F.toString().length,31472) !== o9D;R_F++){c4.setMarketFactory(l3);G47+=2;}if(C6g.o1c(G47.toString(),G47.toString().length,6884) !== U61){c4.setMarketFactory(l3);}if(r1.Market){r1.Market.definitionAPIs=f5.marketDefinitionAPIs;r1.Market.symbolMapping=f5.marketDefinitionMapping;if(r1.Market.Symbology && r1.Market.Symbology.isAPIBacked){r1.Market.Symbology.isAPIBacked.defaultAPI=r1.Market.symbolMapping[f5.marketDefinitionDefaultMapping];}}}C6g.F64();if(e2){Object.entries(e2).filter(([,T2])=>{C6g.F64();return !!T2;}).forEach(([Y7,z6])=>{var Z9;if(!f5.enabledAddOns[Y7]){return;}C6g.F64();Z9=z6.moduleName || r1.capitalize(Y7);if(r1[Z9]){var {cssRequired:o7}=new r1[Z9](Object.assign({stx:c4},z6,{config:f5}));if(o7 && r1.UI){r1.UI.activatePluginUI(c4,Z9);}}else if(r1.debug){C6g.I0Z(0);console.log(`${Z9}${C6g.z5U(" not availab","le for addons with params:")}`,z6);}});}G2=r1.ensureDefaults(f5.callbacks || ({}),{layout:this.getSaveLayout(f5),symbolChange:this.getSaveLayout(f5),drawing:this.getSaveDrawings(f5),preferences:this.getSavePreferences(f5),newChart:this.getRetoggleEvents(f5)});for(var S8 in G2){if(G2[S8]){c4.addEventListener(S8,G2[S8]);}}X3=f5.nameValueStore || r1.NameValueStore || C2;X3=new X3();function Y5(){C6g.n2i();c4.loadChart(f5.initialSymbol,{masterData:f5.initialData},B6);c4.draw();}if(!d9){if(Y9){Y9(c4);}if(f5.restore){this.restorePreferences(c4,k6,s9);this.restoreLayout(c4,E8=>{C6g.n2i();if(!c4.chart.symbol && f5.initialSymbol){Y5();}else {B6();}},k6,f5);}else {Y5();}}function B6(){C6g.F64();if(!P_){return;}setTimeout(()=>{C6g.F64();return P_(c4);});}if(r1.Studies && f5.studyOutputAliasList){r1.Studies.assignAliasesToStudies(f5.studyOutputAliasList);}c4.chart.canvasTitleFunc=f5.getCanvasTitle;return c4;};r1.ChartEngine.getSaveLayout=function(H5){C6g.n2i();return function u1({stx:y7}){var E6;if(H5.restore && y7.exportLayout){E6=JSON.stringify(y7.exportLayout(!!({})));X3.set("myChartLayout" + (H5.chartId || ""),E6);}};};r1.ChartEngine.restoreLayout=function(c1,k0,u0,f7){var {restoreDrawings:J6}=this;if(!u0){u0="";}C6g.f$a(0);X3.get(C6g.z5U("myChartLayout",u0),function(F8,q$){var T4,T9;if(F8){return;}try{q$=JSON.parse(q$);}catch(w4){}T4=f7 && f7.restore && f7.restore.symbol === !({});if(q$ && q$.symbols && T4){T9=f7.initialSymbol != undefined && f7.initialSymbol.symbol?f7.initialSymbol:{symbol:f7.initialSymbol};q$.symbols[0]=q$.symbols[0] || ({});Object.assign(q$.symbols[0],{symbol:T9.symbol,symbolObject:T9});q$.symbols=q$.symbols.filter(({symbol:R5},J8)=>{C6g.n2i();return !J8 || R5 !== T9.symbol;});}if(c1.importLayout){c1.importLayout(q$,{managePeriodicity:!"",cb:N7});}if(c1.crossSection){c1.setCandleWidth(1);}});function N7(){C6g.F64();J6(c1,c1.chart.symbol,u0);if(k0){k0();}}};r1.ChartEngine.getSaveDrawings=function(a8){return function l9({stx:O3, symbol:k4}){var i_,M4,u5;if(a8.restore && O3.exportDrawings){i_=O3.exportDrawings();M4=a8.chartId?a8.chartId + (8580 <= 2.94?(4280,975) <= +"874.37"?(9.43e+3,723.66):(823.79,1180) === 1050?(720.27,973.36):("2.42e+3" << 0,0x20fb):"~") + k4:k4;u5=`${a8.chartId || ""}_drawings`;X3.get(u5,(u_,N5)=>{var p2;C6g.n2i();p2=N5 || ({});if(i_.length === ("0" ^ 0)){X3.remove(M4);delete p2[M4];}else {X3.set(M4,JSON.stringify(i_));p2[M4]=i_.length;}X3.set(u5,p2);});}};};r1.ChartEngine.restoreDrawings=function(a0,Q1,D3){var l2;C6g.F64();if(!r1.Drawing){return;}l2=D3?D3 + "~" + Q1:Q1;X3.get(l2,function(i8,j$){C6g.F64();if(i8){return;}try{j$=JSON.parse(j$);}catch(M8){}if(j$){if(a0.chart.hideDrawings){a0.dispatch("notification","drawingsHidden");}a0.importDrawings(j$);a0.draw();}});};r1.ChartEngine.getSavePreferences=function(S7){C6g.F64();return function x_({stx:h8}){C6g.F64();var x5f,o1;if(S7.restore && h8.exportPreferences){x5f="myChartPre";x5f+="ferences";o1=JSON.stringify(h8.exportPreferences());X3.set(x5f + (S7.multiChartId || S7.chartId || ""),o1);}};};r1.ChartEngine.restorePreferences=function(B5,w3,z5){var x10,n0;x10="myChart";x10+="Prefe";x10+="re";x10+="nces";n0=z5 || w3 || "";C6g.I0Z(0);X3.get(C6g.z5U(x10,n0),function(B$,Q6){C6g.F64();if(B$){return;}try{Q6=JSON.parse(Q6);}catch(J_){}if(Q6 && B5.importPreferences){B5.importPreferences(Q6);}});};r1.ChartEngine.getRetoggleEvents=function(C5){C6g.F64();return function E_({stx:P5}){var r3,k1;r3=C5.chartId && document.getElementById(C5.chartId);if(!r3){r3=(r1.getFn("UI.getMyContext")(P5.container) || ({})).topNode;}C6g.n2i();if(!r3){r3=document;}k1=r3.querySelectorAll(C5.selector.markersMenuItem.split((95.14,842) !== 6627?",":(9660,+"675.75") === 5960?("E",749.67):(![],!![])).map(k3=>{return `${k3}.ciq-active:not(.span-event)`;}).join(7926 >= 828.42?",":806.15));k1.forEach(function(d$){var a29;a29=".ciq-switch, .ciq-checkbox";a29+=", .ciq-ra";a29+="d";C6g.F64();a29+="io";d$.querySelector(a29).dispatchEvent(new Event("stxtap"));});};};};N2=g2=>{var K6;K6=typeof _CIQ !== "undefined"?_CIQ:g2.CIQ;K6.ChartEngine.prototype.drawHeatmap=function(b9,C7){var d8q=R3X5F;var s84,H1,d6,I6,s8,M$,g_,c$,M1,G8,S4,U7,U3,J2,i3;s84="Da";s84+="ta";if(!C7 || !C7.length){return;}H1=b9.panel;if(!H1){H1="chart";}d6=this.panels[H1];if(!d6){return;}I6=b9.yAxis?b9.yAxis:d6.yAxis;s8=this.chart.dataSegment;if(!b9.name){b9.name=s84;}if(!b9.widthFactor){b9.widthFactor=1;}if(!b9.height){b9.height=Math.pow(10,1 - (d6.decimalPlaces || d6.chart.decimalPlaces));}M$="stx-float-date";g_=this.chart.context;this.canvasFont(M$,g_);c$=this.getCanvasFontSize(M$);M1=1;if(!b9.highlight && this.highlightedDraggable){M1=0.3;}G8=0.5;if(this.layout.candleWidth * this.candleWidthPercent <= 1){G8=0;}S4=null;U7=null;U3=this;J2=null;d8q.n2i();this.startClip(H1);g_.globalAlpha=M1;for(var t_=0;t_ < C7.length;t_++){i3=C7[t_];f6(i3.field,i3.color,i3.opacity,null,b9.widthFactor,i3.height,i3.border_color?G8:-G8 / 4,i3.subField);if(i3.border_color && this.layout.candleWidth >= 2){f6(i3.field,i3.border_color,i3.opacity,!!({}),b9.widthFactor,i3.height,G8,i3.subField);}}g_.lineWidth=1;function f6(x$,y5,X4,r0,M0,B1,D9,R0){var u6,Y4,t8,F9,I2,n$,b1,s6,q4,S1,E1,m4,a2,W0;g_.beginPath();g_.fillStyle=y5;d8q.n2i();g_.strokeStyle=y5;g_.textAlign="center";u6=U3.layout.candleWidth * M0;Y4=Math.floor(U3.pixelFromBar("0" * 1,d6.chart) - U3.layout.candleWidth);if(typeof X4 == "number"){d8q.f$a(1);g_.globalAlpha=d8q.C6$(M1,X4);}if(typeof X4 == "object"){I2={minOpacity:X4.min || "0" - 0,maxOpacity:X4.max || 1};}for(var U8=0;U8 < s8.length;U8++){n$=s8[U8];if(n$ && n$.candleWidth){if(U8 === +"0"){Y4+=U3.layout.candleWidth;}else {d8q.f$a(2);var o3p=d8q.C6$(17,20,17,321);Y4+=(n$.candleWidth + u6 / M0) / o3p;}u6=n$.candleWidth * M0;}else {Y4+=U3.layout.candleWidth;}d8q.I0Z(3);t8=d8q.z5U(D9,u6,Y4,2);d8q.I0Z(4);F9=d8q.z5U(D9,u6,Y4,2);if(F9 - t8 < 2){d8q.f$a(0);F9=d8q.z5U(t8,1);}if(!n$)continue;b1=n$[x$];if(!b1)continue;if(b1[R0]){b1=b1[R0];}if(typeof b1 == "number"){b1=[b1];}for(var C3=0;C3 < b1.length;C3++){s6=b1[C3];q4=0;if(s6 instanceof Array){if(I2){d8q.f$a(0);var P8Z=d8q.z5U(0,2);d8q.I0Z(5);var X_7=d8q.C6$(30,1,13,16);d8q.I0Z(0);var D7d=d8q.z5U(0,2);g_.globalAlpha=M1 * (s6[P8Z] * I2.maxOpacity + (X_7 - s6[D7d]) * I2.minOpacity);}d8q.f$a(6);q4=s6[d8q.z5U(0,"1")];s6=s6[0];}S1=U3.pixelFromPrice(s6,d6,I6);if(!J2){if(!B1){B1=b9.height;}E1=U3.pixelFromPrice(s6 + B1 * (I6.flipped?1:-1),d6,I6);g_.lineWidth=1;d8q.I0Z(7);S4=d8q.C6$(S1,E1);d8q.f$a(8);U7=d8q.z5U(S4,2);J2=g_.lineWidth;}if(r0){d8q.I0Z(7);m4=d8q.C6$(U7,S1);d8q.I0Z(0);a2=d8q.C6$(S1,U7);d8q.f$a(7);g_.rect(t8,m4,d8q.C6$(t8,F9),d8q.z5U(m4,a2));}else {d8q.I0Z(7);g_.fillRect(t8,d8q.z5U(U7,S1),d8q.z5U(t8,F9),S4);if(b9.showSize && q4 && c$ <= S4 - ("2" | 2)){W0=g_.globalAlpha;g_.fillStyle=U3.defaultColor;d8q.f$a(1);g_.globalAlpha=d8q.z5U(M1,0.5);d8q.f$a(9);g_.fillText(q4,d8q.z5U(F9,2,t8),S1);g_.fillStyle=y5;d8q.I0Z(1);g_.globalAlpha=d8q.z5U(M1,W0);}}if(I2 && s6 instanceof Array){g_.globalAlpha=0;}}}if(r0){g_.stroke();}g_.globalAlpha=M1;g_.closePath();}g_.globalAlpha=1;this.endClip();};K6.ChartEngine.prototype.drawCandles=function(n_,j8,S5){var L7Z=R3X5F;var j_,n8,o6C,a9R,w8a,m9,R3,B0,b7,F2,B9,s5,w0,I5,v5,n3,O9,L7,V0,O1,J0,K0,I4,v6,A_,o8,T1,b7l,x9$,U5Q,o9,f0,m1,o4,T7,l5,h4,A0,O5,l2F,E0,O8,a6,q5,D0,H4,D8,h7,w5,e1;j_=n_.chart;if(!j_){j_=n_;n_=n_.chart;}n8=S5.stretchGaps;o6C=710357933;a9R=+"661854454";w8a=2;for(var q$M=1;L7Z.o1c(q$M.toString(),q$M.toString().length,"53470" - 0) !== o6C;q$M++){if(!n8 && n8 !== !"1"){n8=this.cleanupGaps === "stretch";}L7Z.I0Z(7);w8a+=L7Z.z5U(0,"2");}if(L7Z.W7K(w8a.toString(),w8a.toString().length,72994) !== a9R){if(-n8 || n8 != !!"1"){n8=this.cleanupGaps !== "";}}m9=!!"";R3=!({});B0=null;b7=n_.yAxis;if(S5 && typeof S5 == "object"){m9=S5.isOutline;R3=S5.isHistogram;B0=S5.field;b7=S5.yAxis;}else {m9=S5;R3=arguments[3];}F2=j_.dataSegment;B9=j_.context;s5=b7.top;w0=b7.bottom;O9=new Array(F2.length);L7="transparent";V0="transp";L7Z.n2i();V0+="a";V0+="rent";O1=0;L7Z.f$a(10);var e_U=L7Z.C6$(18,17,0);J0=j_.dataSet.length - j_.scroll - e_U;K0={};I4=this.layout.candleWidth;v6=S5.pixelWidth || I4 * 0.65;L7Z.f$a(8);A_=L7Z.C6$(v6,2);L7Z.I0Z(11);var w8Z=L7Z.z5U(9,6,4);o8=n_.left - 0.5 * I4 + this.micropixels - w8Z;T1=-1;for(var B4=0;B4 <= F2.length;B4++){b7l="tran";b7l+="sparent";x9$="outl";x9$+="i";x9$+="n";x9$+="e";U5Q="clo";U5Q+="s";U5Q+="e";L7Z.f$a(12);var u7f=L7Z.z5U(5,5,1,0);L7Z.f$a(13);var G5T=L7Z.z5U(1,5,0,5);o8+=this.layout.candleWidth * (B4 - T1 - u7f) / G5T;T1=B4;o9=A_;L7Z.I0Z(14);o8+=L7Z.z5U(I4,0,"2");I4=this.layout.candleWidth;L7Z.f$a(8);o8+=L7Z.C6$(I4,2);f0=!({});m1=F2[B4];if(!m1)continue;if(!m1.cache || j_.pixelCacheExpired){m1.cache={};}if(m1.projection)continue;if(m1.candleWidth){L7Z.f$a(7);var N6I=L7Z.C6$(22,24);o8+=(m1.candleWidth - I4) / N6I;I4=m1.candleWidth;if(S5.isVolume || I4 < v6){L7Z.I0Z(8);o9=L7Z.z5U(I4,2);}}if(j_.transformFunc && b7 == j_.panel.yAxis && m1.transform){if(B0){m1=Object.assign({},m1[B0],m1.transform[B0],{tick:m1.tick},{cache:m1.transform.cache});f0=!![];}else {m1=Object.assign({},m1,m1.transform);delete m1.transform;}}o4=m1.cache;if(m1 && B0 && !f0){m1=m1[B0];}if(!m1 && m1 !== 0)continue;T7="open";l5=U5Q;if(B0){L7Z.f$a(15);T7=L7Z.z5U(T7,B0,(1240,7223) != (1149,625.68)?".":(5400,814.99) != "9890" * 1?2957 == (1300,6197)?216.05:253.55:(+"9.25e+3",0xed9));L7Z.f$a(15);l5=L7Z.C6$(l5,B0,(4640,2400) != +"265.11"?".":(3840,420.46) < "2750" * 1?!!"1":263.91);}h4=m1.Close;A0=m1.Open === undefined?h4:m1.Open;if(R3 && j_.defaultPlotField){h4=m1[j_.defaultPlotField];}if(!h4 && h4 !== 0)continue;O5=0;if(!S5.isVolume && n8){while(F2[B4 + 1]){l2F="Clos";l2F+="e";L7Z.f$a(16);E0=F2[L7Z.z5U("1",0,B4)][j_.defaultPlotField || l2F];if(E0 || E0 === 0 || F2[B4 + ("1" ^ 0)].futureTick)break;O5++;B4++;}L7Z.I0Z(17);o8+=L7Z.C6$(O5,2,I4);L7Z.f$a(17);o9+=L7Z.C6$(O5,2,I4);}if(!R3 && (A0 == h4 || A0 === null))continue;O8=j8(this,m1,m9?x9$:"solid");if(!O8)continue;if(m9){L7=O8;}else {V0=O8;}K0[V0]=1;a6=L7 && !K6.isTransparent(L7);if(a6 && !S5.highlight){O1=0.5;}B9.beginPath();B9.fillStyle=V0;L7Z.I0Z(0);q5=L7Z.z5U(J0,T1);if(q5 < n_.cacheLeft || q5 > n_.cacheRight || !o4[T7]){D0=b7.semiLog?b7.height * (("1" ^ 0) - (Math.log(Math.max(A0,"0" | 0)) / Math.LN10 - b7.logLow) / b7.logShadow):(b7.high - A0) * b7.multiplier;H4=b7.semiLog?b7.height * (1 - (Math.log(Math.max(h4,0)) / Math.LN10 - b7.logLow) / b7.logShadow):(b7.high - h4) * b7.multiplier;if(Math.abs(D0 - H4) < 1){D0=H4;}if(b7.flipped){L7Z.I0Z(7);D0=L7Z.C6$(D0,w0);L7Z.f$a(7);H4=L7Z.C6$(H4,w0);}else {D0+=s5;H4+=s5;}O9[T1]=H4;I5=R3?H4:Math.min(D0,H4);v5=R3?b7.bottom:Math.max(D0,H4);I5=Math.floor(I5);v5=Math.floor(v5);L7Z.f$a(7);n3=L7Z.C6$(I5,v5);if(I5 < s5){if(I5 + n3 < s5){o4[T7]=I5;o4[l5]=I5;continue;}L7Z.I0Z(18);n3-=L7Z.z5U(s5,1,I5);L7Z.f$a(7);I5=L7Z.C6$(1,s5);}if(I5 + n3 > w0){L7Z.I0Z(11);n3=L7Z.z5U(I5,1,w0);}o4[T7]=I5;L7Z.f$a(0);o4[l5]=L7Z.z5U(I5,n3);}if(o4[T7] >= w0)continue;if(o4[l5] <= s5)continue;D8=Math.floor(o8) + (!S5.highlight && 0.5);h7=Math.floor(D8 - o9) + O1;w5=Math.round(D8 + o9) - O1;B9.rect(h7,o4[T7] + O1,Math.max(0,w5 - h7),Math.max(0,o4[l5] - o4[T7]));if(!S5.highlight && this.highlightedDraggable){B9.globalAlpha*=0.3;}if(V0 != b7l){B9.fill();}if(a6){B9.lineWidth=1;if(S5.highlight){B9.lineWidth*=2;}B9.strokeStyle=L7;B9.stroke();}}j_.pixelCacheExpired=!1;e1={colors:[],cache:O9};for(var J1 in K0){if(!S5.hollow || !K6.equals(J1,this.containerColor)){e1.colors.push(J1);}}return e1;};K6.ChartEngine.prototype.drawShadows=function(k8,Z5,g0){var V7$=R3X5F;var f_,o0,V1,Q2,X0,z9,W1,G_,b2,I9,v7,p9,K6L,J7,K7,q6,Y$,h0,D7,s_,O4,N3,S9,w8,q9,c5,Q3,w_,C8,v3,H3,i2,a5;if(g0.isHistogram){return;}f_=k8.chart;if(!f_){f_=k8;k8=k8.chart;}o0=g0.stretchGaps;if(!o0 && o0 !== !!""){o0=this.cleanupGaps === "stretch";}V1=f_.dataSegment;Q2=this.chart.context;Q2.lineWidth=+"1";V7$.F64();if(g0.highlight){Q2.lineWidth*=2;}if(!g0.highlight && this.highlightedDraggable){Q2.globalAlpha*=0.3;}X0=g0.field;z9=g0.yAxis || k8.yAxis;W1=z9.top;G_=z9.bottom;b2=f_.dataSet.length - f_.scroll - +"1";I9=this.layout.candleWidth;V7$.I0Z(10);var V8Z=V7$.C6$(17,16,0);v7=k8.left - 0.5 * I9 + this.micropixels - V8Z;p9=-1;for(var x4=0;x4 <= V1.length;x4++){K6L="t";K6L+="o";K6L+="p";V7$.f$a(19);var m9R=V7$.C6$(11,10,1);V7$.I0Z(20);var E4r=V7$.z5U(2,17,3,14);v7+=this.layout.candleWidth * (x4 - p9 - m9R) / E4r;p9=x4;V7$.f$a(8);v7+=V7$.C6$(I9,2);I9=this.layout.candleWidth;V7$.f$a(8);v7+=V7$.C6$(I9,2);J7=V1[x4];if(!J7)continue;if(!J7.cache || f_.pixelCacheExpired){J7.cache={};}if(J7.projection)continue;if(J7.candleWidth){v7+=(J7.candleWidth - I9) / +"2";I9=J7.candleWidth;}K7=Z5(this,J7,"shadow");if(!K7)continue;if(f_.transformFunc && z9 == f_.panel.yAxis && J7.transform){J7=J7.transform;}q6=J7.cache;if(J7 && X0){J7=J7[X0];}if(!J7 && J7 !== 0)continue;Y$=K6L;h0="bottom";if(X0){V7$.f$a(15);Y$=V7$.C6$(Y$,X0,(5560,356) === "7730" << 32?(!!1,"200.28" * 1):9491 !== 3874?".":(+"7710",1401) < (+"882.09",3821)?4.68e+3:!!({}));V7$.I0Z(15);h0=V7$.C6$(h0,X0,"3862" >> 64 < (367.6,698.22)?(!!"1",!![]):(2540,300.35) == (+"479.61",7090)?(!!0,250.20):(+"6710",8040) > (2450,+"9350")?(8.13e+3,!![]):".");}D7=J7.Close;s_=J7.Open === undefined?D7:J7.Open;O4=J7.High === undefined?Math.max(D7,s_):J7.High;N3=J7.Low === undefined?Math.min(D7,s_):J7.Low;if(!D7 && D7 !== 0)continue;S9=v7;if(!g0.isVolume && o0){w8=0;while(V1[x4 + 1]){q9=V1[x4 + 1].Close;if(q9 || q9 === 0 || V1[x4 + 1].futureTick)break;w8++;x4++;}V7$.f$a(21);v7+=V7$.z5U(w8,"2",I9);}V7$.f$a(0);c5=V7$.z5U(b2,p9);if(c5 < k8.cacheLeft || c5 > k8.cacheRight || !q6[Y$]){Q3=z9.semiLog?z9.height * (1 - (Math.log(Math.max(O4,0)) / Math.LN10 - z9.logLow) / z9.logShadow):(z9.high - O4) * z9.multiplier;w_=z9.semiLog?z9.height * (+"1" - (Math.log(Math.max(N3,0)) / Math.LN10 - z9.logLow) / z9.logShadow):(z9.high - N3) * z9.multiplier;if(Math.abs(w_ - Q3) < 1){w_=Q3;}Q3=Math.floor(Q3);w_=Math.floor(w_);V7$.f$a(7);C8=V7$.z5U(Q3,w_);if(z9.flipped){V7$.f$a(7);Q3=V7$.z5U(Q3,G_);V7$.f$a(7);w_=V7$.C6$(w_,G_);}else {Q3+=W1;w_+=W1;}if(Q3 < W1){if(Q3 + C8 < W1){q6[Y$]=Q3;q6[h0]=Q3;continue;}V7$.f$a(22);C8-=V7$.z5U(W1,1,Q3,"1");V7$.f$a(7);Q3=V7$.z5U(1,W1);}if(Q3 + C8 > G_){V7$.f$a(11);C8=V7$.C6$(Q3,1,G_);}q6[Y$]=Q3;q6[h0]=q6[Y$] + C8;}if(q6[Y$] >= G_)continue;if(q6[h0] <= W1)continue;v3=Math.floor(S9) + (!g0.highlight && "0.5" - 0);Q2.beginPath();if(D7 == s_){H3=this.offset;if(g0.isVolume){V7$.f$a(23);H3=V7$.z5U("2",0,I9);}i2=z9.semiLog?z9.height * (+"1" - (Math.log(Math.max(D7,0)) / Math.LN10 - z9.logLow) / z9.logShadow):(z9.high - D7) * z9.multiplier;i2=Math.floor(i2) + (!g0.highlight && 0.5);if(z9.flipped){V7$.f$a(7);i2=V7$.z5U(i2,G_);}else {i2+=W1;}if(i2 <= G_ && i2 >= W1){V7$.f$a(7);a5=Math.floor(V7$.z5U(S9,v7));V7$.I0Z(10);Q2.moveTo(V7$.z5U(a5,H3,v3),i2);V7$.I0Z(15);Q2.lineTo(V7$.z5U(H3,v3,a5),i2);}}if(O4 != N3){Q2.moveTo(v3,q6[Y$]);Q2.lineTo(v3,q6[h0]);}Q2.strokeStyle=K7;Q2.stroke();}f_.pixelCacheExpired=!"1";};K6.ChartEngine.prototype.drawBarChart=function(G0,u$,w6,R4){var P$L=R3X5F;var g7,t9,D$,U$,b5,X2,Y6,e7,P3,z4,C1,V$,s1,C_,P8,u7,l_,f$,X_,L$,s$,A6,c0,z2,s4,y_,J9,X9,r4,X6,e4,R9,l7,r_,X1,h9,J3,t$,K5,e9,e_,S_,Z8,q7,Q9;g7=G0.chart;if(!g7){g7=G0;G0=G0.chart;}t9=R4.stretchGaps;if(!t9 && t9 !== ![]){t9=this.cleanupGaps === "stretch";}D$=g7.dataSegment;U$=new Array(D$.length);b5=g7.context;X2=this.canvasStyle(u$);if(X2.width && parseInt(X2.width,+"10") <= 25){b5.lineWidth=Math.max(1,K6.stripPX(X2.width));}else {b5.lineWidth=+"1";}if(R4.highlight){b5.lineWidth*=2;}P$L.F64();if(!R4.highlight && this.highlightedDraggable){b5.globalAlpha*=0.3;}Y6=R4.field;e7=R4.yAxis || G0.yAxis;P3=e7.top;z4=e7.bottom;V$=g7.dataSet.length - g7.scroll - +"1";s1={};C_=this.layout.candleWidth;P8=R4.pixelWidth || C_ * 0.65;P$L.I0Z(24);u7=P$L.C6$("2",P8);P$L.I0Z(25);var L90=P$L.z5U(2,11,8,13);l_=b5.lineWidth / L90;P$L.I0Z(26);var z2d=P$L.z5U(19,18);f$=G0.left - 0.5 * C_ + this.micropixels - z2d;X_=-1;for(var R8="0" | 0;R8 <= D$.length;R8++){P$L.f$a(27);var f5C=P$L.C6$(9,22,15,1);P$L.I0Z(10);var u_d=P$L.z5U(12,10,0);f$+=this.layout.candleWidth * (R8 - X_ - f5C) / u_d;X_=R8;L$=u7;P$L.I0Z(28);f$+=P$L.z5U(0,C_,"2");C_=this.layout.candleWidth;P$L.I0Z(8);f$+=P$L.C6$(C_,2);s$=D$[R8];if(!s$)continue;if(!s$.cache || g7.pixelCacheExpired){s$.cache={};}if(s$.projection)continue;if(s$.candleWidth){P$L.I0Z(29);var k9g=P$L.C6$(10,6,2,12,4);f$+=(s$.candleWidth - C_) / k9g;C_=s$.candleWidth;}A6=w6(this,s$);if(!A6)continue;s1[A6]=1;b5.strokeStyle=A6;b5.beginPath();if(g7.transformFunc && e7 == g7.panel.yAxis && s$.transform){s$=s$.transform;}c0=s$.cache;if(s$ && Y6){s$=s$[Y6];}if(!s$ && s$ !== 0)continue;z2="top";s4="bottom";y_="open";J9="close";if(Y6){P$L.f$a(15);z2=P$L.z5U(z2,Y6,"8300" >> 0 == 2180?("m",795.48):+"6140" != 4422?".":(604.21,![]));P$L.I0Z(15);s4=P$L.z5U(s4,Y6,".");P$L.I0Z(15);y_=P$L.C6$(y_,Y6,".");P$L.f$a(15);J9=P$L.z5U(J9,Y6,894 == (6940,848.11)?(871.60,7.82e+3):".");}X9=s$.Close;r4=s$.Open === undefined?X9:s$.Open;X6=s$.High === undefined?Math.max(X9,r4):s$.High;e4=s$.Low === undefined?Math.min(X9,r4):s$.Low;if(!X9 && X9 !== 0)continue;R9=f$;if(!R4.isVolume && t9){l7=+"0";while(D$[R8 + "1" * 1]){r_=D$[R8 + 1].Close;if(r_ || r_ === +"0" || D$[R8 + 1].futureTick)break;l7++;R8++;}P$L.I0Z(30);f$+=P$L.C6$(l7,0,"2",C_);P$L.f$a(17);L$+=P$L.C6$(l7,2,C_);}P$L.I0Z(0);X1=P$L.C6$(V$,X_);if(X1 < G0.cacheLeft || X1 > G0.cacheRight || !c0[z2]){h9=this.pixelFromTransformedValue(X6,G0,e7);J3=this.pixelFromTransformedValue(e4,G0,e7);h9=Math.floor(h9);J3=Math.floor(J3);P$L.f$a(7);C1=P$L.C6$(h9,J3);c0[y_]=e7.semiLog?e7.height * (1 - (Math.log(Math.max(r4,0)) / Math.LN10 - e7.logLow) / e7.logShadow):(e7.high - r4) * e7.multiplier;c0[J9]=e7.semiLog?e7.height * (1 - (Math.log(Math.max(X9,0)) / Math.LN10 - e7.logLow) / e7.logShadow):(e7.high - X9) * e7.multiplier;if(Math.abs(c0[J9] - c0[y_]) < +"1"){c0[J9]=c0[y_];}c0[y_]=Math.floor(c0[y_]);c0[J9]=Math.floor(c0[J9]);if(e7.flipped){c0[y_]=e7.bottom - c0[y_];c0[J9]=e7.bottom - c0[J9];}else {c0[y_]+=e7.top;c0[J9]+=e7.top;}U$[X_]=c0[J9];if(h9 < P3){if(h9 + C1 < P3){c0[z2]=h9;c0[s4]=h9;continue;}P$L.I0Z(18);C1-=P$L.C6$(P3,1,h9);P$L.f$a(7);h9=P$L.C6$(1,P3);}if(h9 + C1 > z4){P$L.f$a(31);C1=P$L.z5U(h9,"1",32,z4);}c0[z2]=h9;P$L.f$a(0);c0[s4]=P$L.C6$(h9,C1);}t$=!R4.highlight && 0.5;K5=Math.floor(R9) + t$;e9=c0[y_] + t$;e_=c0[J9] + t$;S_=c0[z2] + t$;Z8=c0[s4] + t$;if(S_ < z4 && Z8 > P3 && s$.High != s$.Low){P$L.I0Z(7);b5.moveTo(K5,P$L.C6$(l_,S_));P$L.I0Z(0);b5.lineTo(K5,P$L.z5U(Z8,l_));}P$L.I0Z(7);q7=Math.floor(P$L.z5U(R9,f$));if(R4.type != "hlc" && e9 > P3 && e9 < z4){b5.moveTo(K5,e9);P$L.I0Z(10);b5.lineTo(P$L.C6$(q7,L$,K5),e9);}if(e_ > P3 && e_ < z4){b5.moveTo(K5,e_);P$L.f$a(15);b5.lineTo(P$L.C6$(L$,K5,q7),e_);}b5.stroke();}b5.lineWidth=1;g7.pixelCacheExpired=!({});Q9={colors:[],cache:U$};for(var w1 in s1){if(!K6.equals(w1,this.containerColor)){Q9.colors.push(w1);}}return Q9;};K6.ChartEngine.prototype.drawWaveChart=function(n4,N_){var e4C=R3X5F;var K5m,Z3,K9,b_,K2,K3,V9,U_,N0,X5,e3,v2,G1,u9,U0J,J0u,k_f,g4,r9,l1,g5,F0,z0,W3,B8,W6,m0,u3,j0,R1,O2,z$;K5m="s";K5m+="t";K5m+="x_line_char";K5m+="t";Z3=n4.chart;K9=N_.stretchGaps;if(!K9 && K9 !== !({})){K9=this.cleanupGaps === "stretch";}b_=Z3.dataSegment;K2=new Array(b_.length);K3=Z3.context;if(!N_){N_={};}V9=N_.yAxis || n4.yAxis;this.startClip(n4.name);K3.beginPath();U_=![];N0=![];X5=n4.yAxis.top;function p3(E7){e4C.n2i();return u9.pixelFromTransformedValue(E7,n4,V9);}e3=n4.yAxis.bottom;v2=this.layout.candleWidth;G1=n4.left + Math.floor(-0.5 * this.layout.candleWidth + this.micropixels);u9=this;U0J=1700475930;J0u=-1491179332;k_f=2;for(var L0o=+"1";e4C.W7K(L0o.toString(),L0o.toString().length,+"29331") !== U0J;L0o++){g4=!3;k_f+=+"2";}if(e4C.W7K(k_f.toString(),k_f.toString().length,"22853" * 1) !== J0u){g4=!3;}g4=-+"1";for(var W2=0;W2 <= b_.length;W2++){e4C.f$a(32);var R6J=e4C.C6$(6,19,21,5);e4C.f$a(10);var f$J=e4C.C6$(5,12,9);G1+=this.layout.candleWidth * (W2 - g4 - R6J) / f$J;g4=W2;e4C.I0Z(33);G1+=e4C.z5U("2",v2,0);v2=this.layout.candleWidth;e4C.I0Z(24);G1+=e4C.C6$("2",v2);r9=b_[W2];if(!r9)continue;if(r9.projection)break;if(r9.candleWidth){G1+=(r9.candleWidth - v2) / +"2";v2=r9.candleWidth;}if(Z3.transformFunc && V9 == Z3.panel.yAxis && r9.transform){r9=r9.transform;}if(r9 && N_.field){r9=r9[N_.field];}if(!r9 && r9 !== 0)continue;l1=r9.Close;g5=r9.Open === undefined?l1:r9.Open;F0=r9.High === undefined?Math.max(l1,g5):r9.High;z0=r9.Low === undefined?Math.min(l1,g5):r9.Low;if(!l1 && l1 !== 0)continue;if(K9){while(b_[W2 + 1]){W3=b_[W2 + ("1" << 32)].Close;if(W3 || W3 === 0 || b_[W2 + 1].futureTick)break;e4C.I0Z(8);G1+=e4C.C6$(v2,2);W2++;}}e4C.f$a(11);B8=e4C.C6$(g4,1,W2);e4C.f$a(34);W6=e4C.C6$(3,B8,v2,G1,8);m0=p3(g5);if(m0 < X5){m0=X5;if(N0){K3.moveTo(W6,m0);continue;}N0=!!({});}else if(m0 > e3){m0=e3;if(N0){K3.moveTo(W6,m0);continue;}N0=!!1;}else {N0=!!"";}if(!U_){U_=!0;e4C.f$a(35);var f3i=e4C.z5U(12,7,3,1,17);u3=Z3.dataSet.length - Z3.scroll - f3i;if(u3 < 0){K3.moveTo(W6,m0);}else if(u3 >= 0){j0=Z3.dataSet[u3];if(j0.transform){j0=j0.transform;}R1=j0.Close;R1=p3(R1);R1=Math.min(Math.max(R1,X5),e3);K3.moveTo(n4.left + (W2 - 1) * this.layout.candleWidth + this.micropixels,R1);K3.lineTo(W6,m0);}K3.moveTo(W6,m0);}else {K3.lineTo(W6,m0);}e4C.I0Z(17);W6+=e4C.C6$(B8,4,v2);if(g5 < l1){m0=p3(z0);if(m0 < X5){m0=X5;}if(m0 > e3){m0=e3;}K3.lineTo(W6,m0);e4C.f$a(21);W6+=e4C.z5U(B8,"4",v2);m0=p3(F0);if(m0 < X5){m0=X5;}if(m0 > e3){m0=e3;}K3.lineTo(W6,m0);}else {m0=p3(F0);if(m0 < X5){m0=X5;}if(m0 > e3){m0=e3;}K3.lineTo(W6,m0);e4C.f$a(36);W6+=e4C.z5U("4",B8,v2,1);m0=p3(z0);if(m0 < X5){m0=X5;}if(m0 > e3){m0=e3;}K3.lineTo(W6,m0);}e4C.I0Z(17);W6+=e4C.z5U(B8,4,v2);m0=p3(l1);K2[W2]=m0;if(m0 < X5){m0=X5;}if(m0 > e3){m0=e3;}K3.lineTo(W6,m0);}O2=this.canvasStyle(K5m);if(O2.width && parseInt(O2.width,10) <= 25){K3.lineWidth=Math.max(1,K6.stripPX(O2.width));}else {K3.lineWidth=1;}if(N_.highlight){K3.lineWidth*=2;}this.canvasColor("stx_line_chart");if(N_.color){K3.strokeStyle=N_.color;}if(!N_.highlight && this.highlightedDraggable){K3.globalAlpha*=0.3;}K3.stroke();K3.closePath();z$={colors:[K3.strokeStyle],cache:K2};this.endClip();K3.lineWidth=1;return z$;};K6.ChartEngine.prototype.drawHistogram=function(A2,i1){var r45=R3X5F;var Z21,w$t,O2R,V6,x8,f8,T_,N1,N8,F7,c_,m_,L9,Y1,p4,f9,o_,v_,z8,s2,h63,Q5,j7,i9,A1,d4,O6,E3,A9,g$,p5,i8L,A8,m8,h6,j2,a9;Z21="D";Z21+="a";Z21+="t";Z21+="a";w$t="st";w$t+="retch";O2R="c";O2R+="ha";O2R+="r";O2R+="t";if(!i1 || !i1.length){return;}V6=A2.panel;if(!V6){V6=O2R;}x8=this.panels[V6];if(!x8){return;}f8=A2.stretchGaps;if(!f8 && f8 !== !"1"){f8=this.cleanupGaps === w$t;}T_=A2.yAxis?A2.yAxis:x8.yAxis;N1=A2.type;N8=this.chart.dataSegment;F7=!!"";c_=1;m_=1;for(Y1=+"0";Y1 < i1.length;Y1++){F7|=i1[Y1].border_color_up && !K6.isTransparent(i1[Y1].border_color_up);F7|=i1[Y1].border_color_down && !K6.isTransparent(i1[Y1].border_color_down);c_=i1[Y1].opacity_up;m_=i1[Y1].opacity_down;if(!A2.highlight && this.highlightedDraggable){c_*=0.3;m_*=0.3;}}if(A2.borders === ![]){F7=!({});}if(!A2.name){A2.name=Z21;}p4=T_.multiplier;if(!A2.heightPercentage){r45.f$a(7);A2.heightPercentage=r45.z5U(0,"0.7");}if(!A2.widthFactor){A2.widthFactor=0.8;}f9=0;o_=0;for(var S$=0;S$ < this.chart.maxTicks;S$++){v_=N8[S$];if(!v_)continue;r45.f$a(37);z8=r45.C6$(32,"0");for(Y1=0;Y1 < i1.length;Y1++){L9=i1[Y1].subField || this.chart.defaultPlotField || "Close";s2=K6.ChartEngine.getQuoteFieldValue(v_,i1[Y1].field,L9);if(!s2 && this.cleanupGaps === "stretch"){s2=this.valueFromInterpolation(S$,i1[Y1].field,L9,x8,T_,!![]);}if(s2 || s2 === 0){if(typeof s2 == "object" && s2[L9]){s2=s2[L9];}if(N1 == "stacked"){z8+=s2;}else {z8=s2;}if(z8 > f9){f9=z8;}if(z8 < o_){o_=z8;}}}}if(f9 === 0 && o_ === 0){h63=" Not Av";h63+="ai";h63+="lable";this.displayErrorAsWatermark(V6,this.translateIf(A2.name + h63));return;}function Q$(L3,I7,P1,W8,L5,q2,p_,O$,B_){var l$,U4,F6,F5H,O_,R2,S0,P4,Z7,x7,o5,i7,L0,K$,h$,U2,l4,Q4,d_,x2D;if(!W8){r45.f$a(6);W8=r45.z5U(0,"1");}d4.globalAlpha=W8;d4.beginPath();r45.I0Z(38);l$=r45.z5U("0.5",Q5);U4=Math.floor(g$.pixelFromBar(0,x8.chart) - g$.layout.candleWidth / 2);F6=U4;for(var T5=0;T5 < N8.length;T5++){F5H="clu";F5H+="stered";r45.f$a(6);O_=r45.C6$(0,"0");R2=A9[T5] || Q5;if(T5 === 0){l$=R2;}S0=N8[T5];P4=K6.ChartEngine.getQuoteFieldValue(S0,L3,I7);if(P4 === null){l$=R2;F6+=g$.layout.candleWidth;continue;}if(f8 && N1 !== "clustered"){while(N8[T5 + 1]){r45.f$a(0);Z7=N8[r45.C6$(T5,1)][L3];if(Z7 || Z7 === 0 || N8[T5 + +"1"].futureTick)break;if(Z7 && (Z7.Close || Z7.Close === 0))break;O_++;T5++;}R2=A9[T5] || Q5;}r45.I0Z(39);x7=r45.C6$(o_,P4,p4);o5=g$.layout.candleWidth;if(S0.candleWidth || S0.lineTravel != null){o5=S0.candleWidth || S0.lineTravel;if(S0.lineTravel != null && T5 === N8.length - 1){o5=N8[T5 - 2].lineTravel;}if(T5 === 0){U4=F6=Math.floor(g$.pixelFromBar(0,x8.chart) - o5 / 2);}}if(isNaN(x7)){l$=R2;F6+=o5;continue;}i7=Math.floor(R2 - x7) + 0.5;if(i7 > R2 && !j7){i7=R2;}L0=(typeof S0[L3] == "object"?S0[L3]:S0).Close;K$=(typeof S0[L3] == "object"?S0[L3]:S0).iqPrevClose;if(B_ && B_.indexOf(T5) == -1 || !B_ && (q2 && L0 < K$ || !q2 && L0 >= K$)){l$=i7;F6+=o5 + g$.layout.candleWidth * O_;continue;}h$=o5 / g$.layout.candleWidth;r45.I0Z(40);U2=Math.round(r45.z5U(h$,p_,O6,F6,O$));r45.f$a(0);l4=r45.z5U(U2,L5?"0" ^ 0:A1);Q4=U2 + Math.round(O$ * h$) - (L5?0:A1);if(Q4 - l4 < 2){r45.I0Z(0);Q4=r45.z5U(l4,1);}d_=L5?0:0.5;if(l4 % ("1" | 1) == d_){l4+=0.5;}if(Q4 % 1 == d_){Q4+=0.5;}r45.I0Z(1);Q4+=r45.C6$(O_,O$);d4.moveTo(Q4,R2);if(Q5 != R2 && L5 && !O6 && A9[T5 + 1]){d4.moveTo(Q4,Math.max(i7,Math.min(R2,A9[T5 + ("1" ^ 0)])));}d4.lineTo(Q4,i7);d4.lineTo(l4,i7);if(L5 && p_){if(E3[T5] > i7 || T5 === 0){d4.lineTo(l4,Math.min(R2,E3[T5]));}}else if(L5 && !O6 && N1 == F5H){if(T5 > 0 && E3[T5 - 1] && E3[T5 - 1] > i7){d4.lineTo(l4,Math.min(R2,E3[T5 - 1]));}}else if(L5 && !O6){if(l$ > i7 || T5 === +"0"){d4.lineTo(l4,Math.min(R2,l$));}}else {d4.lineTo(l4,R2);}l$=i7;F6+=o5 + g$.layout.candleWidth * O_;if(N1 != "clustered" || L5){E3[T5]=i7;}for(var h3=0;h3 < O_;h3++){r45.f$a(7);E3[r45.C6$(h3,T5)]=E3[T5];}}if(L5){x2D="a";x2D+="uto";d4.strokeStyle=!P1 || P1 == x2D?g$.defaultColor:P1;d4.stroke();}else {d4.fillStyle=!P1 || P1 == "auto"?g$.defaultColor:P1;d4.fill();}d4.closePath();}j7=!!0;if(!A2.bindToYAxis){if(T_.flipped){Q5=Math.floor(T_.top) - 0.5;i9=Math.floor(T_.bottom) - 0.5;}else {Q5=Math.floor(T_.bottom) + 0.5;i9=Math.floor(T_.top) + 0.5;}p4=Math.abs(Q5 - i9) * A2.heightPercentage / (f9 - o_);}else {if(T_.baseline){o_=T_.baseline.value;j7=!!({});}Q5=Math.floor(this.pixelFromPrice(o_,x8,T_)) + (T_.flipped?-0.5:0.5);}this.startClip(V6);A1=this.layout.candleWidth <= 1 || !F7?0:"0.5" * 1;d4=this.chart.context;if(T_.flipped){d4.translate(0,2 * T_.top);r45.I0Z(41);d4.scale(1,-r45.C6$(0,"1"));}O6=Math.max(0,(1 - A2.widthFactor) * this.layout.candleWidth / 2);E3=new Array(N8.length);A9=[];g$=this;p5=1;for(Y1=+"0";Y1 < i1.length;Y1++){i8L="st";i8L+="ac";i8L+="ked";A8=i1[Y1];p5=this.layout.candleWidth * A2.widthFactor;if(O6){if(this.layout.candleWidth - p5 <= 2){F7=!({});}}m8=0;if(N1 == "clustered"){m8=Y1;p5/=i1.length;}L9=A8.subField || this.chart.defaultPlotField || "Close";if(typeof A8.color_function == "function"){j2={};for(var L1=0;L1 < N8.length;L1++){if(N8[L1]){h6=A8.color_function(N8[L1]);if(typeof h6 == "string"){h6={fill_color:h6,border_color:h6};}if(!h6.hasOwnProperty("border_opacity")){h6.border_opacity=h6.opacity;}r45.I0Z(42);var e1W=r45.z5U(10,888,3527,17);r45.I0Z(43);var d0x=r45.C6$(6,36730,7350);r45.I0Z(44);var x6H=r45.z5U(20,306,2167,5,2169);r45.f$a(45);var h1C=r45.z5U(13,19,8,6,16);r45.f$a(19);var t5s=r45.z5U(1857,7,1);r45.I0Z(46);var I6H=r45.z5U(3,8575,8559,1,8578);a9=h6.fill_color + (e1W > d0x?x6H !== "278.95" * h1C?695.46 > (969.09,t5s)?(734.24,I6H):![]:(+"913.94",!({})):",") + h6.border_color;if((a9 in j2)){j2[a9].positions.push(L1);}else {h6.positions=[L1];j2[a9]=h6;}}}for(a9 in j2){h6=j2[a9];Q$(A8.field,L9,h6.fill_color,h6.opacity,null,null,m8,p5,h6.positions);Q$(A8.field,L9,h6.border_color,h6.border_opacity,!!({}),null,m8,p5,h6.positions);}}else {Q$(A8.field,L9,A8.fill_color_up,c_,null,!!({}),m8,p5);Q$(A8.field,L9,A8.fill_color_down,m_,null,null,m8,p5);if(this.layout.candleWidth >= 2 && F7){Q$(A8.field,L9,A8.border_color_up,c_,!!({}),!!({}),m8,p5);Q$(A8.field,L9,A8.border_color_down,m_,!0,null,m8,p5);}}if(N1 == i8L){A9=K6.shallowClone(E3);}}d4.globalAlpha=1;this.endClip();};K6.ChartEngine.prototype.scatter=function(P7,p$){var k8E=R3X5F;var p8,Z2,N$,W_,i5,A3,g9,Y8,F1,A4,K1,b6,G5,k2,t5,a_,C6,c8;p8=P7.chart;Z2=p8.dataSegment;N$=new Array(Z2.length);W_=this.chart.context;this.canvasColor("stx_scatter_chart");if(!p$){p$={};}i5=p$.field || p8.defaultPlotField;A3=p$.yAxis || P7.yAxis;g9=p$.subField || p8.defaultPlotField || "Close";this.startClip(P7.name);W_.beginPath();W_.lineWidth=p$.lineWidth || "4" ^ 0;if(p$.highlight){W_.lineWidth*=+"2";}if(!p$.highlight && this.highlightedDraggable){W_.globalAlpha*=0.3;}if(p$.color){W_.strokeStyle=p$.color;}Y8=A3.top;F1=A3.bottom;A4=this.layout.candleWidth;k8E.I0Z(11);var E15=k8E.z5U(10,11,0);K1=P7.left - 0.5 * A4 + this.micropixels - E15;var {tickFilter:Y0}=p$;for(var N4=+"0";N4 <= Z2.length;N4++){k8E.f$a(8);K1+=k8E.z5U(A4,2);A4=this.layout.candleWidth;k8E.I0Z(8);K1+=k8E.C6$(A4,2);b6=Z2[N4];if(!b6)continue;if(b6.candleWidth){k8E.f$a(47);var o2E=k8E.C6$(13,10,5,56,9);K1+=(b6.candleWidth - A4) / o2E;A4=b6.candleWidth;}if(Y0){if(Y0.length === 0)break;if(!Y0.has(b6.tick))continue;Y0.delete(b6.tick);}if(!b6.projection){if(p8.transformFunc && A3 == p8.panel.yAxis && b6.transform){b6=b6.transform;}G5=b6[i5];if(G5 && G5[g9] !== undefined){G5=G5[g9];}if(!(G5 instanceof Array)){G5=[G5];}if(("Scatter" in b6)){G5=b6.Scatter;}for(var Q_=0;Q_ < G5.length;Q_++){if(!G5[Q_] && G5[Q_] !== 0)continue;k2=G5[Q_];t5=0;if(G5[Q_] instanceof Array){k2=G5[Q_][0];t5=G5[Q_][2];}a_=A3.semiLog?A3.height * (1 - (Math.log(Math.max(k2,0)) / Math.LN10 - A3.logLow) / A3.logShadow):(A3.high - k2) * A3.multiplier;if(A3.flipped){k8E.I0Z(7);a_=k8E.z5U(a_,F1);}else {a_+=Y8;}if(a_ < Y8)continue;if(a_ > F1)continue;C6=p$.lineWidth / 2 || "2" >> 0;if(p$.highlight){C6*=2;}if(t5){k8E.I0Z(1);C6=k8E.C6$(t5,A4);}k8E.I0Z(7);W_.moveTo(k8E.z5U(C6,K1),a_);k8E.I0Z(0);W_.lineTo(k8E.z5U(K1,C6),a_);N$[N4]=a_;}}}W_.stroke();W_.closePath();c8={colors:[W_.strokeStyle],cache:N$};this.endClip();W_.lineWidth=1;return c8;};};I8=r6=>{var f88,z3H,m4k,q$J,N5c,V3m,s_p,G6K,P0b,K_r,w6D,K4K,D1A,z5N,G1J,p7h,a9k,U0i,O49,O_2,w2M,H6,S6;f88="c";f88+="olo";f88+="r";z3H="p";z3H+="atte";z3H+="rn";m4k="line";m4k+="Width";q$J="c";q$J+="ol";q$J+="o";q$J+="r";N5c="a";N5c+="xisLabel";V3m="l";V3m+="in";V3m+="eWidth";s_p="c";s_p+="o";s_p+="lor";G6K="p";G6K+="att";G6K+="ern";P0b="lineW";P0b+="idth";K_r="col";K_r+="o";K_r+="r";w6D="c";w6D+="o";w6D+="lo";w6D+="r";K4K="sol";K4K+="id";D1A="a";D1A+="u";D1A+="t";D1A+="o";z5N="a";z5N+="ut";z5N+="o";G1J="s";G1J+="o";G1J+="l";G1J+="id";p7h="so";p7h+="lid";a9k="sol";a9k+="i";a9k+="d";U0i="a";U0i+="u";U0i+="t";U0i+="o";O49="a";O49+="ut";O49+="o";O_2="a";O_2+="uto";w2M="und";w2M+="e";w2M+="fined";H6=typeof _CIQ !== "undefined"?_CIQ:r6.CIQ;S6=typeof _timezoneJS !== w2M?_timezoneJS:r6.timezoneJS;H6.ChartEngine.drawingTools={};H6.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:O_2,axisLabel:!!({}),showCallout:!({}),alwaysMagnetize:![],spanPanels:!({}),fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}},fibs:[{level:-0.786,color:O49,parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}},{level:-0.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:-0.5,color:U0i,parameters:{pattern:a9k,opacity:0.25,lineWidth:"1" * 1}},{level:-0.382,color:"auto",parameters:{pattern:p7h,opacity:0.25,lineWidth:1},display:!0},{level:-0.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" ^ 0}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:+"1"},display:!![]},{level:0.236,color:"auto",parameters:{pattern:G1J,opacity:0.25,lineWidth:+"1"}},{level:"0.382" - 0,color:"auto",parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:"1" - 0},display:!""},{level:0.5,color:z5N,parameters:{pattern:"solid",opacity:"0.25" * 1,lineWidth:+"1"},display:!!1},{level:+"0.618",color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:0.786,color:D1A,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:K4K,lineWidth:1},display:!!({})},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!""},{level:"1.618" - 0,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!"1"},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" ^ 0}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}}],extendLeft:![],printLevels:!0,printValues:!({}),timezone:{color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}},measurementline:{calloutOnHover:![],displayGroups:{bars:!0,delta:!!"1",annpercent:!({}),totreturn:!({}),volume:!"1",studies:!({})}}};H6.ChartEngine.registerDrawingTool=function(q1,r8){H6.ChartEngine.drawingTools[q1]=r8;};H6.ChartEngine.completeDrawing=function(S3){var h5;if(!S3 || !S3.activeDrawing){return;}R3X5F.F64();h5=S3.activeDrawing;if(!S3.keepDrawingToolSelected){if(S3.drawingContainer && S3.drawingContainer.tool){S3.drawingContainer.tool({node:null},"notool");}else {S3.changeVectorType("");}}S3.dispatch("drawingComplete",{stx:S3,drawing:h5});};H6.ChartEngine.prototype.keepDrawingToolSelected=![];H6.ChartEngine.prototype.setDrawingContainer=function(u4){R3X5F.F64();this.drawingContainer=u4;};H6.ChartEngine.prototype.exportDrawings=function(){var J5;J5=[];for(var y6=0;y6 < this.drawingObjects.length;y6++){J5.push(this.drawingObjects[y6].serialize());}return J5;};H6.ChartEngine.prototype.abortDrawings=function(V5){var i$;if(V5 !== !({})){V5=!!({});}R3X5F.F64();for(var t3=this.drawingObjects.length - 1;t3 >= 0;t3--){i$=this.drawingObjects[t3];i$.abort(!!"1");if(V5 || !i$.permanent){this.drawingObjects.splice(t3,1);}}};H6.ChartEngine.prototype.importDrawings=function(Z4){var S4H=R3X5F;var V0a,b5f,b$u,T1q,j9,w9,B3;S4H.f$a(1);V0a=-S4H.z5U(1,"157609219");b5f=1567219095;S4H.I0Z(7);b$u=S4H.C6$(0,"2");for(var D23="1" >> 32;S4H.W7K(D23.toString(),D23.toString().length,69782) !== V0a;D23++){if(+H6.Drawing){return;}b$u+=2;}if(S4H.W7K(b$u.toString(),b$u.toString().length,82158) !== b5f){if(+H6.Drawing){return;}}if(!H6.Drawing){return;}for(var H8=0;H8 < Z4.length;H8++){T1q="ret";T1q+="rac";T1q+="eme";T1q+="nt";j9=Z4[H8];if(j9.name == "fibonacci"){j9.name=T1q;}w9=H6.ChartEngine.drawingTools[j9.name];if(!w9){if(H6.Drawing[j9.name]){w9=H6.Drawing[j9.name];H6.ChartEngine.registerDrawingTool(j9.name,w9);}}if(w9){B3=new w9();B3.reconstruct(this,j9);this.drawingObjects.push(B3);}}};H6.ChartEngine.prototype.clearDrawings=function(i4,a1){var M5,w$,k2L,G5F,b4$,B8$;if(a1 !== !!0){a1=!"";}M5=this.exportDrawings();this.abortDrawings(a1);if(i4){this.undoStamps=[];}else {this.undoStamp(M5,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!"";H6.clearCanvas(this.chart.tempCanvas,this);this.draw();w$=this.controls.mSticky;if(w$){k2L="no";k2L+="ne";w$.style.display=k2L;G5F=-475234537;b4$=-346035926;B8$=2;for(var B36=1;R3X5F.o1c(B36.toString(),B36.toString().length,64743) !== G5F;B36++){w$.querySelector("").innerHTML="";B8$+=2;}if(R3X5F.W7K(B8$.toString(),B8$.toString().length,+"14411") !== b4$){w$.querySelector("").innerHTML="";}w$.querySelector(".mStickyInterior").innerHTML="";}};H6.ChartEngine.prototype.createDrawing=function(T0,A7){var R$,P2;if(!H6.Drawing){return;}R$=new H6.Drawing[T0]();R$.reconstruct(this,A7);P2=new H6.Drawing[T0]();P2.stx=this;P2.copyConfig();for(var T$ in P2){R$[T$]=R$[T$] || P2[T$];}this.drawingObjects.push(R$);this.draw();return R$;};H6.ChartEngine.prototype.removeDrawing=function(l6){for(var M6=0;M6 < this.drawingObjects.length;M6++){if(this.drawingObjects[M6] == l6){this.drawingObjects.splice(M6,1);this.changeOccurred("vector");this.draw();return;}}};H6.ChartEngine.prototype.undo=function(){var S0E;S0E="u";S0E+="ndo";if(this.runPrepend("undo",arguments)){return;}R3X5F.n2i();if(this.activeDrawing){this.editingAnnotation=!!0;this.activeDrawing.abort();this.activeDrawing.hidden=!!"";this.drawingSnapshot=null;this.activateDrawing(null);H6.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");H6.ChartEngine.drawingLine=!({});this.cancelTouchSingleClick=!!({});}this.runAppend(S0E,arguments);};H6.ChartEngine.prototype.undoStamp=function(G4,C4){var A9x;A9x="u";R3X5F.F64();A9x+="ndoSt";A9x+="a";A9x+="mp";this.undoStamps.push(G4);this.dispatch(A9x,{before:G4,after:C4,stx:this});};H6.ChartEngine.prototype.undoLast=function(){R3X5F.F64();if(this.activeDrawing){this.undo();}else {if(this.undoStamps.length){this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred("vector");this.draw();}}};H6.ChartEngine.prototype.addDrawing=function(Z_){var U5;U5=this.exportDrawings();this.drawingObjects.push(Z_);R3X5F.F64();this.undoStamp(U5,this.exportDrawings());};H6.ChartEngine.prototype.repositionDrawing=function(I1,V_){var b7d=R3X5F;var r$,C9,a4,P59,K4z,R5Z;if(this.currentPanel.name != I1.panelName && !I1.spanPanels){return;}r$=this.panels[I1.panelName];b7d.F64();C9=this.adjustIfNecessary(r$,this.crosshairTick,I1.valueFromPixel(this.backOutY(H6.ChartEngine.crosshairY),r$,this.getYAxisByField(r$,I1.field)));a4=this.chart.tempCanvas;H6.clearCanvas(a4,this);this.startClip(r$.name);if(V_){this.drawingSnapshot=this.exportDrawings();if(I1.spanPanels){I1.originPanelName=I1.panelName;Object.values(this.panels).forEach(L6=>{b7d.n2i();I1.panelName=L6.name;I1.render(a4.context);});P59=356589750;K4z=-1331790164;R5Z=2;for(var i1c=1;b7d.W7K(i1c.toString(),i1c.toString().length,78052) !== P59;i1c++){I1.panelName=I1.originPanelName;R5Z+=2;}if(b7d.o1c(R5Z.toString(),R5Z.toString().length,+"66051") !== K4z){I1.panelName=I1.originPanelName;}I1.panelName=I1.originPanelName;}else {I1.render(a4.context);}}else {I1.reposition(a4.context,I1.repositioner,this.crosshairTick,C9);if(this.drawingSnapshot){this.undoStamp(H6.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(this.editingDrawing){this.editingDrawing.render(a4.context);}this.endClip();if(I1.measure){I1.measure();}};H6.ChartEngine.prototype.activateRepositioning=function(O0){var C7x,x3;C7x="n";C7x+="o";C7x+="n";C7x+="e";x3=this.repositioningDrawing=O0;if(O0){this.draw();this.repositionDrawing(O0,!![]);}this.chart.tempCanvas.style.display=O0?"block":C7x;};H6.ChartEngine.prototype.activateDrawing=function(o6,U1){var N$0,V2;N$0="non";N$0+="e";if(!U1){U1=this.currentPanel;}this.drawingSnapshot=null;if(!o6){this.activeDrawing=null;this.chart.tempCanvas.style.display="none";t6(this);return !"1";}V2=H6.ChartEngine.drawingTools[o6];if(!V2){if(H6.Drawing[o6]){V2=H6.Drawing[o6];H6.ChartEngine.registerDrawingTool(o6,V2);}}if(V2){this.activeDrawing=new V2();this.activeDrawing.construct(this,U1);if(!this.charts[U1.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;t6(this);return !({});}}}this.chart.tempCanvas.style.display="block";if(this.controls.drawOk){this.controls.drawOk.style.display=N$0;}R3X5F.n2i();function t6(z1){var U6;if(!U1 || !z1.layout.studies){return;}U6=z1.layout.studies[U1.name];if(U6 && !U6.overlay){delete z1.overlays[U6.name];}}t6(this);return !![];};H6.ChartEngine.prototype.drawingClick=function(a$,F5,E9){var k7n,L_,X7,V7,H_,j1,g1,Y$y,J8R;if(!H6.Drawing){return;}if(!a$){return;}if(this.openDialog){return;}if(this.editingDrawing){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,a$)){return;}}if(this.activeDrawing){if(this.userPointerDown && !this.activeDrawing.dragToDraw){if(!H6.ChartEngine.drawingLine){this.activateDrawing(null);}return;}else if(!this.activeDrawing.p0){k7n="Cl";k7n+="ose";L_=this.highlightedDataSetField;if(this.magnetizedPrice !== null && (a$ !== this.chart.panel || ["Open","High","Low",k7n].indexOf(this.magneticHold) < 0)){L_=H6.getObjectChainRoot(this.magneticHold);}if(!L_ && a$ != this.chart.panel){for(var U0 in this.chart.seriesRenderers){X7=this.chart.seriesRenderers[U0];if(X7.params.panel == a$.name){L_=X7.seriesParams[0].field;break;}}for(var H$ in this.layout.studies){V7=this.layout.studies[H$];if(V7.panel == a$.name){L_=Object.keys(V7.outputMap)[0];break;}}}this.activeDrawing.field=L_;}else if(this.activeDrawing.moving){F5=this.crosshairX - this.left;E9=this.crosshairY - this.top;}H_=this.tickFromPixel(F5,a$.chart);j1=this.panels[this.activeDrawing.panelName];if(this.magnetizedPrice || this.magnetizedPrice === 0){g1=this.adjustIfNecessary(j1,H_,this.magnetizedPrice);}else {g1=this.adjustIfNecessary(j1,H_,this.activeDrawing.valueFromPixel(E9,j1,this.getYAxisByField(j1,this.activeDrawing.field)));}if(this.activeDrawing.click(this.chart.tempCanvas.context,H_,g1)){if(this.activeDrawing){Y$y="st";Y$y+="x_";Y$y+="cr";Y$y+="osshair";J8R="vect";J8R+="o";J8R+="r";H6.ChartEngine.drawingLine=![];H6.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);H6.ChartEngine.completeDrawing(this);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred(J8R);this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing",Y$y);}}else {this.changeOccurred("drawing");H6.ChartEngine.drawingLine=!![];this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing");this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing");}return !!({});}return !1;};H6.ChartEngine.prototype.rightClickDrawing=function(c6,x9,S2){var o0a,W08,G9,c2;o0a="rightClic";o0a+="kDrawing";W08="rig";W08+="htClic";W08+="kDrawing";if(this.runPrepend(W08,arguments)){return;}if(c6.permanent){return;}if(this.callbackListeners.drawingEdit.length){this.dispatch("drawingEdit",{stx:this,drawing:c6,forceEdit:x9,forceText:S2});}else {G9=c6.abort();if(!G9){c2=this.exportDrawings();this.removeDrawing(c6);this.undoStamp(c2,this.exportDrawings());}this.changeOccurred("vector");}this.runAppend(o0a,arguments);};H6.ChartEngine.prototype.magnetize=function(){var r9g=R3X5F;var y_C,Q3h,p0P,n2o,O$U,W$,r5,m6,B7,v8,q8,n7,g3,V8,L2,k_,T3,z_,u8,X8,a7,s0,W4,O7,L4,X$;y_C="ma";y_C+="gnetize";Q3h="meas";Q3h+="ure";Q3h+="mentli";Q3h+="ne";p0P="C";p0P+="l";p0P+="ose";n2o="cal";n2o+="lout";O$U="free";O$U+="fo";O$U+="rm";W$=this;this.magnetizedPrice=null;if(!this.preferences.magnet && !this.currentVectorParameters.alwaysMagnetize){return;}if(this.runPrepend("magnetize",arguments)){return;}if(this.repositioningDrawing || this.editingDrawing){return;}r5=this.currentVectorParameters.vectorType;if(!r5 || r5 == "projection" || r5 == O$U){return;}if((r5 == "annotation" || r5 == n2o) && H6.ChartEngine.drawingLine){return;}m6=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel;B7=m6.chart;v8=this.crosshairTick;if(v8 > B7.dataSet.length){return;}q8=B7.dataSet[v8];r9g.n2i();if(!q8){return;}g3=this.getRenderedItems();V8=["Open","High","Low",p0P];if(this.activeDrawing && this.activeDrawing.penDown){if(this.magneticHold){if(V8.indexOf(this.magneticHold) != -+"1" && g3.indexOf("High") != -1){g3=V8;}else {g3=[this.magneticHold];}}else {return;}}else {this.magneticHold=null;}L2=1000000000;k_=parseFloat(this.preferences.magnet);if(r5 == Q3h){k_=![];}T3=function(){var r7,Y_;z_=W$.getYAxisByField(m6,g3[g8]) || m6.yAxis;u8=B7.transformFunc && z_ === B7.yAxis;if(u8 && q8.transform){q8=q8.transform;}X8=q8[g3[g8]];a7=H6.existsInObjectChain(q8,g3[g8]);if(a7){X8=a7.obj[a7.member];}if(X8 || X8 === 0){s0=W$.pixelFromTransformedValue(X8,m6,z_);if(Math.abs(W$.cy - s0) < L2){L2=Math.abs(W$.cy - s0);if(k_ && k_ <= L2){r9g.f$a(37);return r9g.z5U(64,"1");}W$.magnetizedPrice=X8;if(u8){r7=B7.untransformFunc;Y_=H6.getObjectChainRoot(g3[g8]);if(r7 && B7.series[Y_]){B7.untransformFunc=(E4,b0,U9,G7)=>{r9g.F64();return r7(E4,b0,U9,G7,Y_);};}W$.magnetizedPrice=W$.valueFromPixel(s0,m6);B7.untransformFunc=r7;}n7=s0;W$.magneticHold=g3[g8];}}};for(var g8=0;g8 < g3.length;g8++){if(T3())continue;}W4=this.pixelFromTick(v8,B7);O7=n7;H6.clearCanvas(B7.tempCanvas,this);L4=B7.tempCanvas.context;L4.beginPath();L4.lineWidth=+"1";r9g.f$a(43);var S5s=r9g.z5U(15,1248,84);r9g.f$a(48);var W0B=r9g.z5U(14,6,5,22);X$=Math.max(this.layout.candleWidth,S5s) / W0B;L4.arc(W4,O7,Math.min(X$,+"8"),+"0",2 * Math.PI,![]);L4.fillStyle="#398dff";L4.strokeStyle="#398dff";L4.fill();L4.stroke();L4.closePath();B7.tempCanvas.style.display="block";if(this.anyHighlighted){this.container.classList.remove("stx-draggable");}if(this.activeDrawing){this.startClip(m6.name);this.activeDrawing.move(L4,this.crosshairTick,this.activeDrawing.valueFromPixel(O7,m6,this.getYAxisByField(m6,this.activeDrawing.field)));this.endClip();}this.runAppend(y_C,arguments);};H6.ChartEngine.prototype.changeVectorType=function(I$){var R99=R3X5F;var d3,D6,T8;this.currentVectorParameters.vectorType=I$;this.currentVectorParameters.alwaysMagnetize=!({});if(H6.Drawing){H6.Drawing.initializeSettings(this,I$);}if(H6.ChartEngine.drawingLine){this.undo();}d3=this.uiContext && this.uiContext.topNode.multiChartContainer?this.uiContext.topNode.closest("cq-context-wrapper.active"):!!"1";if(!this.container.classList.contains("stx-crosshair-cursor-on") && I$ && d3){var {chart:b$, left:d7, top:J$}=this;R99.f$a(11);var l1N=R99.z5U(19,21,0);D6=b$.width / l1N + d7 + b$.left;R99.I0Z(49);var l3y=R99.z5U(3,15,9,10);T8=b$.height / l3y + J$ + b$.top;this.mousemoveinner(D6,T8);}this.doDisplayCrosshairs();};H6.ChartEngine.prototype.changeVectorParameter=function(x6,l8){var b6s,O2V,P0,l5V,V4t;b6s="undefin";b6s+="ed";R3X5F.F64();O2V="font";O2V+="Size";if(x6 == "axisLabel"){l8=l8.toString() === "true" || Number(l8);}else if(x6 == "lineWidth"){l8=Number(l8);}else if(x6 == O2V){R3X5F.I0Z(50);var b__=R3X5F.z5U(5,5,19,10);l8=parseInt(l8,b__) + "px";}P0=this.currentVectorParameters;if(typeof P0[x6] !== b6s){P0[x6]=l8;return !!({});}else if(x6.substr(0,4) == "font"){l5V="un";l5V+="d";l5V+="efi";l5V+="ned";V4t="fam";V4t+="il";V4t+="y";x6=x6.substr(4).toLowerCase();if(x6 == V4t && l8.toLowerCase() == "default"){l8=null;}P0=P0.annotation.font;if(typeof P0[x6] !== l5V){P0[x6]=l8;return !!({});}}return !"1";};H6.ChartEngine.prototype.drawVectors=function(){var K_,G6,d2,k9,R9B,j4,s7,Q0;if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!"";if(!this.chart.hideDrawings && !this.highlightedDraggable){K_={};for(d2=0;d2 < this.drawingObjects.length;d2++){k9=this.drawingObjects[d2];if(k9.hidden)continue;if(this.repositioningDrawing === k9 && !this.editingDrawing)continue;G6=k9.panelName;if(!this.panels[k9.panelName] || this.panels[k9.panelName].hidden)continue;for(var D5 in this.panels){if(!K_[D5]){K_[D5]=[];}if(k9.spanPanels || D5 == G6){k9.originPanelName=k9.panelName;K_[D5].push(k9);}}}if(this.editingDrawing){R9B="b";R9B+="loc";R9B+="k";j4=this.chart.tempCanvas;H6.clearCanvas(j4,this);j4.style.display=R9B;}for(G6 in K_){this.startClip(G6);s7=K_[G6];for(d2="0" >> 32;d2 < s7.length;d2++){Q0=s7[d2] === this.editingDrawing?this.chart.tempCanvas.context:this.chart.context;if(s7[d2].spanPanels){s7[d2].panelName=G6;s7[d2].render(Q0);s7[d2].panelName=s7[d2].originPanelName;}else {s7[d2].render(Q0);}}this.endClip();}}this.runAppend("drawVectors",arguments);};H6.ChartEngine.prototype.adjustDrawings=function(){R3X5F.n2i();var M2;for(var k7=0;k7 < this.drawingObjects.length;k7++){M2=this.drawingObjects[k7];if(this.panels[M2.panelName]){M2.adjust();}}};H6.Drawing=H6.Drawing || (function(){this.chartsOnly=![];R3X5F.F64();this.penDown=!"1";});H6.Drawing.getDrawingParameters=function(o3,o2){var i6,h_,H7,W9;try{i6=new H6.Drawing[o2]();}catch(e$){}R3X5F.n2i();if(!i6){return null;}i6.stx=o3;i6.copyConfig(!![]);h_={};H7=i6.configs;for(var E5=0;E5 < H7.length;E5++){h_[H7[E5]]=i6[H7[E5]];}W9=o3.canvasStyle("stx_annotation");if(W9 && h_.font){h_.font.size=W9.fontSize;h_.font.family=W9.fontFamily;h_.font.style=W9.fontStyle;h_.font.weight=W9.fontWeight;}return h_;};H6.Drawing.saveConfig=function(Y2,C0){var r_D,k5,e6;r_D="p";r_D+="re";r_D+="fer";r_D+="ences";if(!C0){return;}k5=Y2.preferences;if(!k5.drawings){k5.drawings={};}k5.drawings[C0]={};e6=new H6.Drawing[C0]();e6.stx=Y2;H6.Drawing.copyConfig(e6);e6.configs.forEach(function(Q7){R3X5F.n2i();k5.drawings[C0][Q7]=e6[Q7];});Y2.changeOccurred(r_D);};H6.Drawing.restoreDefaultConfig=function(I_,F5M,o7p){if(o7p){I_.preferences.drawings=null;}else {I_.preferences.drawings[F5M]=null;}I_.changeOccurred("preferences");I_.currentVectorParameters=H6.clone(H6.ChartEngine.currentVectorParameters);I_.currentVectorParameters.vectorType=F5M;};H6.Drawing.initializeSettings=function(k6O,V8a){var t6t,Y9m;R3X5F.n2i();t6t=H6.Drawing[V8a];if(t6t){Y9m=new t6t();if(Y9m.initializeSettings){Y9m.initializeSettings(k6O);}}};H6.Drawing.updateSource=function(q7A,H2e,i_J,P9H){var i0b,H9x;if(!H2e){return;}i0b=!!0;for(var B5V in q7A.drawingObjects){H9x=q7A.drawingObjects[B5V];if(!H9x.field)continue;if(i_J){if(H9x.field == H2e){H9x.field=i_J;i0b=!"";}else if(H9x.field.indexOf(H2e) > -1 && H9x.field.indexOf(H2e + (7330 > (802.5,6570)?"-":753.17)) == -("1" | 1)){H9x.field=H9x.field.replace(H2e,i_J);i0b=!![];}}else {if(H9x.field.split("-->")[0] == H2e || H9x.panelName == H2e){H9x.panelName=P9H;i0b=!![];}}}if(i0b){q7A.changeOccurred("vector");}};H6.Drawing.prototype.copyConfig=function(f5h){H6.Drawing.copyConfig(this,f5h);};H6.Drawing.copyConfig=function(Y2V,Q_2){var K4C,h_q,M$P,u3y,f83,c0Z,Y_Q;R3X5F.n2i();K4C=Y2V.stx.currentVectorParameters;h_q=Y2V.configs;for(M$P=0;M$P < h_q.length;M$P++){f83="pa";f83+="rame";f83+="ter";f83+="s";u3y=h_q[M$P];if(u3y == "color"){Y2V.color=K4C.currentColor;}else if(u3y == f83){Y2V.parameters=H6.clone(K4C.fibonacci);}else if(u3y == "font"){Y2V.font=H6.clone(K4C.annotation.font);}else {Y2V[u3y]=K4C[u3y];}}if(!Q_2){return;}c0Z=Y2V.stx.preferences;if(c0Z && c0Z.drawings){H6.extend(Y2V,c0Z.drawings[K4C.vectorType]);for(M$P=0;M$P < h_q.length;M$P++){Y_Q="pa";Y_Q+="ram";Y_Q+="et";Y_Q+="ers";u3y=h_q[M$P];if(u3y == "color"){K4C.currentColor=Y2V.color;}else if(u3y == Y_Q){K4C.fibonacci=H6.clone(Y2V.parameters);}else if(u3y == "font"){K4C.annotation.font=H6.clone(Y2V.font);}else {K4C[u3y]=Y2V[u3y];}}}};H6.Drawing.prototype.dragToDraw=!!"";H6.Drawing.prototype.permanent=!1;H6.Drawing.prototype.chartsOnly=!!0;H6.Drawing.prototype.abort=function(z41){};H6.Drawing.prototype.measure=function(){};H6.Drawing.prototype.construct=function(c3q,y7x){this.stx=c3q;R3X5F.F64();this.panelName=y7x.name;};H6.Drawing.prototype.isAllowed=function(B8a,u0y){R3X5F.n2i();return !"";};H6.Drawing.prototype.render=function(K0t){console.warn("must implement render function!");};H6.Drawing.prototype.click=function(Q7Z,q7b,p2c){console.warn("must implement click function!");};H6.Drawing.prototype.move=function(c5Z,u8i,o39){var l9W;l9W="must implem";l9W+="ent mov";l9W+="e";l9W+=" function!";console.warn(l9W);};H6.Drawing.prototype.reposition=function(b_J,Y6D,A6T,D3g){};H6.Drawing.prototype.intersected=function(b$c,U9q,Y7K){R3X5F.F64();console.warn("must implement intersected function!");};H6.Drawing.prototype.reconstruct=function(U9z,W40){console.warn("must implement reconstruct function!");};H6.Drawing.prototype.serialize=function(){console.warn("must implement serialize function!");};H6.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!");};H6.Drawing.prototype.highlight=function(r2d){var K1k=R3X5F;var m6r,X_u,m64;if(r2d && !this.highlighted){this.highlighted=r2d;}else if(!r2d && this.highlighted){K1k.f$a(1);m6r=K1k.z5U(1,"321124018");X_u=-43916245;m64=2;for(var X9s=1;K1k.o1c(X9s.toString(),X9s.toString().length,24776) !== m6r;X9s++){this.highlighted=r2d;m64+=2;}if(K1k.o1c(m64.toString(),m64.toString().length,97814) !== X_u){this.highlighted=r2d;}}return this.highlighted;};H6.Drawing.prototype.littleCircleRadius=function(){var L7a;L7a=6;return L7a;};H6.Drawing.prototype.littleCircle=function(Z1I,e61,Y00,L7X){var T_6,C4d;if(this.permanent){return;}T_6=this.stx.defaultColor;C4d=H6.chooseForegroundColor(T_6);Z1I.beginPath();Z1I.lineWidth=1;Z1I.arc(e61,Y00,this.littleCircleRadius(),0,2 * Math.PI,!!"");if(L7X){Z1I.fillStyle=T_6;}else {Z1I.fillStyle=C4d;}Z1I.strokeStyle=T_6;Z1I.setLineDash([]);Z1I.fill();Z1I.stroke();Z1I.closePath();};H6.Drawing.prototype.rotator=function(W1q,F48,o0C,n6L){var o9R=R3X5F;var m8c,q6x,m0t;if(this.permanent){return;}m8c=this.littleCircleRadius();q6x=this.stx.defaultColor;W1q.beginPath();W1q.lineWidth=2;if(!n6L){W1q.globalAlpha=0.5;}o9R.f$a(0);m0t=o9R.C6$(4,m8c);W1q.arc(F48,o0C,m0t,0,+"3" * Math.PI / +"2",![]);o9R.f$a(15);W1q.moveTo(o9R.z5U(m0t,F48,2),o9R.C6$(o0C,2,o9R.f$a(0)));o9R.f$a(0);W1q.lineTo(o9R.z5U(F48,m0t),o0C);o9R.f$a(11);W1q.lineTo(o9R.z5U(2,m0t,F48),o9R.z5U(o0C,2,o9R.I0Z(0)));o9R.I0Z(51);W1q.moveTo(o9R.C6$("2",F48),o9R.z5U(2,m0t,o0C,o9R.I0Z(10)));o9R.f$a(7);W1q.lineTo(F48,o9R.z5U(m0t,o0C));o9R.I0Z(51);W1q.lineTo(o9R.C6$("2",F48),o9R.C6$(o0C,m0t,2,o9R.I0Z(18)));o9R.F64();W1q.strokeStyle=q6x;W1q.stroke();W1q.closePath();W1q.globalAlpha=1;};H6.Drawing.prototype.mover=function(A5u,m$1,F7R,r7W){var a6h=R3X5F;var u$r,o1d,K$R,O21;if(this.permanent){return;}u$r=this.littleCircleRadius();o1d=this.stx.defaultColor;K$R=5;a6h.f$a(0);O21=a6h.z5U(u$r,1);A5u.save();A5u.lineWidth=+"2";A5u.strokeStyle=o1d;A5u.translate(m$1,F7R);if(!r7W){A5u.globalAlpha=0.5;}for(var l6a=0;l6a < 4;l6a++){A5u.rotate(Math.PI / 2);A5u.beginPath();a6h.f$a(7);A5u.moveTo(a6h.z5U(0,"0"),O21);a6h.I0Z(0);A5u.lineTo(0,a6h.z5U(O21,K$R));a6h.f$a(10);A5u.moveTo(-2,a6h.C6$(K$R,2,O21));a6h.I0Z(0);A5u.lineTo(0,a6h.C6$(O21,K$R));a6h.f$a(10);A5u.lineTo(2,a6h.C6$(K$R,2,O21));A5u.closePath();A5u.stroke();}A5u.globalAlpha=1;A5u.restore();};H6.Drawing.prototype.resizer=function(e5l,P0K,T9G,L$g){var b8n=R3X5F;var g8v,M4u,T8Z,T6F;if(this.permanent){return;}g8v=this.littleCircleRadius();M4u=this.stx.defaultColor;b8n.f$a(52);var l4Q=b8n.z5U(13,20,283,12,14);T8Z=+"5" * Math.sqrt(l4Q);b8n.f$a(0);b8n.n2i();T6F=b8n.z5U(g8v,1);e5l.save();e5l.lineWidth=2;e5l.strokeStyle=M4u;e5l.translate(P0K,T9G);e5l.rotate(-(P0K * T9G) / Math.abs(P0K * T9G) * Math.PI / 4);if(!L$g){b8n.I0Z(7);e5l.globalAlpha=b8n.C6$(0,"0.5");}for(var j9E=0;j9E < 2;j9E++){e5l.rotate(Math.PI);e5l.beginPath();b8n.I0Z(1);e5l.moveTo(b8n.C6$(1,"0"),T6F);b8n.f$a(0);e5l.lineTo(+"0",b8n.z5U(T6F,T8Z));b8n.I0Z(10);e5l.moveTo(-2,b8n.C6$(T8Z,2,T6F));b8n.f$a(0);e5l.lineTo(+"0",b8n.z5U(T6F,T8Z));b8n.f$a(10);e5l.lineTo(2,b8n.z5U(T8Z,2,T6F));e5l.closePath();e5l.stroke();}e5l.globalAlpha=1;e5l.restore();};H6.Drawing.prototype.pointIntersection=function(K7_,i9P,m6W,V8R){R3X5F.n2i();var q9b,k_c;q9b=this.stx;k_c=q9b.panels[this.panelName];if(!k_c){return !({});}if(this.field && !V8R){i9P=this.pixelFromValue(k_c,K7_,i9P,q9b.getYAxisByField(k_c,this.field));K7_=q9b.pixelFromTick(K7_,k_c.chart);V8R=!![];}if(V8R){if(K7_ >= m6W.cx0 && K7_ <= m6W.cx1 && i9P >= m6W.cy0 && i9P <= m6W.cy1){return !0;}}else {if(K7_ >= m6W.x0 && K7_ <= m6W.x1 && i9P >= Math.min(m6W.y0,m6W.y1) && i9P <= Math.max(m6W.y0,m6W.y1)){return !!1;}}return !({});};H6.Drawing.prototype.setPoint=function(E4k,r0f,O2J,x_5){var H6F=R3X5F;var v0F,F1N,W9K,a1V,z5u,T7z,d3J,O89,U9O;var {stx:w15}=this;var {maxTicks:j_i = 100, dataSet:N4L = []}=x_5 || w15.chart || ({});v0F=-j_i;H6F.f$a(11);var i_B=H6F.z5U(5,6,0);F1N=N4L.length - i_B + j_i;W9K=null;a1V=null;if(typeof r0f == "number"){W9K=r0f;}else if(r0f.length >= "8" >> 0){a1V=r0f;}else {W9K=Number(r0f);}if(O2J || O2J === ("0" | 0)){H6F.f$a(0);this[H6F.C6$((9544,3200) < 1941?7610 <= (7180,1460)?!({}):0x5e4:"v",E4k)]=O2J;}if(W9K !== null){W9K=Math.max(W9K,v0F);W9K=Math.min(W9K,F1N);z5u=w15.dateFromTick(W9K,x_5,!"");H6F.f$a(0);this[H6F.C6$("tzo",E4k)]=z5u.getTimezoneOffset();H6F.f$a(0);this[H6F.C6$((2460,673.49) !== 3990?"d":(3840,560.99) === (130.62,6077)?("0x2064" | 32,"562.34" * 1):!!"1",E4k)]=H6.yyyymmddhhmmssmmm(z5u);H6F.I0Z(0);this[H6F.C6$(552.12 <= +"639"?"p":(+"4332",+"842.47") !== 4?439.62 == (482,534.19)?"o":0xc8b:5.65e+3,E4k)]=[W9K,O2J];}else if(a1V !== null){T7z="free";T7z+="f";T7z+="or";T7z+="m";d3J=H6.strToDateTime(a1V);if(!this["tzo" + E4k] && this["tzo" + E4k] !== 0){H6F.f$a(0);this[H6F.C6$("tzo",E4k)]=d3J.getTimezoneOffset();}H6F.I0Z(0);this[H6F.z5U("d",E4k)]=a1V;O89=this["tzo" + E4k] - d3J.getTimezoneOffset();d3J.setMinutes(d3J.getMinutes() + O89);U9O=![];if(this.name != T7z && !H6.ChartEngine.isDailyInterval(w15.layout.interval) && !d3J.getHours() && !d3J.getMinutes() && !d3J.getSeconds() && !d3J.getMilliseconds()){U9O=!![];}H6F.I0Z(0);this[H6F.C6$("p",E4k)]=[w15.tickFromDate(H6.yyyymmddhhmmssmmm(d3J),x_5,null,U9O),O2J];}};H6.Drawing.prototype.getLineColor=function(v24,y5w){var I_i,Q75,T0P,h9Q,N9Y,d8a,m6h,P$n,t1Y,V7e,e64,j34;R3X5F.F64();if(!v24){v24=this.color;}I_i=this.stx;Q75=v24;if(!y5w && this.highlighted && this.stx.editingDrawing !== this){Q75=I_i.getCanvasColor("stx_highlight_vector");}else if(Q75 == "auto"){Q75=I_i.defaultColor;if(this.field){for(T0P in I_i.layout.studies){h9Q=I_i.layout.studies[T0P];N9Y=h9Q.outputs[h9Q.outputMap[this.field]];if(N9Y){Q75=N9Y.color || N9Y;break;}}for(T0P in I_i.chart.seriesRenderers){m6h=I_i.chart.seriesRenderers[T0P];for(var w4A=0;w4A < m6h.seriesParams.length;w4A++){P$n="--";P$n+=">";t1Y="-";t1Y+="->";V7e="Cl";V7e+="o";V7e+="s";V7e+="e";e64=m6h.seriesParams[w4A];j34=e64.field;if(!j34 && !m6h.highLowBars){j34=this.defaultPlotField || V7e;}if(e64.symbol && e64.subField){j34+=t1Y + e64.subField;}if(this.field == j34){Q75=e64.color;break;}if(e64.field && e64.field == this.field.split(P$n)[0]){d8a=e64.color;}}}if(d8a){Q75=d8a;}}}if(Q75 == "auto"){Q75=I_i.defaultColor;}return Q75;};H6.Drawing.prototype.valueFromPixel=function(x5t,X6e,O5k){var J2P,z0F,E0z;J2P=X6e.chart.untransformFunc;z0F=this.field;if(J2P && X6e.chart.series[z0F]){X6e.chart.untransformFunc=(a0c,V_X,i_o,J5k)=>{R3X5F.F64();return J2P(a0c,V_X,i_o,J5k,z0F);};}E0z=this.stx.valueFromPixel(x5t,X6e,O5k);X6e.chart.untransformFunc=J2P;return E0z;};H6.Drawing.prototype.pixelFromValue=function(B8t,a6P,n7L,p2w){var F5v,G1d,I2E;F5v=B8t.chart.transformFunc;G1d=this.field;if(F5v && B8t.chart.series[G1d]){B8t.chart.transformFunc=(b4z,s0J,l2e,P71)=>{R3X5F.n2i();return F5v(b4z,s0J,l2e,P71,G1d);};}I2E=this.stx.pixelFromValueAdjusted(B8t,a6P,n7L,p2w);B8t.chart.transformFunc=F5v;return I2E;};H6.Drawing.prototype.boxToPixels=function(w67,K_V,X4K,F_e){var d_0,y7t,d0v,H2K;d_0=w67.panels[K_V];y7t=d_0.chart.transformFunc;d0v=this.field;if(y7t && d_0.chart.series[d0v]){d_0.chart.transformFunc=(R6I,S2H,t2Z,x_a)=>{return y7t(R6I,S2H,t2Z,x_a,d0v);};}H2K=H6.convertBoxToPixels(w67,K_V,X4K,F_e);d_0.chart.transformFunc=y7t;return H2K;};H6.Drawing.BaseTwoPoint=function(){var C86,u5C,B8K;R3X5F.n2i();C86=-1173987079;u5C=-1284027445;B8K=2;for(var y8Z=+"1";R3X5F.W7K(y8Z.toString(),y8Z.toString().length,+"12679") !== C86;y8Z++){this.p0=1;this.p1=1;this.color="";B8K+=2;}if(R3X5F.o1c(B8K.toString(),B8K.toString().length,44854) !== u5C){this.p0=null;this.p1=null;this.color="";}};H6.inheritsFrom(H6.Drawing.BaseTwoPoint,H6.Drawing);H6.Drawing.BaseTwoPoint.prototype.configs=[];H6.Drawing.BaseTwoPoint.prototype.lineIntersection=function(f9y,L3J,B4N,I$7,q4Z,Q2C,d2r){var l9z,Y4y;if(!q4Z){q4Z=this.p0;}if(!Q2C){Q2C=this.p1;}l9z=this.stx;if(!(q4Z && Q2C)){return !!0;}R3X5F.n2i();if(B4N.cx0 === undefined){return !!"";}Y4y={x0:q4Z["0" | 0],x1:Q2C[0],y0:q4Z[1],y1:Q2C[1]};if(!d2r){Y4y=this.boxToPixels(l9z,this.panelName,Y4y,l9z.getYAxisByField(l9z.panels[this.panelName],this.field));}return H6.boxIntersects(B4N.cx0,B4N.cy0,B4N.cx1,B4N.cy1,Y4y.x0,Y4y.y0,Y4y.x1,Y4y.y1,I$7);};H6.Drawing.BaseTwoPoint.prototype.boxIntersection=function(j2m,E6q,p1y){var u51,L_a;if(!this.p0 || !this.p1){return ![];}R3X5F.F64();var {x0:l2f, x1:j$y, y0:g5j, y1:E4H, cy0:H34, cy1:S3U}=p1y;if(l2f > Math.max(this.p0[0],this.p1[0]) || j$y < Math.min(this.p0[+"0"],this.p1[0])){return ![];}var {field:W_B, panelName:v8N, stx:H7i}=this;if(W_B){u51=H7i.panels[v8N];L_a=H7i.getYAxisByField(u51,W_B);g5j=this.valueFromPixel(H34,u51,L_a);E4H=this.valueFromPixel(S3U,u51,L_a);}if(E4H > Math.max(this.p0[1],this.p1[1]) || g5j < Math.min(this.p0[1],this.p1[1])){return ![];}return !!"1";};H6.Drawing.BaseTwoPoint.prototype.accidentalClick=function(I8v,y0l){var j7C=R3X5F;var x9H,P9g,v4R,O0w,S6L,j4_,M2Z,t$l,G4F,A$l,I0D,S4L,y8l;x9H=this.stx;P9g=x9H.panels[this.panelName];v4R=x9H.pixelFromTick(this.p0[0],P9g.chart);O0w=x9H.pixelFromTick(I8v,P9g.chart);S6L=x9H.getYAxisByField(P9g,this.field);j4_=this.pixelFromValue(P9g,this.p0["0" >> 64],this.p0[1],S6L);M2Z=this.pixelFromValue(P9g,I8v,y0l,S6L);j7C.f$a(7);t$l=Math.abs(j7C.C6$(v4R,O0w));G4F=2001539730;A$l=-895956045;j7C.I0Z(37);I0D=j7C.z5U(64,"2");for(var v2o=1;j7C.o1c(v2o.toString(),v2o.toString().length,97649) !== G4F;v2o++){j7C.I0Z(8);S4L=Math.abs(j7C.C6$(M2Z,j4_));I0D+=2;}if(j7C.o1c(I0D.toString(),I0D.toString().length,99328) !== A$l){j7C.f$a(7);S4L=Math.abs(j7C.C6$(j4_,M2Z));}j7C.f$a(53);y8l=Math.sqrt(j7C.C6$(t$l,S4L,t$l,S4L));if(y8l < 10){this.penDown=!"1";x9H.undo();return !!({});}};H6.Drawing.BaseTwoPoint.prototype.click=function(e5a,J0J,V6G){var w1j,f2I;this.copyConfig();w1j=this.stx;f2I=w1j.panels[this.panelName];if(!this.penDown){this.setPoint(0,J0J,V6G,f2I.chart);this.penDown=!!1;return !1;}if(this.accidentalClick(J0J,V6G)){return !"";}this.setPoint(1,J0J,V6G,f2I.chart);this.penDown=![];return !"";};H6.Drawing.BaseTwoPoint.prototype.adjust=function(){R3X5F.n2i();var R_t;R_t=this.stx.panels[this.panelName];if(!R_t){return;}this.setPoint(0,this.d0,this.v0,R_t.chart);this.setPoint(1,this.d1,this.v1,R_t.chart);};H6.Drawing.BaseTwoPoint.prototype.move=function(s1p,e4d,P9S){if(!this.penDown){this.moving=!"1";return;}this.moving=!"";this.copyConfig();this.p1=[e4d,P9S];this.render(s1p);};H6.Drawing.BaseTwoPoint.prototype.measure=function(){var W85,n4q,M6_,v1a,H70;W85=this.stx;if(this.p0 && this.p1){n4q=".mSti";n4q+="ckyI";n4q+="n";n4q+="terior";W85.setMeasure(this.p0[1],this.p1["1" << 64],this.p0[+"0"],this.p1[0],!![],this.name);M6_=W85.controls.mSticky;v1a=M6_ && M6_.querySelector(n4q);if(v1a){H70=[];H70.push(W85.translateIf(H6.capitalize(this.name)));if(this.getYValue){H70.push(W85.translateIf(this.field || W85.defaultPlotField || "Close"));}H70.push(v1a.innerHTML);v1a.innerHTML=H70.join("<br>");}}};H6.Drawing.BaseTwoPoint.prototype.reposition=function(f4Y,x0$,d3V,R8F){var f$C,Q68,C8w,V8K,O$_;R3X5F.F64();f$C="d";f$C+="r";f$C+="ag";Q68="mov";Q68+="e";if(!x0$){return;}C8w=this.stx.panels[this.panelName];V8K=x0$.tick - d3V;O$_=x0$.value - R8F;if(x0$.action == Q68){this.setPoint(0,x0$.p0[0] - V8K,x0$.p0[+"1"] - O$_,C8w.chart);this.setPoint(1,x0$.p1[+"0"] - V8K,x0$.p1[1] - O$_,C8w.chart);this.render(f4Y);}else if(x0$.action == f$C){this[x0$.point]=[d3V,R8F];this.setPoint(0,this.p0[0],this.p0[1],C8w.chart);this.setPoint(1,this.p1[+"0"],this.p1["1" | 0],C8w.chart);this.render(f4Y);}};H6.Drawing.BaseTwoPoint.prototype.drawDropZone=function(x2N,d2k,r4j,U$r,i8P){var s1n=R3X5F;var P8l,M6i,N7w,V0q,p7n,p4j,W5Y;P8l=this.stx.panels[this.panelName];if(!P8l){return;}s1n.F64();M6i=this.stx;N7w=P8l.left;V0q=P8l.width;if(U$r || U$r === 0){N7w=M6i.pixelFromTick(U$r,P8l.chart);}if(i8P || i8P === 0){V0q=M6i.pixelFromTick(i8P,P8l.chart);}p7n=M6i.getYAxisByField(P8l,this.field);p4j=this.pixelFromValue(P8l,U$r,d2k,p7n);W5Y=this.pixelFromValue(P8l,i8P,r4j,p7n);x2N.fillStyle="#008000";x2N.globalAlpha=0.2;s1n.f$a(7);x2N.fillRect(N7w,p4j,s1n.C6$(N7w,V0q),s1n.C6$(p4j,W5Y));x2N.globalAlpha=1;};H6.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(w5D,T46){R3X5F.F64();var X2P;var {stx:o9e, panelName:x79, field:H7f}=this;X2P=o9e.panels[x79];return this.valueFromPixel(o9e.pixelFromValueAdjusted(o9e.currentPanel,w5D,T46),X2P,o9e.getYAxisByField(X2P,H7f));};H6.Drawing.annotation=function(){var X_J;X_J="annot";X_J+="a";X_J+="ti";X_J+="on";this.name=X_J;this.arr=[];this.w=0;this.h=0;this.padding=5;this.text="";this.ta=null;this.border=!!"1";this.fontSize=0;this.font={};this.defaultWidth=25;this.whitespace=30;this.fontModifier=3;};H6.inheritsFrom(H6.Drawing.annotation,H6.Drawing.BaseTwoPoint);H6.Drawing.annotation.prototype.getFontString=function(){var c3g,x6e,e4G;c3g="stx_annot";c3g+="ation";this.fontDef={style:null,weight:null,size:"12px",family:null};x6e=this.stx.canvasStyle(c3g);if(x6e){if(x6e.fontStyle){this.fontDef.style=x6e.fontStyle;}if(x6e.fontWeight){this.fontDef.weight=x6e.fontWeight;}if(x6e.fontSize){this.fontDef.size=x6e.fontSize;}if(x6e.fontFamily){this.fontDef.family=x6e.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";e4G=!0;for(var I8U in this.fontDef){if(this.fontDef[I8U]){if(!e4G){this.fontString+=" ";}else {e4G=!({});}this.fontString+=this.fontDef[I8U];}}};H6.Drawing.annotation.prototype.configs=[w6D,"font"];H6.Drawing.annotation.prototype.measure=function(){};H6.Drawing.annotation.prototype.render=function(y55){var u0V=R3X5F;var x3f,p5e,X9f,U0E,p3o,j_X,j_D,B0S,t54,C7Q,e2N,D4R,V_D,r94,U7i,M4M;x3f="mi";x3f+="dd";x3f+="le";if(this.ta){return;}p5e=this.stx;X9f=p5e.panels[this.panelName];U0E=p5e.getYAxisByField(X9f,this.field);if(!X9f || this.field && !U0E){return;}p3o=p5e.pixelFromTick(this.p0[0],X9f.chart);j_X=this.pixelFromValue(X9f,this.p0[0],this.p0[1],U0E);y55.font=this.fontString;y55.textBaseline=x3f;j_D=p3o;B0S=j_X;t54=this.w;C7Q=this.h;e2N=this.getLineColor();if(this.stem){if(this.stem.d){D4R=p5e.pixelFromTick(this.stem.t);r94=this.pixelFromValue(X9f,this.stem.t,this.stem.v,U0E);u0V.I0Z(54);V_D=u0V.C6$(2,j_D,t54);u0V.I0Z(54);U7i=u0V.z5U(2,B0S,C7Q);}else if(this.stem.x){D4R=j_D;r94=B0S;j_D+=this.stem.x;B0S+=this.stem.y;u0V.f$a(54);V_D=u0V.z5U(2,j_D,t54);u0V.I0Z(54);U7i=u0V.C6$(2,B0S,C7Q);}y55.beginPath();if(this.borderColor){y55.strokeStyle=this.borderColor;}else {y55.strokeStyle=e2N;}y55.moveTo(D4R,r94);y55.lineTo(V_D,U7i);y55.stroke();}M4M=y55.lineWidth;if(this.highlighted){p5e.canvasColor("stx_annotation_highlight_bg",y55);u0V.f$a(7);y55.fillRect(u0V.z5U(M4M,j_D),u0V.C6$(C7Q,2,B0S,M4M,u0V.I0Z(55)),u0V.z5U(M4M,"2",t54,u0V.I0Z(56)),u0V.z5U(M4M,C7Q,2,u0V.f$a(57)));}else {if(this.fillColor){y55.fillStyle=this.getLineColor(this.fillColor,!!({}));u0V.I0Z(58);y55.fillRect(j_D,u0V.z5U(2,B0S,C7Q),t54,C7Q);}else if(this.stem){y55.fillStyle=p5e.containerColor;u0V.f$a(58);y55.fillRect(j_D,u0V.z5U(2,B0S,C7Q),t54,C7Q);}}if(this.borderColor){y55.beginPath();y55.strokeStyle=this.highlighted?p5e.getCanvasColor("stx_highlight_vector"):this.borderColor;u0V.f$a(7);y55.rect(u0V.z5U(M4M,j_D),u0V.C6$(C7Q,2,B0S,M4M,u0V.I0Z(55)),u0V.C6$(M4M,t54,2,u0V.I0Z(57)),u0V.z5U(M4M,C7Q,2,u0V.I0Z(57)));y55.stroke();}if(this.highlighted){p5e.canvasColor("stx_annotation_highlight",y55);}else {y55.fillStyle=e2N;}u0V.I0Z(10);var b6I=u0V.C6$(9,7,0);B0S+=this.padding / b6I;if(!this.ta){for(var j8m=0;j8m < this.arr.length;j8m++){y55.fillText(this.arr[j8m],j_D + this.padding,B0S - C7Q / 2 + this.fontSize / 2);u0V.f$a(59);var j9p=u0V.z5U(50,16,17,15);B0S+=this.fontSize + j9p;}}y55.textBaseline="alphabetic";};H6.Drawing.annotation.prototype.onChange=function(b$L){};H6.Drawing.annotation.prototype.edit=function(p4u,z12){var F7M=R3X5F;var F95,c5G,i5u,a_W,W1P,Z3r,z_6,T1M,h48,y7a,S22,d7R,j$k,p_S,Z6a,c10,C5S;F95="p";F95+="x";c5G=this.stx.panels[this.panelName];if(!c5G){return;}i5u=this.stx.controls.annotationSave;a_W=this.stx.controls.annotationCancel;if(!i5u || !a_W){return;}W1P=this.stx;Z3r=this.ta;W1P.editingAnnotation=!!1;W1P.undisplayCrosshairs();if(!W1P.openDialog){W1P.openDialog=[];}function w4y(R$m){return function(b8B){var P7I,C5F,t0y,C7M,v3C,F$n,j_b,V94,o8z,h9J,G9b,b6n,g$j,u5m,g5_,F9k,W09;P7I="p";P7I+="x";if(b8B){C5F=b8B.keyCode;switch(C5F){case "27" * 1:R$m.stx.undo();return;}}t0y=R$m.stx;C7M=R$m.ta;v3C=C7M.value.split(2907 < (2426,8308)?8808 < (1167,5460)?(341.68,5130) != 3333?(!0,!!1):0xf61:"\n":7.78e+3);F7M.f$a(60);F$n=F7M.C6$(0,"0");t0y.chart.context.font=R$m.fontString;R$m.fontSize=H6.stripPX(R$m.fontDef.size);for(var B$P="0" | 0;B$P < v3C.length;B$P++){j_b=t0y.chart.context.measureText(v3C[B$P]).width;if(j_b > F$n){F$n=j_b;}}F7M.f$a(18);var Q_5=F7M.C6$(7,4,2);V94=(v3C.length + Q_5) * (R$m.fontSize + R$m.fontModifier);if(H6.touchDevice){V94+=5;}F7M.F64();F$n=Math.max(F$n,R$m.defaultWidth * 2);C7M.style.width=F$n + R$m.whitespace + "px";F7M.I0Z(0);C7M.style.height=F7M.C6$(V94,P7I);o8z=parseInt(H6.stripPX(C7M.style.top),10);h9J=Math.max(0,H6.stripPX(C7M.style.left));F$n=C7M.clientWidth;V94=C7M.clientHeight;C7M.focus();if(R$m.border === !"1"){C7M.style.border="none";}if(h9J + F$n + 100 < R$m.stx.chart.canvasWidth){G9b="inline-blo";G9b+="ck";b6n="p";b6n+="x";g$j="p";g$j+="x";F7M.I0Z(0);i5u.style.top=F7M.z5U(o8z,"px");F7M.I0Z(0);a_W.style.top=F7M.z5U(o8z,g$j);F7M.I0Z(42);i5u.style.left=F7M.C6$(10,h9J,"px",F$n);i5u.style.display="inline-block";F7M.f$a(61);var K9p=F7M.C6$(3,44,13);a_W.style.left=h9J + F$n + i5u.clientWidth + K9p + b6n;a_W.style.display=G9b;}else if(o8z + V94 + 30 < R$m.stx.chart.canvasHeight){u5m="inline-bl";u5m+="o";u5m+="ck";F7M.f$a(42);i5u.style.top=F7M.z5U(10,o8z,"px",V94);F7M.I0Z(62);a_W.style.top=F7M.C6$(0,o8z,"px",V94,"10");F7M.f$a(0);i5u.style.left=F7M.C6$(h9J,"px");i5u.style.display="inline-block";F7M.I0Z(43);var D7u=F7M.z5U(9,4,1);a_W.style.left=h9J + i5u.clientWidth - D7u + "px";a_W.style.display=u5m;}else {g5_="i";g5_+="nline-b";g5_+="loc";g5_+="k";F9k="p";F9k+="x";W09="inline-";W09+="block";F7M.f$a(11);i5u.style.top=F7M.z5U(35,"px",o8z);F7M.f$a(11);a_W.style.top=F7M.z5U(35,"px",o8z);F7M.I0Z(0);i5u.style.left=F7M.C6$(h9J,"px");i5u.style.display=W09;F7M.I0Z(26);var Z3c=F7M.z5U(16,11);a_W.style.left=h9J + i5u.clientWidth - Z3c + F9k;a_W.style.display=g5_;}};}if(!W1P.openDialog.includes("annotation")){W1P.openDialog.push("annotation");}if(!Z3r){Z3r=this.ta=document.createElement("TEXTAREA");Z3r.className="stx_annotation";Z3r.onkeyup=w4y(this);Z3r.onmouseup=d1K(W1P);Z3r.setAttribute("wrap","hard");if(H6.isIOS7or8){Z3r.setAttribute("placeholder","Enter Text");}W1P.chart.container.appendChild(Z3r);Z3r.style.position="absolute";Z3r.style.paddingLeft=this.padding + "px";Z3r.value=this.text;if(H6.touchDevice){Z3r.ontouchstart=function(V$U){V$U.stopPropagation();};}}z_6=this;function J2m(r8r){F7M.F64();return function(i4l){var W6o;if(!r8r.ta || !r8r.ta.value){return;}r8r.text=r8r.ta.value;W6o=r8r.stx;W6o.editingAnnotation=!({});r8r.adjust();if(W6o.drawingSnapshot){W6o.undoStamp(H6.shallowClone(W6o.drawingSnapshot),W6o.exportDrawings());}else {H6.ChartEngine.completeDrawing(W6o);W6o.addDrawing(r8r);}W6o.undo();W6o.changeOccurred("vector");};}Z3r.oninput=function(y5o){var Q1E;Q1E="histo";Q1E+="ry";F7M.n2i();Q1E+="Undo";y5o.target.value=W1P.emojify(y5o.target.value);if(y5o.inputType != Q1E && y5o.inputType != "historyRedo"){z_6.onChange(y5o);}};function d1K(e2J){F7M.n2i();return function(L9k){F7M.F64();if(e2J.manageTouchAndMouse && H6.ChartEngine.drawingLine){e2J.mouseup(L9k);}};}Z3r.style.font=this.fontString;if(this.color){if(this.color == "transparent" || this.color == "auto"){T1M=getComputedStyle(Z3r);if(T1M && H6.isTransparent(T1M.backgroundColor)){Z3r.style.color=this.getLineColor();}else {Z3r.style.color="#000";}}else {Z3r.style.color=this.color;}}h48=W1P.pixelFromTick(this.p0[+"0"],c5G.chart);y7a=this.pixelFromValue(c5G,this.p0[0],this.p0[1],W1P.getYAxisByField(c5G,this.field));Z3r.style.left=h48 + 140 < W1P.chart.canvasRight?h48 + "px":W1P.chart.canvasRight - 200 + "px";function E52(T3l){return function(C93){T3l.stx.undo();};}Z3r.style.top=y7a + 60 < W1P.chart.canvasHeight?y7a - (!isNaN(this.h)?this.h / 2:this.defaultHeight) + "px":y7a - ("60" | 28) + F95;if(this.repositionTextArea){this.repositionTextArea(Z3r);}if(z12){this.w=Z3r.clientWidth;this.h=Z3r.clientHeight;}S22=H6.stripPX(Z3r.style.left);function X7p(z0U){F7M.n2i();W1P.startClip(c5G.name);z_6.render(z0U);W1P.endClip();}F7M.f$a(7);var s5x=F7M.z5U(95,100);Z3r.style.maxWidth=Math.min(S22 + this.w,W1P.chart.right) - S22 - s5x + "px";if(Z3r !== i5u.ta){H6.safeClickTouch(i5u,J2m(this));i5u.ta=Z3r;}if(Z3r !== a_W.ta){H6.safeClickTouch(a_W,E52(this));a_W.ta=Z3r;}w4y(this)();p4u=W1P.chart.tempCanvas.context;H6.clearCanvas(p4u.canvas,W1P);p4u.canvas.style.display="block";if(z12){W1P.drawingSnapshot=W1P.exportDrawings();this.hidden=!![];W1P.draw();W1P.activeDrawing=this;H6.ChartEngine.drawingLine=!"";this.highlighted=!({});X7p(p4u);this.edit(p4u);}else {X7p(p4u);}if(H6.isAndroid && !H6.is_chrome && !H6.isFF){this.priorBottom=W1P.container.style.bottom;d7R=400;F7M.I0Z(11);var N9v=F7M.z5U(3,93,10);j$k=W1P.resolveY(y7a) + N9v;p_S=W1P.container.ownerDocument.defaultView;if(j$k > H6.pageHeight(p_S) - d7R){Z6a="p";Z6a+="x";c10=H6.pageHeight(p_S) - j$k;F7M.I0Z(7);C5S=F7M.C6$(c10,d7R);F7M.f$a(0);W1P.chart.container.style.bottom=F7M.C6$(C5S,Z6a);}}};H6.Drawing.annotation.prototype.click=function(W8A,Z5F,i2Z){R3X5F.F64();var v5G;if(this.stx.overXAxis || this.stx.overYAxis){return;}v5G=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,Z5F,i2Z,v5G.chart);this.adjust();this.edit(W8A);return ![];};H6.Drawing.annotation.prototype.reposition=function(q1E,o_S,I13,M7b){var k$D,O6_,T0b;if(!o_S){return;}k$D=this.stx.panels[this.panelName];O6_=o_S.tick - I13;T0b=o_S.value - M7b;this.setPoint(0,o_S.p0[0] - O6_,o_S.p0[1] - T0b,k$D.chart);this.render(q1E);};H6.Drawing.annotation.prototype.intersected=function(B$c,x6G,K_y){var W6v=R3X5F;var w1B,j0C,e6A,p2v,S8q,x4R,z9V,G36,H3I;w1B=this.stx;j0C=w1B.panels[this.panelName];if(!this.p0){return null;}e6A=w1B.pixelFromTick(this.p0[0],j0C.chart);p2v=w1B.getYAxisByField(j0C,this.field);W6v.f$a(63);var H2M=W6v.C6$(3,11,11,14,12);W6v.I0Z(10);var d6k=W6v.z5U(4,2,0);S8q=this.pixelFromValue(j0C,this.p0[0],this.p0[H2M],p2v) - this.h / d6k;x4R=e6A + this.w;z9V=S8q + this.h;if(this.stem && this.stem.x){e6A+=this.stem.x;x4R+=this.stem.x;S8q+=this.stem.y;z9V+=this.stem.y;}G36=w1B.pixelFromTick(B$c,j0C.chart);H3I=w1B.pixelFromValueAdjusted(j0C,B$c,x6G);if(G36 + K_y.r >= e6A && G36 - K_y.r <= x4R && H3I + K_y.r >= S8q && H3I - K_y.r <= z9V){this.highlighted=!!({});return {p0:H6.clone(this.p0),tick:B$c,value:this.valueOnDrawingAxis(B$c,x6G)};}return !1;};H6.Drawing.annotation.prototype.abort=function(){var w$G,A3O,b9K;w$G=this.stx;A3O=w$G.controls.annotationSave;b9K=w$G.controls.annotationCancel;if(A3O){A3O.style.display="none";}if(b9K){b9K.style.display="none";}if(this.ta){w$G.chart.container.removeChild(this.ta);}this.ta=null;if(w$G.openDialog){w$G.openDialog=w$G.openDialog.filter(t33=>{R3X5F.I0Z(64);return R3X5F.C6$("annotation",t33);});}if(!w$G.openDialog.length){w$G.openDialog="";}w$G.showCrosshairs();w$G.editingAnnotation=!"1";H6.clearCanvas(w$G.chart.tempCanvas,w$G);R3X5F.F64();if(H6.isAndroid && !H6.is_chrome && !H6.isFF){w$G.chart.container.style.bottom=this.priorBottom;}H6.fixScreen();};H6.Drawing.annotation.prototype.reconstruct=function(D3W,E6T){this.stx=D3W;this.color=E6T.col;this.panelName=E6T.pnl;this.d0=E6T.d0;this.tzo0=E6T.tzo0;this.v0=E6T.v0;this.field=E6T.fld;this.text=D3W.escapeOnSerialize?decodeURIComponent(E6T.text):E6T.text;this.stem=E6T.stem;this.borderColor=E6T.bc;this.fillColor=E6T.bg;this.lineWidth=E6T.lw;this.pattern=E6T.ptrn;this.font=H6.replaceFields(E6T.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});if(!this.font){this.font={};}this.hidden=E6T.hdn?!!({}):!"1";this.permanent=E6T.prm?!!({}):!({});this.adjust();};H6.Drawing.annotation.prototype.serialize=function(){var c6Q,r5E;c6Q={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text,hdn:this.hidden?1:"0" - 0,prm:this.permanent?+"1":0};if(this.font){r5E=H6.removeNullValues(H6.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}));if(!H6.isEmpty(r5E)){c6Q.fnt=r5E;}}if(this.stem){c6Q.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}if(this.borderColor){c6Q.bc=this.borderColor;}if(this.fillColor){c6Q.bg=this.fillColor;}if(this.lineWidth){c6Q.lw=this.lineWidth;}if(this.pattern){c6Q.ptrn=this.pattern;}return c6Q;};H6.Drawing.annotation.prototype.setTextareaProps=function(){var i8a=R3X5F;var o4Y,a2E,O7n,x7w,C5x,O_e,y2v,R8z,e5H;this.getFontString();o4Y=this.stx;a2E=o4Y.panels[this.panelName];if(!a2E){return;}O7n=this.ta?this.ta.value:this.text;this.arr=O7n.split(6550 <= (3622,99.19)?(9.84e+3,"t"):"\n");x7w=0;o4Y.chart.context.font=this.fontString;for(var X$U=0;X$U < this.arr.length;X$U++){C5x=o4Y.chart.context.measureText(this.arr[X$U]).width;if(C5x > x7w){x7w=C5x;}}if(x7w === 0){i8a.f$a(65);var g0F=i8a.C6$(9,16,19,18,606);x7w=g0F * this.defaultWidth;}if(o4Y.editingAnnotation){x7w=Math.max(x7w,2 * this.defaultWidth);}this.fontSize=H6.stripPX(this.fontDef.size);i8a.f$a(63);var g8N=i8a.z5U(4,8,8,3,0);O_e=(this.arr.length + g8N) * (this.fontSize + this.fontModifier);if(H6.touchDevice){O_e+=5;}this.w=x7w + this.whitespace + this.padding;this.h=O_e;y2v=o4Y.pixelFromTick(this.p0[0],a2E.chart) + x7w;R8z=o4Y.getYAxisByField(a2E,this.field);i8a.f$a(66);var M7f=i8a.C6$(0,10,23,13);e5H=this.pixelFromValue(a2E,this.p0[+"0"],this.p0[M7f],R8z) + O_e;if(this.stem && this.stem.d){this.stem.t=o4Y.tickFromDate(this.stem.d,a2E.chart);}};H6.Drawing.annotation.prototype.adjust=function(){var y8j,n5f,O8V;y8j=this.stx;n5f=y8j.panels[this.panelName];if(!n5f){return;}this.setPoint(0,this.d0,this.v0,n5f.chart);R3X5F.n2i();this.setTextareaProps();if(this === y8j.activeDrawing && y8j.editingAnnotation){O8V=y8j.chart.tempCanvas.context;H6.clearCanvas(O8V.canvas,y8j);this.edit(O8V);}};H6.Drawing.segment=function(){this.name="segment";};H6.inheritsFrom(H6.Drawing.segment,H6.Drawing.BaseTwoPoint);H6.Drawing.segment.prototype.getDateFromTick=function(E4I){var L1p,v1_,I8a;L1p=this.stx;v1_=L1p.panels[this.panelName];I8a=L1p.dateFromTick(E4I,v1_.chart,!!"1");I8a=this.convertDate(I8a);return I8a;};H6.Drawing.segment.prototype.convertDate=function(s2x){var A_h=R3X5F;var w2u,G_X,Z9v;w2u=this.stx;if(!H6.ChartEngine.isDailyInterval(w2u.layout.interval)){A_h.I0Z(65);var e0U=A_h.z5U(3,12,10,998,38920);G_X=s2x.getSeconds() * e0U + s2x.getMilliseconds();if(S6.Date && w2u.displayZone){Z9v=new S6.Date(s2x.getTime(),w2u.displayZone);s2x=new Date(Z9v.getFullYear(),Z9v.getMonth(),Z9v.getDate(),Z9v.getHours(),Z9v.getMinutes());s2x=new Date(s2x.getTime() + G_X);}}else {A_h.I0Z(37);s2x.setHours(0,+"0",0,A_h.z5U(32,"0"));}return s2x;};H6.Drawing.segment.prototype.formatDate=function(V8t){var C1j,i57,j4I;C1j=this.stx;i57=C1j.panels[this.panelName];j4I=H6.mmddhhmm(H6.yyyymmddhhmm(V8t));if(i57.chart.xAxis.formatter){j4I=i57.chart.xAxis.formatter(V8t,this.name,null,null,j4I);}else if(this.stx.internationalizer){j4I=H6.displayableDate(C1j,C1j.chart,V8t);}return j4I;};H6.Drawing.segment.prototype.render=function(e$Y){var R80,e6N,R7j,o8r,x3e,A7g,o6g,R52,h6D,x$a,A0p,c7c,P$h,P0T,F6A,w6V,E4K;R80="v";R80+="ertic";R80+="a";R80+="l";R3X5F.F64();e6N="ho";e6N+="rizo";e6N+="nta";e6N+="l";R7j="non";R7j+="e";if(!this.p1){return;}o8r=this.stx;x3e=o8r.panels[this.panelName];A7g=o8r.getYAxisByField(x3e,this.field);if(!x3e || this.field && !A7g && !this.spanPanels){return;}A7g=A7g || x3e.yAxis;o6g=o8r.pixelFromTick(this.p0[0],x3e.chart);R52=o8r.pixelFromTick(this.p1[+"0"],x3e.chart);h6D=this.pixelFromValue(x3e,this.p0[0],this.p0[1],A7g);x$a=this.pixelFromValue(x3e,this.p1[0],this.p1[1],A7g);A0p=this.lineWidth;c7c=this.getLineColor();P$h={pattern:this.pattern,lineWidth:A0p};if(P$h.pattern == R7j){P$h.pattern="solid";}o8r.plotLine(o6g,R52,h6D,x$a,c7c,this.name,e$Y,x3e,P$h);if(this.axisLabel && !this.repositioner){if(this.name == "horizontal"){o8r.endClip();P0T=this.p0[1];if(x3e.chart.transformFunc){P0T=x3e.chart.transformFunc(o8r,x3e.chart,P0T);}if(A7g.priceFormatter){P0T=A7g.priceFormatter(o8r,x3e,P0T);}else {P0T=o8r.formatYAxisPrice(P0T,x3e,null,A7g);}o8r.createYAxisLabel(x3e,P0T,h6D,c7c,null,null,A7g);o8r.startClip(x3e.name);}else if(this.name == "vertical" && this.p0[0] >= 0 && !o8r.chart.xAxis.noDraw && (!this.spanPanels || x3e.yAxis.bottom !== x3e.bottom)){if(this.d0){F6A=H6.strToDateTime(this.d0);F6A=this.convertDate(F6A);}else {F6A=this.getDateFromTick(this.p0[0]);}o8r.endClip();o8r.createXAxisLabel({panel:x3e,txt:this.formatDate(F6A),x:o6g,backgroundColor:c7c,color:null,pointed:!!"1",padding:+"2"});o8r.startClip(x3e.name);}}if(this.highlighted && this.name != e6N && this.name != R80){w6V=this.highlighted == "p0"?!!1:![];E4K=this.highlighted == "p1"?!!1:![];this.littleCircle(e$Y,o6g,h6D,w6V);this.littleCircle(e$Y,R52,x$a,E4K);}};H6.Drawing.segment.prototype.abort=function(){this.stx.setMeasure(null,null,null,null,!!0);};H6.Drawing.segment.prototype.intersected=function(M7P,n_2,P7$){var P6f,T6V,v8p,s0O,n7Y,x55;P6f="l";P6f+="i";P6f+="ne";T6V="v";T6V+="ertic";T6V+="al";if(!this.p0 || !this.p1){return null;}v8p=this.name;if(v8p != "horizontal" && v8p != T6V && v8p != "gartley"){s0O={0:this.p0,1:this.p1};for(var n9R in s0O){if(this.pointIntersection(s0O[n9R][0],s0O[n9R][+"1"],P7$)){n7Y="dra";n7Y+="g";R3X5F.f$a(0);this.highlighted=R3X5F.C6$("p",n9R);return {action:n7Y,point:(6530 >= 4209?"p":(3090,3820) <= +"5517"?4.97e+3:(632.91,5.54e+3)) + n9R};}}}if(v8p == "horizontal" || v8p == "vertical"){v8p=P6f;}x55=this.lineIntersection(M7P,n_2,P7$,v8p);if(x55){this.highlighted=!!({});return {action:"move",p0:H6.clone(this.p0),p1:H6.clone(this.p1),tick:M7P,value:this.valueOnDrawingAxis(M7P,n_2)};}return null;};H6.Drawing.segment.prototype.configs=[K_r,P0b,G6K];H6.Drawing.segment.prototype.copyConfig=function(D6J){H6.Drawing.copyConfig(this,D6J);R3X5F.F64();if(this.pattern == "none" && this.configs.indexOf("fillColor") == -1){this.pattern="solid";}};H6.Drawing.segment.prototype.reconstruct=function(F56,O5l){this.stx=F56;this.color=O5l.col;this.panelName=O5l.pnl;this.pattern=O5l.ptrn;this.lineWidth=O5l.lw;this.d0=O5l.d0;this.d1=O5l.d1;R3X5F.F64();this.tzo0=O5l.tzo0;this.tzo1=O5l.tzo1;this.v0=O5l.v0;this.v1=O5l.v1;this.field=O5l.fld;this.adjust();};H6.Drawing.segment.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};H6.Drawing.line=function(){R3X5F.F64();this.name="line";};H6.inheritsFrom(H6.Drawing.line,H6.Drawing.segment);H6.Drawing.line.prototype.dragToDraw=![];H6.Drawing.line.prototype.click=function(d$U,J6V,I70){var a$K;a$K=this.stx.panels[this.panelName];if(!a$K){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,J6V,I70,a$K.chart);this.penDown=!"";return !!0;}if(this.accidentalClick(J6V,I70)){return !0;}R3X5F.n2i();this.setPoint(1,J6V,I70,a$K.chart);this.penDown=![];return !![];};H6.Drawing.line.prototype.reconstruct=function(x5G,o31){this.stx=x5G;this.color=o31.col;this.panelName=o31.pnl;this.pattern=o31.ptrn;this.lineWidth=o31.lw;this.v0=o31.v0;this.v1=o31.v1;this.d0=o31.d0;this.d1=o31.d1;this.tzo0=o31.tzo0;this.tzo1=o31.tzo1;this.field=o31.fld;this.hidden=o31.hdn?!![]:!1;this.permanent=o31.prm?!![]:!!"";this.adjust();};H6.Drawing.line.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,hdn:this.hidden?1:0,prm:this.permanent?1:0};};H6.Drawing.line.prototype.adjust=function(){var p_t,D_Y,J4u,R5h;p_t=this.stx.panels[this.panelName];if(!p_t){return;}D_Y=-1103636325;J4u=-928193800;R5h=2;for(var k2j=1;R3X5F.W7K(k2j.toString(),k2j.toString().length,55528) !== D_Y;k2j++){this.setPoint(1,this.d0,this.v0,p_t.chart);this.setPoint(0,this.d1,this.v1,p_t.chart);R5h+=2;}if(R3X5F.W7K(R5h.toString(),R5h.toString().length,+"91835") !== J4u){this.setPoint(9,this.d0,this.v0,p_t.chart);this.setPoint(3,this.d1,this.v1,p_t.chart);}this.setPoint(0,this.d0,this.v0,p_t.chart);this.setPoint(1,this.d1,this.v1,p_t.chart);if(H6.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(0,this.d0B,this.v0B,p_t.chart);this.setPoint(1,this.d1B,this.v1B,p_t.chart);}};H6.Drawing.horizontal=function(){R3X5F.n2i();this.name="horizontal";};H6.inheritsFrom(H6.Drawing.horizontal,H6.Drawing.segment);H6.Drawing.horizontal.prototype.dragToDraw=!!0;H6.Drawing.horizontal.prototype.measure=function(){};H6.Drawing.horizontal.prototype.click=function(j3d,M4g,k9G){var j$p;j$p=this.stx.panels[this.panelName];if(!j$p){return;}this.copyConfig();this.setPoint(0,M4g,k9G,j$p.chart);return !![];};H6.Drawing.horizontal.prototype.intersected=function(t_p,R6u,G0W){var l4U,b4L,V4u;if(this.lineIntersection(t_p,R6u,G0W,"line")){l4U=this.stx;b4L=l4U.chart.dataSet.length;V4u=this.p0[1];this.highlighted=!"";return {action:"move",p0:[b4L - 2,V4u],p1:[b4L - 1,V4u],tick:t_p,value:this.valueOnDrawingAxis(t_p,R6u)};}return null;};H6.Drawing.horizontal.prototype.reconstruct=function(i2_,S88){this.stx=i2_;this.color=S88.col;this.panelName=S88.pnl;this.pattern=S88.ptrn;this.lineWidth=S88.lw;this.v0=S88.v0;this.d0=S88.d0;this.tzo0=S88.tzo0;this.axisLabel=S88.al;this.field=S88.fld;this.adjust();};H6.Drawing.horizontal.prototype.serialize=function(){var Y1f;Y1f={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field};R3X5F.F64();return Y1f;};H6.Drawing.horizontal.prototype.adjust=function(){var a_M;a_M=this.stx.panels[this.panelName];if(!a_M){return;}this.setPoint(0,this.d0,this.v0,a_M.chart);R3X5F.f$a(0);var r7C=R3X5F.C6$(8,92);this.p1=[this.p0[0] + r7C,this.p0[1]];};H6.Drawing.horizontal.prototype.configs=[s_p,V3m,"pattern",N5c];H6.Drawing.vertical=function(){this.name="vertical";R3X5F.F64();this.spanPanels=!!"";};H6.inheritsFrom(H6.Drawing.vertical,H6.Drawing.horizontal);H6.Drawing.vertical.prototype.measure=function(){};H6.Drawing.vertical.prototype.configs=[q$J,m4k,"pattern","axisLabel","spanPanels"];H6.Drawing.vertical.prototype.intersected=H6.Drawing.segment.prototype.intersected;H6.Drawing.vertical.prototype.adjust=function(){var u9r=R3X5F;var S$y;S$y=this.stx.panels[this.panelName];if(!S$y){return;}this.setPoint(+"0",this.d0,this.v0,S$y.chart);u9r.f$a(67);var o_n=u9r.C6$(16,0,18,1);u9r.f$a(19);var L5l=u9r.z5U(6,1,3);this.p1=[this.p0[0],this.p0[o_n] + L5l];};var {reconstruct:T6, serialize:F3, reposition:y8}=H6.Drawing.vertical.prototype;H6.Drawing.vertical.prototype.reconstruct=function(y86,r6E){R3X5F.n2i();T6.call(this,y86,r6E);this.spanPanels=r6E.sp;};H6.Drawing.vertical.prototype.serialize=function(){R3X5F.F64();var H5A;H5A=F3.call(this);H5A.sp=this.spanPanels;return H5A;};H6.Drawing.vertical.prototype.reposition=function(D8M,I22,j$I,l1f){R3X5F.F64();if(this.spanPanels){this.originPanelName=this.panelName;Object.values(this.stx.panels).forEach(x8J=>{this.panelName=x8J.name;y8.call(this,D8M,I22,j$I,l1f);});this.panelName=this.originPanelName;}else {y8.call(this,D8M,I22,j$I,l1f);}};H6.Drawing.measure=function(){R3X5F.F64();this.name="measure";};H6.inheritsFrom(H6.Drawing.measure,H6.Drawing.segment);H6.Drawing.measure.prototype.click=function(o0O,k_0,g6F){this.copyConfig();R3X5F.F64();if(!this.penDown){this.p0=[k_0,g6F];this.penDown=!![];return !({});}this.stx.undo();this.penDown=!({});return !!1;};H6.Drawing.rectangle=function(){this.name="rectangle";};H6.inheritsFrom(H6.Drawing.rectangle,H6.Drawing.BaseTwoPoint);H6.Drawing.rectangle.prototype.render=function(H3V){var r$i=R3X5F;var Q0x,a$n,W02,V3S,V0B,Q2R,H$G,e_W,u2R,K3w,E4S,z_a,f_5,n3$,v2V,w7R,C_1;Q0x="non";Q0x+="e";if(!this.p1){return;}a$n=this.stx;W02=a$n.panels[this.panelName];V3S=a$n.getYAxisByField(W02,this.field);if(!W02 || this.field && !V3S){return;}V0B=a$n.pixelFromTick(this.p0[0],W02.chart);Q2R=a$n.pixelFromTick(this.p1[0],W02.chart);H$G=this.pixelFromValue(W02,this.p0[+"0"],this.p0[1],V3S);e_W=this.pixelFromValue(W02,this.p1[0],this.p1[1],V3S);u2R=Math.round(Math.min(V0B,Q2R)) + 0.5;K3w=Math.min(H$G,e_W);E4S=Math.max(V0B,Q2R) - u2R;r$i.F64();z_a=Math.max(H$G,e_W) - K3w;f_5=this.getLineColor();n3$=this.fillColor;if(n3$ && !H6.isTransparent(n3$)){H3V.beginPath();H3V.rect(u2R,K3w,E4S,z_a);H3V.fillStyle=this.getLineColor(n3$,!![]);H3V.globalAlpha=0.2;H3V.fill();H3V.closePath();r$i.f$a(60);H3V.globalAlpha=r$i.z5U(0,"1");}v2V={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted && v2V.pattern == Q0x){v2V.pattern="solid";if(v2V.lineWidth == +"0.1"){v2V.lineWidth=1;}}a$n.plotLine(V0B,Q2R,H$G,H$G,f_5,"segment",H3V,W02,v2V);r$i.I0Z(51);a$n.plotLine(Q2R,Q2R,r$i.C6$("0.5",H$G),r$i.C6$(e_W,0.5,r$i.I0Z(0)),f_5,"segment",H3V,W02,v2V);a$n.plotLine(Q2R,V0B,e_W,e_W,f_5,"segment",H3V,W02,v2V);r$i.f$a(0);a$n.plotLine(V0B,V0B,r$i.C6$(e_W,0.5),r$i.z5U(0.5,H$G,r$i.I0Z(7)),f_5,"segment",H3V,W02,v2V);if(this.highlighted){w7R=this.highlighted == "p0"?!!1:!!0;C_1=this.highlighted == "p1"?!!1:!1;this.littleCircle(H3V,V0B,H$G,w7R);this.littleCircle(H3V,Q2R,e_W,C_1);}};H6.Drawing.rectangle.prototype.intersected=function(W9u,e7h,Z2o){var A$2,h9L;if(!this.p0 || !this.p1){return null;}A$2={0:this.p0,1:this.p1};for(var G4O in A$2){if(this.pointIntersection(A$2[G4O]["0" | 0],A$2[G4O][1],Z2o)){h9L="d";h9L+="rag";R3X5F.f$a(0);this.highlighted=R3X5F.C6$("p",G4O);return {action:h9L,point:"p" + G4O};}}if(this.boxIntersection(W9u,e7h,Z2o)){this.highlighted=!![];return {action:"move",p0:H6.clone(this.p0),p1:H6.clone(this.p1),tick:W9u,value:this.valueOnDrawingAxis(W9u,e7h)};}R3X5F.F64();return null;};H6.Drawing.rectangle.prototype.configs=["color","fillColor","lineWidth",z3H];H6.Drawing.rectangle.prototype.reconstruct=function(G1D,w_N){this.stx=G1D;this.color=w_N.col;this.fillColor=w_N.fc;this.panelName=w_N.pnl;this.pattern=w_N.ptrn;this.lineWidth=w_N.lw;this.d0=w_N.d0;this.d1=w_N.d1;R3X5F.n2i();this.tzo0=w_N.tzo0;this.tzo1=w_N.tzo1;this.v0=w_N.v0;this.v1=w_N.v1;this.field=w_N.fld;this.hidden=w_N.hdn?!!1:!!0;this.permanent=w_N.prm?!!({}):!({});this.adjust();};H6.Drawing.rectangle.prototype.serialize=function(){R3X5F.F64();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,hdn:this.hidden?1:+"0",prm:this.permanent?1:0};};H6.Drawing.shape=function(){this.name="shape";this.radians=0;this.a=0;this.rotating=!!"";this.textMeasure=![];this.configurator="shape";this.dimension=[0,0];this.points=[];};H6.inheritsFrom(H6.Drawing.shape,H6.Drawing.BaseTwoPoint);H6.Drawing.shape.prototype.setRotationOnInitialDraw=![];H6.Drawing.shape.prototype.measure=function(){};H6.Drawing.shape.prototype.render=function(i4T){var z5i=R3X5F;var i$i,r09,J8r,p0j,k_r,d1o,d4R,r4N,i_x,a52,y$y,K1b,N0Z,F3M,a3u,S7r,j3Q,p6y,e7$,I14,a61,F3d,e$T,e9R,s$2,i$g,J_4,e4Z;if(!this.points.length){return;}i$i=this.stx;r09=i$i.panels[this.panelName];J8r=i$i.getYAxisByField(r09,this.field);if(!r09 || this.field && !J8r){return;}p0j=i$i.pixelFromTick(this.p0[0],r09.chart);k_r=this.pixelFromValue(r09,this.p0[+"0"],this.p0[1],J8r);if(this.p1){d1o=i$i.pixelFromTick(this.p1[0],r09.chart);d4R=this.pixelFromValue(r09,this.p1[0],this.p1[1],J8r);i4T.globalAlpha=0.5;i4T.fillStyle=this.getLineColor();if(this.rotating){z5i.f$a(68);this.radians=Math.atan(z5i.C6$(p0j,d4R,k_r,d1o));if(d1o < p0j){this.radians+=Math.PI;}else if(d4R < k_r){this.radians+=+"2" * Math.PI;}z5i.f$a(43);var V1e=z5i.z5U(10,1690,170);z5i.f$a(7);var e0S=z5i.z5U(10,15);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(+"0"),V1e) * e0S;this.a%=360;z5i.f$a(69);var j1g=z5i.C6$(196,20,1932,12);this.radians=this.a * Math.PI / j1g;if(this.textMeasure){i4T.fillText(this.a + (("3180" | 64,3650) < (7319,305.76)?(+"574",7490) !== +"889.47"?!0:(0x166,"m"):"\u00b0"),d1o + 10,d4R + 10);}}else if(this.penDown){this.sx=Math.max(1,parseFloat(Math.abs(2 * (d1o - p0j) / this.dimension[0]).toFixed(1)));if(d1o < p0j){this.sx*=-1;}this.sy=Math.max(1,parseFloat(Math.abs(("2" << 32) * (d4R - k_r) / this.dimension["1" | 0]).toFixed(1)));if(d4R < k_r){this.sy*=-1;}if(this.textMeasure){i4T.fillText(this.sx + "x," + this.sy + "x",d1o + this.sx + +"5",d4R + this.sy + 5);}}i4T.globalAlpha=1;}if(typeof this.sx === "undefined"){this.sx=this.sy=1;}r4N=this.lineWidth;if(!r4N){r4N=1.1;}i_x={pattern:this.pattern,lineWidth:r4N};if(this.highlighted && i_x.pattern == "none"){i_x.pattern="solid";a52=929456810;y$y=-897397424;K1b=2;for(var p0l=+"1";z5i.o1c(p0l.toString(),p0l.toString().length,29155) !== a52;p0l++){if(i_x.lineWidth == 0.1){i_x.lineWidth=1;}K1b+=2;}if(z5i.o1c(K1b.toString(),K1b.toString().length,31448) !== y$y){if(i_x.lineWidth !== 966){z5i.f$a(60);i_x.lineWidth=z5i.C6$(0,"2");}}}N0Z=this.getLineColor();if(this.highlighted && r4N == +"0.1"){r4N=1.1;}F3M=this.fillColor;z5i.f$a(70);var f5_=z5i.C6$(14,172,4,17);r4N/=Math.abs(this.sx * this.sy) * f5_ / (Math.abs(this.sx) + Math.abs(this.sy));i4T.save();i4T.translate(p0j,k_r);i4T.rotate(this.radians);i4T.scale(this.sx,(J8r || r09.yAxis).flipped?-this.sy:this.sy);j3Q={x:(this.dimension[0] - ("1" - 0)) / 2,y:(this.dimension[1] - 1) / 2};for(a3u=0;a3u < this.points.length;a3u++){i4T.beginPath();for(S7r=0;S7r < this.points[a3u].length;S7r++){e9R=this.points;if(e9R[a3u][S7r] == ((446.69,3884) === 8279?0x17d3:(6770,696.99) === 578.49?(2818,499.2) !== 677.38?!!({}):(1.49e+3,0xcf9):"M")){p6y=e9R[a3u][++S7r] - j3Q.x;e7$=e9R[a3u][++S7r] - j3Q.y;i4T.moveTo(p6y,e7$);}else if(e9R[a3u][S7r] == "L"){p6y=e9R[a3u][++S7r] - j3Q.x;e7$=e9R[a3u][++S7r] - j3Q.y;i4T.lineTo(p6y,e7$);}else if(e9R[a3u][S7r] == (("823.97" - 0,9500) != "2970" * 1?203.75 === 217.84?"i":(623.59,929.84) < 254.1?"x":"Q":!!"")){I14=e9R[a3u][++S7r] - j3Q.x;F3d=e9R[a3u][++S7r] - j3Q.y;p6y=e9R[a3u][++S7r] - j3Q.x;e7$=e9R[a3u][++S7r] - j3Q.y;i4T.quadraticCurveTo(I14,F3d,p6y,e7$);}else if(e9R[a3u][S7r] == "B"){I14=e9R[a3u][++S7r] - j3Q.x;F3d=e9R[a3u][++S7r] - j3Q.y;a61=e9R[a3u][++S7r] - j3Q.x;e$T=e9R[a3u][++S7r] - j3Q.y;p6y=e9R[a3u][++S7r] - j3Q.x;e7$=e9R[a3u][++S7r] - j3Q.y;i4T.bezierCurveTo(I14,F3d,a61,e$T,p6y,e7$);}}i4T.closePath();if(F3M && !H6.isTransparent(F3M)){i4T.fillStyle=this.getLineColor(F3M,!0);i4T.fill();}if(N0Z && this.pattern != "none"){i4T.strokeStyle=N0Z;i4T.lineWidth=r4N;if(i4T.setLineDash){i4T.setLineDash(H6.borderPatternToArray(r4N,this.pattern));i4T.lineDashOffset=0;}i4T.stroke();}}i4T.restore();i4T.save();i4T.translate(p0j,k_r);i4T.rotate(this.radians);if(this.highlighted){s$2="p";s$2+="2";i$g=this.highlighted == "p0"?!![]:!!"";J_4=this.highlighted == "p1"?!![]:!"1";e4Z=this.highlighted == s$2?!0:![];z5i.f$a(60);this.littleCircle(i4T,0,z5i.z5U(0,"0"),i$g);this.mover(i4T,+"0",0,i$g);this.littleCircle(i4T,this.sx * this.dimension[0] / 2,this.sy * this.dimension["1" - 0] / +"2",J_4);this.resizer(i4T,this.sx * this.dimension[0] / +"2",this.sy * this.dimension[1] / 2,J_4);this.littleCircle(i4T,this.sx * this.dimension[0] / +"2",0,e4Z);this.rotator(i4T,this.sx * this.dimension[0] / 2,0,e4Z);i4T.globalAlpha=+"0.5";i4T.fillStyle=this.getLineColor(null,!!"");if(this.textMeasure){i4T.fillText(this.sx + "x," + this.sy + "x",this.sx * this.dimension[0] / 2 + 12,this.sy * this.dimension[1] / ("2" ^ 0) + 5);i4T.fillText(this.a + (1697 == 7640?(0x380,492.60):988.74 <= 1100?"\u00b0":144.92 == 155.74?(7.96e+3,1.90e+3):(3.35e+3,"b")),this.sx * this.dimension[0] / 2 + 12,5);}i4T.globalAlpha=1;}else if(this.penDown){if(this.rotating){this.rotator(i4T,this.sx * this.dimension[0] / ("2" * 1),+"0",!![]);}else {this.resizer(i4T,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / 2,!![]);}}i4T.restore();};H6.Drawing.shape.prototype.reposition=function(i2G,Q2B,j7b,i9t){var A$V=R3X5F;var t8j,g5M,h$c,F1i,A6h,h2i,u37,M6j,p62;if(!Q2B){return;}t8j=this.stx;g5M=t8j.panels[this.panelName];if(Q2B.action == "move"){h$c=Q2B.tick - j7b;F1i=Q2B.value - i9t;this.setPoint(0,Q2B.p0[0] - h$c,Q2B.p0[1] - F1i,g5M.chart);this.render(i2G);}else {A6h=t8j.getYAxisByField(g5M,this.field);h2i=t8j.pixelFromTick(this.p0[0],g5M.chart);u37=this.pixelFromValue(g5M,this.p0["0" | 0],this.p0[1],A6h);M6j=t8j.pixelFromTick(j7b,g5M.chart);p62=this.pixelFromValue(g5M,j7b,i9t,A6h);if(Q2B.action == "scale"){this[Q2B.point]=[j7b,i9t];this.sx=parseFloat((((M6j - h2i) * Math.cos(this.radians) + (p62 - u37) * Math.sin(this.radians)) / (this.dimension[0] / 2)).toFixed(1));if(Math.abs(this.sx) < 1){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((p62 - u37) * Math.cos(this.radians) - (M6j - h2i) * Math.sin(this.radians)) / (this.dimension[1] / 2)).toFixed(1));if(Math.abs(this.sy) < ("1" | 0)){this.sy/=Math.abs(this.sy);}this.render(i2G);}else if(Q2B.action == "rotate"){this[Q2B.point]=[j7b,i9t];A$V.f$a(68);this.radians=Math.atan(A$V.z5U(h2i,p62,u37,M6j));if(M6j < h2i){this.radians+=Math.PI;}else if(p62 < u37){A$V.f$a(35);var n6J=A$V.C6$(10,4,0,2,11);this.radians+=n6J * Math.PI;}A$V.I0Z(71);var W58=A$V.C6$(5,3,11,15,30);A$V.f$a(7);var O4S=A$V.C6$(544,576);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),W58) * ("5" << O4S);if(this.sx < 0){A$V.I0Z(7);var z55=A$V.z5U(3420,3600);this.a=this.a + z55;}this.a%=360;A$V.f$a(15);var b9C=A$V.C6$(169,9,2);this.radians=this.a * Math.PI / b9C;this.render(i2G);}}};H6.Drawing.shape.prototype.intersected=function(j5F,V2l,W5U){var G$F=R3X5F;var j6i,R5N,N48,W_v,a2o,l7s,Y10,q2P,n4B,u8L,i_i,a6J,l9E,I2w,j2r,V9w,H8a,P01,G65,K4j,z8Q,H8h,L8E,U32;j6i=this.stx;if(!this.p0){return null;}if(j6i.repositioningDrawing == this && j6i.repositioningDrawing.repositioner){return j6i.repositioningDrawing.repositioner;}R5N=j6i.panels[this.panelName];N48=j6i.getYAxisByField(R5N,this.field);W_v=j6i.pixelFromTick(this.p0[+"0"],R5N.chart);a2o=this.pixelFromValue(R5N,this.p0[0],this.p0[1],N48);l7s=-103093538;Y10=+"529815448";q2P=2;for(var q6R=+"1";G$F.W7K(q6R.toString(),q6R.toString().length,45544) !== l7s;q6R++){n4B=j6i.pixelFromTick(j5F,R5N.chart);u8L=j6i.pixelFromValueAdjusted(R5N,j5F,V2l);n4B-=W_v;u8L-=a2o;i_i=u8L;a6J=n4B;n4B=Math.cos(this.radians) * a6J + Math.sin(this.radians) * i_i;u8L=Math.cos(this.radians) * i_i - Math.sin(this.radians) * a6J;q2P+=2;}if(G$F.W7K(q2P.toString(),q2P.toString().length,+"67734") !== Y10){n4B=j6i.pixelFromTick(j5F,R5N.chart);u8L=j6i.pixelFromValueAdjusted(R5N,j5F,V2l);n4B/=W_v;u8L/=a2o;i_i=u8L;a6J=n4B;n4B=Math.cos(this.radians) / a6J * (Math.sin(this.radians) % i_i);u8L=Math.cos(this.radians) / i_i * (Math.sin(this.radians) / a6J);}n4B/=this.sx;u8L/=this.sy;this.padding=H6.ensureDefaults(this.padding || ({}),{left:0,right:"0" - 0,top:0,bottom:"0" ^ 0});l9E=this.padding.right + this.padding.left;I2w=this.padding.bottom + this.padding.top;j2r=Math.pow(H6.touchDevice?"25" ^ 0:+"5" + this.littleCircleRadius(),2);V9w=Math.abs(j2r / (this.sx * this.sy));H8a=3;G$F.f$a(72);var N$H=G$F.C6$(0,4,3,1);G$F.f$a(43);var J0Z=G$F.C6$(15,298,20);G$F.f$a(11);var h3h=G$F.z5U(5,7,0);G$F.I0Z(73);var Z79=G$F.z5U(24,4,13,18,23);G$F.I0Z(19);var c_i=G$F.C6$(13,11,1);G$F.f$a(74);var R8e=G$F.z5U(18,14,11,16,1);G$F.f$a(7);var j26=G$F.C6$(3,5);P01=Math.pow((this.dimension[0] - l9E + H8a) / +"2","2" ^ 0) + Math.pow((this.dimension[N$H] - I2w + H8a) / J0Z,h3h) > Math.pow(n4B - l9E / Z79,c_i) + Math.pow(u8L - I2w / R8e,j26);G$F.I0Z(75);var U$6=G$F.C6$(1,8,8,3);G$F.I0Z(19);var H4$=G$F.C6$(30,28,1);G65=(j2r - (Math.pow(n4B * this.sx,U$6) + Math.pow(u8L * this.sy,H4$))) / Math.abs(this.sx * this.sy);G$F.f$a(76);var z6s=G$F.C6$(253,30,15,8);G$F.f$a(27);var B6b=G$F.C6$(4,1,2,4);G$F.f$a(10);var J3V=G$F.z5U(2,40,40);G$F.I0Z(77);var C0A=G$F.z5U(17,321,1,0,19);K4j=V9w - Math.pow(n4B - this.dimension[0] / ("2" ^ 0),z6s) - Math.pow(u8L - this.dimension[B6b] / J3V,C0A);G$F.f$a(26);var o53=G$F.z5U(18,16);G$F.I0Z(78);var k1y=G$F.C6$(32,15,2,10,10);G$F.f$a(7);var O3m=G$F.z5U(8,10);z8Q=V9w - Math.pow(n4B - this.dimension[0] / o53,k1y) - Math.pow(u8L,O3m);if(P01){H8h="mov";H8h+="e";if(K4j >= z8Q && K4j >= G65 && K4j > -1){L8E="s";L8E+="c";L8E+="al";L8E+="e";U32="p";U32+="1";this.highlighted=U32;return {action:L8E};}if(z8Q >= K4j && z8Q >= G65 && z8Q > -1){this.highlighted="p2";return {action:"rotate"};}this.highlighted=G65 > -1?"p0":!![];return {action:H8h,p0:H6.clone(this.p0),tick:j5F,value:this.valueOnDrawingAxis(j5F,V2l)};}return null;};H6.Drawing.shape.prototype.configs=[f88,"fillColor","lineWidth","pattern"];H6.Drawing.shape.prototype.littleCircleRadius=function(){R3X5F.n2i();return 3;};H6.Drawing.shape.prototype.click=function(B_g,p6B,m67){var g6x;if(!this.points.length){return !({});}this.copyConfig();g6x=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,p6B,m67,g6x.chart);this.penDown=!"";return !({});}this.setPoint(1,p6B,m67,g6x.chart);if(this.rotating || !this.setRotationOnInitialDraw){this.penDown=!"1";this.rotating=![];return !!({});}this.rotating=!!1;return !1;};H6.Drawing.shape.prototype.adjust=function(){var B8M=R3X5F;var X7_,a_t,J8P;X7_=this.stx.panels[this.panelName];if(!X7_){return;}a_t=this.name + "_v" + (this.version || 0);if(H6.Drawing[a_t]){J8P=new H6.Drawing[a_t]();this.name=J8P.name;this.dimension=J8P.dimension;this.padding=J8P.padding;this.points=J8P.points;this.version=J8P.version;}this.setPoint(+"0",this.d0,this.v0,X7_.chart);B8M.f$a(79);var X1L=B8M.C6$(19,3,1,17,1);B8M.f$a(7);var G4$=B8M.z5U(8,44);this.radians=Math.round(this.a / X1L) * Math.PI / G4$;};H6.Drawing.shape.prototype.reconstruct=function(J4U,L8k){this.stx=J4U;this.color=L8k.col;this.fillColor=L8k.fc;this.panelName=L8k.pnl;this.pattern=L8k.ptrn;this.lineWidth=L8k.lw;this.d0=L8k.d0;this.v0=L8k.v0;this.tzo0=L8k.tzo0;this.a=L8k.a;this.sx=L8k.sx;R3X5F.F64();this.sy=L8k.sy;this.field=L8k.fld;this.version=L8k.ver;this.hdn=L8k.hdn?!"":![];this.prm=L8k.prm?!!1:!1;this.adjust();};H6.Drawing.shape.prototype.serialize=function(){R3X5F.F64();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version,hdn:this.hidden?1:"0" >> 32,prm:this.permanent?1:"0" - 0};};H6.Drawing.arrow=function(){this.name="arrow";this.version=1;this.dimension=[11,22];this.padding={left:0,right:0,top:11,bottom:0};R3X5F.F64();this.points=[[(7313,+"3110") != 8550?"M":(623.46,419.18),3,+"21",(70.5,614.63) < (1339,300.27)?(!({}),0x1bcb):"L",7,21,(1239,5100) > (+"846",9552)?(1420,430) > 5577?0x1ccf:8454 === (+"1835",+"3410")?("j","M"):(1.73e+3,0x166e):"L",7,16,(3890,5980) == 9248?("z",!![]):(4662,"9440" >> 0) > 748.51?"L":(7.52e+2,!!1),10,16,(9110,+"2030") == 900.26?(6.08e+3,"7.46e+3" | 0):(632,8040) >= (662,9979)?(0xb91,763):"L",5,11,"L",0,+"16",(+"5720",574.51) >= (3066,704.1)?"1071" << 32 !== "7080" - 0?(508.74,446.35):"650.16" - 0:"L",3,16,"L",3,+"21"]];};H6.inheritsFrom(H6.Drawing.arrow,H6.Drawing.shape);H6.Drawing.trendline=function(){this.name="trendline";this.showCallout=!!"";};H6.inheritsFrom(H6.Drawing.trendline,H6.Drawing.segment);H6.Drawing.trendline.prototype.copyConfig=function(i4b){var V1J,K4o;R3X5F.F64();V1J="f";V1J+="o";V1J+="nt";K4o="show";K4o+="Call";K4o+="o";K4o+="ut";if(H6.Drawing.callout && !H6.Drawing.trendline.prototype.configs.includes(K4o)){H6.Drawing.trendline.prototype.configs=H6.Drawing.trendline.prototype.configs.concat(["fillColor","showCallout",V1J]);}H6.Drawing.copyConfig(this,i4b);};H6.Drawing.trendline.prototype.measure=function(){R3X5F.F64();if(!this.showCallout || !H6.Drawing.callout){H6.Drawing.BaseTwoPoint.prototype.measure.call(this);}};H6.Drawing.trendline.prototype.reconstruct=function(z0e,Z8B){H6.Drawing.segment.prototype.reconstruct.call(this,z0e,Z8B);R3X5F.n2i();if(Z8B.callout && H6.Drawing.callout){this.callout=new H6.Drawing.callout();this.callout.reconstruct(z0e,Z8B.callout);this.showCallout=!![];}};H6.Drawing.trendline.prototype.serialize=function(){var v0r;v0r=H6.Drawing.segment.prototype.serialize.call(this);R3X5F.n2i();if(this.showCallout && H6.Drawing.callout){v0r.callout=this.callout.serialize();}return v0r;};H6.Drawing.trendline.prototype.render=function(a9z){var z61=R3X5F;var X5l,G6z,r3w,t0k,g05,l4E,E8u,e2Z,z$n,n4g,o$O,F6W,w9K,n90,C$2,M90,P3y,K6u,c48,F72,v_B,q$A,K22,s4j,g70,L_G;X5l=" ";X5l+="B";X5l+="ars";G6z=" ";G6z+="(";r3w=this.stx;t0k=r3w.panels[this.panelName];g05=r3w.getYAxisByField(t0k,this.field);if(!t0k || this.field && !g05){return;}H6.Drawing.segment.prototype.render.call(this,a9z);if(!this.showCallout || !H6.Drawing.callout){this.callout=null;return;}if(!this.callout){this.callout=new H6.Drawing.callout();l4E=H6.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(r3w,l4E);}this.callout.p0=H6.clone(this.p0);E8u=r3w.pixelFromTick(this.p0[0],t0k.chart);e2Z=r3w.pixelFromTick(this.p1[0],t0k.chart);z$n=this.pixelFromValue(t0k,this.p0[0],this.p0["1" << 64],g05);n4g=this.pixelFromValue(t0k,this.p1[0],this.p1[1],g05);if(!isFinite(z$n) || !isFinite(n4g)){return;}z61.f$a(80);o$O=z61.C6$("2",e2Z,E8u,0);z61.f$a(81);F6W=z61.z5U("2",z$n,n4g,1);this.fontSize=H6.stripPX(this.font && this.font.size || +"13");z61.I0Z(82);var Y$g=z61.z5U(11,0,265,3,8);z61.f$a(83);var j5b=z61.z5U(4513,7,913,17,6);z61.I0Z(43);var j0h=z61.C6$(12,9920,832);z61.f$a(32);var T83=z61.z5U(10,11,13,9);z61.f$a(84);var E_J=z61.z5U(3175,9525,9537,1);z61.f$a(76);var O3s=z61.C6$(48355,6044,16,9);z61.I0Z(7);var c1m=z61.C6$(17,3065);z61.f$a(77);var Q$m=z61.C6$(16,17206,5,5562,8);z61.f$a(69);var Y46=z61.C6$(350,3,3420,10);w9K=this.callout.w * ("1.2" * Y$g) + (this.callout.stemEntry[0] == ((j5b,943.72) !== ("4554" << j0h,+"933.59")?"c":("622.65" * T83,E_J) !== (O3s,c1m)?"0x12a5" - 0:Q$m)?0:Y46);n90=Math.sqrt(Math.pow(e2Z - E8u,"2" << 0) + Math.pow(n4g - z$n,2));z61.I0Z(43);var d9X=z61.z5U(17,135,8);z61.f$a(85);var a__=z61.z5U(10,6,14,3);z61.f$a(7);var E0L=z61.z5U(6,7);z61.I0Z(18);var V9z=z61.C6$(19,0,20);C$2=w9K / (n90 || w9K) * (this.p1[d9X] < this.p0[a__]?E0L:V9z);z61.f$a(86);M90=z61.z5U(o$O,F6W,C$2,n4g);z61.I0Z(70);P3y=z61.C6$(o$O,F6W,e2Z,C$2);this.callout.p0[0]=r3w.tickFromPixel(M90,t0k.chart);this.callout.p0[1]=this.valueFromPixel(P3y,t0k,g05);this.callout.v0=this.callout.p0[1];this.callout.p1=H6.clone(this.p0);this.callout.stx=r3w;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!!({});z61.I0Z(87);var Y5J=z61.C6$(44,3,9,15);K6u=this.p1[+"1"] - this.p0[Y5J];z61.f$a(26);var c6K=z61.z5U(8,7);z61.f$a(0);var I5x=z61.z5U(0,2);this.callout.text="" + Number(K6u).toFixed("2" >> 0) + (this.p0[c6K] === 0?"":G6z + Number(100 * K6u / this.p0[1]).toFixed(I5x) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + X5l;c48=Math.floor((this.p0[0] + this.p1["0" | 0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){v_B=r3w.pixelFromTick(c48,t0k.chart);z61.f$a(88);q$A=z61.C6$(z$n,n4g,v_B,E8u,E8u,z$n,e2Z);F72=this.valueFromPixel(q$A,t0k,g05) || F6W;}else {F72=this.valueFromPixel(F6W,t0k,g05);}this.callout.stem={t:c48,v:F72};z61.n2i();this.callout.setTextareaProps();this.callout.render(a9z);if(this.highlighted){K22="p";K22+="1";s4j="p";s4j+="0";g70=this.highlighted == s4j?!!({}):!({});L_G=this.highlighted == K22?!!1:!({});this.littleCircle(a9z,E8u,z$n,g70);this.littleCircle(a9z,e2Z,n4g,L_G);}};H6.Drawing.trendline.prototype.lineIntersection=function(F_c,D6A,w6x,p1a){R3X5F.F64();return H6.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,F_c,D6A,w6x,"segment");};H6.Drawing.trendline.prototype.intersected=function(a9o,q4b,I1c){var N3K,l7d;if(!this.p0 || !this.p1){return null;}N3K=this.callout?this.callout.intersected(a9o,q4b,I1c):null;l7d=H6.Drawing.segment.prototype.intersected.call(this,a9o,q4b,I1c);R3X5F.F64();if(this.callout){this.callout.highlighted=!!(N3K || l7d);}if(l7d){return l7d;}else if(N3K){return {action:"move",p0:H6.clone(this.p0),p1:H6.clone(this.p1),tick:a9o,value:this.valueOnDrawingAxis(a9o,q4b)};}return null;};H6.Drawing.getDrawingToolList=function(G6P){var P9L,p2m;P9L={};p2m={arrow_v0:!"",BaseTwoPoint:!0,fibonacci:!!({}),shape:!!({})};H6.extend(p2m,G6P);for(var u1$ in H6.Drawing){if(!p2m[u1$] && H6.Drawing[u1$].prototype.render){P9L[new H6.Drawing[u1$]().name]=u1$;}}return P9L;};};f3=j_w=>{var l0H=R3X5F;var S_I;S_I=typeof _CIQ !== "undefined"?_CIQ:j_w.CIQ;S_I.EaseMachine=function(N0q,t8M,y$e,j9u){var C6H;C6H="str";C6H+="in";C6H+="g";if(typeof N0q === C6H){this.fc=S_I.EaseMachine[N0q];}else {this.fc=N0q;}this.ms=t8M;if(y$e || y$e === 0){this.reset(y$e,j9u);}};S_I.EaseMachine.prototype.reset=function(u1m,K3u){l0H.F64();var q8K,B2x,U45;if(!u1m && u1m !== 0){u1m=this.currentValues;}this.hasCompleted=!({});this.running=!"1";this.okayToRun=!0;l0H.I0Z(89);this.useNameValuePairs=l0H.C6$("object",typeof K3u);this.startTime=Date.now();if(this.useNameValuePairs){this.startValues=u1m;q8K=-1095257861;B2x=2076698570;U45=2;for(var e1p="1" << 32;l0H.W7K(e1p.toString(),e1p.toString().length,15382) !== q8K;e1p++){this.endValues=K3u;U45+=2;}if(l0H.W7K(U45.toString(),U45.toString().length,+"73229") !== B2x){this.endValues=K3u;}}else {this.startValues={default:u1m};this.endValues={default:K3u};}this.changeValues={};this.currentValues={};for(var z0$ in this.startValues){this.changeValues[z0$]=this.endValues[z0$] - this.startValues[z0$];}};S_I.EaseMachine.prototype.next=function(){var R63,p06;R63="de";R63+="fault";l0H.n2i();p06=Date.now();if(p06 >= this.startTime + this.ms){p06=this.startTime + this.ms;this.hasCompleted=!0;this.running=!({});}this.currentValues={};for(var i__ in this.changeValues){this.currentValues[i__]=this.fc(p06 - this.startTime,this.startValues[i__],this.changeValues[i__],this.ms);}if(!this.useNameValuePairs){return this.currentValues[R63];}return this.currentValues;};l0H.F64();S_I.EaseMachine.prototype.hasCompleted=!0;S_I.EaseMachine.prototype.run=function(A9c,y1a,b08,y6D,U64){var M8D;function x3q(){l0H.n2i();var B$v;M8D.afid=null;if(!M8D.okayToRun){return;}B$v=M8D.next();A9c(B$v);if(M8D.hasCompleted){return;}M8D.afid=U64.requestAnimationFrame(x3q);}if(!U64){U64=window;}if(this.afid){U64.cancelAnimationFrame(this.afid);}if(y1a || y1a === 0){this.reset(y1a,b08);}else if(b08 || b08 === 0){this.reset(this.currentValues,b08);}M8D=this;this.running=!0;if(y6D){this.afid=U64.requestAnimationFrame(x3q);}else {x3q();}};S_I.EaseMachine.prototype.stop=function(D6_){if(!D6_){D6_=window;}if(this.afid){D6_.cancelAnimationFrame(this.afid);}this.afid=null;this.okayToRun=!"1";this.hasCompleted=!!({});this.running=!({});if(typeof this.useNameValuePairs == "undefined"){return {};}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};S_I.EaseMachine.easeInOutQuad=function(O8E,H2p,E5a,x87){l0H.f$a(24);O8E/=l0H.C6$("2",x87);if(O8E < 1){l0H.I0Z(90);return l0H.C6$(O8E,E5a,2,H2p,O8E);}O8E--;l0H.I0Z(91);return l0H.z5U(O8E,O8E,2,2,E5a,H2p,1);};S_I.EaseMachine.easeInOutCubic=function(Q$Q,c5S,n5n,Z7O){l0H.f$a(8);l0H.n2i();Q$Q/=l0H.z5U(Z7O,2);if(Q$Q < 1){l0H.I0Z(92);return l0H.z5U(Q$Q,Q$Q,Q$Q,n5n,2,c5S);}Q$Q-=2;l0H.f$a(93);return l0H.C6$(n5n,2,Q$Q,c5S,2,Q$Q,Q$Q);};S_I.EaseMachine.easeOutCubic=function(r3N,g0B,P7q,L_5){r3N/=L_5;l0H.n2i();r3N--;l0H.I0Z(94);return l0H.C6$(r3N,r3N,r3N,"1",g0B,P7q);};if(S_I.ChartEngine.prototype.animations.zoom.isStub){S_I.ChartEngine.prototype.animations.zoom=new S_I.EaseMachine("easeOutCubic",400);}};y$=I6G=>{var G7N,q19;G7N=typeof _CIQ !== "undefined"?_CIQ:I6G.CIQ;q19=function(){var c_W=R3X5F;var j8$,P5M,S9Z,x8e,H53,h9C,I_M,T6X,Z42,n7G,d_I,B6A,t15,f_x,P9b,C23,f8P,W$7,S7L,g1C,L5v;j8$="\\";function Z7L(s75){c_W.n2i();return Math.atanh?Math.atanh(s75):Math.log((1 + s75) / (+"1" - s75)) / ("2" << 64);}j8$+="r";function M3m(H8r,W_q){c_W.f$a(15);return c_W.C6$(W_q,"",H8r);}function P3i(b4s){var k1Q;b4s=Math.floor(b4s);k1Q=b4s;c_W.F64();while(b4s > 1){c_W.I0Z(95);k1Q=c_W.C6$(k1Q,--b4s);}return k1Q;}P5M="\\";function i9v(){var i76,w0j;if(Math.hypot){return Math.hypot.apply(this,arguments);}i76=0;w0j=arguments.length;c_W.n2i();for(var u2W=0;u2W < w0j;u2W++){if(arguments[u2W] === Infinity || arguments[u2W] === -Infinity){return Infinity;}i76+=arguments[u2W] * arguments[u2W];}return Math.sqrt(i76);}function M_M(Q0h){if(Math.tanh){return Math.tanh(Q0h);}if(Q0h === Infinity){return +"1";}c_W.n2i();if(Q0h === -Infinity){return -1;}return (Math.exp(Q0h) - Math.exp(-Q0h)) / (Math.exp(Q0h) + Math.exp(-Q0h));}function c6g(z83,T88){c_W.F64();return Boolean(z83 && T88);}P5M+="f";function a9Z(B$d,I6Z,O2f,U0p){this.tokens=B$d;this.ops1=I6Z;this.ops2=O2f;this.functions=U0p;}S9Z="\\";S9Z+="n";function Z02(f11,G7R,q2h,v1i){this.type_=f11;c_W.F64();this.index_=G7R || 0;this.prio_=q2h || 0;this.number_=v1i !== undefined && v1i !== null?v1i:0;this.toString=function(){c_W.F64();var h8B,Z$4,w_$,j_f,w3l;h8B=1346916135;Z$4=-970497546;c_W.f$a(37);w_$=c_W.z5U(32,"2");for(var k_y=1;c_W.o1c(k_y.toString(),k_y.toString().length,+"49697") !== h8B;k_y++){switch(this.type_){case H53:return this.number_;case h9C:case I_M:case T6X:return this.index_;case Z42:j_f="C";j_f+="A";j_f+="L";j_f+="L";return j_f;default:w3l="CAL";w3l+="L";return w3l;}w_$+=2;}if(c_W.o1c(w_$.toString(),w_$.toString().length,6711) !== Z$4){switch(this.type_){case H53:return this.number_;case h9C:case I_M:case T6X:return this.index_;case Z42:return "CALL";default:return "Invalid Token";}}};}function i9J(z5I){c_W.n2i();return -z5I;}x8e="\\";x8e+="t";function J9_(B4x){if(Math.trunc){return Math.trunc(B4x);}return B4x < 0?Math.ceil(B4x):Math.floor(B4x);}function C7A(l6g,q7N,y3g){return l6g?q7N:y3g;}H53=+"0";function a6e(Z$r){c_W.n2i();if(typeof Z$r === "string"){d_I.lastIndex=0;return d_I.test(Z$r)?(7933 <= 502.95?("Z",![]):"7028" >> 32 != (+"948.07",1954)?"'":(+"8100",3990) > (540.81,587.74)?(318.55,"p"):(!"1","G")) + Z$r.replace(d_I,function(B6i){var C4x,J6W;C4x="0";C4x+="0";C4x+="0";C4x+="0";c_W.F64();J6W=B6A[B6i];return typeof J6W === "string"?J6W:"\\u" + (C4x + B6i.charCodeAt(+"0").toString(16)).slice(-4);}) + "'":((3339,8505) <= (7506,1350)?997.13 == 3384?("u","T"):104.51 == (3380,4500)?(379.92,2.97e+3):!!({}):"'") + Z$r + "'";}return Z$r;}c_W.f$a(41);h9C=c_W.z5U(0,"1");function c6c(h8u,d7Q){if(Object.prototype.toString.call(h8u) != "[object Array]"){return [h8u,d7Q];}h8u=h8u.slice();h8u.push(d7Q);return h8u;}I_M=+"2";function O9Y(V$D,u0j){c_W.I0Z(96);c_W.F64();return c_W.C6$(u0j,V$D);}function E67(w3r,M8G){return Boolean(w3r || M8G);}function K6r(J6B,A6H){c_W.f$a(7);return c_W.C6$(A6H,J6B);}T6X=3;function k0E(Q1p){return Math.acosh?Math.acosh(Q1p):Math.log(Q1p + Math.sqrt(Q1p * Q1p - +"1"));}function D6y(P6G,i1x){c_W.n2i();c_W.I0Z(97);return c_W.z5U(P6G,i1x);}function O1_(E6E,z0X){c_W.I0Z(98);c_W.F64();return c_W.C6$(z0X,E6E);}Z42=4;function l3l(d80,u4V){c_W.I0Z(99);c_W.F64();return c_W.C6$(d80,u4V);}n7G=/[\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;d_I=/[\\'\x7f-\x9f\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;B6A={"\b":"\\b","\t":x8e,"\n":S9Z,"\f":P5M,"\r":j8$,"'":"\\'","\\":"\\\\"};c_W.n2i();G7N.extend(a9Z.prototype,{simplify:function(t0f){var c4r,Y7d,o9i,V3K,G3l,z0T,V7u,j6_,C7S;t0f=t0f || ({});c4r=[];Y7d=[];z0T=this.tokens.length;j6_=0;c_W.F64();for(j6_=0;j6_ < z0T;j6_++){V7u=this.tokens[j6_];C7S=V7u.type_;if(C7S === H53){c4r.push(V7u);}else if(C7S === T6X && (V7u.index_ in t0f)){V7u=new Z02(H53,0,0,t0f[V7u.index_]);c4r.push(V7u);}else if(C7S === I_M && c4r.length > 1){V3K=c4r.pop();o9i=c4r.pop();G3l=this.ops2[V7u.index_];V7u=new Z02(H53,0,+"0",G3l(o9i.number_,V3K.number_));c4r.push(V7u);}else if(C7S === h9C && c4r.length > 0){o9i=c4r.pop();G3l=this.ops1[V7u.index_];V7u=new Z02(H53,+"0",+"0",G3l(o9i.number_));c4r.push(V7u);}else {while(c4r.length > 0){Y7d.push(c4r.shift());}Y7d.push(V7u);}}while(c4r.length > 0){Y7d.push(c4r.shift());}return new a9Z(Y7d,b7O(this.ops1),b7O(this.ops2),b7O(this.functions));},substitute:function(f2x,p89){var i8v,J7k,s6W,Y0D,s10,w6K,X5Q,O3F;if(!(p89 instanceof a9Z)){p89=new K0v().parse(String(p89));}i8v=[];J7k=this.tokens.length;c_W.n2i();Y0D=+"0";for(Y0D=0;Y0D < J7k;Y0D++){s6W=this.tokens[Y0D];s10=s6W.type_;if(s10 === T6X && s6W.index_ === f2x){for(var g8a=0;g8a < p89.tokens.length;g8a++){w6K=p89.tokens[g8a];X5Q=new Z02(w6K.type_,w6K.index_,w6K.prio_,w6K.number_);i8v.push(X5Q);}}else {i8v.push(s6W);}}O3F=new a9Z(i8v,b7O(this.ops1),b7O(this.ops2),b7O(this.functions));return O3F;},evaluate:function(C$C){var r51,N2O,n6e,R82,H9G,h4O,g8G,A3U,F3l,r76;C$C=C$C || ({});r51=[];H9G=this.tokens.length;g8G=0;for(g8G=0;g8G < H9G;g8G++){h4O=this.tokens[g8G];A3U=h4O.type_;if(A3U === H53){r51.push(h4O.number_);}else if(A3U === I_M){n6e=r51.pop();N2O=r51.pop();R82=this.ops2[h4O.index_];r51.push(R82(N2O,n6e));}else if(A3U === T6X){if((h4O.index_ in C$C)){r51.push(C$C[h4O.index_]);}else if((h4O.index_ in this.functions)){r51.push(this.functions[h4O.index_]);}else {throw new Error("undefined variable: " + h4O.index_);}}else if(A3U === h9C){N2O=r51.pop();R82=this.ops1[h4O.index_];r51.push(R82(N2O));}else if(A3U === Z42){N2O=r51.pop();R82=r51.pop();if(R82.apply && R82.call){F3l="[object";F3l+=" Array]";if(Object.prototype.toString.call(N2O) == F3l){r51.push(R82.apply(undefined,N2O));}else {r51.push(R82.call(undefined,N2O));}}else {c_W.I0Z(0);throw new Error(c_W.C6$(R82," is not a function"));}}else {r76="invalid Exp";r76+="ression";throw new Error(r76);}}if(r51.length > 1){throw new Error("invalid Expression (parity)");}return r51[0];},toString:function(m2R){var W3q,V3a,u6i,g5W,Z1z,k_K,n8G,c5r,m6u;W3q=[];Z1z=this.tokens.length;n8G=+"0";for(n8G=+"0";n8G < Z1z;n8G++){k_K=this.tokens[n8G];c5r=k_K.type_;if(c5r === H53){W3q.push(a6e(k_K.number_));}else if(c5r === I_M){u6i=W3q.pop();V3a=W3q.pop();g5W=k_K.index_;if(m2R && g5W == (221.19 >= 5702?"Z":(221,884.74) >= (811.08,420.64)?"^":(0xefd,0xf0c))){m6u="Math.p";m6u+="o";m6u+="w(";c_W.f$a(100);W3q.push(c_W.z5U(V3a,m6u,(+"62.57",9600) >= 343.54?",":197.37,u6i,767.25 == (+"1412",1056)?+"3470" === "783.41" - 0?149.09:(2.24e+3,792.07):")"));}else {c_W.f$a(100);W3q.push(c_W.C6$(V3a,6405 !== (588.78,414.11)?"(":7544 < (808.77,4550)?2.11e+3:0x1a96,g5W,u6i,287.46 <= 9470?")":0xd62));}}else if(c5r === T6X){W3q.push(k_K.index_);}else if(c5r === h9C){V3a=W3q.pop();g5W=k_K.index_;if(g5W === ((122.16,"106.67" - 0) >= 6980?(+"0xb94",!({})):4130 >= 2051?"-":604.28 === "51.27" - 0?(!![],0x1140):2.69e+3)){c_W.f$a(42);W3q.push(c_W.C6$(V3a,"(",")",g5W));}else {c_W.I0Z(42);W3q.push(c_W.C6$(V3a,g5W,(810,6190) != 6950?")":"o","("));}}else if(c5r === Z42){V3a=W3q.pop();g5W=W3q.pop();c_W.f$a(42);W3q.push(c_W.z5U(V3a,g5W,(6446,132.98) <= 7501?")":425.36,(+"3950",314.2) < (2920,102.57)?(+"4.83e+3","0x667" - 0):7467 <= 988?"N":5715 === 736.42?("J",0xeb7):"("));}else {throw new Error("invalid Expression");}}if(W3q.length > 1){throw new Error("invalid Expression (parity)");}return W3q[0];},variables:function(){var N3A,z3b,W2c;N3A=this.tokens.length;z3b=[];c_W.F64();for(var b0N=0;b0N < N3A;b0N++){W2c=this.tokens[b0N];if(W2c.type_ === T6X && z3b.indexOf(W2c.index_) == -1){z3b.push(W2c.index_);}}return z3b;}},!!({}));K0v.parse=function(V9L){c_W.F64();return new K0v().parse(V9L);};function D7M(Q7D){return Math.sinh?Math.sinh(Q7D):(Math.exp(Q7D) - Math.exp(-Q7D)) / 2;}K0v.evaluate=function(U9U,i8s){c_W.n2i();return K0v.parse(U9U).evaluate(i8s);};K0v.Expression=a9Z;K0v.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:D7M,cosh:W_6,tanh:M_M,asinh:p3W,acosh:k0E,atanh:Z7L,sqrt:Math.sqrt,log:Math.log,lg:X1M,log10:X1M,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:J9_,fac:P3i,exp:Math.exp,min:Math.min,max:Math.max,hypot:i9v,pyt:i9v,pow:Math.pow,atan2:Math.atan2,if:C7A,E:Math.E,PI:Math.PI};function K0v(){this.success=!!0;this.errormsg="";this.expression="";this.pos=0;this.tokennumber=+"0";this.tokenprio=0;this.tokenindex=0;this.tmpprio=0;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:D7M,cosh:W_6,tanh:M_M,asinh:p3W,acosh:k0E,atanh:Z7L,sqrt:Math.sqrt,log:Math.log,lg:X1M,log10:X1M,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:J9_,"-":i9J,exp:Math.exp};this.ops2={"+":r$L,"-":K6r,"*":G_W,"/":B4O,"%":P56,"^":Math.pow,",":c6c,"||":M3m,"==":k1T,"!=":O9Y,">":D6y,"<":l3l,">=":x1E,"<=":O1_,and:c6g,or:E67};this.functions={fac:P3i,min:Math.min,max:Math.max,hypot:i9v,pyt:i9v,pow:Math.pow,atan2:Math.atan2,if:C7A};this.consts={E:Math.E,PI:Math.PI};}function W_6(L5E){return Math.cosh?Math.cosh(L5E):(Math.exp(L5E) + Math.exp(-L5E)) / 2;}c_W.I0Z(37);t15=c_W.z5U(0,1);c_W.I0Z(37);f_x=c_W.z5U(1,1);c_W.I0Z(101);P9b=c_W.C6$("2",64,1);function r$L(p8M,W57){c_W.n2i();return Number(p8M) + Number(W57);}c_W.I0Z(102);C23=c_W.C6$("3",64,"1",1);function P56(c$2,Z0s){c_W.I0Z(103);c_W.n2i();return c_W.C6$(Z0s,c$2);}c_W.f$a(37);f8P=c_W.C6$(4,1);function G_W(A_d,t9U){c_W.f$a(1);return c_W.z5U(t9U,A_d);}function b7O(s1t){c_W.F64();D_c.prototype=s1t;function D_c(){}return new D_c();}function X1M(C1L){c_W.F64();return Math.log(C1L) * Math.LOG10E;}c_W.f$a(104);W$7=c_W.z5U("1",96,5);function k1T(E5f,I4U){c_W.f$a(89);return c_W.C6$(I4U,E5f);}c_W.f$a(37);S7L=c_W.z5U(6,1);c_W.f$a(37);g1C=c_W.C6$(7,1);c_W.I0Z(37);L5v=c_W.C6$(8,1);function p3W(d81){if(Math.asinh){return Math.asinh(d81);}if(d81 === -Infinity){return d81;}return Math.log(d81 + Math.sqrt(d81 * d81 + 1));}function B4O(J91,O$O){c_W.f$a(8);c_W.F64();return c_W.z5U(J91,O$O);}function x1E(f2M,X3W){c_W.I0Z(105);return c_W.z5U(f2M,X3W);}G7N.extend(K0v.prototype,{parse:function(V1i){var K$B,i6U,z18,Y7h,F36,X_3,u7P,j49,o4J,m0e;this.errormsg="";this.success=!"";K$B=[];i6U=[];this.tmpprio=0;c_W.I0Z(106);z18=c_W.z5U(t15,C23,S7L,P9b);Y7h=0;this.expression=V1i;this.pos=0;while(this.pos < this.expression.length){if(this.isOperator()){if(this.isSign() && z18 & S7L){if(this.isNegativeSign()){this.tokenprio=2;this.tokenindex=318.69 == 86.86?(0x150f,0x1df4):(6560,7455) > 2390?"-":(950.07,+"102.01");Y7h++;this.addfunc(i6U,K$B,h9C);}c_W.I0Z(106);z18=c_W.z5U(t15,C23,S7L,P9b);}else if(this.isComment()){}else {if((z18 & f_x) === 0){this.error_parsing(this.pos,"unexpected operator");}Y7h+=+"2";this.addfunc(i6U,K$B,I_M);c_W.f$a(106);z18=c_W.C6$(t15,C23,S7L,P9b);}}else if(this.isNumber()){if((z18 & t15) === ("0" | 0)){this.error_parsing(this.pos,"unexpected number");}F36=new Z02(H53,0,0,this.tokennumber);i6U.push(F36);c_W.f$a(107);z18=c_W.C6$(f8P,W$7,f_x);}else if(this.isString()){if((z18 & t15) === 0){this.error_parsing(this.pos,"unexpected string");}F36=new Z02(H53,0,0,this.tokennumber);i6U.push(F36);c_W.I0Z(107);z18=c_W.z5U(f8P,W$7,f_x);}else if(this.isLeftParenth()){if((z18 & C23) === 0){this.error_parsing(this.pos,'unexpected "("');}if(z18 & g1C){c_W.I0Z(6);Y7h+=c_W.z5U(32,"2");this.tokenprio=-2;this.tokenindex=-1;this.addfunc(i6U,K$B,Z42);}c_W.f$a(108);z18=c_W.C6$(S7L,t15,L5v,P9b,C23);}else if(this.isRightParenth()){if(z18 & L5v){F36=new Z02(H53,0,0,[]);i6U.push(F36);}else if((z18 & f8P) === 0){this.error_parsing(this.pos,'unexpected ")"');}c_W.f$a(108);z18=c_W.C6$(C23,f_x,g1C,W$7,f8P);}else if(this.isComma()){if((z18 & W$7) === 0){this.error_parsing(this.pos,'unexpected ","');}this.addfunc(i6U,K$B,I_M);Y7h+=2;c_W.I0Z(106);z18=c_W.z5U(t15,C23,S7L,P9b);}else if(this.isConst()){if((z18 & t15) === 0){this.error_parsing(this.pos,"unexpected constant");}X_3=new Z02(H53,0,0,this.tokennumber);i6U.push(X_3);c_W.I0Z(107);z18=c_W.C6$(f8P,W$7,f_x);}else if(this.isOp2()){if((z18 & P9b) === 0){this.error_parsing(this.pos,"unexpected function");}this.addfunc(i6U,K$B,I_M);Y7h+=2;z18=C23;}else if(this.isOp1()){if((z18 & P9b) === ("0" ^ 0)){u7P="unex";u7P+="pecte";u7P+="d fu";u7P+="nction";this.error_parsing(this.pos,u7P);}this.addfunc(i6U,K$B,h9C);Y7h++;z18=C23;}else if(this.isVar()){if((z18 & t15) === 0){this.error_parsing(this.pos,"unexpected variable");}c_W.f$a(37);j49=new Z02(T6X,this.tokenindex,c_W.C6$(0,"0"),0);i6U.push(j49);c_W.I0Z(108);z18=c_W.C6$(C23,f_x,g1C,W$7,f8P);}else if(this.isWhite()){}else {if(this.errormsg === ""){o4J="unkn";o4J+="own char";o4J+="acter";this.error_parsing(this.pos,o4J);}else {this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio < 0 || this.tmpprio >= 10){this.error_parsing(this.pos,'unmatched "()"');}while(K$B.length > 0){m0e=K$B.pop();i6U.push(m0e);}if(Y7h + 1 !== i6U.length){this.error_parsing(this.pos,"parity");}return new a9Z(i6U,b7O(this.ops1),b7O(this.ops2),b7O(this.functions));},evaluate:function(w1T,N7G){c_W.n2i();return this.parse(w1T).evaluate(N7G);},error_parsing:function(L$1,d2Y){this.success=!({});c_W.I0Z(42);this.errormsg=c_W.z5U("]: ","parse error [column ",d2Y,L$1);this.column=L$1;c_W.F64();throw new Error(this.errormsg);},addfunc:function(k5O,z3V,K3U){var j6r;j6r=new Z02(K3U,this.tokenindex,this.tokenprio + this.tmpprio,0);while(z3V.length > 0){if(j6r.prio_ <= z3V[z3V.length - 1].prio_){k5O.push(z3V.pop());}else {break;}}z3V.push(j6r);},isNumber:function(){var y2j,D11,f8N;c_W.F64();y2j=!!0;D11="";while(this.pos < this.expression.length){f8N=this.expression.charCodeAt(this.pos);if(f8N >= +"48" && f8N <= 57 || f8N === 46){D11+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(D11);y2j=!![];}else {break;}}return y2j;},unescape:function(W6d,F$T){var Q0N,A6f,r8w,P7a;Q0N=[];A6f=!({});for(var R6d=0;R6d < W6d.length;R6d++){r8w=W6d.charAt(R6d);if(A6f){switch(r8w){case (837.37,3209) == 294.74?(!({}),"L"):"'":Q0N.push((807.82,5016) != 2610?"'":(+"1.04e+3",![]));break;case (980.38,4250) != (2140,"206.26" - 0)?"\\":"0x2380" - 0:Q0N.push("\\");break;case 9685 > +"8900"?"/":(!"1",0x1576):Q0N.push((1983,3790) !== (593.14,"7720" ^ 0)?"/":"U");break;case "b":Q0N.push(189.67 == +"9050"?9700 < 1421?(0x1d28,!"1"):(+"820.9","6294" * 1) === 4040?("e","n"):("V",99.62):"\b");break;case 9044 > 177.74?"470" >> 0 < (7380,9200)?"6952" >> 0 != (4960,8053)?"f":534:"I":("k","G"):Q0N.push(5579 >= (5597,872.47)?"\f":!"");break;case "n":Q0N.push("\n");break;case ("8870" | 4,977) === 4315?(159.43,765.82):"r":Q0N.push(3297 >= (6600,980.01)?(+"481.09",8734) == (260.2,57.59)?2290 < 705?"k":!!({}):"\r":(0x23e6,"a"));break;case "t":Q0N.push((2366,9510) < (3911,854)?("v","t"):399 < (1422,2907)?"\t":("L",551));break;case 6449 > (693.62,+"192.54")?"u":("k",7.56e+3):P7a=parseInt(W6d.substring(R6d + 1,R6d + +"5"),16);Q0N.push(String.fromCharCode(P7a));R6d+=4;break;default:c_W.f$a(0);throw this.error_parsing(c_W.C6$(F$T,R6d),c_W.C6$((164.01,7120) > (2221,"9715" - 0)?!!({}):(2390,4196) != 2439?"'":"s","Illegal escape sequence: '\\",r8w,c_W.I0Z(15)));}A6f=![];}else {if(r8w == ((+"9296",3840) == (683.72,6520)?(1805,+"887.16") > 413.12?(26.52,3570) < 6620?"C":+"253.86":0x23a2:"\\")){A6f=!"";}else {Q0N.push(r8w);}}}return Q0N.join("");},isString:function(){c_W.n2i();var v4U,W50,t2E,m7S;v4U=!({});W50="";t2E=this.pos;if(this.pos < this.expression.length && this.expression.charAt(this.pos) == "'"){this.pos++;while(this.pos < this.expression.length){m7S=this.expression.charAt(this.pos);if(m7S != "'" || W50.slice(-1) == ((1160,"6400" | 0) < (8344,"8470" << 32)?"\\":(2.96e+3,"b"))){W50+=this.expression.charAt(this.pos);this.pos++;}else {this.pos++;this.tokennumber=this.unescape(W50,t2E);v4U=!"";break;}}}return v4U;},isConst:function(){var Q1u,R8v;for(var e3T in this.consts){if(!![]){R8v=e3T.length;Q1u=this.expression.substr(this.pos,R8v);if(e3T === Q1u){this.tokennumber=this.consts[e3T];this.pos+=R8v;return !"";}}}return !!0;},isOperator:function(){var r50,H3S,Y$j;r50=this.expression.charCodeAt(this.pos);if(r50 === 43){this.tokenprio=2;this.tokenindex="+";}else if(r50 === "45" - 0){this.tokenprio=2;this.tokenindex=+"4840" != 874.44?"-":![];}else if(r50 === 62){if(this.expression.charCodeAt(this.pos + +"1") === 61){this.pos++;this.tokenprio=1;this.tokenindex=">=";}else {this.tokenprio=1;this.tokenindex=9024 >= 9751?(3854,9336) > (1570,"5930" >> 32)?(0x2556,+"0x21ae"):7.34e+3:">";}}else if(r50 === "60" << 64){if(this.expression.charCodeAt(this.pos + 1) === 61){H3S="<";H3S+="=";this.pos++;this.tokenprio=1;this.tokenindex=H3S;}else {this.tokenprio=1;this.tokenindex=(60.6,436) === (+"807.91",4877)?(336,"3668" << 32) == 9153?("T",575.15):+"5230" === ("415.63" - 0,+"2790")?(+"0x30d",!!0):("g",0x13a0):"<";}}else if(r50 === "124" << 32){if(this.expression.charCodeAt(this.pos + 1) === "124" >> 32){this.pos++;this.tokenprio=1;this.tokenindex="||";}else {return !1;}}else if(r50 === "61" >> 32){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=+"1";this.tokenindex="==";}else {return ![];}}else if(r50 === 33){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=1;this.tokenindex="!=";}else {return !({});}}else if(r50 === 97){if(this.expression.charCodeAt(this.pos + 1) === "110" << 64 && this.expression.charCodeAt(this.pos + 2) === 100){Y$j="a";Y$j+="n";Y$j+="d";this.pos++;this.pos++;this.tokenprio=0;this.tokenindex=Y$j;}else {return !!0;}}else if(r50 === 111){if(this.expression.charCodeAt(this.pos + 1) === 114){this.pos++;this.tokenprio=0;this.tokenindex="or";}else {return !1;}}else if(r50 === "42" - 0 || r50 === +"8729" || r50 === 8226){c_W.I0Z(37);this.tokenprio=c_W.z5U(0,"3");this.tokenindex=277.83 === (+"122",1759)?(+"4599","145.21" * 1) != 8833?(+"8834",4880) <= (793.39,9716)?(477.29,0x788):"n":("O",+"72.39"):"*";}else if(r50 === 47){this.tokenprio=4;this.tokenindex="/";}else if(r50 === 37){this.tokenprio=4;this.tokenindex=233.68 === 4180?2.71e+3:"%";}else if(r50 === 94){c_W.f$a(60);this.tokenprio=c_W.z5U(0,"5");this.tokenindex=(7258,9890) === (151.29,755.41)?(2050,+"6500") >= 6202?(1400,3853) === 9630?!"":("e",9.14e+3):821.02:"^";}else {return !({});}this.pos++;c_W.n2i();return !!"1";},isSign:function(){var F_k;F_k=this.expression.charCodeAt(this.pos - 1);c_W.n2i();if(F_k === +"45" || F_k === 43){return !!({});}return !({});},isPositiveSign:function(){var m8M,j1r,m4a,O9R;m8M=this.expression.charCodeAt(this.pos - 1);if(m8M === +"43"){c_W.I0Z(1);j1r=-c_W.C6$(1,"1327689305");m4a=+"1288450608";O9R=2;for(var N56=1;c_W.W7K(N56.toString(),N56.toString().length,"98876" | 20) !== j1r;N56++){return !1;}if(c_W.W7K(O9R.toString(),O9R.toString().length,19566) !== m4a){return !!({});}}return !({});},isNegativeSign:function(){var m1q;m1q=this.expression.charCodeAt(this.pos - 1);if(m1q === 45){return !![];}c_W.n2i();return ![];},isLeftParenth:function(){var o37;o37=this.expression.charCodeAt(this.pos);if(o37 === +"40"){this.pos++;this.tmpprio+=10;return !0;}return !1;},isRightParenth:function(){var w1R;w1R=this.expression.charCodeAt(this.pos);if(w1R === 41){this.pos++;this.tmpprio-=10;return !![];}return !({});},isComma:function(){var I2M;I2M=this.expression.charCodeAt(this.pos);if(I2M === "44" - 0){this.pos++;this.tokenprio=-+"1";this.tokenindex=",";return !0;}return ![];},isWhite:function(){var F1r;F1r=this.expression.charCodeAt(this.pos);if(F1r === 32 || F1r === +"9" || F1r === "10" << 0 || F1r === 13){this.pos++;return !!"1";}c_W.F64();return !"1";},isOp1:function(){var s2Z,z8F;s2Z="";for(var J_O=this.pos;J_O < this.expression.length;J_O++){z8F=this.expression.charAt(J_O);if(z8F.toUpperCase() === z8F.toLowerCase()){if(J_O === this.pos || z8F != (9880 >= 476?(302,4096) > +"2540"?"_":("t",226.42):(+"510.54",744.57)) && (z8F < "0" || z8F > ("328.92" - 0 !== (75,131.73)?"9":1690 !== (1010,+"207.08")?9750 === 3580?("b","I"):+"710.31":!({})))){break;}}s2Z+=z8F;}if(s2Z.length > "0" << 32 && (s2Z in this.ops1)){this.tokenindex=s2Z;this.tokenprio=5;this.pos+=s2Z.length;return !0;}return !({});},isOp2:function(){var J8O,K4$;J8O="";for(var J4L=this.pos;J4L < this.expression.length;J4L++){K4$=this.expression.charAt(J4L);if(K4$.toUpperCase() === K4$.toLowerCase()){if(J4L === this.pos || K4$ != "_" && (K4$ < "0" || K4$ > "9")){break;}}J8O+=K4$;}if(J8O.length > 0 && (J8O in this.ops2)){this.tokenindex=J8O;this.tokenprio=5;this.pos+=J8O.length;return !![];}c_W.F64();return !!"";},isVar:function(){var O4v,B5y;O4v="";for(var l6C=this.pos;l6C < this.expression.length;l6C++){B5y=this.expression.charAt(l6C);if(B5y.toUpperCase() === B5y.toLowerCase()){if(l6C === this.pos || B5y != "_" && (B5y < "0" || B5y > (1653 != 5210?"9":(65.02,255.52) == 2020?(110.30,0x5fc):4244 != 9348?+"5.64e+3":"a"))){break;}}O4v+=B5y;}if(O4v.length > 0){this.tokenindex=O4v;this.tokenprio=+"4";this.pos+=O4v.length;return !!1;}c_W.F64();return !"1";},isComment:function(){var G9a,T3T;c_W.n2i();G9a=this.expression.charCodeAt(this.pos - 1);if(G9a === 47 && this.expression.charCodeAt(this.pos) === 42){T3T="*";T3T+="/";this.pos=this.expression.indexOf(T3T,this.pos) + ("2" ^ 0);if(this.pos === 1){this.pos=this.expression.length;}return !![];}return ![];}},!"");return K0v;};G7N.computeEquationChart=function(Y1o,w75){var L4P=R3X5F;var c1Y,P8d,Y0p,m$G,C8S,V64,B_L,n9E,o9_,W5y,L$X,F0k,U0e,X$M,m1A,k5T,n8h,d5d,S6B,p3y,n7I,M0g;Y1o=Y1o.replace(/[:]/,(721.05,+"404.82") != (67.55,+"189.21")?"/":(933.85,852.44));c1Y=0;for(var c0O in w75){P8d="s";P8d+="y";P8d+="mbol";Y0p=new RegExp("\\[" + c0O.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&") + "\\]","g");L4P.f$a(0);Y1o=Y1o.replace(Y0p,L4P.C6$(P8d,c1Y));c1Y++;}m$G=q19().parse(Y1o);C8S=[];V64={};B_L=0;o9_=null;function Q$s(){var S$q,a3L;S$q=null;a3L=null;for(var d1V in V64){if(!a3L){a3L=V64[d1V];}else if(V64[d1V].d.getTime() < a3L.d.getTime()){S$q=a3L=V64[d1V];}else if(V64[d1V].d.getTime() > a3L.d.getTime()){S$q=a3L;}}if(S$q){if(!q1$(S$q)){return 0;}return -1;}L4P.n2i();return 1;}W5y=!({});function q1$(g7J){g7J.i++;if(w75[g7J.s]){if(g7J.i >= w75[g7J.s].length){return 0;}n9E=w75[g7J.s][g7J.i];}if(!n9E.DT){n9E.DT=G7N.strToDateTime(n9E.Date);}g7J.d=n9E.DT;return 1;}L$X=[];for(c0O in w75){F0k={sym:c0O,map:w75[c0O]};if(w75[c0O]){L$X.unshift(F0k);}else {L$X.push(F0k);}}for(var S5_=0;S5_ < L$X.length;S5_++){U0e=L$X[S5_];V64[U0e.sym]={i:0,s:U0e.sym};if(U0e.map){B_L++;n9E=U0e.map[0];}else if(B_L == +"1"){W5y=U0e.sym;}if(!n9E.DT){n9E.DT=G7N.strToDateTime(n9E.Date);}V64[U0e.sym].d=n9E.DT;if(!o9_){o9_=V64[U0e.sym];}}L4P.f$a(109);X$M=L4P.z5U(0,B_L);m1A=B_L == 1 && Y1o.indexOf(("377" | 41) <= 7205?"%":(!({}),218)) == -1;a:while(!!1){k5T=Q$s();if(!k5T)break;if(k5T == 1){if(W5y){d5d=w75[o9_.s][o9_.i][W5y];if(d5d && (d5d.Close || d5d.Close === 0)){d5d=d5d.Close;}S6B=m$G.evaluate({symbol0:w75[o9_.s][o9_.i].Close,symbol1:d5d});S6B=Number(S6B.toFixed(8));n8h={DT:o9_.d,Close:S6B,Adj_Close:S6B};n8h[o9_.s]=w75[o9_.s][o9_.i].Close;if(!isNaN(S6B) && S6B != Infinity){C8S.push(n8h);}}else if(X$M){p3y="N";p3y+="o";p3y+="Exception";n7I=m$G.evaluate({});L4P.f$a(15);G7N.alert(L4P.z5U(n7I,Y1o,"="));throw {name:p3y,message:""};}else {c1Y=+"0";M0g={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(c0O in w75){for(var e09 in M0g){L4P.I0Z(0);M0g[e09][L4P.C6$("symbol",c1Y)]=w75[c0O][V64[c0O].i][e09];}c1Y++;}n8h={DT:o9_.d};n8h.Adj_Close=m$G.evaluate(M0g.Adj_Close);n8h.Close=m$G.evaluate(M0g.Close);n8h.Open=m$G.evaluate(M0g.Open);n8h.Volume=m$G.evaluate(M0g.Volume);if(isNaN(n8h.Volume)){n8h.Volume=0;}if(m1A){n8h.High=m$G.evaluate(M0g.High);n8h.Low=m$G.evaluate(M0g.Low);}else {n8h.High=Math.max(n8h.Open,n8h.Close);n8h.Low=Math.min(n8h.Open,n8h.Close);}if(!isNaN(n8h.Close) && n8h.Close != Infinity){C8S.push(n8h);}if(!isNaN(n8h.High)){n8h.High=Number(n8h.High.toFixed(8));}if(!isNaN(n8h.Low)){n8h.Low=Number(n8h.Low.toFixed("8" * 1));}if(!isNaN(n8h.Open)){n8h.Open=Number(n8h.Open.toFixed("8" >> 64));}if(!isNaN(n8h.Close)){n8h.Close=Number(n8h.Close.toFixed(8));}if(!isNaN(n8h.Adj_Close)){n8h.Adj_Close=Number(n8h.Adj_Close.toFixed("8" << 32));}else {n8h.Adj_Close=n8h.Close;}}for(c0O in w75){if(!q1$(V64[c0O]))break a;}}}return C8S;};};W7=f8S=>{var T_J=R3X5F;T_J.n2i();var x00;x00=typeof _CIQ !== "undefined"?_CIQ:f8S.CIQ;x00.ChartEngine.prototype.addEvent=function(Z8q,U2y,T1E){if(!Z8q){return;}var {chart:k6J}=this;U2y=U2y || ({});U2y.isEvent=!!({});if(!U2y.processResults){U2y.processResults=this.processEventResults;}if(!U2y.takedownResults){U2y.takedownResults=this.takedownEventResults;}U2y.responseHandler=Z1l=>{T_J.n2i();return F9t=>{var K1V,z04;K1V=k6J.series[Z8q];var {quotes:T0h}=F9t;if(!T0h || !T0h.length){return;}if(!F9t.error){K1V.loading=!!0;K1V.moreAvailable=F9t.moreAvailable;K1V.upToDate=F9t.upToDate;}z04=[F9t.beginDate || T0h[0].DT,F9t.endDate || T0h[T0h.length - 1].DT];if(!K1V.endPoints.begin || K1V.endPoints.begin > z04[0]){K1V.endPoints.begin=z04[0];}if(!K1V.endPoints.end || K1V.endPoints.end < z04[1]){K1V.endPoints.end=z04[1];}if(K1V.parameters.processResults){K1V.parameters.processResults(this,F9t.error,K1V,T0h);}};};this.addSeries(Z8q,U2y,T1E);};x00.ChartEngine.prototype.processEventResults=function(t5a,R7w,M6P,H77){T_J.n2i();if(!R7w && x00.Marker){for(var C6S of H77){if(C6S.data){C6S.data.type=M6P.id;x00.Marker({stx:t5a,label:M6P.id,x:C6S.DT,node:new x00.Marker.Simple(C6S.data)});}}}};x00.ChartEngine.prototype.takedownEventResults=function(C80,E2l){if(x00.Marker){x00.Marker.removeByLabel(C80,E2l);}};x00.ChartEngine.prototype.removeEvent=function(P5b){this.removeSeries(P5b);};x00.ChartEngine.prototype.removeAllEvents=function(){T_J.n2i();var {series:z6A}=this.chart;if(z6A){for(var T2E in z6A){if(z6A[T2E].parameters.isEvent){this.removeEvent(T2E);}}}};};P9=K0M=>{var J9w,a4Y,F9o;J9w="En";J9w+="glish";a4Y="e";a4Y+="n";F9o=typeof _CIQ !== "undefined"?_CIQ:K0M.CIQ;F9o.ChartEngine.prototype.setLocale=function(c8I,B$e){var S2R,Z22,R3N,L8t,x7i,f24,a2x,x62,c35,R10,W7q;S2R="nume";S2R+="ric";Z22="nu";Z22+="me";Z22+="r";Z22+="ic";R3N="2";R3N+="-";R3N+="digit";L8t="nu";L8t+="m";L8t+="eric";x7i="num";x7i+="eri";x7i+="c";f24="nume";f24+="ric";if(typeof Intl == "undefined"){return;}if(this.locale != c8I){this.locale=c8I;}else {return;}x62=this.internationalizer={};x62.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:f24,hourCycle:"h23"});x62.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:x7i,minute:L8t,second:"numeric",hourCycle:"h23"});x62.mdhm=new Intl.DateTimeFormat(this.locale,{year:R3N,month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});x62.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"});x62.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"});x62.yearMonth=new Intl.DateTimeFormat(this.locale,{year:Z22,month:S2R});x62.month=new Intl.DateTimeFormat(this.locale,{month:"short"});x62.numbers=new Intl.NumberFormat(this.locale);R3X5F.n2i();x62.priceFormatters=[];if(!B$e){B$e=8;}for(a2x=0;a2x < B$e + 1;a2x++){x62.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:a2x,minimumFractionDigits:a2x}));}for(a2x=0;a2x < 5;a2x++){c35="pe";c35+="rcent";R10=a2x;W7q=a2x;if(!a2x){R10="";W7q=2;}R3X5F.I0Z(0);x62[R3X5F.C6$(c35,R10)]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:W7q,maximumFractionDigits:W7q,signDisplay:"exceptZero"});}if(F9o.I18N.createMonthArrays){F9o.I18N.createMonthArrays(this,x62.month,this.locale);}};F9o.ChartEngine.prototype.translateUI=function(i38){if(F9o.I18N.localized){F9o.I18N.translateUI(this.preferences.language,i38);}};F9o.I18N=function(){};F9o.I18N.hereDoc=function(a1R){return a1R.toString().replace(/^[^/]+\/\*!?/,"").replace(/ {4,10}/g,"").replace(/\*\/[^/]+$/,"");};F9o.I18N.language=a4Y;F9o.I18N.longMonths={zh:!!({}),ja:!!({})};F9o.I18N.reverseColorsByLocale={};F9o.I18N.findAllTextNodes=function(W7A){var R7n,K0Y,g24,P_I,Y_3,i0_,V3s,l8Q,R5e,e8W,J8C,c8v,Y_F,I2f;R7n="^";R7n+="\\";R7n+="s";R7n+="*$";if(!W7A){W7A=document.body;}K0Y=W7A.ownerDocument.createTreeWalker(W7A,NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT,{acceptNode(w5q) {if(w5q.nodeType === Node.TEXT_NODE || w5q.shadowRoot || w5q.placeholder){return NodeFilter.FILTER_ACCEPT;}R3X5F.F64();return NodeFilter.FILTER_SKIP;}});g24=K0Y.nextNode();P_I=new RegExp(R7n);Y_3=new RegExp("\n|\t|\f","g");i0_={};V3s={SCRIPT:!!({}),STYLE:!![],TEXTAREA:!0,"CQ-SYMBOL":!![]};while(g24){if(g24.shadowRoot){R5e=F9o.I18N.findAllTextNodes(g24.shadowRoot);for(var f4W in R5e){if(!i0_[f4W]){i0_[f4W]=[];}i0_[f4W]=i0_[f4W].concat(R5e[f4W]);}}e8W=g24.nodeValue;if(e8W && !P_I.test(e8W)){J8C="[no-";J8C+="transl";J8C+="a";J8C+="te]";c8v=g24.parentNode;if(!V3s[c8v.tagName] && !c8v.matches(J8C)){l8Q=c8v.getAttribute("cq-translate-original");if(l8Q){e8W=l8Q;}else {c8v.setAttribute("cq-translate-original",e8W);}if(Y_3.test(e8W)){e8W=e8W.replace(Y_3,"");}if(!i0_[e8W]){i0_[e8W]=[];}i0_[e8W].push(g24);}}e8W=g24.placeholder;if(e8W && !P_I.test(e8W)){if(!V3s[g24.tagName]){l8Q=g24.getAttribute("cq-translate-placeholder-original");if(l8Q){e8W=l8Q;}else {g24.setAttribute("cq-translate-placeholder-original",e8W);}if(!i0_[e8W]){i0_[e8W]=[];}i0_[e8W].push(g24);}}if(g24.tagName && V3s[g24.tagName]){g24=K0Y.nextSibling();}else {g24=K0Y.nextNode();}}if(W7A == document.body){Y_F=F9o.Studies?F9o.Studies.studyLibrary:null;if(Y_F){for(var D1$ in Y_F){if(i0_[D1$] === null){i0_[D1$]=[];}I2f=Y_F[D1$];if(I2f.inputs){for(var H_p in I2f.inputs){if(!i0_[H_p]){i0_[H_p]=[];}}}if(I2f.outputs){for(var d8F in I2f.outputs){if(!i0_[d8F]){i0_[d8F]=[];}}}}}}return i0_;};F9o.I18N.missingWordList=function(E8Q){var R7r,y2K,e0P,K_M,E4_,P6_,I2u;R7r="In";R7r+="vert Y-Axis";if(!E8Q){E8Q=F9o.I18N.language;}y2K=F9o.I18N.findAllTextNodes();e0P={};K_M=F9o.I18N.wordLists[E8Q];if(!K_M){K_M={};}E4_=function(S$H){R3X5F.F64();if(typeof K_M[S$H] == "undefined"){e0P[S$H]="";}};R3X5F.F64();for(var Q_t in y2K){E4_(Q_t);}if(!(F9o.Studies && F9o.Studies.studyLibrary)){return e0P;}for(var t1y in F9o.Studies.studyLibrary){P6_=F9o.Studies.studyLibrary[t1y];E4_(P6_.name);for(var g1L in P6_.inputs){E4_(g1L);I2u=P6_.inputs[g1L];switch(Object.prototype.toString.call(I2u)){case "[object String]":E4_(I2u);break;case "[object Array]":for(var E_a=0;E_a < I2u.length;++E_a){E4_(I2u[E_a]);}break;}}for(var b_N in P6_.outputs){E4_(b_N);}}E4_("Show Zones");E4_("OverBought");E4_("OverSold");E4_("Panel");E4_("Show as Underlay");E4_("Y-Axis");E4_(R7r);return e0P;};F9o.I18N.printableMissingWordList=function(H8D){var x$V;x$V=JSON.stringify(F9o.I18N.missingWordList(H8D));x$V=x$V.replace(/","/g,'",\n"');return x$V;};F9o.I18N.translateUI=function(g4V,M5d){var M$6,e0z,L$_,Q79,Y98,n97,k$E,X7Z,r87,z_L,f98,o2j;if(g4V == "pu"){g4V="pt";}if(!F9o.I18N.wordLists){return;}if(!g4V){g4V=F9o.I18N.language;}M$6=F9o.I18N.findAllTextNodes(M5d);e0z=F9o.I18N.wordLists[g4V];if(!e0z){return;}function f25(k0X){R3X5F.F64();return Array.from((k0X || document).querySelectorAll("[aria-label]")).reduce((c8t,H$B)=>{var W0D;if(!H$B.getAttribute("aria-label-original")){H$B.setAttribute("aria-label-original",H$B.getAttribute("aria-label"));}W0D=H$B.getAttribute("aria-label-original");c8t[W0D]=(c8t[W0D] || []).concat(H$B);return c8t;},{});}for(var c1c in M$6){L$_=F9o.I18N.translateSections(c1c,e0z);Q79=M$6[c1c];for(var V2M=0;V2M < Q79.length;V2M++){Y98="cq-trans";Y98+="late-place";Y98+="holder-ori";Y98+="ginal";n97=Q79[V2M];k$E=n97.parentNode;X7Z=n97.placeholder?n97.getAttribute(Y98):k$E.getAttribute("cq-translate-original");if(L$_ === ((+"519",8970) !== (+"3659",3850)?",":656.31 === 5620?(0x9da,!!"1"):961.15 >= 4694?(908,!!0):"p") || !L$_){L$_=X7Z;}if(n97.placeholder){n97.placeholder=L$_;}else {n97.data=L$_;}}}r87=f25(M5d);for(var M8o in r87){z_L=F9o.I18N.translateSections(M8o,e0z);f98=r87[M8o];for(var w6y of f98){o2j=w6y.getAttribute("aria-label-original");if(z_L === "," || !z_L){z_L=o2j;}w6y.setAttribute("aria-label",z_L);}}};F9o.I18N.translate=function(D7I,y$u){var V3_,k8o;if(!y$u){y$u=F9o.I18N.language;}if(!F9o.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return D7I;}V3_=F9o.I18N.wordLists[y$u];k8o=null;if(V3_){k8o=F9o.I18N.translateSections(D7I,V3_) || D7I;}return k8o === (+"4530" !== (9049,+"711")?",":(8275,4950) < 379.03?558.79:9466 === 6550?(!!"",3.75e+3):1.62e+3)?D7I:k8o;};F9o.I18N.translateSections=function(p4s,N_J){var P3A=R3X5F;var W9_,y4v;P3A.F64();W9_=3240 == (492.54,1549)?(+"42.12",583.96):"\u200c";if(typeof p4s == "string" && p4s.indexOf(W9_) != -1){P3A.f$a(15);p4s=p4s.replace(/([(),])/g,P3A.C6$(W9_,W9_,"$1"));y4v=p4s.split(W9_);y4v.forEach(function(D9e,x60,u$C){var q1b,f6E;P3A.n2i();q1b=D9e.match(/^(\s*).{0,100}\S(\s*)$/);f6E=N_J[D9e.trim()];if(f6E){if(q1b){P3A.I0Z(7);var T5L=P3A.z5U(1,2);P3A.I0Z(11);var P0R=P3A.z5U(2,4,0);f6E=q1b[T5L] + f6E + q1b[P0R];}u$C[x60]=f6E;}});return y4v.join("");}return N_J[p4s];};F9o.I18N.csv=F9o.I18N.csv || "";F9o.I18N.convertCSV=function(D0p){R3X5F.F64();var S34,B4e,Z$d,A1f,L3X,u06,k0q,K$Q,O7D,r_h,Z2D;S34=new RegExp("[\u201C\u201D]|[\u2018\u2019]","g");B4e=F9o.I18N.wordLists;if(!D0p){D0p=F9o.I18N.csv;}if(!D0p){return;}Z$d=D0p.split((619.31,2954) >= (964.8,485.08)?"\n":(8160,7620) !== (2420,7072)?(571.60,"R"):3.25e+3);A1f=Z$d[0];L3X=A1f.split(4760 >= 9381?(+"7.54e+3",1.95e+3):+"532.79" === 7219?(4830,4595) !== (3556,3170)?!!"1":("x",+"7.56e+3"):",");for(var c_u=+"0";c_u < L3X.length;c_u++){u06=L3X[c_u];if(!B4e[u06]){B4e[u06]={};}}for(var M$V=+"1";M$V < Z$d.length;M$V++){k0q=Z$d[M$V].match(/(".{0,1000}?"|[^",]{1,1000})(?=\s{0,100},|\s{0,100}$)|(,(?=,))/g) || [];R3X5F.I0Z(1);K$Q=k0q[R3X5F.C6$(1,"0")];O7D=K$Q.charAt(0);r_h=K$Q.charAt(K$Q.length - 1);if(O7D === '"' && r_h === (9325 !== 53.98?'"':(264,"7335" | 36) < 3713?(479.48,885.71):(110,+"12.88"))){K$Q=K$Q.substring(1,K$Q.length - 1);}if(S34.test(K$Q)){K$Q=K$Q.replace(S34,'"');}for(var y3O=1;y3O < k0q.length;y3O++){Z2D=k0q[y3O];O7D=Z2D.charAt(0);r_h=Z2D.charAt(Z2D.length - 1);if(O7D === '"' && r_h === '"'){Z2D=Z2D.substring(1,Z2D.length - 1);}B4e[L3X[y3O]][K$Q]=Z2D;}}};F9o.I18N.setLanguage=function(a8c,j_m,Q69,T9z,H5S){if(!H5S){H5S=(a8c.uiContext || ({})).topNode || document.body;}R3X5F.n2i();if(j_m == "pu"){j_m="pt";}F9o.I18N.convertCSV(T9z);F9o.I18N.language=j_m;F9o.I18N.translateUI(j_m,H5S);if(!Q69){Q69=F9o.I18N.translate;}a8c.translationCallback=Q69;};F9o.I18N.setLocale=function(N2z,E3s,x9M,v5S,X3p){var Y0b,G1r,l6s;if(F9o.xor(this.reverseColorsByLocale[E3s],this.reverseColorsByLocale[N2z.locale])){this.reverseCandles(N2z);}if(typeof Intl == "undefined" || !Intl.__addLocaleData){N2z.setLocale(E3s,X3p);if(x9M){x9M(null);}return;}v5S=typeof v5S == "undefined"?"locale-data/jsonp":v5S;R3X5F.I0Z(42);Y0b=R3X5F.z5U(E3s,v5S,".js",4800 >= (572.91,3768)?(4271,4540) != 7655?"/":(819.86,3857) >= (4648,5862)?!!0:!![]:"U");G1r=document.createElement("SCRIPT");G1r.async=!!({});G1r.src=Y0b;l6s=document.getElementsByTagName("script")[+"0"];l6s.parentNode.insertBefore(G1r,l6s.nextSibling);G1r.onload=function(){N2z.setLocale(E3s,X3p);if(x9M){x9M(null);}};G1r.onerror=function(){R3X5F.n2i();if(x9M){x9M("cannot load script");}};};F9o.I18N.createMonthArrays=function(M0J,A6o,G6y){var G4T,Y66,T$e,W00,j4Q,a6R;M0J.monthAbv=[];M0J.monthLetters=[];G4T=new Date();Y66=!![];if(F9o.I18N.longMonths && F9o.I18N.longMonths[G6y]){Y66=!!"";}for(var q9X=0;q9X < 12;q9X++){G4T.setDate(1);G4T.setMonth(q9X);T$e=A6o.format(G4T);if(Y66){W00="";for(var A9Z=+"0";A9Z < T$e.length;A9Z++){j4Q=T$e.charAt(A9Z);a6R=j4Q.charCodeAt(0);if(a6R < 65)continue;W00+=j4Q;}M0J.monthAbv[q9X]=W00;M0J.monthLetters[q9X]=W00[0];}else {M0J.monthAbv[q9X]=T$e;M0J.monthLetters[q9X]=T$e;}}};F9o.I18N.localize=function(K4E,b3I){b3I=this.langConversionMap[b3I] || b3I;this.setLocale(K4E,b3I);this.setLanguage(K4E,b3I);F9o.I18N.localized=!![];};F9o.I18N.reverseCandles=function(b5i){var g8P,e34,G3U;g8P=b5i.styles;e34=b5i.cloneStyle(g8P.stx_candle_down);G3U=b5i.cloneStyle(g8P.stx_candle_up);g8P.stx_candle_up=e34;g8P.stx_candle_down=G3U;};F9o.I18N.wordLists={en:{}};F9o.I18N.languages={en:J9w};F9o.I18N.langConversionMap={};F9o.I18N.localized=!"1";};W5=l__=>{var t$5,Z_A,H1h,a$B,a$p,b6x;t$5="<";t$5+="div class=\"stx_notification_t";t$5+="ra";t$5+="y\"><template><div><span class=\"icon\"></span><span class=\"message\"></span></div></template></div>";Z_A="<div class=\"stx-flo";Z_A+="at-date\" style=\"visibility: hi";Z_A+="dden;\"></div>";H1h="<span";H1h+=" class=\"stx-btn stx_annotation_cancel\" style=\"display: none; margin-left:10px;\"></span>";a$B="<span class=\"stx-btn stx_annota";a$B+="t";a$B+="ion_save\" style=\"display: none;\"></span>";a$p=typeof _CIQ !== "undefined"?_CIQ:l__.CIQ;a$p.ChartEngine.prototype.pointerEvents={down:[],up:[]};a$p.ChartEngine.prototype.manageTouchAndMouse=!!({});a$p.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var a6G=R3X5F;var l7u,C0l,n8P,B3C,v$E,W7V,C$s,X4u,o3z,M9T,u3x;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!1;l7u=this.controls.chartControls || document;C0l=l7u.querySelector(".stx-zoom-in");n8P=l7u.querySelector(".stx-zoom-out");B3C=this.chart.container;a6G.F64();v$E=this;W7V=function(m_V,x2_,A3i){v$E.addDomEventListener(B3C,m_V,h85,A3i);a6G.n2i();function h85(j_I){if(v$E.mainSeriesRenderer.nonInteractive){return;}a6G.n2i();x2_(j_I);}};if(!a$p.touchDevice){C$s="mo";C$s+="us";C$s+="emove";W7V(C$s,function(h2Q){a6G.F64();v$E.mousemove(h2Q);});W7V("mouseenter",function(k$d){a6G.F64();v$E.mousemove(k$d);});W7V("mousedown",function(q29){v$E.mousedown(q29);});W7V("mouseup",function(O5w){a6G.n2i();v$E.mouseup(O5w);});}else {if(a$p.isSurface){X4u="poi";X4u+="nt";X4u+="er";X4u+="enter";o3z="mousedow";o3z+="n";W7V("mousemove",function(X4S){v$E.msMouseMoveProxy(X4S);});W7V("mouseenter",function(d7h){v$E.msMouseMoveProxy(d7h);});W7V(o3z,function(j0P){v$E.msMouseDownProxy(j0P);});W7V("mouseup",function(i3z){a6G.n2i();v$E.msMouseUpProxy(i3z);});W7V("pointerdown",function(S7R){return v$E.startProxy(S7R);});W7V("pointermove",function(m8f){a6G.n2i();v$E.moveProxy(m8f);});W7V(X4u,function(M4d){a6G.F64();return v$E.moveProxy(M4d);});W7V("pointerup",function(W5n){return v$E.endProxy(W5n);});}else {M9T="poin";M9T+="terdown";if(!a$p.isMobile){W7V("mousemove",function(H3Y){v$E.iosMouseMoveProxy(H3Y);});W7V("mouseenter",function(x0k){v$E.iosMouseMoveProxy(x0k);});W7V("mousedown",function(P8X){a6G.F64();v$E.iosMouseDownProxy(P8X);});W7V("mouseup",function(A8T){a6G.F64();v$E.iosMouseUpProxy(A8T);});}W7V("touchstart",function(V8h){v$E.touchstart(V8h);},{passive:!({})});W7V("touchmove",function(h6p){a6G.n2i();v$E.touchmove(h6p);},{passive:!!""});W7V("touchend",function(T9t){v$E.touchend(T9t);});W7V(M9T,function(r91){v$E.touchPointerType=r91.pointerType;});}}u3x=a$p.wheelEvent;if(this.captureMouseWheelEvents){W7V(u3x,function(H0k){v$E.mouseWheel(H0k);},{passive:![]});}};a$p.ChartEngine.prototype.mousedown=function(N2_){var M7z,Q87,d9a,N3H,Q0c,D3H;M7z="[dragg";M7z+="able]";if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=!1;if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(N2_.target && N2_.target.closest(M7z)){return;}if(N2_.button && N2_.button >= 2){return;}Q87=this.container.getBoundingClientRect();this.top=Q87.top;this.left=Q87.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(N2_.clientX >= this.left && N2_.clientX <= this.right && N2_.clientY >= this.top && N2_.clientY <= this.bottom){this.insideChart=!!({});}else {this.insideChart=![];return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse && N2_ && N2_.preventDefault && this.captureTouchEvents){N2_.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=![];this.hasDragged=!"1";this.userPointerDown=!!"1";if(this.openDialog === ""){this.registerPointerEvent({x:N2_.clientX,y:N2_.clientY,time:this.mouseTimer},"down");}var {chart:P$i}=this.currentPanel;for(var X6f=0;X6f < this.drawingObjects.length;X6f++){d9a=this.drawingObjects[X6f];if(d9a.highlighted && !d9a.permanent){if(this.cloneDrawing){N3H=a$p.ChartEngine.drawingTools[d9a.name];Q0c=new N3H();Q0c.reconstruct(this,d9a.serialize());this.drawingObjects.push(Q0c);this.activateRepositioning(Q0c);Q0c.repositioner=d9a.repositioner;return;}D3H=this.currentVectorParameters.vectorType;if(!a$p.Drawing || !D3H || !a$p.Drawing[D3H] || !new a$p.Drawing[D3H]().dragToDraw){this.activateRepositioning(d9a);return;}}}var {anchorHandles:f1b}=this.controls;if(f1b){for(var V5a in f1b){var {handle:K$e, sd:Q5e, highlighted:i64}=f1b[V5a];if(i64){this.repositioningAnchorSelector={sd:Q5e};K$e.classList.add("stx-grab");return;}}}if(this.drawingClick){if(this.currentPanel.subholder === N2_.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing && this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!!1;P$i.spanLock=![];this.yToleranceBroken=!1;this.grabStartX=N2_.clientX;this.grabStartY=N2_.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=P$i.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:"0" - 0;this.grabStartPanel=this.currentPanel;setTimeout((function(e2M){R3X5F.n2i();return function(){R3X5F.n2i();e2M.grabbingHand();};})(this),100);if(this.swipeStart){this.swipeStart(P$i);}if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};a$p.ChartEngine.prototype.mousemove=function(F2A){var r3J;R3X5F.n2i();r3J=F2A;a$p.ChartEngine.crosshairX=r3J.clientX;a$p.ChartEngine.crosshairY=r3J.clientY;if(r3J.type.toLowerCase().indexOf("enter") > -1){this.positionCrosshairsAtPointer();return;}if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(this.grabbingScreen && r3J.buttons !== 1){this.cancelLongHold=!![];this.displayDragOK();this.grabbingScreen=!"1";this.findHighlights(!({}),!!"1");}this.mousemoveinner(r3J.clientX,r3J.clientY);this.runAppend("mousemove",arguments);};a$p.ChartEngine.prototype.mouseup=function(j6D){var g_1,N7r,k32,v5b,g2w,f3t,i0G,X1m,x_R,p4S,D56,K6p,C0b,c6o,F_p,b_7;g_1="stx";g_1+="-dr";g_1+="ag-char";g_1+="t";N7r="u";N7r+="p";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!!({});R3X5F.F64();this.cancelLongHold=!0;if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > 250){k32="v";k32+="ec";k32+="tor";this.changeOccurred(k32);a$p.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningAnchorSelector){var {sd:z0c}=this.repositioningAnchorSelector;a$p.Studies.repositionAnchor(this,z0c);if(this.controls.anchorHandles[z0c.uniqueId]){this.repositioningAnchorSelector=null;this.controls.anchorHandles[z0c.uniqueId].highlighted=!!"";a$p.Studies.displayAnchorHandleAndLine(this,z0c,this.chart.dataSegment);Object.values(this.controls.anchorHandles || ({})).forEach(({handle:p6z})=>{return p6z.classList.remove("stx-grab");});this.findHighlights();}return;}v5b=this.userPointerDown;this.userPointerDown=!!0;if(!this.displayInitialized){return;}g2w=this.backOutY(j6D.clientY);f3t=this.backOutX(j6D.clientX);i0G=j6D.button && j6D.button >= 2;X1m=this.openDialog !== "";if(!X1m && !i0G){this.registerPointerEvent({x:j6D.clientX,y:j6D.clientY,time:Date.now()},N7r);}this.grabbingScreen=![];if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(f3t,g2w);}this.currentPanel=this.whichPanel(g2w);}x_R=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog !== ""){p4S="stx-d";p4S+="rag-c";p4S+="har";p4S+="t";if(this.insideChart){this.container.classList.remove(p4S);}return;}if(this.grabOverrideClick){if(!this.overXAxis && !this.overYAxis && this.swipeRelease){this.swipeRelease();}this.container.classList.remove("stx-drag-chart");this.grabOverrideClick=!!"";this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove(g_1);}if(a$p.ChartEngine.resizingPanel){this.releaseHandle();return;}if(i0G || j6D.ctrlKey){if(this.anyHighlighted && this.bypassRightClick !== !!({})){if(this.overYAxis){D56=x_R.yaxisLHS.concat(x_R.yaxisRHS).find(Y3k=>{return Y3k.highlight === !0;});if(D56 && D56.showContextMenu){D56.showContextMenu(a$p.ChartEngine.crosshairX,a$p.ChartEngine.crosshairY);}}this.rightClickHighlighted();if(j6D.preventDefault && this.captureTouchEvents){j6D.preventDefault();}j6D.stopPropagation();return !1;}this.dispatch("rightClick",{stx:this,panel:x_R,x:f3t,y:g2w});K6p=-355256299;C0b=856229402;c6o=+"2";for(var J28=1;R3X5F.W7K(J28.toString(),J28.toString().length,48140) !== K6p;J28++){return !!0;}if(R3X5F.o1c(c6o.toString(),c6o.toString().length,+"46504") !== C0b){return !!({});}}if(j6D.clientX < this.left || j6D.clientX > this.right){return;}if(j6D.clientY < this.top || j6D.clientY > this.bottom){return;}F_p=x_R && x_R.subholder === j6D.target;if(this.isDoubleClick() && (F_p || this.overYAxis || this.overXAxis)){this.doubleClick(j6D.button,f3t,g2w);this.resetClickState();}else {if(v5b && F_p){if(this.drawingClick && (!this.longHoldTookEffect || this.activeDrawing)){this.drawingClick(x_R,f3t,g2w);}if(!this.longHoldTookEffect && this.activeMarker && !this.activeMarker.params.noInteraction){this.activeMarker.click({cx:f3t,cy:g2w,panel:x_R});}}if(!this.longHoldTookEffect && !this.activeDrawing){b_7=!0;if(this.anyHighlighted && this.leftClickPinTooltip && this.allowPinning && this.highlightedPlot && this.allowPinning(this.highlightedPlot.type)){b_7=!this.leftClickPinTooltip({cx:f3t,cy:g2w});}if(b_7){this.dispatch("tap",{stx:this,panel:x_R,x:f3t,y:g2w});}}}this.runAppend("mouseup",arguments);};a$p.ChartEngine.prototype.registerPointerEvent=function(B6r,z20){if(this.pointerEvents[z20].length > 1){this.pointerEvents[z20].pop();}this.pointerEvents[z20].unshift(B6r);};a$p.ChartEngine.prototype.resetPointerEvent=function(b3s){R3X5F.n2i();this.pointerEvents[b3s].splice(+"0");};a$p.ChartEngine.prototype.resetClickState=function(){var z4G;z4G="d";R3X5F.n2i();z4G+="o";z4G+="wn";this.resetPointerEvent("up");this.resetPointerEvent(z4G);this.cancelTouchSingleClick=!![];};a$p.ChartEngine.prototype.isDoubleClick=function(w6_){var o9m,P1E;o9m=w6_?35:20;var {up:[H9b,g8I], down:[x3g,a$E]}=this.pointerEvents;P1E=g8I && a$E && x3g.time - g8I.time < this.doubleClickTime && a$p.withinRadius(a$E,x3g,o9m) && a$p.withinRadius(g8I,x3g,o9m) && g8I.time - a$E.time < this.longHoldTime && H9b.time - x3g.time < this.longHoldTime;this.cancelTouchSingleClick=P1E;return P1E;};a$p.ChartEngine.prototype.doubleClick=function(i5z,h2x,Z3D){var t7e,R8r;if(this.runPrepend("doubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(a$p.ChartEngine.drawingLine){t7e="cont";t7e+="in";t7e+="uous";if(this.currentVectorParameters.vectorType == t7e){a$p.ChartEngine.completeDrawing(this);}return this.undo();}if(this.activeDrawing){return;}R3X5F.F64();R8r=this.activeMarker && this.activeMarker.doubleClick({cx:h2x,cy:Z3D,panel:this.currentPanel});if(!R8r){this.dispatch("doubleClick",{stx:this,button:i5z,x:h2x,y:Z3D});}this.runAppend("doubleClick",arguments);};a$p.ChartEngine.prototype.handleMouseOut=function(F6n){var Y72,L91,U1D;F6n=F6n || window.event;if(!F6n.relatedTarget || !a$p.withinElement(this.chart.container,F6n.pageX,F6n.pageY)){if(this.runPrepend("handleMouseOut",arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!![]);}this.undisplayCrosshairs();this.touches=[];this.touching=!!"";if(this.activeDrawing && this.userPointerDown){this.userPointerDown=!({});this.drawingLine=!({});Y72=this.backOutY(F6n.pageY);L91=this.backOutX(F6n.pageX);this.drawingClick(this.currentPanel,L91,Y72);}var {sd:c4_, tapToAdd:z$e}=this.repositioningAnchorSelector || ({});if(c4_ && !z$e){this.repositioningAnchorSelector=null;this.controls.anchorHandles[c4_.uniqueId].highlighted=![];a$p.Studies.displayAnchorHandleAndLine(this,c4_,this.chart.dataSegment);this.draw();}this.insideChart=!"1";this.overYAxis=!1;this.overXAxis=!({});this.displaySticky();U1D=this.controls.dragOk;if(U1D){U1D.style.display="none";}this.runAppend("handleMouseOut",arguments);}};a$p.ChartEngine.prototype.startLongHoldTimer=function(l24){var n3D,h9_;n3D=this;this.cancelLongHold=![];if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}h9_=function(){var X3G;X3G="lon";X3G+="g";X3G+="ho";X3G+="ld";if(n3D.cancelLongHold){return;}n3D.longHoldTookEffect=!!({});if(l24){l24();}n3D.dispatch(X3G,{stx:n3D,panel:n3D.currentPanel,x:n3D.cx,y:n3D.cy});n3D.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(h9_,this.longHoldTime);}else if(this.longHoldTime === ("0" | 0)){h9_();}};a$p.ChartEngine.prototype.grabHandle=function(Q$x){var z$J;z$J="grabHa";z$J+="ndle";if(this.runPrepend(z$J,arguments)){return;}if(!Q$x){return;}a$p.ChartEngine.crosshairY=this.resolveY(Q$x.top);a$p.ChartEngine.resizingPanel=Q$x;Q$x.handle.classList.add("stx-grab");this.runAppend("grabHandle",arguments);};a$p.ChartEngine.prototype.grabbingHand=function(){if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(a$p.touchDevice){return;}this.container.classList.add("stx-drag-chart");};a$p.ChartEngine.prototype.releaseHandle=function(){var H$f;H$f="release";H$f+="Han";H$f+="dl";H$f+="e";if(this.runPrepend(H$f,arguments)){return !![];}a$p.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(a$p.ChartEngine.resizingPanel){a$p.ChartEngine.resizingPanel.handle.classList.remove("stx-grab");}a$p.ChartEngine.resizingPanel=null;this.runAppend("releaseHandle",arguments);};a$p.ChartEngine.prototype.findHighlights=function(R6j,X56){var z1n=R3X5F;var E4v,G2l,u6F,N$u,x1P,h06,M3I,U$b,Z5g,c6J,b$d,y9j,i01,D$z,C1g,x5C,Q09,w6N,z9q,E6s,B_u,o0q,a_Y,X1Z,G6e,w4p,M4i,o2I,C_W,j7T,o14,m4f,J0_,u0b,m3U,i6d,u5p,G_Q,N4F,I4x,l21,A93,u3S,C5n,u$6,m52,h0q,I2_,g1a,O5U,m7M,S8Q,g$o,V4Y;E4v="d";E4v+="r";E4v+="a";E4v+="wing";G2l="highl";G2l+="ight";G2l+="sTapRadi";G2l+="us";u6F=this.preferences[R6j?G2l:"highlightsRadius"];this.highlightViaTap=R6j;var {cx:y$X, cy:t1D}=this;this.anyHighlighted=![];if(!this.currentPanel){return;}var {chart:B$k}=this.currentPanel;if(this.activeDrawing){X56=!"";}N$u=!!"";x1P=null;h06=X56?{}:{forceShow:!![],type:E4v};M3I={x0:this.tickFromPixel(y$X - u6F,B$k),x1:this.tickFromPixel(y$X + u6F,B$k),y0:this.valueFromPixel(t1D - u6F,this.currentPanel),y1:this.valueFromPixel(t1D + u6F,this.currentPanel),cx0:y$X - u6F,cx1:y$X + u6F,cy0:t1D - u6F,cy1:t1D + u6F,r:u6F};if(this.repositioningDrawing && M3I.x1 - M3I.x0 < 2){M3I.x1++;M3I.x0--;}else if(M3I.x1 == M3I.x0){M3I.x0-=0.5;M3I.x1+=0.5;}if(!B$k.hideDrawings){for(var p0W=this.drawingObjects.length - 1;p0W >= 0;p0W--){U$b=this.drawingObjects[p0W];Z5g=this.panels[U$b.panelName];if(U$b.hidden || !Z5g || U$b.field && !this.getYAxisByField(Z5g,U$b.field)){U$b.highlighted=!!0;continue;}if(this.repositioningDrawing && this.repositioningDrawing != U$b)continue;c6J=U$b.highlighted;b$d=U$b.panelName == this.currentPanel.name || U$b.spanPanels;if(b$d){U$b.repositioner=U$b.intersected(this.crosshairTick,this.crosshairValue,M3I);}b$d=b$d && U$b.repositioner && !this.overXAxis && !this.overYAxis;if(!X56 && b$d){if(c6J){x1P=U$b;if(this.anyHighlighted && this.singleDrawingHighlight){U$b.highlighted=!({});}if(U$b.highlighted && U$b.highlighted != c6J){N$u=!"";}}else if(c6J != U$b.highlight(!![])){if(!x1P){x1P=U$b;}if(this.anyHighlighted && this.singleDrawingHighlight){U$b.highlighted=!1;}N$u=!![];}this.anyHighlighted=!"";}else {if(c6J != U$b.highlight(!({}))){N$u=!![];}}if(U$b.highlighted){h06.noDelete=U$b.permanent;h06.noEdit=!this.callbackListeners.drawingEdit.length;h06.noText=h06.noEdit || !U$b.edit;h06.message=this.translateIf(a$p.capitalize(U$b.name));}}}for(y9j in this.layout.studies){i01=this.layout.studies[y9j];i01.prev=i01.highlight;i01.highlight=this.yaxisMatches(i01,this.grabStartYAxis);}for(y9j in B$k.seriesRenderers){Q09=B$k.seriesRenderers[y9j];Q09.params.highlight=this.yaxisMatches(Q09,this.grabStartYAxis);for(var T53=+"0";T53 < Q09.seriesParams.length;T53++){x5C=Q09.seriesParams[T53];x5C.prev=x5C.highlight;x5C.highlight=Q09.params.highlight;}}var {anchorHandles:z82}=this.controls;if(z82){for(var i$B in z82){z82[i$B].highlighted=!"1";}}w6N=this.markerHelper && this.markerHelper.visibleCanvasMarkers;if(w6N){for(D$z="0" - 0;D$z < w6N.length;D$z++){C1g=w6N[D$z];this.activeMarker=null;C1g.prev=C1g.highlight;C1g.highlight=!!0;}}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedPlot={};this.highlightedDraggable=null;if(!X56 && !this.anyHighlighted && z82){for(var B18 in z82){z9q=z82[B18];if(a$p.getFromNS(z9q,"sd.signalData.reveal") === !!"")continue;if(!this.anyHighlighted){var {sd:o2n, currentPixel:o2R}=z9q;z1n.I0Z(7);E6s=z1n.z5U(u6F,o2R);z1n.I0Z(0);B_u=z1n.C6$(o2R,u6F);o0q=this.panels[o2n.panel];var {top:n2h, bottom:e3x}=o0q.yAxis;a_Y=a$p.boxIntersects(E6s,n2h,B_u,e3x,y$X,t1D,y$X,t1D);if(a_Y){this.anyHighlighted=!"";z9q.highlighted=!"";N$u=!!({});h06={message:o2n.name,type:"anchorHandle",noDelete:!!({})};continue;}}if(z9q.highlighted === !0){z9q.highlighted=![];N$u=!![];}}}if(!X56 && !this.anyHighlighted && B$k.dataSegment){X1Z=this.barFromPixel(y$X);if(X1Z >= 0 && X1Z < B$k.dataSegment.length){w4p=a$p.convertBoxToPixels(this,this.currentPanel.name,M3I);M4i=Number.MAX_VALUE;if(w6N){for(D$z=0;D$z < w6N.length;D$z++){C1g=w6N[D$z];o2I=C1g.params.box;if(!o2I)continue;if(C1g.params.panelName !== this.currentPanel.name)continue;if(a$p.boxIntersects(w4p.x0,w4p.y0,w4p.x1,w4p.y1,o2I.x0,o2I.y0,o2I.x1,o2I.y1)){z1n.I0Z(110);var B$C=z1n.C6$(12,2,0,5,17);z1n.f$a(111);var q1J=z1n.z5U(19,1,18,0);z1n.f$a(112);var t1l=z1n.z5U(59,7,12,3);z1n.f$a(7);var X2a=z1n.z5U(28,30);C_W=Math.pow(t1D - (o2I.y1 + o2I.y0) / B$C,q1J) + Math.pow(y$X - (o2I.x1 + o2I.x0) / t1l,X2a);if(C_W <= M4i){M4i=C_W;this.activeMarker=C1g;}this.anyHighlighted=!0;h06={};C1g.highlight=!!"1";this.markerHelper.highlighted.push(C1g);}if(C1g.prev != C1g.highlight){N$u=!![];}}}if(!this.anyHighlighted){M4i=Number.MAX_VALUE;j7T=null;for(y9j in this.overlays){if(w6N && this.markerHelper.highlighted.length)break;i01=this.overlays[y9j];if(i01.signalData && !i01.signalData.reveal)continue;if(i01.disabled)continue;if(i01.panel != this.currentPanel.name)continue;if(i01.study.isHighlighted === !1)continue;else if(typeof i01.study.isHighlighted == "function"){o14=i01.study.isHighlighted(this,y$X,t1D);if(o14){m4f=o14 === !!1?i01.study.name:o14;j7T={o:i01,out:m4f};M4i=0;break;}continue;}J0_=B$k.dataSegment[X1Z];if(!J0_)continue;for(var D_6 in i01.outputMap){u0b=h3c.call(this,X1Z,M3I,D_6,i01.getYAxis(this));if(u0b !== !!"" && u0b <= M4i){j7T={o:i01,out:D_6};M4i=u0b;}}}for(y9j in B$k.seriesRenderers){if(this.highlightedDataSetField)break;m3U=B$k.seriesRenderers[y9j];i6d=m3U.params.panel;if(!this.leftClickPinTooltip && m3U == this.mainSeriesRenderer)continue;if(!m3U.params.highlightable && !this.currentVectorParameters.vectorType)continue;if(i6d != this.currentPanel.name)continue;for(D$z=0;D$z < m3U.seriesParams.length;D$z++){x5C=m3U.seriesParams[D$z];if(x5C.disabled)continue;u5p=x5C.field || this.defaultPlotField || "Close";if(x5C.symbol && x5C.subField){u5p+="-->" + x5C.subField;}G_Q=m3U.params.yAxis;if(!G_Q && i6d){G_Q=this.panels[i6d].yAxis;}if(m3U.params.step && X1Z > 0){if(!m3U.caches[x5C.id])continue;G6e=m3U.caches[x5C.id][X1Z];if(!G6e && G6e !== 0)continue;z1n.I0Z(7);N4F=m3U.caches[x5C.id][z1n.C6$(1,X1Z)];if((N4F || N4F === +"0") && t1D + u6F >= G6e && t1D - u6F <= N4F || t1D - u6F <= G6e && t1D + u6F >= N4F){j7T={s:x5C,fullField:u5p};break;}}else {I4x=h3c.call(this,X1Z,M3I,u5p,G_Q,m3U,x5C.id);if(I4x !== !!0 && I4x <= M4i){j7T={s:x5C,fullField:u5p};M4i=I4x;}}}}if(j7T){this.highlightedPlot=j7T;i01=j7T.o;if(i01){j7T.type="study";if(i01.name != i01.panel){this.anyHighlighted=!"";}i01.highlight=j7T.out;this.highlightedDataSetField=j7T.out;}else {j7T.type="series";this.anyHighlighted=!!({});j7T.s.highlight=!0;this.highlightedDataSetField=j7T.fullField;}}}}}A93=this.preferences.dragging;function s5g(U1H,F8k){var b8r,h0a,K8G;if(Array.isArray(U1H)){b8r="linear-gradient(to right, ";h0a=+"0";K8G=Math.min(+"3",U1H.length);for(;h0a < K8G;h0a++){z1n.I0Z(12);var a75=z1n.C6$(3029,1,1,4);z1n.f$a(7);var d1P=z1n.C6$(43435,52122);z1n.f$a(47);var j1w=z1n.C6$(10,4573,3,45700,11);z1n.I0Z(113);var z$0=z1n.C6$(7,3109,3086,3109,2);z1n.f$a(0);var B44=z1n.z5U(104,1145);z1n.I0Z(43);var Z0i=z1n.z5U(17,865,215);z1n.f$a(66);var m7X=z1n.z5U(15,449,1,4);z1n.I0Z(70);var g9X=z1n.z5U(13,472,50,13);z1n.f$a(114);var G$P=z1n.C6$(3786,3768,1884);z1n.f$a(74);var o4H=z1n.z5U(2,6,26,9,113);b8r+=U1H[h0a] + (a75 >= (d1P,"8460" - 0)?(+"681.64",j1w) === 740.67?(z$0,!!0):371.33 == (B44,Z0i)?(!({}),m7X):(g9X,G$P):" ") + Math.round(o4H * h0a / K8G) + "%, ";z1n.f$a(87);var C61=z1n.z5U(90,3,6,95);z1n.f$a(7);var Q97=z1n.z5U(4,5);b8r+=U1H[h0a] + " " + Math.round(C61 * (h0a + Q97) / K8G) + "%, ";}b8r+="transparent)";return b8r;}if(U1H == "auto"){U1H=this.defaultColor;}if(F8k && F8k !== 1){U1H=a$p.hexToRgba(a$p.colorToHex(U1H),parseFloat(F8k));}return U1H;}for(y9j in this.overlays){i01=this.overlays[y9j];if(i01.highlight){this.anyHighlighted=!![];C5n=i01.inputs.display || i01.name;C5n=this.translateIf(C5n);h06={message:C5n,noDelete:i01.permanent,noEdit:!i01.editFunction,noText:!i01.textFunction,noDrag:i01.undraggable && i01.undraggable(this),type:"study",backgroundColor:s5g(B$k.legendColorMap[i01.name] && B$k.legendColorMap[i01.name].color)};x1P=null;if(A93 === !!({}) || A93 && A93.study){if(!i01.undraggable(this)){l21=i01;}}u3S=i01.getYAxis(this);}if(i01.prev != i01.highlight){N$u=!!"1";}}for(y9j in B$k.seriesRenderers){u$6=B$k.seriesRenderers[y9j];m52=u$6.params.yAxis?u$6.params.yAxis.textStyle:null;for(var t4v=0;t4v < u$6.seriesParams.length;t4v++){x5C=u$6.seriesParams[t4v];if(u$6.params.highlightable && x5C.highlight){this.anyHighlighted=!"";h0q=B$k.legendColorMap[y9j] && B$k.legendColorMap[y9j].color || x5C.color || m52;h0q=s5g(h0q,x5C.opacity);h06={message:x5C.display || x5C.symbol,backgroundColor:h0q,noDelete:u$6.params.permanent || x5C.permanent,noDrag:u$6.undraggable && u$6.undraggable(this),type:"series"};x1P=null;if(A93 === !!({}) || A93 && A93.series){l21=u$6;u$6.params.highlight=!![];}u3S=u$6.getYAxis(this);}if(x5C.prev != x5C.highlight){N$u=!!"1";}}}for(y9j in this.plugins){I2_=this.plugins[y9j];g1a={};if(I2_.findHighlights){g1a=I2_.findHighlights(this,R6j,X56);if(g1a.somethingChanged){N$u=!!({});}if(g1a.anyHighlighted){this.anyHighlighted=!!"1";h06=g1a.stickyArgs || ({});}}}O5U=this.whichPanel(t1D);m7M=this.whichYAxis(O5U,y$X);if(!u3S){u3S=m7M;}if(this.currentBaseline){u3S=this.currentBaseline.getYAxis(this);}if(u3S){if(!u3S.highlight){N$u=!![];}u3S.highlight=!!({});}S8Q=[];for(var b6R in this.panels){S8Q=S8Q.concat(this.panels[b6R].yaxisLHS).concat(this.panels[b6R].yaxisRHS);}for(y9j=0;y9j < S8Q.length;y9j++){if(u3S == S8Q[y9j] && !X56)continue;if(S8Q[y9j].highlight){N$u=!!"1";}S8Q[y9j].highlight=!!0;}if((A93 === !!({}) || A93 && A93.yaxis) && m7M && !m7M.noDraw){this.anyHighlighted=!![];l21=m7M;h06={};}if(N$u){this.draw();h06.panel=O5U;if(this.anyHighlighted && !this.grabStartYAxis){h06.panel=O5U;}else {h06={};}this.displaySticky(h06);this.clearMeasure();if(x1P){x1P.measure();}}if(!this.anyHighlighted){this.setMeasure();}else if(this.controls.mSticky){if(h06 && h06.positioner){h06.positioner.call(this,this.controls.mSticky);}else {this.positionSticky(this.controls.mSticky);}}if(l21 && O5U && !O5U.noDrag){g$o="st";g$o+="x-d";g$o+="ragg";g$o+="able";if(this.longHoldTookEffect && !this.cancelLongHold){if(l21.params){if(l21.params.dependentOf){l21=B$k.seriesRenderers[l21.params.dependentOf];l21.params.highlight=!"";}for(y9j in B$k.seriesRenderers){if(B$k.seriesRenderers[y9j].params.dependentOf == l21.params.name){B$k.seriesRenderers[y9j].params.highlight=!![];}}}this.highlightedDraggable=l21;if(l21.getDependents){V4Y=l21.getDependents(this,!0);for(y9j in this.overlays){i01=this.overlays[y9j];if(V4Y.indexOf(i01) > -("1" >> 0)){i01.highlight=!0;}}}}if(!h06.noDrag){this.container.classList.add(g$o);}}else {this.container.classList.remove("stx-draggable");}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();function h3c(e33,B_d,M4L,h7_,A1P,V7k){var X3o,A6_,u5e,o2K,g7R,J4v,f8O,L7$,M2c,A$E,E9I,N8Z,L6g,R6n,h66,G99,t8O,v7W,H8q,V0Y,T9A,F$j,z_V;X3o=this;A6_=X3o.chart;u5e=X3o.currentPanel;if(!h7_){h7_=u5e.yAxis;}o2K=M4L.split("-->");g7R=o2K[0];J4v=o2K[1];function y9t(Z$C){var x12;if(!Z$C){return null;}x12=Z$C[g7R];if(x12 && (x12[J4v] || x12[J4v] === "0" >> 32)){x12=x12[J4v];}if(A1P && A1P.getBasis){x12+=A1P.getBasis(Z$C,g7R,J4v);}if(!A6_.transformFunc || h7_ != A6_.yAxis){return x12;}else if(Z$C.transform && (g7R in Z$C.transform)){x12=Z$C.transform[g7R];if(x12 && (x12[J4v] || x12[J4v] === 0)){x12=x12[J4v];}return x12;}return A6_.transformFunc(X3o,A6_,x12);}if(!J4v){J4v="Close";}f8O=A6_.dataSegment[X1Z];L6g=null;R6n=null;h66=null;G99=new Array(3);t8O=A1P && A1P.caches[V7k];if(f8O && t8O){A$E=t8O[X1Z];L6g=f8O.tick;if(A$E || A$E === 0){z1n.I0Z(6);G99[z1n.C6$(64,"0")]=1;}for(v7W=X1Z - 1;v7W >= "0" >> 64;v7W--){if(t8O[v7W] || t8O[v7W] === 0){E9I=t8O[v7W];z1n.f$a(115);R6n=z1n.z5U(L6g,X1Z,v7W);G99[1]=1;break;}}for(v7W=X1Z + 1;v7W < A6_.dataSegment.length;v7W++){if(t8O[v7W] || t8O[v7W] === 0){N8Z=t8O[v7W];z1n.f$a(115);h66=z1n.z5U(L6g,X1Z,v7W);z1n.f$a(7);G99[z1n.z5U(0,"2")]=z1n.C6$(0,"1");break;}}}if(R6n === null){L7$=X3o.getPreviousBar.call(X3o,A6_,M4L,X1Z);if(L7$){R6n=L7$.tick;E9I=y9t(L7$);}}if(h66 === null){M2c=X3o.getNextBar.call(X3o,A6_,M4L,X1Z);if(M2c){h66=M2c.tick;N8Z=y9t(M2c);}}if(R6n === null && h66 === null){return !({});}if(!t8O){A$E=y9t(f8O);E9I=y9t(L7$);N8Z=y9t(M2c);L6g=f8O.tick;if(L7$){R6n=L7$.tick;}if(M2c){h66=M2c.tick;}}if(!E9I && E9I !== ("0" | 0)){E9I=+"0";R6n=0;}if(!N8Z && N8Z !== 0){if(A$E || A$E === 0){N8Z=A$E;G99[2]=G99[0];}else {N8Z=E9I;G99[2]=G99[1];}if(V7k && A6_.series[V7k] && A6_.series[V7k].parameters.extendToEndOfDataSet){h66=A6_.dataSet.length - ("1" ^ 0);}else {h66=R6n;}}if(!A$E && A$E !== 0){A$E=N8Z;L6g=h66;G99[0]=G99[2];if(E9I === 0 && R6n === 0){E9I=A$E;R6n=L6g;G99[1]=G99[0];}}H8q=X3o.pixelFromTransformedValue.bind(X3o);V0Y=X3o.valueFromPixel.bind(X3o);A$E=V0Y(G99[0]?A$E:H8q(A$E,u5e,h7_),u5e);E9I=V0Y(G99["1" << 32]?E9I:H8q(E9I,u5e,h7_),u5e);N8Z=V0Y(G99[2]?N8Z:H8q(N8Z,u5e,h7_),u5e);T9A=a$p.convertBoxToPixels(X3o,u5e.name,B_d);F$j=a$p.convertBoxToPixels(X3o,u5e.name,{x0:R6n,y0:E9I,x1:L6g,y1:A$E});z_V=a$p.convertBoxToPixels(X3o,u5e.name,{x0:L6g,y0:A$E,x1:h66,y1:N8Z});if(a$p.boxIntersects(T9A.x0,T9A.y0,T9A.x1,T9A.y1,F$j.x0,F$j.y0,F$j.x1,F$j.y1,"segment") || a$p.boxIntersects(T9A.x0,T9A.y0,T9A.x1,T9A.y1,z_V.x0,z_V.y0,z_V.x1,z_V.y1,"segment")){return Math.min(Math.pow(t1D - (F$j.y1 + F$j.y0) / 2,2) + Math.pow(y$X - (F$j.x1 + F$j.x0) / 2,2),Math.pow(t1D - (z_V.y1 + z_V.y0) / +"2",2) + Math.pow(y$X - (z_V.x1 + z_V.x0) / 2,2));}return !({});}};a$p.ChartEngine.prototype.rightClickHighlighted=function(){R3X5F.n2i();var T13;T13="rightClickHi";T13+="ghligh";T13+="ted";if(this.runPrepend(T13,arguments)){return;}this.deleteHighlighted(!![]);this.runAppend("rightClickHighlighted",arguments);};a$p.ChartEngine.prototype.deleteHighlighted=function(V$C,f3s,v5v){R3X5F.n2i();var a3h,N$1,n_p,a$V,E9u,X1U,Q4e,J8e,D9k,P1I,r5T,E8X,i9Y;if(this.runPrepend("deleteHighlighted",arguments)){return;}this.cancelTouchSingleClick=!!({});a$p.clearCanvas(this.chart.tempCanvas,this);a3h=this.bypassRightClick === ![];if(a3h || !this.bypassRightClick.drawing){for(var s_W=this.drawingObjects.length - 1;s_W >= 0;s_W--){N$1=this.drawingObjects[s_W];if(!N$1.highlighted)continue;if(V$C){this.rightClickDrawing(N$1,f3s,v5v);}else if(!N$1.permanent){n_p=N$1.abort();if(!n_p){a$V=this.exportDrawings();this.drawingObjects.splice(s_W,1);this.undoStamp(a$V,this.exportDrawings());}this.changeOccurred("vector");}}}if(a3h || !this.bypassRightClick.study){for(var Z_1 in this.overlays){E9u=this.overlays[Z_1];if((E9u.overlay || E9u.underlay) && E9u.highlight && !E9u.permanent){if(V$C || f3s){this.rightClickOverlay(Z_1,f3s);}else {this.removeOverlay(Z_1);}}}}X1U=this.currentPanel && this.currentPanel.chart;if(X1U && (a3h || !this.bypassRightClick.series)){for(var U4E in X1U.seriesRenderers){Q4e=X1U.seriesRenderers[U4E];if(Q4e.params.highlightable && !Q4e.params.permanent){J8e=this.panels[Q4e.params.panel];D9k=J8e && J8e.yAxis.name;for(var i6R=Q4e.seriesParams.length - 1;i6R >= 0;i6R--){P1I=Q4e.seriesParams[i6R];if((Q4e.params.highlight || P1I.highlight) && !P1I.permanent){Q4e.removeSeries(P1I.id);if(Q4e.seriesParams.length < 1){this.removeSeriesRenderer(Q4e);if(Q4e.params.name == D9k){this.electNewPanelOwner(Q4e.params.panel);}else {this.checkForEmptyPanel(Q4e.params.panel);r5T=this.getYAxisByName(J8e,Q4e.params.name);if(r5T){r5T.name=r5T.studies[0] || r5T.renderers[1];}}}}}}}}this.draw();if(!V$C && !f3s){this.resizeChart();}this.clearMeasure();E8X=this.controls.mSticky;if(E8X){i9Y=".mStic";i9Y+="ky";i9Y+="Inter";i9Y+="ior";E8X.style.display="none";E8X.querySelector(i9Y).innerHTML="";}this.runAppend("deleteHighlighted",arguments);};a$p.ChartEngine.prototype.displayDragOK=function(p8S){var T_g=R3X5F;var x$j,Z_N,j1t,C4m,X0J,R8t,D0E,O8i,t_2,Q4$,R2G,y0E,M19,k3V,m2N,O9I;x$j=this;Z_N=this.controls.dragOk;T_g.n2i();function I$X(Q82){var J7_,B7O,D$X;J7_=x$j.translateIf(Q82.querySelector(".field").getAttribute("text"));B7O=x$j.whichYAxis(x$j.whichPanel(x$j.cy),x$j.cx,x$j.cy);T_g.n2i();if(B7O && B7O.dropzone == "all"){D$X="-";D$X+="-";D$X+=">";J7_+=D$X + x$j.translateIf(B7O.name);}Q82.querySelector(".field").innerHTML=J7_;}if(Z_N){if(!p8S){if(!this.tapForHighlighting || !this.touching || this.anyHighlighted){this.findHighlights(this.highlightViaTap);}}j1t=this.highlightedDraggable;C4m=j1t && j1t.undraggable && j1t.undraggable(this);X0J=this.cx;R8t=this.cy;D0E=j1t && !C4m && this.longHoldTookEffect;if(p8S){if(D0E && this.insideChart){Z_N.style.display="inline-block";}}else {if(D0E && !this.cancelLongHold){O8i="stx-";O8i+="drag-";O8i+="s";O8i+="eries";t_2="t";t_2+="ext";Q4$=j1t.inputs && j1t.inputs.display || j1t.params && (j1t.params.display || j1t.params.name) || j1t.name;Z_N.querySelector(".field").setAttribute(t_2,Q4$);I$X.call(this,Z_N);Z_N.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace("stx-drag-chart","stx-drag-axis");}else {this.container.classList.replace("stx-drag-chart",O8i);}}else {Z_N.style.display="none";this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove("stx-drag-axis");for(var j1Z in this.panels){R2G="ri";R2G+="g";R2G+="ht";y0E="a";y0E+="ll";M19=this.panels[j1Z].subholder.classList;M19.remove("dropzone");M19.remove(y0E);M19.remove("left");M19.remove(R2G);M19.remove("top");M19.remove("bottom");for(k3V="0" | 0;k3V < this.panels[j1Z].yaxisLHS.length;k3V++){this.panels[j1Z].yaxisLHS[k3V].dropzone=null;}for(k3V="0" ^ 0;k3V < this.panels[j1Z].yaxisRHS.length;k3V++){this.panels[j1Z].yaxisRHS[k3V].dropzone=null;}}}this.draw();}if(j1t){m2N=R8t + Z_N.offsetHeight;T_g.f$a(60);O9I=Math.max(T_g.C6$(0,"0"),X0J - Z_N.offsetWidth);T_g.f$a(0);Z_N.style.top=T_g.C6$(m2N,"px");T_g.f$a(0);Z_N.style.left=T_g.z5U(O9I,"px");I$X.call(this,Z_N);}}};a$p.ChartEngine.prototype.displayDrawOK=function(){var w7W=R3X5F;w7W.n2i();var T1H,F8F,w$8,s5z,h3b,E2J;T1H=this.controls.drawOk;if(T1H && a$p.Drawing){F8F="n";F8F+="on";F8F+="e";w$8=a$p.Drawing[this.currentVectorParameters.vectorType];if(w$8){w$8=new w$8();}if(this.highlightedDataSetField && w$8 && w$8.isAllowed(this,this.highlightedDataSetField)){s5z=".fi";s5z+="eld";T1H.style.display="inline-block";h3b=this.cy + T1H.offsetHeight;E2J=this.cx - T1H.offsetWidth;w7W.I0Z(0);T1H.style.top=w7W.C6$(h3b,"px");w7W.f$a(0);T1H.style.left=w7W.z5U(E2J,"px");T1H.querySelector(s5z).innerHTML=this.translateIf(this.highlightedDataSetField);}else {T1H.style.display=F8F;}}};a$p.ChartEngine.prototype.mouseWheel=function(c5X){var y9W=R3X5F;var U3o,a$j,S57,w3V,f40,N1P,a7J,Z5M,F2H,d17,o83,Z_Z;U3o="un";U3o+="de";U3o+="fine";U3o+="d";a$j="m";a$j+="ou";a$j+="seWhee";a$j+="l";if(this.runPrepend(a$j,arguments)){return;}if(c5X.preventDefault){c5X.preventDefault();}if(this.openDialog !== ""){return;}S57=c5X.deltaX;w3V=c5X.deltaY;if(Math.abs(w3V) > Math.abs(S57)){S57=0;}else {w3V=+"0";}this.lastMouseWheelEvent=Date.now();if(Math.abs(S57) === 0 && Math.abs(w3V) === +"0"){return;}y9W.n2i();if(c5X.shiftKey && w3V){S57=w3V;w3V=0;}if(this.allowSideswipe && S57 !== 0){this.lastMove="horizontal";N1P=S57;this.grabbingScreen=!![];if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=a$p.ChartEngine.crosshairX;this.grabStartY=a$p.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;if(this.mouseWheelAcceleration){f40=Math.max(Math.pow(Math.abs(N1P),0.3),1);N1P*=f40;}this.mousemoveinner(a$p.ChartEngine.crosshairX - N1P,a$p.ChartEngine.crosshairY);a$p.ChartEngine.crosshairX=this.crosshairX=c5X.clientX;this.updateChartAccessories();this.grabbingScreen=!"1";return;}this.lastMove="vertical";if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayInitialized){return;}if(!w3V){if(a$p.wheelEvent == "mousewheel"){y9W.f$a(10);var z4V=y9W.C6$(18,19,0);y9W.f$a(116);var v2H=y9W.C6$(29,17,391,23,10);w3V=z4V / v2H * c5X.wheelDelta;if(c5X.wheelDeltaX){y9W.I0Z(117);var w5i=y9W.z5U(76,3,5,12,18);y9W.I0Z(118);var X90=y9W.z5U(8,16,984,11,600);S57=w5i / X90 * c5X.wheelDeltaX;}}else {w3V=c5X.detail;}}if(typeof c5X.deltaMode == U3o){c5X.deltaMode=c5X.type == "MozMousePixelScroll"?0:1;}a7J=-w3V;if(c5X.deltaMode == 1){a7J*=33;}Z5M=null;F2H=null;if(this.mouseWheelAcceleration){d17=-+"599953707";o83=-1453106418;Z_Z=2;for(var C2f="1" - 0;y9W.o1c(C2f.toString(),C2f.toString().length,87865) !== d17;C2f++){f40=Math.max(Math.pow(Math.abs(a7J),269),+"9");Z5M=Math.max(Number.MIN_VALUE,0 / (662 / f40));y9W.f$a(119);F2H=y9W.C6$(Z5M,"2");Z_Z+=2;}if(y9W.o1c(Z_Z.toString(),Z_Z.toString().length,83443) !== o83){f40=Math.max(Math.pow(Math.abs(a7J),0.3),1);Z5M=Math.max(Number.MIN_VALUE,1 - 0.1 * f40);y9W.I0Z(8);F2H=y9W.C6$(1,Z5M);}}this.zoomInitiatedByMouseWheel=!"";if(a7J > 0){if(this.reverseMouseWheel){this.zoomOut(null,F2H);}else {this.zoomIn(null,Z5M);}}else if(a7J < 0){if(this.reverseMouseWheel){this.zoomIn(null,Z5M);}else {this.zoomOut(null,F2H);}}if(this.runAppend("mouseWheel",arguments)){return;}return !1;};a$p.ChartEngine.handleContextMenu=function(h5G){R3X5F.F64();var j94,u8r;j94=a$p.ChartEngine.registeredContainers;for(var Z$9=0;Z$9 < j94.length;Z$9++){if(h5G.target.ownerDocument !== j94[Z$9].ownerDocument)continue;u8r=j94[Z$9].stx;if(u8r){if(u8r.anyHighlighted){if(h5G.preventDefault){h5G.preventDefault();}return !({});}}}};a$p.ChartEngine.registerGlobalEvent("contextmenu",a$p.ChartEngine.handleContextMenu);a$p.ChartEngine.htmlControls={annotationSave:a$B,annotationCancel:H1h,mSticky:`
		<div class="stx_sticky">
			<span class="label">
				<span class="mStickyThumbnail"></span>
				<span class="mStickyInterior"></span>
			</span>
			<span class="mousePinTooltip">(left-click to pin tooltip)</span>
			<span class="mStickyRightClick">
				<span class="overlayText stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="overlayEdit stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="overlayTrashCan stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="mouseDeleteInstructions">
					<span>(</span>
					<span class="mouseDeleteText">right-click to delete</span>
					<span class="mouseManageText">right-click to manage</span>
					<span>)</span>
				</span>
			</span>
			<span class="stickyLongPressText">(long-press to drag)</span>
			<span class="customInstructions">
				<span>(</span>
				<span class="dragAnchorText" type="anchorHandle">
					drag to change anchor time
				</span>
				<span>)</span>
			</span>
		</div>
	`,drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:`<div class="stx_chart_controls" style="display: none;">
		<div class="chartSize">
			<span class="stx-zoom-out" role="button" aria-label="Zoom Out"></span>
			<span class="stx-zoom-in" role="button" aria-label="Zoom In"></span>
		</div></div>`,home:'<div class="stx_jump_today" role="button" aria-label="Home" style="display:none"><span></span></div>',floatDate:Z_A,handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:t$5};a$p.ChartEngine.prototype.registerChartControl=function(k4S,u0P,b6k){var q6Q=R3X5F;var G66,Z7g,r1m;G66=this.controls;if(!G66 || !G66.chartControls){return;}q6Q.F64();if(G66.chartControls.querySelector((7690 != (+"853.21",1480)?".":"1.90e+3" ^ 0) + k4S)){return;}Z7g=null;r1m=G66.chartControls.querySelector(".stx-zoom-in");if(r1m){Z7g=document.createElement("span");Z7g.ariaLabel=u0P;Z7g.role="button";q6Q.I0Z(15);Z7g.innerHTML=q6Q.z5U("</div>",'<div class="stx-tooltip" aria-hidden="true">',u0P);q6Q.I0Z(0);Z7g.className=q6Q.C6$("stx-chart-control-button ",k4S);r1m.parentNode.appendChild(Z7g);if(b6k){a$p.safeClickTouch(Z7g,b6k,{keyboardClick:!""});}return Z7g;}};a$p.ChartEngine.prototype.zoomOut=function(B9s,M7F){var o6I,h2W,f5H,S8t;if(this.runPrepend("zoomOut",arguments)){return;}if(this.preferences.zoomOutSpeed){M7F=this.preferences.zoomOutSpeed;}else if(!M7F){R3X5F.f$a(120);M7F=R3X5F.z5U(0.7,"1",0);}function z8i(x99){return function(n3I){var S81;o6I.zoomSet(n3I,x99);if(o6I.animations.zoom.hasCompleted){S81="zo";S81+="om";S81+="Out";if(o6I.runAppend(S81,arguments)){return;}o6I.changeOccurred("layout");if(o6I.continuousZoom){o6I.continuousZoom.execute(!!({}));}}};}if(B9s && B9s.preventDefault){B9s.preventDefault();}this.cancelTouchSingleClick=!0;o6I=this;for(var p0C in this.charts){h2W=this.charts[p0C];f5H=h2W.width * M7F / this.layout.candleWidth;if(h2W.allowScrollFuture === ![] && h2W.allowScrollPast === !!"" && f5H > h2W.dataSet.length){f5H=h2W.dataSet.length;}S8t=this.chart.width / f5H;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(z8i(h2W),this.layout.candleWidth,S8t,!1,this.ownerWindow);}};a$p.ChartEngine.prototype.zoomIn=function(o_j,Y$h){var Y4j=R3X5F;var Y9A,R4Y,I0B,R7a;if(this.runPrepend("zoomIn",arguments)){return;}function z$k(W$$){Y4j.n2i();return function(l5O){var q_l;Y9A.zoomSet(l5O,W$$);if(Y9A.animations.zoom.hasCompleted){q_l="layou";q_l+="t";if(Y9A.runAppend("zoomIn",arguments)){return;}Y9A.changeOccurred(q_l);if(Y9A.continuousZoom){Y9A.continuousZoom.execute();}}};}if(this.preferences.zoomInSpeed){Y$h=this.preferences.zoomInSpeed;}else if(!Y$h){Y4j.f$a(7);Y$h=Y4j.C6$(0,"0.7");}if(o_j && o_j.preventDefault){o_j.preventDefault();}this.cancelTouchSingleClick=!!"1";Y9A=this;for(var Y9T in this.charts){R4Y=this.charts[Y9T];I0B=R4Y.width * Y$h / this.layout.candleWidth;if(R4Y.maxTicks - I0B < 1){Y4j.I0Z(18);var q1r=Y4j.C6$(21,4,16);I0B=R4Y.maxTicks - q1r;}if(I0B < this.minimumZoomTicks){I0B=this.minimumZoomTicks;}R7a=this.chart.width / I0B;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(z$k(R4Y),this.layout.candleWidth,R7a,![],this.ownerWindow);}};a$p.ChartEngine.prototype.createCrosshairs=function(){var d5E,l8g;if(this.runPrepend("createCrosshairs",arguments)){return;}if(!this.manageTouchAndMouse || this.mainSeriesRenderer.nonInteractive){return;}d5E=this.controls.crossX;l8g=this.controls.crossY;if(d5E){if(!d5E.onmousedown){d5E.onmousedown=function(T1Y){if(T1Y.preventDefault){T1Y.preventDefault();}return !"1";};}}if(l8g){if(!l8g.onmousedown){l8g.onmousedown=function(d4p){if(d4p.preventDefault){d4p.preventDefault();}return !({});};}}this.runAppend("createCrosshairs",arguments);};b6x=!!"";a$p.ChartEngine.prototype.mousemoveinner=a$p.ChartEngine.prototype.mousemoveinner || (function(U4R,E0l){R3X5F.n2i();if(!b6x){console.error("interaction feature requires activating movement feature.");}b6x=!!({});});};N9=w$L=>{var y1H,Y_9;y1H="undefi";y1H+="n";y1H+="e";y1H+="d";Y_9=typeof _CIQ !== y1H?_CIQ:w$L.CIQ;if(!Y_9.Marker){Y_9.ChartEngine.helpersToRegister.push(function(e1X){var d$n,V4S,P2S;d$n=-2054197500;V4S=151746007;P2S=2;for(var B_8=1;R3X5F.o1c(B_8.toString(),B_8.toString().length,+"50706") !== d$n;B_8++){e1X.markerHelper={classMap:{},domMarkers:[],visibleCanvasMarkers:[],highlighted:[],placementMap:{},groupMap:{},fieldPanelMap:{}};P2S+=2;}if(R3X5F.W7K(P2S.toString(),P2S.toString().length,12072) !== V4S){e1X.markerHelper={classMap:{},domMarkers:[],visibleCanvasMarkers:[],highlighted:[],placementMap:{},groupMap:{},fieldPanelMap:{}};}});Y_9.ChartEngine.prototype.addToMarkerMapping=function(I$M){var s_A,u33;this.removeFromHolder(I$M);s_A=this.panels[I$M.params.panelName];if(!s_A){return;}I$M.chart=s_A.chart;u33=this.markerHelper.classMap[I$M.className];if(!u33){u33=this.markerHelper.classMap[I$M.className]={};}if(!u33[I$M.params.panelName]){u33[I$M.params.panelName]=[];}u33[I$M.params.panelName].push(I$M);this.markerHelper.classMap[I$M.className]=u33;var {label:R4x}=I$M.params;if(!this.markers[R4x]){this.markers[R4x]=[];}this.markers[R4x].push(I$M);};Y_9.ChartEngine.prototype.addToHolder=function(g48){var J3_,U8V,V5w,j4E;J3_=this.panels[g48.params.panelName];if(!J3_){return;}U8V=g48.params;V5w=g48.node;j4E=g48.stxNodeCreator;if(j4E && j4E.prepareForHolder){V5w=j4E.prepareForHolder(g48);}if(U8V.chartContainer){this.container.appendChild(g48.node);}else if(U8V.includeAxis){J3_.holder.appendChild(g48.node);}else {J3_.subholder.appendChild(V5w);}g48.chart=J3_.chart;if(j4E && j4E.addToHolder){j4E.addToHolder(g48);}if(j4E && j4E.expand){if(j4E.node.params.pinnable && g48.makePinnable){g48.makePinnable();}Y_9.Marker.initializeScrollBehavior(j4E);if(j4E.expansionHolder){Y_9.Marker.initializeScrollBehavior({expand:j4E.expansionHolder});}}if(g48.className !== "CIQ.Marker.Group"){this.updateGroupMap();}};Y_9.ChartEngine.prototype.getMarkerArray=function(M4A,l5x){var l_C,I88,o4e;l_C=[];for(var Y7i in this.markers){for(var S_U="0" - 0;S_U < this.markers[Y7i].length;S_U++){I88="pane";I88+="lN";I88+="am";I88+="e";o4e=this.markers[Y7i][S_U];if(M4A == I88){if(o4e.params.panelName == l5x){l_C.push(o4e);}}else if(M4A == "label"){if(Y7i == l5x){l_C.push(o4e);}}else if(M4A == "field"){if(o4e.params.field === l5x){l_C.push(o4e);}}else if(M4A == "all"){l_C.push(o4e);}}}return l_C;};Y_9.ChartEngine.prototype.removeFromHolder=function(l7q){var q62,R6S,B14;q62="CIQ.M";q62+="ark";q62+="er.Group";l7q.node.remove();R6S=this.markers[l7q.params.label];if(!R6S){return;}for(var D4E=0;D4E < R6S.length;D4E++){if(R6S[D4E] === l7q){R3X5F.f$a(1);R6S.splice(D4E,R3X5F.C6$(1,"1"));break;}}B14=this.markerHelper.classMap[l7q.className];if(B14){Object.entries(B14).forEach(([n0S,v$j])=>{var V69;V69=v$j.indexOf(l7q);if(V69 > -1){v$j.splice(V69,1);}R3X5F.n2i();if(!v$j.length){delete B14[n0S];}});}if(l7q.className !== q62){this.updateGroupMap();}};Y_9.ChartEngine.prototype.moveMarkers=function(b7h,u7$,K_4){var L8n,U0H,e6n;L8n=K_4 || this.getMarkerArray("panelName",b7h);L8n.forEach(K01=>{if(K01 instanceof Y_9.Marker.Group){return;}K01.params.panelName=u7$;if(K_4){this.addToMarkerMapping(K01);if(!K01.stxNodeCreator || !K01.stxNodeCreator.isCanvasMarker || !K01.stxNodeCreator.deferAttach){this.addToHolder(K01);}}});R3X5F.F64();if(K_4){return;}for(var D3t in this.markerHelper.classMap){U0H=this.markerHelper.classMap[D3t];e6n=U0H[b7h];if(e6n){U0H[u7$]=e6n;delete U0H[b7h];}}this.updateGroupMap();};Y_9.ChartEngine.prototype.establishMarkerTicks=function(){R3X5F.n2i();var x4G;x4G="a";x4G+="l";x4G+="l";this.getMarkerArray(x4G).forEach(v$O=>{return this.setMarkerTick(v$O);});this.updateGroupMap();};Y_9.ChartEngine.prototype.futureTickIfDisplayed=function(p8j){var j5k,s4d,o$J,Z2x,N4M,e3u,Y$8,u5T,c06;j5k=p8j.chart;if(j5k.dataSet.length < 1){return;}s4d=j5k.xaxis[j5k.xaxis.length - 1].DT;s4d=new Date(s4d.getTime() - this.timeZoneOffset * +"60000");if(p8j.params.x > s4d){return;}o$J=j5k.maxTicks - j5k.dataSegment.length;Z2x=j5k.dataSet.length + o$J;Y$8=new Date(+j5k.dataSet[j5k.dataSet.length - "1" * 1].DT);u5T=this.standardMarketIterator(Y$8,null,j5k);c06=p8j.params.x.getTime();for(var b8J=j5k.dataSet.length;b8J < Z2x;b8J++){N4M=Y$8.getTime();Y$8=u5T.next();e3u=Y$8.getTime();if(e3u == c06){p8j.tick=b8J;return;}else if(e3u > c06 && N4M < c06){R3X5F.f$a(7);p8j.tick=Math.max(R3X5F.z5U(1,b8J),0);return;}}};Y_9.ChartEngine.prototype.setMarkerTick=function(x$e){var Y7D,x7E,l4z,q3B,k0g,V17,x4e,h3d;Y7D="d";Y7D+="at";Y7D+="e";x7E="m";x7E+="as";x7E+="ter";l4z=x$e.chart || this.chart;if(x$e.params.xPositioner == x7E && x$e.params.x){x$e.tick=Math.floor(x$e.params.x / this.layout.periodicity);}else if(x$e.params.xPositioner == "tick" && x$e.params.x){x$e.tick=x$e.params.x;}else if(x$e.params.xPositioner == Y7D && x$e.params.x){V17=x$e.params.x.getTime();for(var k2H=0;k2H < l4z.dataSet.length;k2H++){x4e=l4z.dataSet[k2H];k0g=x4e.DT.getTime();q3B=k0g;if(k2H > 0){q3B=l4z.dataSet[k2H - 1].DT.getTime();}if(k0g == V17){x$e.tick=k2H;return;}else if(k0g > V17 && q3B < V17){R3X5F.f$a(7);x$e.tick=Math.max(R3X5F.z5U(1,k2H),0);return;}else if(V17 < k0g){x$e.tick=null;return;}}if(l4z.dataSet.length < 1){return;}h3d=new Date(+l4z.dataSet[k2H - 1].DT);if(h3d.getTime() < V17){x$e.params.future=!!({});}x$e.tick=null;}};Y_9.ChartEngine.prototype.updateGroupMap=function(){var y8Q,v_e,t3M,C7f;y8Q=this.getMarkerArray("all");var {groupMap:a7H}=this.markerHelper;Object.values(a7H).forEach(r8c=>{if(r8c.groupMarker){r8c.groupMarker.savedMarkers=r8c.markers;}r8c.markers=[];});y8Q.forEach(p0h=>{var s11=R3X5F;var F2E,I7P,z$4,a9O,v4y;F2E="_";F2E+="la";F2E+="ne";var {className:S0S, tick:g7j}=p0h;var {yPositioner:T0A, xPositioner:M_T, panelName:B0u, x:t2L, label:G83, datum:X9Y, groupable:G1w, field:L6j}=p0h.params;if(G1w === !"1"){return;}if(S0S == "CIQ.Marker.Group"){return;}if(S0S == "CIQ.Marker.SignalIQ"){return;}if(!t2L && X9Y && X9Y.startDate){t2L=X9Y.startDate;}s11.n2i();var {node:b1R}=p0h.stxNodeCreator || ({});I7P=Y_9.Marker.TimeSpanEvent && p0h instanceof Y_9.Marker.TimeSpanEvent;if(!b1R || !b1R.params || !b1R.params.type || !this.groupableMarkerTypes.includes(b1R.params.type) || b1R.params.category == "trade" && !I7P){return;}if(!B0u || !T0A || !g7j || !t2L || p0h instanceof Y_9.Marker.Group){return;}z$4=T0A.includes(F2E) || Y_9.Marker.TimeSpanEvent && p0h instanceof Y_9.Marker.TimeSpanEvent;s11.I0Z(100);a9O=s11.z5U("|",T0A,B0u,z$4?(("497.89" * 1,9480) != 6102?"-":5860 < (5550,8710)?9874 <= 777.95?(4.10e+1,!""):0x190d:53.07) + G83:"",L6j?"-" + L6j:"");s11.I0Z(15);v4y=s11.z5U(g7j,a9O,"-");if(typeof a7H[v4y] == "undefined"){a7H[v4y]={yPositioner:T0A,xPositioner:M_T,panelName:B0u,className:S0S,field:L6j,x:t2L,tick:g7j,groupKey:v4y,groupMarker:null,markers:[]};}p0h.groupKey=v4y;p0h.hidden=!({});a7H[v4y].markers.push(p0h);});for(var y_x in a7H){v_e=a7H[y_x];if(v_e.markers.length > 1){v_e.markers.forEach(X61=>{return X61.hidden=!![];});if(!v_e.groupMarker){t3M={stx:this,panelName:v_e.panelName,yPositioner:v_e.yPositioner,xPositioner:v_e.xPositioner,x:v_e.x,field:v_e.field,groupKey:y_x,displayStem:!0};v_e.groupMarker=v_e.className == "CIQ.Marker.TimeSpanEvent"?new Y_9.Marker.TimeSpanEvent.Group({...t3M,y:v_e.markers[0].params.datum.spacingModifier,displayStem:![]}):new Y_9.Marker.Group(t3M);}else {v_e.groupMarker.groupKey=y_x;}var {stxNodeCreator:t4c}=v_e.groupMarker;C7f=this.panels[t4c.panelName] || this.chart;t4c.node.chartHeight=C7f.yAxis.height;t4c.updateVisual();}else {if(v_e.groupMarker){var {groupMarker:T95}=v_e;if(T95.stxNodeCreator.groupMarker){T95.stxNodeCreator.groupMarker.remove();T95.stxNodeCreator.groupMarker=null;}if(T95.savedMarkers){T95.savedMarkers.forEach(t34=>{R3X5F.n2i();return t34.groupExpansionEl=null;});T95.savedMarkers=null;}T95.remove();T95=null;}delete a7H[y_x];}}this.markerHelper.groupMap=a7H;};Y_9.ChartEngine.prototype.positionMarkers=function(){var l8M,T0H,E$2,U6y,x8z,Y9Z,h3m,t81,N$Y;l8M=this;T0H=this.chart;if(!l8M.markerHelper){return;}this.markerHelper.placementMap={};function u1P(){var t5u,E5P,o0F,T8j;R3X5F.n2i();if(l8M.runPrepend("positionMarkers",arguments)){return;}l8M.markerTimeout=null;for(var A$z in l8M.markerHelper.classMap){for(var e_8 in l8M.markerHelper.classMap[A$z]){t5u=l8M.markerHelper.classMap[A$z][e_8];t5u=t5u.filter(P52=>{return !P52.hidden;});E5P=l8M.panels[e_8];if(!E5P)continue;if(t5u.length){o0F={stx:l8M,arr:t5u,panel:E5P};o0F.firstTick=E5P.chart.dataSet.length - E5P.chart.scroll;o0F.lastTick=o0F.firstTick + E5P.chart.dataSegment.length;T8j=t5u[0].constructor.placementFunction;if(T8j){T8j(o0F);}else {l8M.defaultMarkerPlacement(o0F);}}}}l8M.runAppend("positionMarkers",arguments);}this.markerHelper.fieldPanelMap={};if(this.markerDelay || this.markerDelay === 0){if(!this.markerTimeout){this.markerTimeout=setTimeout(u1P,this.markerDelay);}}else {u1P();}E$2=this.getFirstLastDataRecord(T0H.dataSegment,"tick");R3X5F.n2i();U6y=this.getFirstLastDataRecord(T0H.dataSegment,"tick",!0);if(!E$2 || !U6y){return;}x8z=this.getMarkerArray("all");this.markerHelper.visibleCanvasMarkers=[];for(var t7o=0;t7o < x8z.length;t7o++){Y9Z="hi";Y9Z+="d";Y9Z+="den";h3m=x8z[t7o];t81=h3m.stxNodeCreator;if(E$2.tick <= h3m.tick && h3m.tick <= U6y.tick){this.markerHelper.visibleCanvasMarkers.push(h3m);if(t81 && t81.drawMarker){t81.drawMarker(h3m);}}else {h3m.highlight=!({});h3m.params.box=null;if(h3m.attached && t81 && t81.expand && !h3m.params.pinnedPosition){N$Y="h";N$Y+="id";N$Y+="den";t81.expand.style.visibility=N$Y;}}if(h3m.node){h3m.node.style.visibility=h3m.hidden?Y9Z:"";}if(h3m.groupExpansionEl && h3m.stxNodeCreator && h3m.stxNodeCreator.expand){h3m.stxNodeCreator.expand.style.visibility=h3m.hidden?"hidden":"";}if(h3m.chartMarker && h3m.hidden){h3m.chartMarker.remove();h3m.chartMarker=null;}}};Y_9.Marker=Y_9.Marker || (function(y$2){var n47,b9i,b5l,N$5,N_4,P0h;n47="a";n47+="bove_c";n47+="andl";n47+="e";b9i=this instanceof Y_9.Marker?this:Object.create(Y_9.Marker.prototype);var {stx:K$H}=y$2;if(!K$H){b5l="Mark";b5l+="er created witho";b5l+="ut speci";b5l+="fying stx";console.log(b5l);return;}if(!b9i.className){b9i.className="CIQ.Marker";}b9i.params={xPositioner:"date",yPositioner:y$2.y || y$2.y === 0?"value":n47,permanent:!({}),label:"generic",includeAxis:!({})};Y_9.extend(b9i.params,y$2);if(!b9i.params.panelName){N$5="p";N$5+="anelNa";N$5+="me";Object.defineProperty(b9i.params,N$5,{enumerable:!!1,get:()=>{var z7J,w5_,u6A,J54,Q6t;var {field:z42}=b9i.params;if(!z42){return K$H.chart.panel.name;}z7J=K$H.markerHelper.fieldPanelMap[z42];if(!z7J){z7J=(K$H.getPanelByField(z42) || K$H.chart.panel).name;w5_=26507206;u6A=-392358423;J54=2;for(var s9h=1;R3X5F.W7K(s9h.toString(),s9h.toString().length,+"71546") !== w5_;s9h++){K$H.markerHelper.fieldPanelMap[z42]=z7J;J54+=2;}if(R3X5F.W7K(J54.toString(),J54.toString().length,+"33756") !== u6A){K$H.markerHelper.fieldPanelMap[z42]=z7J;}}if(z7J !== b9i.params._panelName){Q6t=K$H.markerHelper.classMap[b9i.className];if(Q6t){Q6t=Q6t[b9i.params._panelName];if(Q6t && Q6t.includes(b9i)){var {isConnected:f94}=b9i.node;K$H.addToMarkerMapping(b9i);if(f94 || b9i.attached){K$H.addToHolder(b9i);}}}b9i.params._panelName=z7J;}return z7J;},set:e81=>{return K$H.markerHelper.fieldPanelMap[b9i.params.field]=e81;}});}if(!b9i.params.node){N_4="D";N_4+="I";N_4+="V";b9i.params.node=document.createElement(N_4);}R3X5F.n2i();if(Y_9.derivedFrom(b9i.params.node,Y_9.Marker.NodeCreator)){b9i.stxNodeCreator=b9i.params.node;b9i.node=b9i.stxNodeCreator.node;}else {b9i.node=b9i.params.node;}K$H.setMarkerTick(b9i);K$H.addToMarkerMapping(b9i);P0h=b9i.stxNodeCreator && b9i.stxNodeCreator.deferAttach;if(!P0h){K$H.addToHolder(b9i);}if(b9i.stxNodeCreator && b9i.stxNodeCreator.drawMarker){b9i.stxNodeCreator.drawMarker(b9i);}return b9i;});Y_9.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this);if(this.stxNodeCreator && this.stxNodeCreator.remove){this.stxNodeCreator.remove(this);}};Y_9.Marker.prototype.click=function(g_e){var u7c,K49;u7c="n";u7c+="u";u7c+="mb";u7c+="er";if(this.hidden){return;}if(typeof arguments[0] === u7c){g_e={cx:arguments[0],cy:arguments[1],panel:arguments[3]};}var {cx:b79, cy:o5W, panel:q5F}=g_e;if(!this.params.stx){return;}K49=this.params.node;if(K49.click){K49.click({cx:b79,cy:o5W,marker:this,panel:q5F});}};Y_9.Marker.prototype.doubleClick=function({cx:K0H, cy:a_f, panel:M1K}){return !"1";};Y_9.Marker.prototype.render=function(){var w78,Z6d;w78=[this];Z6d={stx:this.params.stx,arr:w78,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(Z6d);};Y_9.Marker.prototype.getMarkerGroup=function(){var d6X;if(!this.groupKey || !this.params.stx.markerHelper.groupMap){return;}d6X=this.params.stx.markerHelper.groupMap[this.groupKey];if(d6X){return d6X.groupMarker;}};Y_9.Marker.prototype.makeDraggable=function(p2J){var F_o=R3X5F;var n1p,G1e,o8s,T8b,k01,f6i,J77,j0E,T6c;var {stx:g0n}=this.params;n1p=g0n.panels[this.params.panelName];if(!p2J && p2J !== ![]){p2J=!!"1";}if(p2J === !0){p2J=n1p.subholder;}G1e=this.stxNodeCreator?this.stxNodeCreator.expand || this.stxNodeCreator.node:this.node;if(this.groupExpansionEl){o8s=".st";o8s+="x-marker-expand";G1e=this.groupExpansionEl.querySelector(o8s);}G1e.draggable=!!p2J;G1e.removeEventListener("dragstart",this.dragListener);F_o.F64();if(!p2J){g0n.undoModal(G1e);G1e.style.cursor="";return;}g0n.makeModal(G1e);G1e.style.cursor="grab";T8b=w2f=>{var e95;e95="m";e95+="ove";if(w2f.target !== G1e){return;}Y_9.Marker.beingDragged={marker:this,offset:{x:w2f.offsetX,y:w2f.offsetY},node:w2f.target,dropzone:p2J};G1e.classList.add("being-dragged");g0n.draw();w2f.dataTransfer.effectAllowed=e95;};k01=Y8l=>{var p1H,r6$,z80,G7s;p1H="m";p1H+="o";p1H+="v";p1H+="e";F_o.F64();var {beingDragged:Z2O}=Y_9.Marker;if(!Z2O){return;}var {dropzone:S3Y, marker:C5E, offset:I_j}=Z2O;if(S3Y !== p2J){r6$="non";r6$+="e";Y8l.dataTransfer.dropEffect=r6$;return;}Y8l.preventDefault();z80=g0n.backOutX(Y8l.pageX - I_j.x);G7s=g0n.backOutY(Y8l.pageY - I_j.y);var {dragOrigin:r4E}=C5E;C5E.dragOrigin={x:z80,y:G7s};if(!r4E || r4E.x !== z80 || r4E.y !== G7s){g0n.draw();}Y8l.dataTransfer.dropEffect=p1H;};f6i=K4c=>{F_o.F64();var c4N,s6U;var {beingDragged:V59}=Y_9.Marker;if(!V59){return;}var {dropzone:v0T, marker:W04, node:e7g}=V59;if(v0T !== p2J){return;}e7g.classList.remove("being-dragged");delete W04.dragOrigin;if(W04.store){W04.store();}Y_9.Marker.beingDragged=null;if(e7g.closest(".ciq-expansion-holder")){c4N=W04.getMarkerGroup();s6U=c4N.node.querySelector(".ciq-pinned-holder");s6U.appendChild(e7g.parentNode);}g0n.draw();};J77=g99=>{var G0P,t2V,i2H,A70,y5P,u2I,O64,p1o,l9B,d4V,q8n,L1_;G0P="n";G0P+="o";G0P+="n";G0P+="e";var {beingDragged:B3F}=Y_9.Marker;if(!B3F){return;}var {dropzone:A$B, marker:M3R, node:Q9U}=B3F;if(A$B !== p2J){return;}t2V=M3R.getMarkerGroup();var {field:P3$, xPositioner:S5q, yPositioner:W9T}=M3R.params;i2H=M3R.params.yAxis || g0n.getYAxisByField(n1p,P3$) || n1p.yAxis;F_o.F64();A70=Y_9.elementDimensions(Q9U,{margin:!"",border:!!"1",padding:!![]});y5P=g0n.backOutX(g99.pageX) - B3F.offset.x;u2I=g0n.backOutY(g99.pageY) - B3F.offset.y;O64={};p1o=Q9U === M3R.node || !M3R.node.parentElement;if(S5q === G0P || !S5q && M3R.params.x === undefined){Q9U.style.left=y5P - g0n.chart.left + "px";}else {l9B=p1o && !t2V?A70:Y_9.elementDimensions((t2V || M3R).node,{margin:!![],border:!![],padding:!!({})});F_o.f$a(26);var U4d=F_o.z5U(9,8);F_o.I0Z(7);var S6H=F_o.z5U(9,8);F_o.f$a(121);var g7M=F_o.C6$(0,3,6,9,3);O64.candleOffset=(y5P + (p1o?U4d:S6H) * l9B.width / g7M - g0n.pixelFromTick(M3R.tick)) / g0n.layout.candleWidth;}if(W9T === "none" || !W9T && M3R.params.y === undefined){Q9U.style.bottom=i2H.height - u2I - A70.height + "px";}else {d4V=844366849;q8n=+"1074908253";L1_=2;for(var l28=+"1";F_o.o1c(l28.toString(),l28.toString().length,96867) !== d4V;l28++){O64.y=g0n.valueFromPixel(u2I / (A70.height + 6),n1p,i2H);L1_+=2;}if(F_o.W7K(L1_.toString(),L1_.toString().length,28414) !== q8n){O64.y=g0n.valueFromPixel(u2I + A70.height / 2,n1p,i2H);}}M3R.params.pinnedPosition=O64;};this.dragListener=T8b;G1e.addEventListener("dragstart",T8b);if(!p2J.dropzoneForPinnedMarkers){j0E="dr";j0E+="op";T6c="dra";T6c+="g";T6c+="e";T6c+="nd";p2J.addEventListener("dragover",k01);p2J.addEventListener(T6c,f6i);p2J.addEventListener(j0E,J77);p2J.dropzoneForPinnedMarkers=!!1;}};Y_9.Marker.removeByLabel=function(A11,h2m){R3X5F.F64();var Z9U,Y4D;Z9U=A11.getMarkerArray("label",h2m);for(var I5$=+"0";I5$ < Z9U.length;I5$++){Y4D=Z9U[I5$];A11.removeFromHolder(Y4D);if(Y4D.stxNodeCreator && Y4D.stxNodeCreator.remove){Y4D.stxNodeCreator.remove(Y4D);}}A11.draw();};Y_9.Marker.positionContentVerticalAndHorizontal=function(l_s,z6O){var E6J=R3X5F;var n1s,H$7,i$H,R3S,y91,I1K;n1s=l_s.querySelector(".stx-marker-expand");H$7=l_s.querySelector(".ciq-expansion-holder");i$H=(X8F,x0_)=>{var Y0c,E$l,B3l,H$_,x7e;if(!x0_.parentNode){return;}var {offsetHeight:C65, style:e9a}=X8F;e9a.bottom=e9a.top="";Y0c=getComputedStyle(X8F);var {bottom:S2f}=Y0c;E$l=parseInt(S2f,10);B3l=x0_.offsetTop;if(!x0_.classList.contains("callout")){B3l-=E$l + C65 - x0_.offsetHeight;}H$_=x0_.parentNode.offsetHeight;if(x0_.offsetTop <= H$_){if(B3l > H$_ - C65){e9a.top=H$_ - x0_.offsetTop - C65 + "px";e9a.bottom="auto";}}else {E6J.I0Z(0);e9a.top=E6J.C6$(H$_,"px");}if(x0_.offsetTop + x0_.offsetHeight >= 0){if(B3l < 0){x7e="p";x7e+="x";e9a.top=-x0_.offsetTop + x7e;e9a.bottom="auto";}}else {e9a.bottom="0px";}};R3S=(u4H,d3s,X9a)=>{var l$j,q6u,U0P,W8N,Y3V,m7Q;if(!d3s.parentNode){return;}l$j=u4H.style;l$j.left=l$j.right="";if(X9a){X9a.style.left=X9a.style.right="";}q6u=getComputedStyle(u4H);U0P=q6u.left;E6J.f$a(122);E6J.F64();var G21=E6J.z5U(7,4750,17,40);W8N=d3s.offsetLeft + parseInt(U0P,G21);E6J.f$a(7);var i5d=E6J.C6$(12,22);Y3V=d3s.offsetLeft - parseInt(U0P,i5d);m7Q=d3s.parentNode.offsetWidth;if(W8N + u4H.offsetWidth > m7Q){l$j.right=U0P;l$j.left="auto";if(X9a){E6J.I0Z(114);var H2m=E6J.C6$(8,6,3);X9a.style.right=u4H.offsetWidth + parseInt(U0P,H2m) + "px";}}else if(X9a && Y3V < X9a.offsetWidth){X9a.style.right="auto";E6J.f$a(25);var n5G=E6J.C6$(2,18,6,11);X9a.style.left=u4H.offsetWidth + parseInt(U0P,n5G) + "px";}else if(X9a){X9a.style.right=U0P;}};if(!n1s || !n1s.isConnected){return;}n1s.style.bottom=n1s.style.top="";y91=l_s.classList.contains("highlight") && n1s.style.visibility !== "hidden" || H$7 && H$7.style.visibility !== "hidden";if(!y91 && !z6O){return;}i$H(n1s,l_s);if(H$7){if(l_s.chartHeight){E6J.f$a(7);var Y_g=E6J.C6$(15,25);H$7.style.maxHeight=l_s.chartHeight - Y_g + "px";}if(H$7.__ps){H$7.__ps.update();}i$H(H$7,l_s);}R3S(n1s,l_s,H$7);I1K=n1s?n1s.closest(".stx-subholder"):null;if(l_s.classList.contains("group") && I1K && I1K.offsetHeight < 200){E6J.I0Z(114);var t_m=E6J.C6$(18,36,18);n1s.style.maxHeight=I1K.offsetHeight - t_m + "px";}};Y_9.Marker.initializeScrollBehavior=function(k3o){var u_1,s6c,H4k;var {expand:u2x}=k3o;if(!u2x || u2x.scrollInitialized){return;}if(!u2x.querySelector(".marker_content")){u_1="d";u_1+="i";u_1+="v";s6c=document.createElement(u_1);s6c.className="marker_content";[...u2x.children].forEach(n4Z=>{return s6c.appendChild(n4Z);});u2x.appendChild(s6c);}u2x.addEventListener(Y_9.wheelEvent,z0u=>{return z0u.stopPropagation();},{passive:!"1"});u2x.addEventListener("touchmove",S58=>{R3X5F.F64();return S58.stopPropagation();},{passive:!!0});var {scrollbarStyling:g4Z}=Y_9.UI || ({});if(g4Z){g4Z.refresh(u2x);}else {H4k="scro";H4k+="ll";u2x.style.overflowY=H4k;}R3X5F.n2i();u2x.scrollInitialized=!!1;};Y_9.ChartEngine.prototype.getBarBounds=function(p$h,B49){var y1h,E$o,z_S,p7r,j6s;y1h=this.layout.aggregationType;if(!B49 && y1h == "pandf"){E$o={high:Math.max(p$h.pfOpen,p$h.pfClose),low:Math.min(p$h.pfOpen,p$h.pfClose)};}else {E$o={high:p$h.High,low:p$h.Low};}R3X5F.F64();if(p$h.markerHigh){E$o.high=p$h.markerHigh;}if(p$h.markerLow){E$o.low=p$h.markerLow;}if(p$h.Open === undefined){z_S=p$h.Close;}if(p$h.High === undefined){p7r=Math.max(p$h.Open || z_S,p$h.Close);}if(p$h.Low === undefined){j6s=Math.min(p$h.Open || z_S,p$h.Close);}if(!E$o.high && E$o.high !== 0){E$o.high=p7r;}if(!E$o.low && E$o.low !== 0){E$o.low=j6s;}return E$o;};Y_9.ChartEngine.prototype.defaultMarkerPlacement=function(a7t){var X_B=R3X5F;var C6B,i$w,i_S,p9G,U9u,e1b,o5Y,b9V,C7t,x_9,W1f,b5Y,F_2,h2N,W3Q,d6f,v4B,J8N,m_F,Z8Q,m3m,O3i,W6z,p$_,U2R,d4j,T0j,p1T,k8U,I2b,R43,b5b,R1X,k_8,N4v,J5m,n4j,A6s,P96,g_R,U7L,Q3q,X2W,l3r,p8B,S43,k_3,N80,z0m,g29,f14,z_R,s2o,F87,K4t,U0g,r0Q,q37;C6B=a7t.panel;i$w=C6B.chart;i_S=a7t.stx;X_B.F64();p9G={};Object.values(i_S.chart.series).forEach(function(O74){p9G[O74.parameters.symbol]=Y_9.Renderer.produce(O74.parameters.chartType,{}).highLowBars;});for(var N_7=0;N_7 < a7t.arr.length;N_7++){U9u="ca";U9u+="n";U9u+="dl";U9u+="e";e1b="no";e1b+="n";e1b+="e";o5Y="Clos";o5Y+="e";b9V=a7t.arr[N_7];C7t=b9V.params;if(!C7t.pinnedPosition && C7t.box)continue;x_9=b9V.node;W1f=b9V.stxNodeCreator?b9V.stxNodeCreator.expand:x_9.querySelector(".stx-marker-expand");if(!b9V.clientWidth){b9V.clientWidth=x_9.clientWidth;}if(!b9V.clientHeight){b9V.clientHeight=x_9.clientHeight;}b5Y=null;F_2=C7t.xPositioner;h2N=C7t.yPositioner;W3Q=C7t.pinnedPosition || ({});d6f=W1f && C7t.pinnedPosition || C7t.expandPosition;v4B=!W1f && W3Q.candleOffset || C7t.candleOffset;J8N=C7t.field;m_F=C7t.yAxis || this.getYAxisByField(C6B,J8N) || C6B.yAxis;Z8Q=b9V.tick;m3m=i$w.dataSet;O3i=b9V.clientWidth;W6z=J8N?p9G[J8N]:i_S.chart.highLowBars;p$_=i$w.defaultPlotField;if(!p$_ || W6z){p$_=o5Y;}if(F_2 != e1b){if(F_2 == "bar" && C7t.x){if(C7t.x < i$w.xaxis.length){U2R=i$w.xaxis[C7t.x];if(U2R){b5Y=U2R.data;}}Y_9.efficientDOMUpdate(x_9.style,"left",Math.round(i_S.pixelFromBar(C7t.x,i$w) - O3i / 2) + 1 + "px");}else {if(!Z8Q && Z8Q !== 0){if(C7t.future && i$w.scroll < i$w.maxTicks){i_S.futureTickIfDisplayed(b9V);Z8Q=b9V.tick;if(!Z8Q && Z8Q !== 0){d4j="-100";d4j+="0";d4j+="p";d4j+="x";x_9.style.left=d4j;continue;}}else {x_9.style.left="-1000px";continue;}}if(Z8Q < m3m.length){b5Y=m3m[Z8Q];}T0j=Math.round(i_S.pixelFromTick(Z8Q,i$w) - i$w.left - O3i / 2);Y_9.efficientDOMUpdate(x_9.style,"left",T0j + "px");b9V.leftpx=T0j;X_B.f$a(0);p1T=X_B.z5U(T0j,O3i);k8U=50;I2b=50;if(W1f && !W1f.style.visibility && x_9.classList.contains("highlight")){R43=W1f.getBoundingClientRect();T0j=Math.min(T0j,R43.left);p1T=Math.max(p1T,R43.right);if(d6f){b5b=(d6f.candleOffset || 0) * this.layout.candleWidth;if(d6f.candleOffset < 0){I2b=-b5b;}else {I2b=b5b;}}}if(T0j > i$w.right + I2b || p1T < i$w.left - k8U)continue;}if(!b5Y){X_B.I0Z(10);var m7O=X_B.z5U(4,3,0);b5Y=m3m[m3m.length - m7O];}}else if(h2N.indexOf(U9u) > -1){R1X=getComputedStyle(x_9).left;if(R1X){k_8=i_S.barFromPixel(parseInt(R1X,10),i$w);if(k_8 >= 0){b5Y=i$w.xaxis[k_8].data;if(!b5Y){X_B.I0Z(123);var z0I=X_B.z5U(13,2,14);b5Y=m3m[m3m.length - z0I];}}}}N4v=[v4B,(d6f || ({})).candleOffset];for(var g4I=0;g4I < N4v.length;g4I++){J5m="widt";J5m+="h";n4j="l";n4j+="e";n4j+="f";n4j+="t";A6s=N4v[g4I];if(A6s || A6s === 0){Y_9.efficientDOMUpdate((g4I?W1f:x_9).style,n4j,(x_9.isConnected?Y_9.stripPX(getComputedStyle(x_9)[g4I?J5m:"left"]):i_S.pixelFromTick(Z8Q) - (W1f || x_9).offsetWidth / 2) + A6s * this.layout.candleWidth + "px");}}Y_9.efficientDOMUpdate(x_9.style,"top","auto");P96=!W1f && W3Q.y || C7t.y;g_R=b9V.clientHeight;Q3q=+"0";if(h2N != "none"){X2W="bott";X2W+="om";l3r="b";l3r+="ot";l3r+="tom_lane";p8B="on_cand";p8B+="l";p8B+="e";S43="below_ca";S43+="ndle";X_B.f$a(124);var E$9=X_B.C6$(9,5,20,11,13);k_3=h2N.indexOf("_lane") > E$9;N80=i_S.markerHelper.placementMap;X_B.f$a(114);var e_a=X_B.z5U(6433,411,3);X_B.I0Z(70);var Y0Z=X_B.z5U(14,225,10,14);X_B.I0Z(7);var w29=X_B.C6$(13,3953);X_B.I0Z(7);var G3C=X_B.C6$(53280,59200);X_B.f$a(0);var K2t=X_B.C6$(4378,4);z0m=h2N + ((e_a,Y0Z) == (603.54,w29)?G3C > "3966" - 0?(246.15,K2t):197.31:"|") + C6B.name + "|" + J8N;if(k_3 && N80[z0m] === undefined){N80[z0m]=2;}g29=z0m + "-" + (k_3?b9V.params.label:Z8Q);f14=C7t.chartContainer?i_S.height:m_F.bottom;z_R=0;if(N80[g29] === undefined){N80[g29]=k_3?N80[z0m]:0;if(k_3){X_B.f$a(0);N80[z0m]+=X_B.C6$(g_R,2);}}Q3q=N80[g29];if(!k_3){N80[g29]+=g_R;}s2o=i_S.pixelFromPrice.bind(i_S);F87=h2N == "value" && (P96 || P96 === ("0" | 0));if(!F87 && m_F === i_S.chart.yAxis && b5Y.transform && (J8N in b5Y.transform)){b5Y=b5Y.transform;s2o=i_S.pixelFromTransformedValue.bind(i_S);}if(b5Y && J8N){b5Y=b5Y[J8N];}if(typeof b5Y === "number"){b5Y={Close:b5Y};b5Y[p$_]=b5Y.Close;W6z=!!0;}if(F87){X_B.I0Z(7);var h11=X_B.z5U(9,11);z_R=Math.round(f14 - s2o(P96,C6B,m_F) - g_R / h11) + "px";}else if((h2N == S43 || h2N == "under_candle") && b5Y){K4t="p";K4t+="x";U0g="l";U0g+="o";U0g+="w";U7L=b5Y[p$_];if(W6z){U7L=i_S.getBarBounds(b5Y,!!J8N)[m_F.flipped?"high":U0g];}z_R=Math.round(f14 - s2o(U7L,C6B,m_F) - g_R - Q3q) + K4t;}else if(h2N == p8B && b5Y){U7L=b5Y[p$_];if(W6z){U7L=i_S.getBarBounds(b5Y,!!J8N);U7L=(U7L.high + U7L.low) / +"2";}X_B.I0Z(10);var d5C=X_B.z5U(11,9,0);z_R=Math.round(f14 - s2o(U7L,C6B,m_F) - g_R / d5C - Q3q) + "px";}else if(h2N == "top" || h2N == "top_lane"){z_R=Math.round(f14 - g_R - Q3q - C6B.top) + "px";}else if(h2N == "bottom" || h2N == l3r){z_R=Math.round(Q3q) + "px";}else if(b5Y){r0Q="lo";r0Q+="w";U7L=b5Y[p$_];if(W6z){U7L=i_S.getBarBounds(b5Y,!!J8N)[m_F.flipped?r0Q:"high"];}z_R=(Math.round(f14 - s2o(U7L,C6B,m_F) + Q3q) || 0) + "px";}Y_9.efficientDOMUpdate(x_9.style,X2W,z_R);if(d6f && (d6f.y || d6f.y === "0" * 1)){X_B.I0Z(125);var m4D=X_B.z5U(4,24,12,24);q37=Math.round(f14 - i_S.pixelFromPrice(d6f.y,C6B,m_F) - W1f.clientHeight / ("2" << m4D) - (x_9.isConnected?Y_9.stripPX(x_9.style.bottom):0)) + "px";Y_9.efficientDOMUpdate(W1f.style,"top","auto");Y_9.efficientDOMUpdate(W1f.style,"bottom",q37);}else {Y_9.Marker.positionContentVerticalAndHorizontal(x_9);}}if(b9V.position){b9V.position();}}};Y_9.Marker.NodeCreator=function(){};Y_9.Marker.NodeCreator.toNode=function(){return this.node;};Y_9.Marker.Simple=function(t_h){var c4E,V3c,v_m,Z8t,z78,b8F,a$6,S14,G9L,j8I,L4n,s9e,Z_l;c4E="s";c4E+="tx-stem";V3c="d";R3X5F.F64();V3c+="iv";v_m=this.node=document.createElement("div");v_m.params=t_h;v_m.className="stx-marker";v_m.classList.add(t_h.type);if(t_h.category){v_m.classList.add(t_h.category);}Z8t=Y_9.newChild(v_m,"div","stx-visual");Y_9.newChild(v_m,V3c,c4E);Y_9.ensureDefaults(v_m.params,{pinnable:this.pinnable});if(t_h.type == "callout"){b8F="p";b8F+="wra";b8F+="p";a$6="d";a$6+="i";a$6+="v";S14="h";S14+="4";G9L="d";G9L+="i";G9L+="v";v_m.params.pinnable=!({});z78=document.createElement(G9L);z78.classList.add("stx-marker-expand");Z8t.appendChild(z78);j8I=Y_9.newChild(z78,"div","stx-marker-content");Y_9.newChild(j8I,S14,null,t_h.headline);L4n=Y_9.newChild(j8I,a$6);L4n.classList.add(b8F);Y_9.newChild(L4n,830 !== ("5757" * 1,9028)?"p":6.01e+3,null,t_h.story);}else {s9e="stx-mar";s9e+="ker";s9e+="-expan";s9e+="d";Z_l="d";Z_l+="i";Z_l+="v";z78=Y_9.newChild(v_m,Z_l,s9e);Y_9.newChild(z78,"h4",null,t_h.headline);Y_9.newChild(z78,4520 >= (+"8060",479)?782.95 !== +"8950"?"p":(104.14,"3444" - 0) != 487.76?"3.49e+3" ^ 0:+"8.18e+3":(7.55e+3,0x3f7),null,t_h.story);if(!v_m.params.pinnable){Y_9.safeClickTouch(z78,()=>{this.remove({node:v_m});});}}Y_9.safeClickTouch(Z8t,()=>{R3X5F.F64();return this.click({marker:{node:v_m}});});this.nodeType="Simple";this.expand=z78;};Y_9.inheritsFrom(Y_9.Marker.Simple,Y_9.Marker.NodeCreator,![]);Y_9.Marker.Simple.prototype.click=function(O0U){var q9v,c2O;var {node:K9c}=O0U.marker;K9c.classList.toggle("highlight");R3X5F.n2i();q9v=0;c2O=setInterval(()=>{Y_9.Marker.positionContentVerticalAndHorizontal(K9c,!!"1");q9v++;if(q9v > 50){clearInterval(c2O);}},+"10");K9c.addEventListener("transitionend",()=>{var z2k;z2k=K9c.querySelector(".ps");if(z2k && Y_9.UI.scrollbarStyling){Y_9.UI.scrollbarStyling.refresh(z2k);}clearInterval(c2O);});};Y_9.Marker.Simple.prototype.remove=function(Q9N){Q9N.node.classList.remove("highlight");};Y_9.Marker.Group=function(R5G){var L1k,Z27,d5J;L1k="#003";L1k+="3";L1k+="9";L1k+="9";Z27="g";Z27+="roup";d5J="g";d5J+="r";d5J+="o";d5J+="up";this.stx=R5G.stx;this.className="CIQ.Marker.Group";this.groupKey=R5G.groupKey;R3X5F.n2i();Y_9.Marker.call(this,{...R5G,label:d5J,node:this.createNode({stx:this.stx,groupMap:this.stx.markerHelper.groupMap[this.groupKey],type:"circle",category:Z27,displayLabel:8970 >= (+"706",409.85)?"#":556.03 == (814.39,9430)?(2.38e+3,"108.68" - 0):(19.71,"464.93" - 0) !== 5680?(0x17e2,0x16c3):(![],"x"),displayCategory:!"1",displayStem:R5G.displayStem,noInteraction:R5G.noInteraction,panelName:R5G.panelName,color:L1k})});};Y_9.inheritsFrom(Y_9.Marker.Group,Y_9.Marker,!({}));Y_9.Marker.Group.prototype.getMarkersInGroup=function(){var C12;C12=this.stx.markerHelper.groupMap[this.groupKey] || ({});R3X5F.F64();return C12.markers || [];};Y_9.Marker.Group.prototype.createNode=function(A12){R3X5F.F64();return new Y_9.Marker.GroupNode(A12);};Y_9.Marker.Group.prototype.remove=function(){this.getMarkersInGroup().forEach(R0S=>{R0S.groupExpansionEl=null;});R3X5F.n2i();Y_9.Marker.prototype.remove.call(this);};Y_9.Marker.GroupNode=function(s2K){var g4H=R3X5F;var i6v,i$n,k4r,l0n,f6p,s1Z,H$J,A66,G8L;i6v="d";i6v+="i";i6v+="v";i$n="ciq-marker-l";i$n+="ist";k4r="u";k4r+="l";l0n="d";l0n+="iv";g4H.F64();f6p="stx-m";f6p+="ar";f6p+="ker";s1Z=this.node=document.createElement("div");s1Z.params=s2K;s1Z.className=f6p;s1Z.classList.add(s2K.type);s1Z.classList.add("group");H$J=Y_9.newChild(s1Z,l0n,"stx-visual");if(s2K.displayStem){Y_9.newChild(s1Z,"div","stx-stem");}A66=Y_9.newChild(s1Z,"div","stx-marker-expand");G8L=Y_9.newChild(A66,k4r,i$n);s2K.stx.makeModal(s1Z);Y_9.safeClickTouch(A66,function(x9K){var H4s,n6M,W95,n7h;g4H.I0Z(6);H4s=-g4H.C6$(64,"303231562");n6M=323909886;W95=2;for(var C4J=1;g4H.o1c(C4J.toString(),C4J.toString().length,"42819" - 0) !== H4s;C4J++){n7h="h";n7h+="ighli";n7h+="ght";s1Z.classList.toggle(n7h);W95+=2;}if(g4H.W7K(W95.toString(),W95.toString().length,+"21115") !== n6M){s1Z.classList.toggle("");}});Y_9.safeClickTouch(H$J,this.handleClick.bind(this));this.expansionHolder=Y_9.newChild(s1Z,i6v,"ciq-expansion-holder");this.pinnedExpansionHolder=Y_9.newChild(s1Z,"div","ciq-pinned-holder");this.nodeType="Group";this.visual=H$J;this.expand=A66;this.groupMap=s2K.groupMap;this.noInteraction=s2K.noInteraction;this.stx=s2K.stx;};Y_9.inheritsFrom(Y_9.Marker.GroupNode,Y_9.Marker.NodeCreator,!1);Y_9.Marker.GroupNode.prototype.handleClick=function(D_P){R3X5F.F64();if(this.noInteraction){return;}var {node:I3J}=this;this.updateMarkerList();I3J.classList.toggle("highlight");Y_9.Marker.positionContentVerticalAndHorizontal(I3J,!0);};Y_9.Marker.GroupNode.prototype.updateVisual=function(){var C5B;R3X5F.F64();var {markers:j4y}=this.groupMap;C5B=this.getGroupMarkerBackgroundColor();this.visual.style.backgroundColor=C5B;this.visual.style.color=Y_9.chooseForegroundColor(C5B);this.visual.innerHTML=j4y.length;if(!this.stx.pinnedMarkers || !this.stx.pinnedMarkers.list){return;}this.stx.pinnedMarkers.list.forEach(S_H=>{var i_q;R3X5F.F64();var {marker:X0e}=S_H;if(X0e.groupKey !== this.groupMap.groupKey){return;}if(X0e.groupExpansionEl && !X0e.groupExpansionEl.isConnected){X0e.groupExpansionEl=null;}if(!X0e.groupExpansionEl){i_q="h";i_q+="ighlig";i_q+="ht";this.handleMenuClick(X0e);this.node.classList.remove(i_q);}});};Y_9.Marker.GroupNode.prototype.getGroupMarkerBackgroundColor=function(){var p3X,w8d,R46,D70;var {stx:R66, groupMap:q28}=this;p3X="";w8d={};q28.markers.sort(this.markerSortFunction).forEach(a2H=>{var u0i,y77,e5N,G0X,D6C;u0i={};var {type:w26, category:z8g, color:J6b}=a2H.stxNodeCreator.node.params;R3X5F.F64();if(a2H.stxNodeCreator instanceof (Y_9.Marker.Performance || (function(){}))){y77="s";y77+="tx_";y77+="marker_";R3X5F.f$a(42);e5N=R3X5F.C6$((443.82,6753) !== 4310?(7469,953.74) >= (+"2330",74.33)?"_":(+"9760",453.83) <= (6307,8491)?"D":0x20d8:6.56e+3,y77,z8g,w26);if(!R66.styles[e5N]){Y_9.Marker.Performance.calculateMarkerStyles(R66,a2H,e5N);}u0i=R66.styles[e5N];}else {G0X=a2H.node.querySelector(".stx-visual");if(G0X){u0i=getComputedStyle(G0X);}}D6C=J6b || u0i.backgroundColor || "#828382";w8d[D6C]=++w8d[D6C] || 1;});R46=Object.values(w8d);D70=Math.max.apply(Math,R46);for(var K23 in w8d){if(w8d[K23] === D70){p3X=K23;break;}}return p3X;};Y_9.Marker.GroupNode.prototype.markerSortFunction=function(r5$,T81){if(r5$.params.x instanceof Date && T81.params.x instanceof Date){return T81.params.x - r5$.params.x;}};Y_9.Marker.GroupNode.prototype.updateMarkerList=function(){var w2z;var {stx:z4e}=this;var {markers:K0Q}=this.groupMap;w2z=this.expand.querySelector(".ciq-marker-list");if(!w2z){return;}w2z.innerHTML="";K0Q.sort(this.markerSortFunction).forEach(U9s=>{var L9w,U6P,W8Z,U2g,P7B,e$h,v0g,Y0a,g0b,W5R;L9w="tr";L9w+="ansparent";var {datum:T4k}=U9s.params;var {headline:k9L, story:d4x, type:b1u, category:e3Y, color:n$A, displayLabel:S49}=U9s.stxNodeCreator.node.params;U6P=b1u || "";W8Z=e3Y || "";U2g="";if(S49){U2g=z4e.emojify(S49);}if(T4k && T4k.img){U2g=T4k.img.outerHTML;}P7B={};if(U9s.stxNodeCreator instanceof (Y_9.Marker.Performance || (function(){}))){R3X5F.f$a(42);e$h=R3X5F.z5U((2811,740.32) >= 253?(114,42.59) !== (1353,6513)?"_":96:(0x1f34,+"0x12e5"),"stx_marker_",e3Y,b1u);if(!z4e.styles[e$h]){Y_9.Marker.Performance.calculateMarkerStyles(z4e,U9s,e$h);}P7B=z4e.styles[e$h];}else {v0g=U9s.node.querySelector(".stx-visual");if(v0g){P7B=getComputedStyle(v0g);}}Y0a=n$A || P7B.backgroundColor || "#828382";if(b1u == "text" || T4k && T4k.img){Y0a=L9w;}g0b=this.getDateLabel(U9s);g0b+=g0b?"<br>":"";W5R=document.createElement("li");if(d4x && d4x.length){W5R.title=d4x.length > 160?d4x.slice(0,160) + "...":d4x;}W5R.innerHTML=`
					<div class="stx-marker ${U6P}">
						<div class="stx-visual" style="background-color: ${Y0a};">
							${U2g}
						</div>
					</div> 
					${g0b}
					<span class="ciq-headline">${k9L}</span>
				`;if(U9s.groupExpansionEl && z4e.uiContext.topNode.contains(U9s.groupExpansionEl)){W5R.className="active";}else {U9s.groupExpansionEl=null;}U9s.groupListEl=W5R;Y_9.safeClickTouch(W5R,this.handleMenuClick.bind(this,U9s));w2z.appendChild(W5R);});};Y_9.Marker.GroupNode.prototype.getDateLabel=function(H7$){var c1P,h6N,g4W;c1P="YYYY/MM";c1P+="/dd hh:m";c1P+="m:s";c1P+="s";var {stx:S1z}=this;var {xPositioner:P_M, x:J_L}=H7$.params;if(!J_L || isNaN(J_L)){return "";}h6N=P_M == "tick"?S1z.dateFromTick(J_L,S1z.chart,!!({})):J_L;g4W=Object.prototype.toString.call(h6N) === "[object Date]"?Y_9.dateToStr(h6N,c1P):"";return g4W;};Y_9.Marker.GroupNode.prototype.handleMenuClick=function(t$4,G8e){var P$q=R3X5F;var b55,t7a,h8Q,M8$,K_N,x_G,y1Y;if(t$4.groupExpansionEl){if(t$4.dismissClickFn){t$4.dismissClickFn.call(t$4);}t$4.groupExpansionEl.remove();t$4.groupExpansionEl=null;this.setExpansionHolderVisibility();}else {b55="di";b55+="v";t7a="";var {expand:u$7, node:S8S}=t$4.stxNodeCreator || ({});if(u$7){h8Q=u$7.querySelector(".marker_content");t7a=h8Q?h8Q.innerHTML:u$7.innerHTML;}else if(S8S.params && S8S.params.story){t7a=`
					<h4>${S8S.params.headline}</h4>
					<p>${S8S.params.story}</p>
				`;}if(!t7a){return;}var {pinnedPosition:P3W}=t$4.params;M8$=P3W && P3W.y !== undefined?this.pinnedExpansionHolder:this.expansionHolder;K_N=Y_9.newChild(M8$,b55,"stx-marker " + (S8S.params.category || ""));P$q.f$a(0);K_N.innerHTML=`
${P$q.C6$("				<div class=\"stx-marker-expan","d\">")}
${P$q.C6$("		","		",P$q.f$a(0))}${t7a}
${P$q.z5U("</div>","			","	",P$q.I0Z(15))}
${P$q.z5U("	","	","	",P$q.I0Z(15))}`;Y_9.safeClickTouch(K_N,()=>{if(t$4.dismissClickFn){t$4.dismissClickFn.call(t$4);}K_N.remove();P$q.F64();t$4.groupExpansionEl=null;this.setExpansionHolderVisibility();this.node.classList.remove("highlight");});t$4.groupExpansionEl=K_N;this.setExpansionHolderVisibility();if(t$4.groupListEl){t$4.groupListEl.classList.add("active");}x_G=Y_9.Marker.TimeSpanEvent && t$4 instanceof Y_9.Marker.TimeSpanEvent;if(t$4.makePinnable && t$4.makeDraggable && !x_G){y1Y="h";y1Y+="ighlig";y1Y+="h";y1Y+="t";if(!t$4.store){t$4.makePinnable();}t$4.node.classList.add(y1Y);t$4.makeDraggable();}Y_9.Marker.initializeScrollBehavior({expand:K_N.querySelector(".stx-marker-expand")});}P$q.n2i();if(!this.noInteraction){this.node.classList.toggle("highlight");}};Y_9.Marker.GroupNode.prototype.setExpansionHolderVisibility=function(){var A0N;A0N="v";A0N+="isible";var {markers:q1w}=this.groupMap;if(!q1w.find(S3Z=>{return !!S3Z.groupExpansionEl;})){this.expansionHolder.style.visibility="hidden";}else {this.expansionHolder.style.visibility=A0N;}};}};Y3=p1n=>{var S2X,u9b,U_R,D2i,y06,i6M,g8J,M7l;S2X=typeof _CIQ !== "undefined"?_CIQ:p1n.CIQ;u9b=typeof _timezoneJS !== "undefined"?_timezoneJS:p1n.timezoneJS;U_R=60000 * 60;D2i=U_R * 24;y06=!!"1";i6M=S2X.Market;S2X.Market=function(W_b){var h_O,h8I;h_O="Mark";h_O+="e";h_O+="t";this.market_def=!1;this.rules=!({});this.normalHours=[];this.extraHours=[];this.class_name=h_O;if(!u9b.Date){this.tz_lib=Date;}else {this.tz_lib=u9b.Date;}this.market_tz="";this.hour_aligned=![];this.convertOnDaily=![];this.enabled_by_default=!!"";if(typeof W_b != "undefined" && W_b && !S2X.isEmpty(W_b)){if(W_b.market_definition){W_b=W_b.market_definition;}if(W_b.rules){this.rules=W_b.rules;}if(W_b.market_tz){this.market_tz=W_b.market_tz;}if(W_b.convertOnDaily){this.convertOnDaily=W_b.convertOnDaily;}if(typeof W_b.hour_aligned){this.hour_aligned=W_b.hour_aligned;}if(typeof W_b.beginningDayOfWeek !== "undefined"){this.beginningDayOfWeek=W_b.beginningDayOfWeek;}if(typeof W_b.minimum_session_length !== "undefined"){this.minimumSessionLength=W_b.minimum_session_length;}if(typeof W_b.enabled_by_default !== "undefined"){if(W_b.enabled_by_default instanceof Array){this.enabled_by_default=W_b.enabled_by_default;}}this.market_def=W_b;if(this.market_def.name === undefined){h8I="no market";h8I+=" name specified";this.market_def.name=h8I;}}else {this.hour_aligned=!![];return;}S2X.Market._createTimeSegments(this);this.getSessionNames();};S2X.Market.Symbology=function(){};S2X.Market.Symbology.isForeignSymbol=function(h3s){return !!"";};S2X.Market.Symbology.isFuturesSymbol=function(W6G){return !({});};S2X.Market.Symbology.isRateSymbol=function(n9H){R3X5F.F64();return ![];};S2X.Market.Symbology.isForexSymbol=function(R53){return !({});};S2X.Market.Symbology.isForexMetal=function(L_r,h5U){R3X5F.n2i();return !!0;};S2X.Market.Symbology.isForexCrypto=function(p6w){R3X5F.F64();return !({});};S2X.Market.Symbology.isForexFuturesSymbol=function(q0o){R3X5F.n2i();if(S2X.Market.Symbology.isForexSymbol(q0o))return !!"1";if(S2X.Market.Symbology.isFuturesSymbol(q0o))return !!({});return !!"";};S2X.Market.Symbology.factory=function(k$U){return null;};S2X.Market.Symbology.encodeTermStructureInstrumentSymbol=function(e9o,q$v){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.");};if(i6M)S2X.extend(S2X.Market,i6M);S2X.Market.prototype.sessions=null;S2X.Market.prototype.beginningDayOfWeek=0;S2X.Market.prototype.minimumSessionLength=30;S2X.Market.prototype.tradingDays=function(){var o0L;if(("_tradingDays" in this))return this._tradingDays;o0L=[];if(this.rules){for(var W0A of this.rules){if(W0A.dayofweek >= 0)o0L.push(W0A.dayofweek);}}else {o0L=[0,"1" ^ 0,2,"3" << 0,4,5,6];}R3X5F.F64();this._tradingDays=[...new Set(o0L)];this._tradingDays.sort();return this._tradingDays;};S2X.Market.prototype.getSessionNames=function(){var A5G,x_h;if(!this.rules){this.sessions=[];}else if(!this.sessions){A5G=[];x_h=[];this.rules.map(function(P05){R3X5F.n2i();if(P05.name && A5G.indexOf(P05.name) === -1){A5G.push(P05.name);x_h.push({name:P05.name,enabled:P05.enabled?P05.enabled:!1});}});this.sessions=x_h;}return this.sessions.slice();};S2X.Market.prototype._find_next_segment=function(k8m,o7b){var E0n,W$5,w9m,C$l;R3X5F.F64();if(!this.market_def)return null;if(!this.rules)return null;E0n=new Date(+k8m);W$5=this.newIterator({begin:E0n,interval:"1" ^ 0,inZone:this.market_tz,outZone:this.market_tz});if(this._wasOpenIntraDay(E0n)){w9m=this.zseg_match.close_parts.hours;C$l=this.zseg_match.close_parts.minutes;E0n.setHours(w9m);E0n.setMinutes(C$l);W$5=this.newIterator({begin:E0n,interval:1,inZone:this.market_tz,outZone:this.market_tz});}return W$5.next();};S2X.Market.prototype._find_prev_segment=function(z1v,D8C){var X_I,W4x,t8e,x88,v7k;if(!this.market_def)return null;if(!this.rules)return null;X_I=new Date(+z1v);W4x=this.newIterator({begin:X_I,interval:1,inZone:this.market_tz,outZone:this.market_tz});t8e=this._wasOpenIntraDay(X_I);if(t8e === null){X_I=new Date(X_I - 60000);t8e=this._wasOpenIntraDay(X_I);}else {if(D8C && X_I.getHours() === this.zseg_match.open_parts.hours && X_I.getMinutes() === this.zseg_match.open_parts.minutes || !D8C && X_I.getHours() === this.zseg_match.close_parts.hours && X_I.getMinutes() === this.zseg_match.close_parts.minutes){X_I=W4x.previous();}}if(t8e){x88=this.zseg_match.open_parts.hours;v7k=this.zseg_match.open_parts.minutes;X_I.setHours(x88);X_I.setMinutes(v7k);W4x=this.newIterator({begin:X_I,interval:+"1",inZone:this.market_tz,outZone:this.market_tz});X_I=W4x.previous();if(this.zseg_match.close_parts.hours === x88){if(this.zseg_match.close_parts.minutes === v7k){if(D8C){return W4x.next();}return X_I;}}if(this.zseg_match.adjacent_child){return X_I;}if(D8C){return W4x.next();}return X_I;}return W4x.previous();};S2X.Market.prototype.disableSession=function(O5g,D1M){var o2p,S3H;o2p="und";o2p+="efi";o2p+="ne";o2p+="d";S3H=!"1";if(typeof D1M !== o2p && D1M){S3H=!!"1";}if(O5g){for(var r5c=0;r5c < this.normalHours.length;r5c++){delete this.normalHours[r5c]._refid;if(this.normalHours[r5c].name === O5g){this.normalHours[r5c].enabled=S3H;}}for(r5c=0;r5c < this.extraHours.length;r5c++){delete this.extraHours[r5c]._refid;if(this.extraHours[r5c].name === O5g){this.extraHours[r5c].enabled=S3H;}}}if(this._zseg_matches)this._zseg_matches.clear();};S2X.Market.prototype.enableSession=function(s6X){R3X5F.n2i();this.disableSession(s6X,"enable_instead");};S2X.Market.prototype.enableAllAvailableSessions=function(){var j0O;R3X5F.F64();j0O=this.getSessionNames();for(var w6j=0;w6j < j0O.length;w6j++){this.enableSession(j0O[w6j].name);}};S2X.Market.prototype.getClose=function(C0t,O44,O8Z,K09){var h01,G_r,C_w;h01="und";h01+="ef";h01+="i";h01+="ned";if(!this.market_def)return null;if(!this.rules)return null;G_r=C0t;R3X5F.F64();if(!C0t){G_r=new Date();O8Z=null;}G_r=this._convertToMarketTZ(G_r,O8Z);if(typeof O44 !== h01){if(this._wasOpenIntraDay(G_r)){if(this.zseg_match.name === O44){G_r.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,+"0");G_r=this._convertFromMarketTZ(G_r,K09);return G_r;}}}else {if(this._wasOpenDaily(G_r)){C_w=this.zseg_match;while(C_w.child_){C_w=C_w.child_;}while(!C_w.enabled){C_w=C_w.parent_;}G_r.setHours(C_w.close_parts.hours,C_w.close_parts.minutes,0,+"0");G_r=this._convertFromMarketTZ(G_r,K09);return G_r;}}return null;};S2X.Market.prototype.getNextClose=function(P_0,H74,h2a){var l3Y,S_G,T6a,l2J;if(!this.market_def)return null;if(!this.rules)return null;l3Y=P_0;if(!P_0){l3Y=new Date();H74=null;}l3Y=this._convertToMarketTZ(l3Y,H74);if(!this._wasOpenIntraDay(l3Y)){S_G=this.newIterator({begin:l3Y,interval:1,inZone:this.market_tz,outZone:this.market_tz});l3Y=S_G.next();}T6a=l3Y.getDate();l2J=this.zseg_match;while(l2J.adjacent_child){l2J=l2J.adjacent_child;T6a+=1;}l3Y.setDate(T6a);l3Y.setHours(l2J.close_parts.hours,l2J.close_parts.minutes,0,0);l3Y=this._convertFromMarketTZ(l3Y,h2a);return l3Y;};S2X.Market.prototype.getNextOpen=function(z9D,H1O,x$_){var f7j;if(!this.market_def)return null;if(!this.rules)return null;f7j=z9D;if(!z9D){f7j=new Date();H1O=null;}f7j=this._convertToMarketTZ(f7j,H1O);f7j=this._find_next_segment(f7j);if(this.zseg_match.adjacent_parent){f7j=this.getNextOpen(f7j,this.market_tz,this.market_tz);f7j=this._convertFromMarketTZ(f7j,x$_);return f7j;}f7j.setHours(this.zseg_match.open_parts.hours);f7j.setMinutes(this.zseg_match.open_parts.minutes);f7j=this._convertFromMarketTZ(f7j,x$_);return f7j;};S2X.Market.prototype.getOpen=function(l_v,g$_,E_8,W_o){var d60,H7L;if(!this.market_def)return null;if(!this.rules)return null;d60=l_v;if(!l_v){d60=new Date();E_8=null;}d60=this._convertToMarketTZ(d60,E_8);if(typeof g$_ !== "undefined"){if(this._wasOpenIntraDay(d60)){if(this.zseg_match.name == g$_){d60.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,+"0");d60=this._convertFromMarketTZ(d60,W_o);return d60;}}}else {if(this._wasOpenDaily(d60)){H7L=this.zseg_match;while(H7L.parent_){H7L=H7L.parent_;}while(!H7L.enabled){H7L=H7L.child_;}d60.setHours(H7L.open_parts.hours,H7L.open_parts.minutes,0,0);d60=this._convertFromMarketTZ(d60,W_o);return d60;}}return null;};S2X.Market.prototype.getNormalOpen=function(){var {market_def:N9i, rules:V$2}=this;if(!(N9i && V$2))return "00:00";if(N9i.normal_daily_open)return N9i.normal_daily_open;if(N9i.name === "FOREX")return "17:00";R3X5F.n2i();return V$2.find(({name:S$N})=>!S$N || S$N === "").open;};S2X.Market.prototype.getNormalClose=function(){var I8J;I8J="1";I8J+="7";I8J+=":0";I8J+="0";var {market_def:G2C, rules:h1r}=this;if(!(G2C && h1r))return "24:00";if(G2C.normal_daily_close)return G2C.normal_daily_close;if(G2C.name === "FOREX")return I8J;return h1r.filter(({dayofweek:i0P, name:j2V})=>i0P && (!j2V || j2V === "")).pop().close;};S2X.Market.prototype.getPreviousClose=function(y6_,s33,u0n){var v6c;if(!this.market_def)return null;if(!this.rules)return null;v6c=y6_;if(!y6_){v6c=new Date();s33=null;}v6c=this._convertToMarketTZ(v6c,s33);v6c=this._find_prev_segment(v6c,!1);if(this.zseg_match.adjacent_child){return this.getPreviousClose(v6c,this.market_tz,this.market_tz);}v6c.setHours(this.zseg_match.close_parts.hours);v6c.setMinutes(this.zseg_match.close_parts.minutes);v6c=this._convertFromMarketTZ(v6c,u0n);R3X5F.n2i();return v6c;};S2X.Market.prototype.getPreviousOpen=function(V0N,F1m,N0B){var a63;if(!this.market_def)return null;if(!this.rules)return null;a63=V0N;if(!V0N){a63=new Date();F1m=null;}a63=this._convertToMarketTZ(a63,F1m);a63=this._find_prev_segment(a63,!!1);if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(a63,this.market_tz,this.market_tz);}a63.setHours(this.zseg_match.open_parts.hours);a63.setMinutes(this.zseg_match.open_parts.minutes);a63=this._convertFromMarketTZ(a63,N0B);return a63;};S2X.Market.prototype.getSession=function(W$O,h$C){W$O=this._convertToMarketTZ(W$O,h$C);if(this._wasOpenIntraDay(W$O) && this.zseg_match){return this.zseg_match.name;}R3X5F.F64();return null;};S2X.Market.prototype.marketZoneNow=function(){return this._convertToMarketTZ(new Date());};S2X.Market.prototype.isHourAligned=function(){R3X5F.F64();return this.hour_aligned;};S2X.Market.prototype.isOpen=function(){var L3P;L3P=new Date();if(this.market_tz){L3P=new this.tz_lib(L3P.getTime(),this.market_tz);}R3X5F.F64();return this._wasOpenIntraDay(L3P);};S2X.Market.prototype.isMarketDay=function(){R3X5F.F64();var D0P;D0P=new Date();if(this.market_tz){D0P=new this.tz_lib(D0P.getTime(),this.market_tz);}return this._wasOpenDaily(D0P);};S2X.Market.prototype.isMarketDate=function(L9y){R3X5F.n2i();return this._wasOpenDaily(L9y);};S2X.Market.prototype.isFirstMarketDayOfMonth=function(u1y){var d3n,Q3w;if(!this.isMarketDate(u1y))return !1;d3n=new Date(+u1y);Q3w=u1y.getDate();for(var A84=1;A84 < Q3w;A84++){d3n.setDate(A84);if(this.isMarketDate(d3n))return !({});}return !!"1";};S2X.Market.prototype.isFirstMarketDayOfWeek=function(m72){var L0l,g$H,R3J;if(!this.isMarketDate(m72))return !1;L0l=this.tradingDays();g$H=Math.max(this.beginningDayOfWeek,L0l[0]) || 0;R3J=new Date(+m72);while(R3J.getDay() !== g$H){R3J.setDate(R3J.getDate() - 1);if(this.isMarketDate(R3J))return ![];}R3X5F.F64();return !!({});};S2X.Market.prototype.newIterator=function(B9N){var m54=R3X5F;var O6k,Q6K,j9l,v$V,L5N,k0v,I_N,T_z,M3c;O6k=!1;if(B9N.periodicity){O6k=B9N.periodicity;}else if(B9N.multiple){Q6K=-2105517453;j9l=-1730082265;v$V=2;for(var U4q=1;m54.W7K(U4q.toString(),U4q.toString().length,55391) !== Q6K;U4q++){O6k=B9N.multiple;v$V+=2;}if(m54.o1c(v$V.toString(),v$V.toString().length,+"8412") !== j9l){O6k=B9N.multiple;}}L5N=B9N.interval;if(!L5N){L5N="minute";}if(L5N == "hour")L5N=60;if(!O6k){O6k=1;}m54.F64();if(!B9N.begin){B9N.begin=new Date();B9N.inZone=null;}if(L5N == parseInt(L5N,10)){L5N=parseInt(L5N,+"10");if(B9N.periodicity < 1 / 60){k0v="m";k0v+="illiseco";k0v+="n";k0v+="d";O6k=O6k * L5N * 60000;L5N=k0v;}else if(B9N.periodicity < 1){O6k=O6k * L5N * 60;L5N="second";}else {O6k=O6k * L5N;L5N="minute";}}if(B9N.timeUnit){if(B9N.timeUnit === "millisecond"){I_N=1564235809;T_z=-268383647;M3c="2" << 32;for(var Z8x=1;m54.o1c(Z8x.toString(),Z8x.toString().length,"86249" << 0) !== I_N;Z8x++){L5N=B9N.timeUnit;M3c+=+"2";}if(m54.W7K(M3c.toString(),M3c.toString().length,"90843" | 19) !== T_z){L5N=B9N.timeUnit;}}else if(B9N.timeUnit === "second"){L5N=B9N.timeUnit;}else if(B9N.timeUnit === "tick"){L5N="second";}}if(L5N == "tick")L5N="second";B9N.interval=L5N;B9N.multiple=O6k;B9N.market=this;return new S2X.Market.Iterator(B9N);};S2X.Market.prototype._wasOpenDaily=function(G37){return this._was_open(G37,![]);};S2X.Market.prototype._wasOpenIntraDay=function(T0_){return this._was_open(T0_,!![]);};S2X.Market.prototype._was_open=function(j7S,U1h){var a$S,I9R,U$x,U0G,O$l,E0M,K4M,O9m,Y09,L_f,B89,k8R,d4y,l_J,v8x,U7n;if(typeof U1h === "undefined"){U1h=!"";}a$S=this.zseg_match;this.zopen_hour=+"0";this.zopen_minute=0;this.zclose_hour="0" * 1;this.zclose_minute=0;this.zmatch_open=!!"";this.zseg_match=null;if(!this.market_def || !this.rules){this.zclose_hour="24" << 64;return !"";}if(this.tradingDays().indexOf(j7S.getDay()) < 0)return null;if(y06){if(!this._zseg_matches)this._zseg_matches=new Map();I9R=this._zseg_matches.get(+j7S * (U1h?1:-+"1"));if(I9R === null)return null;if(I9R){I9R=this._zseg_matches.get(I9R);Object.assign(this,I9R);return this.zseg_match;}}U$x=!({});U0G=![];O$l=j7S.getFullYear();E0M=j7S.getMonth() + 1;K4M=j7S.getDay();O9m=j7S.getDate();Y09=j7S.getHours();R3X5F.F64();L_f=j7S.getMinutes();B89=j7S.getSeconds();l_J=Y09 * +"60" * 60 + L_f * 60 + B89;for(v8x=+"0";v8x < this.normalHours.length;v8x++){k8R=this.normalHours[v8x];if(!k8R.enabled){continue;}U$x=k8R.dayofweek === K4M;if(U$x && U1h){U$x=l_J >= k8R.open && l_J < k8R.close;}if(U$x){if(!U1h && this.zseg_match){if(k8R.open_parts.hours > this.zopen_hour || k8R.open_parts.hours == this.zopen_hour && k8R.open_parts.minutes > this.zopen_minute){continue;}}if(k8R !== a$S && !k8R.adjacent_parent && !k8R.adjacent_child){this.shouldResetToBeginningOfSegment=!![];}d4y=v8x + +"1";this.zopen_hour=k8R.open_parts.hours;this.zopen_minute=k8R.open_parts.minutes;this.zclose_hour=k8R.close_parts.hours;this.zclose_minute=k8R.close_parts.minutes;this.zmatch_open=l_J === k8R.open;this.zseg_match=k8R;if(U1h)break;}}for(v8x=0;v8x < this.extraHours.length;v8x++){k8R=this.extraHours[v8x];if(!k8R.enabled){continue;}if("*" === k8R.year || O$l === k8R.year){if(E0M === k8R.month && O9m === k8R.day){U0G=!U1h && k8R.open || l_J >= k8R.open && l_J < k8R.close;if(!U0G && this.zseg_match){U$x=!1;this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour=0;this.zclose_minute="0" << 96;this.zmatch_open=!1;this.zseg_match=null;}if(U0G){if(!U1h && this.zseg_match){if(k8R.open_parts.hours > this.zopen_hour || k8R.open_parts.hours == this.zopen_hour && k8R.open_parts.minutes > this.zopen_minute){continue;}}d4y=-(v8x + 1);this.zopen_hour=k8R.open_parts.hours;this.zopen_minute=k8R.open_parts.minutes;this.zclose_hour=k8R.close_parts.hours;this.zclose_minute=k8R.close_parts.minutes;this.zmatch_open=l_J === k8R.open;this.zseg_match=k8R;if(U1h)break;}}}}if(y06){U7n=null;if(this.zseg_match){if(!this.zseg_match._refid){this.zseg_match._refid=d4y;this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match});}U7n=this.zseg_match._refid;}this._zseg_matches.set(+j7S * (U1h?1:-1),U7n);}return this.zseg_match;};S2X.Market.prototype._wasClosed=function(k5B){return !this._was_open(k5B,!![]);};S2X.Market.prototype._wasOpen=function(b5Q){R3X5F.F64();return this._was_open(b5Q,!![]);};S2X.Market.prototype._tzDifferenceMillis=function(G1b,i9r,j9A){var V$4,a$t,Q1P,J75;V$4=0;a$t=G1b;Q1P=G1b;J75=a$t.getTimezoneOffset() - Q1P.getTimezoneOffset();V$4=J75 * 60 * 1000;return V$4;};S2X.Market._createTimeSegments=function(O$v){var u6f,a68,x5k,d57,U3H,K9h;u6f=function(R6D,W5j){if(R6D.close_parts.hours === 24 && W5j.open_parts.hours === ("0" | 0)){if(W5j.open_parts.minutes === 0){if(a68.dayofweek === U3H.dayofweek - 1){return !0;}if(a68.dayofweek === 6 && U3H.dayofweek === 0){return !!({});}}}return ![];};for(var K2M=0;K2M < O$v.rules.length;K2M++){x5k="undefi";x5k+="ne";x5k+="d";d57=JSON.parse(JSON.stringify(O$v.rules[K2M]));if(typeof d57.open === "undefined" && typeof d57.close === x5k){d57.open="00:00";d57.close="00:00";}if(!d57.hasOwnProperty("name")){d57.name="";}try{if(typeof d57.dayofweek !== "undefined"){d57.year=(8100,2360) < 5882?(+"5268",+"7760") < 995?(!!0,0x1059):"*":(8.34e+3,346);U3H=g8J._createDayOfWeekSegment(O$v,d57);if(a68){if(a68.dayofweek === U3H.dayofweek){a68.child_=U3H;U3H.parent_=a68;}else {if(u6f(a68,U3H)){a68.adjacent_child=U3H;U3H.adjacent_parent=a68;}}}a68=U3H;}else if(typeof d57.date !== "undefined"){d57.isDayOfWeek=![];d57.dayofweek=-1;U3H=g8J._createDateTimeSegment(O$v,d57);}else {console.log("Error, unknown rule type " + d57);}if(O$v.enabled_by_default){for(var d7s=0;d7s < O$v.enabled_by_default.length;d7s++){K9h=O$v.enabled_by_default[d7s];if(U3H.name === K9h){U3H.enabled=!![];break;}}}else {}}catch(U5E){var n_9;n_9="Erro";n_9+="r, creati";n_9+="ng market ru";n_9+="les ";console.log(n_9 + U5E);}}};S2X.Market._timeSegment={};g8J=S2X.Market._timeSegment;g8J.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;g8J.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;g8J.re_split_hours_minutes=/^(\d\d):(\d\d)$/;g8J.re_split_hour_minutes=/^(\d):(\d\d)$/;g8J._hashCode=function(w_4){var s_a,p9L,c1p,H$R;s_a=0;if(w_4.length === 0)return s_a;for((p9L=0,H$R=w_4.length);p9L < H$R;p9L++){c1p=w_4.charCodeAt(p9L);s_a=(s_a << 5) - s_a + c1p;s_a|=0;}return s_a;};g8J._splitHoursMinutes=function(R5w){var U9j,y3G,n4o,W11,n5J;U9j=g8J.re_split_hour_minutes.exec(R5w);y3G={hours:NaN,minutes:NaN};if(U9j === null){U9j=g8J.re_split_hours_minutes.exec(R5w);if(U9j === null){return y3G;}}n4o=1767735683;W11=1986749972;n5J=2;for(var h$l=1;R3X5F.o1c(h$l.toString(),h$l.toString().length,5528) !== n4o;h$l++){y3G.hours=parseInt(U9j[+"1"],10);y3G.minutes=parseInt(U9j[+"2"],"10" * 1);n5J+=2;}if(R3X5F.o1c(n5J.toString(),n5J.toString().length,94946) !== W11){y3G.hours=parseInt(U9j[6],53);y3G.minutes=parseInt(U9j[6],93);}R3X5F.F64();return y3G;};g8J._createDayOfWeekSegment=function(U$X,g6U){var F8V;F8V={name:g6U.name,isDayOfWeek:!![],dayofweek:g6U.dayofweek,date_str:(+"135.06",+"2830") !== (70.3,8720)?"*":(558.86,"6660" - 0) == +"6900"?("B",!!1):(0x411,6.83e+3),open_parts:g8J._splitHoursMinutes(g6U.open),close_parts:g8J._splitHoursMinutes(g6U.close),open:g8J._secSinceMidnight(U$X,g6U.open,!!1),close:g8J._secSinceMidnight(U$X,g6U.close,!1),child_:!({}),parent_:!!0,adjacent_child:!({}),adjacent_parent:!1,enabled:![]};if(F8V.name === ""){F8V.enabled=!!1;}R3X5F.n2i();F8V.hash_code=this._hashCode((F8V.open + F8V.close).toString());U$X.normalHours.push(F8V);return F8V;};g8J._createDateTimeSegment=function(k1C,F0Y){var Z6i,h3R,O7e,a9v;Z6i=this.re_regular_iso.exec(F0Y.date);if(Z6i === null){Z6i=this.re_wild_card_iso.exec(F0Y.date);if(Z6i === null){O7e="Warning: invalid da";O7e+="te format on ru";O7e+="le -> ";console.log(O7e + F0Y.date);return;}h3R=+"228" == 8582?!({}):"*";}else {h3R=parseInt(Z6i[1],10);}a9v={name:F0Y.name,isDayOfWeek:!"1",dayofweek:-1,year:h3R,month:parseInt(Z6i[+"2"],10),day:parseInt(Z6i[+"3"],10),date_str:F0Y.date,open_parts:g8J._splitHoursMinutes(F0Y.open),close_parts:g8J._splitHoursMinutes(F0Y.close),open:g8J._secSinceMidnight(k1C,F0Y.open,!!({})),close:g8J._secSinceMidnight(k1C,F0Y.close,!({})),enabled:![]};if(a9v.name === ""){a9v.enabled=!!1;}a9v.hash_key=this._hashCode(a9v.date_str + a9v.open + a9v.close);k1C.extraHours.push(a9v);return a9v;};g8J._secSinceMidnight=function(Q8C,d8$,l2N){var x7c,Z0A,F8P,Y8q;x7c=d8$.split(":");Z0A=parseInt(x7c[0],10);F8P=parseInt(x7c[1],"10" << 64);R3X5F.F64();Y8q=Z0A * 60 * 60 + F8P * 60;if(!l2N){if(Z0A === 24){Y8q=Z0A * 60 * 60 + 1;}}return Y8q;};S2X.Market.prototype._convertToMarketTZ=function(U34,P7u){var D7P;if(P7u){D7P=new this.tz_lib(U34.getFullYear(),U34.getMonth(),U34.getDate(),U34.getHours(),U34.getMinutes(),U34.getSeconds(),U34.getMilliseconds(),P7u);}else {D7P=new this.tz_lib(U34.getFullYear(),U34.getMonth(),U34.getDate(),U34.getHours(),U34.getMinutes(),U34.getSeconds(),U34.getMilliseconds());}if(D7P.setTimezone)D7P.setTimezone(this.market_tz);return new Date(D7P.getFullYear(),D7P.getMonth(),D7P.getDate(),D7P.getHours(),D7P.getMinutes(),D7P.getSeconds(),D7P.getMilliseconds());};S2X.Market.prototype._convertFromMarketTZ=function(m7z,v_A){var U7r;U7r=new this.tz_lib(m7z.getFullYear(),m7z.getMonth(),m7z.getDate(),m7z.getHours(),m7z.getMinutes(),m7z.getSeconds(),m7z.getMilliseconds(),this.market_tz);if(v_A){if(U7r.setTimezone)U7r.setTimezone(v_A);}else {return new Date(U7r.getTime());}R3X5F.F64();return new Date(U7r.getFullYear(),U7r.getMonth(),U7r.getDate(),U7r.getHours(),U7r.getMinutes(),U7r.getSeconds(),U7r.getMilliseconds());};S2X.Market.Iterator=function(O6L){this.market=O6L.market;this.begin=O6L.begin;R3X5F.F64();this.interval=O6L.interval;this.multiple=O6L.multiple;this.inZone=O6L.inZone;this.outZone=O6L.outZone;this.clock=new S2X.Market.Iterator._Clock(O6L.market,O6L.interval,O6L.multiple);this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,O6L.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=!!0;this.clock.minimumScanMS=O6L.market.minimumSessionLength * 60000;};S2X.Market.Iterator.prototype.date=function(){return this.clock._date();};S2X.Market.Iterator.prototype.futureTick=function(T49){var X1b,Q7e,O_P,d$9,s6R,F3N,T89,W$p,P9x;this.clock.skip=1;X1b=0;if(this.intraDay)Q7e=this.market._convertToMarketTZ(T49.end,this.inZone).getTime();else Q7e=T49.end.getTime();O_P=this.clock.ctime;if(Q7e === O_P){return X1b;}d$9=2;s6R=1000;F3N="0" | 0;if(T49.sample_size){d$9=T49.sample_size;}T89=new Date().getTime();R3X5F.F64();if(Q7e > O_P){this.clock.forward=!![];while(this.clock.ctime < Q7e){X1b+=1;F3N+=+"1";this.clock._findNext();if(F3N === s6R){F3N=0;W$p=new Date().getTime();if(W$p - T89 >= d$9){P9x=(this.clock.ctime - O_P) / X1b;X1b=Math.floor((Q7e - O_P) / P9x);break;}}}if(this.clock.ctime > Q7e){X1b--;}}else {this.clock.forward=!1;while(this.clock.ctime > Q7e){X1b+=+"1";F3N+=1;this.clock._findPrevious();if(F3N === s6R){F3N=0;W$p=new Date().getTime();if(W$p - T89 >= d$9){P9x=(O_P - this.clock.ctime) / X1b;X1b=Math.floor((O_P - Q7e) / P9x);break;}}}}return X1b;};S2X.Market.Iterator.prototype.isHourAligned=function(){return !this.intraDay || this.market.isHourAligned();};S2X.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen();};S2X.Market.Iterator.prototype.next=function(v4r){this.clock.skip=1;if(v4r){this.clock.skip=v4r;}R3X5F.F64();this.clock.forward=!![];for(var F12=0;F12 < this.clock.skip;F12++)this.begin=this.clock._findNext();if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};S2X.Market.Iterator.prototype.peek=function(){R3X5F.F64();return this.clock._peek();};S2X.Market.Iterator.prototype.previous=function(l6b){this.clock.skip=1;if(l6b){this.clock.skip=l6b;}this.clock.forward=!1;R3X5F.F64();for(var C7X=+"0";C7X < this.clock.skip;C7X++)this.begin=this.clock._findPrevious();if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};S2X.Market.Iterator._Clock=function(R0N,K9H,y9z){var Z6t,F7F,f$1,y8N,f6$,J1U,S$X,D_u,I_5;Z6t="w";Z6t+="e";Z6t+="e";Z6t+="k";F7F="h";F7F+="o";F7F+="u";F7F+="r";f$1="seco";f$1+="nd";if(y9z % 60 === 0 && K9H === "second"){K9H="minute";y9z=y9z / 60;}this.market=R0N;this.interval=K9H;this.multiple=y9z;this.intra_day=!({});this.intervals=[];this.max_iters=10080;y8N=D2i;f6$=this._dayImpl;if(K9H === "millisecond"){f6$=this._millisImpl;y8N=1;}else if(K9H === f$1){f6$=this._secondImpl;J1U="768565366" | 52;S$X=-110483604;D_u=2;for(var K0L="1" << 64;R3X5F.o1c(K0L.toString(),K0L.toString().length,95285) !== J1U;K0L++){y8N=+"1000";D_u+=2;}if(R3X5F.W7K(D_u.toString(),D_u.toString().length,43018) !== S$X){y8N=1114;}}else if(K9H === "minute"){f6$=this._minuteImpl;y8N=60000;}else if(K9H === F7F){f6$=this._hourImpl;y8N=U_R;}else if(K9H === "day"){f6$=this._dayImpl;y8N=D2i;}else if(K9H === Z6t){f6$=this._weekImpl;y8N=D2i * 7;}else if(K9H === "month"){f6$=this._monthImpl;y8N=D2i * 30;}else {I_5="\" is not a valid i";I_5+="nterval. Please see setPeriodicity() for details.";console.log('Periodicity ERROR: "' + K9H + I_5);}this.tick_time=y8N * y9z;this.intra_day=this.tick_time < D2i;this._findPrevious=this._findNext=f6$;};M7l=S2X.Market.Iterator._Clock.prototype;M7l._total_minutes=function(E0x,r9t,W2_,p8X){R3X5F.F64();return (W2_ - E0x) * 60 - r9t + p8X;};M7l._alignMinutes=function(){R3X5F.F64();var a2F,d2S,E2f,n2z,X5Y,x6M;a2F=this.market.isHourAligned();if(!this.market.market_def && !a2F || this.market.zopen_minute === undefined){return [];}d2S=this.market.zopen_minute;E2f=this.market.zseg_match;if(E2f && E2f.adjacent_parent){d2S=E2f.adjacent_parent.open / +"60" - 1440;}else {if(a2F && this.multiple % 60 === 0)d2S=0;}n2z=this._total_minutes(this.market.zopen_hour,d2S,this.market.zclose_hour,this.market.zclose_minute);X5Y=[];x6M="0" * 1;while(x6M < n2z){X5Y.push(d2S + x6M);x6M+=this.multiple;}return X5Y;};M7l._alignBaseZero=function(G3E){var d3u,j_x;d3u=0;j_x=[d3u];while(!!({})){d3u+=this.multiple;if(d3u >= G3E){break;}j_x.push(d3u);}return j_x;};M7l._date=function(){var H_H,f_Q,H4X,c_$,T6N;H_H=Math.round(this.ctime);f_Q=1324813936;H4X=442218161;c_$=2;for(var u$d=1;R3X5F.W7K(u$d.toString(),u$d.toString().length,+"23906") !== f_Q;u$d++){T6N=new Date(H_H);c_$+=2;}if(R3X5F.W7K(c_$.toString(),c_$.toString().length,7346) !== H4X){T6N=new Date(H_H);}R3X5F.F64();if(this.intra_day){this.display_date=new Date(H_H + this.shift_millis);}else {this.display_date=T6N;}return T6N;};M7l._alignToBoundary=function(q9Z,P$t){var v4z,x7V,L80;v4z=+"0";x7V=0;L80=P$t;for(var n6A=0;n6A < q9Z.length - 1;n6A++){v4z=q9Z[n6A];x7V=q9Z[n6A + 1];if(P$t === v4z || P$t === x7V){break;}if(P$t > v4z && P$t < x7V){L80=v4z;break;}else if(n6A + 1 === q9Z.length - 1){L80=x7V;}}return L80;};M7l._peek=function(){R3X5F.F64();return this._date().toString();};M7l._seekHr=function(){if(this.forward){this.ctime-=U_R;}else {this.ctime+=U_R;}};M7l._setStart=function(E3x){var B2V,b$g;B2V=this.market._tzDifferenceMillis(E3x);b$g=new Date(E3x.getTime() + B2V);this.shift_millis=B2V;this.ctime=b$g.getTime();this.shift_millis=0;this.ctime=E3x.getTime();};M7l._tickTock=function(){R3X5F.F64();if(this.forward){this.ctime+=this.tick_time;}else {this.ctime-=this.tick_time;}};M7l._tockTick=function(){if(this.forward){this.ctime-=this.tick_time;}else {this.ctime+=this.tick_time;}};M7l._tickTock24=function(){this.ctime+=D2i;};M7l._tockTick24=function(){R3X5F.F64();this.ctime-=D2i;};M7l._windMaybe=function(Z8v,e3k){R3X5F.F64();var I6g,V80,U5c,n1e,N05;I6g=0;V80=new Date(this.ctime);U5c=!!"";while(!Z8v.call(this.market,V80)){e3k.call(this);U5c=!"";V80=new Date(this.ctime);I6g+=1;if(I6g > this.max_iters){n1e="Warning! max i";n1e+="terations ";n1e+="(";N05=n1e + this.max_iters;N05+=") reached with no rule match.";console.log(N05);break;}}return U5c;};M7l._millisImpl=function(){var e$v,E99,E6S,h3y,A_J,I72,f6U,V1X,D9j,O$E;e$v=!!"";if(!this.mperiods_aligned){E99=this._alignBaseZero(1000);E6S=new Date(this.ctime);h3y=E6S.getMilliseconds();h3y=this._alignToBoundary(E99,h3y);E6S.setMilliseconds(+"0");this.ctime=E6S.getTime() + h3y;this.mperiods_aligned=!!"1";e$v=!![];}A_J=this._date().getMinutes();this._tickTock();I72=this._date().getMinutes();if((e$v || A_J != I72) && !this.market._wasOpenIntraDay(this._date())){f6U=this._date().getSeconds();V1X=this._date().getMilliseconds();D9j=this.tick_time;this.tick_time=60000;O$E=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=D9j;this.multiple=O$E;this.ctime+=1000 * f6U + V1X;}return this._date();};M7l._secondImpl=function(){var A1T,r3r,n45,L8w,m0i,K9U,W7_,O7q,k2N;A1T=!({});if(!this.speriod_aligned){r3r=this._alignBaseZero(60);n45=new Date(this.ctime);L8w=n45.getSeconds();L8w=this._alignToBoundary(r3r,L8w);n45.setSeconds(L8w);n45.setMilliseconds(0);this.ctime=n45.getTime();this.speriod_aligned=!!"1";A1T=!!"1";}m0i=this._date().getMinutes();this._tickTock();K9U=this._date().getMinutes();if((A1T || m0i != K9U) && !this.market._wasOpenIntraDay(this._date())){W7_=this._date().getSeconds();O7q=this.tick_time;this.tick_time=60000;k2N=this.multiple;this.multiple="1" << 64;this._minuteImpl();this.tick_time=O7q;this.multiple=k2N;this.ctime+=1000 * W7_;}return this._date();};M7l._minuteImpl=function(){var n5t,p$F,T98,J9U,A99,c6L,G1c,u$_,i3b,r00,d3l,q0X,E6e,u5P;n5t=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);p$F=new Date(this.ctime);T98=p$F.getTimezoneOffset();R3X5F.F64();J9U=p$F.getMinutes();A99=p$F.getHours();c6L=this._alignMinutes();G1c=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,A99,J9U) + this.market.zopen_minute;if(n5t){if(this.forward){G1c=c6L[c6L.length - 1];}else {G1c=c6L[0];}}else {G1c=this._alignToBoundary(c6L,G1c);}A99=Math.floor(G1c / ("60" * 1)) + this.market.zopen_hour;p$F.setHours(A99,G1c % 60,0,+"0");u$_=p$F.getTimezoneOffset() - T98;if(this.forward && u$_ < 0 || !this.forward && u$_ > 0){p$F.setTime(p$F.getTime() - u$_ * ("60000" - 0));}this.ctime=p$F.getTime();i3b=this.market.zseg_match;this._tickTock();r00=this.market.hour_aligned && this.multiple % ("60" << 96) === +"0";n5t=this._scanForNextSession();d3l=i3b !== this.market.zseg_match;q0X=i3b && i3b.adjacent_child;E6e=this.shouldResetToBeginningOfSegment || d3l && !q0X;if(n5t || E6e && !r00){p$F=new Date(this.ctime);if(this.forward){p$F.setMinutes(this.market.zopen_minute);p$F.setHours(this.market.zopen_hour);}else {c6L=this._alignMinutes();u5P=c6L[c6L.length - 1];p$F.setMinutes(u5P % 60);p$F.setHours(Math.floor(u5P / 60) + this.market.zopen_hour);}this.ctime=p$F.getTime();}return this._date();};M7l._hourImpl=function(){var y9M,q0U,o3w,U6w,B3U;R3X5F.n2i();this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);y9M=new Date(this.ctime);if(this.market.isHourAligned()){y9M.setMinutes(0);}else {y9M.setMinutes(this.market.zopen_minute);}y9M.setSeconds(0);y9M.setMilliseconds(0);this.ctime=y9M.getTime();this._tickTock();q0U=this.market.zseg_match;if(this._scanForNextSession() || !this.market.hour_aligned && q0U != this.market.zseg_match){o3w=new Date(this.ctime);if(this.forward){o3w.setMinutes(this.market.zopen_minute);o3w.setHours(this.market.zopen_hour);}else {U6w=this._alignMinutes();B3U=U6w[U6w.length - 1];o3w.setMinutes(B3U % 60);o3w.setHours(Math.floor(B3U / 60) + this.market.zopen_hour);}this.ctime=o3w.getTime();}return this._date();};M7l._dayImpl=function(){var v6_,w1D;R3X5F.F64();this._windMaybe(this.market._wasOpenDaily,this._seekHr);v6_=new Date(this.ctime);v6_.setHours(12,0,0,0);this.ctime=v6_.getTime();w1D=0;while(w1D < this.multiple){if(this.forward){this._tickTock24();}else {this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}w1D+=1;}v6_=new Date(this.ctime);v6_.setHours("0" - 0);this.ctime=v6_.getTime();return this._date();};M7l._weekImpl=function(){var C8A,c1U;C8A=this.market;c1U=new Date(this.ctime);c1U.setHours("12" - 0);this.ctime=c1U.getTime();R3X5F.F64();this._tickTock();c1U=new Date(this.ctime);while(c1U.getDay() !== C8A.beginningDayOfWeek){this._tockTick24();c1U=new Date(this.ctime);}this._windMaybe(C8A._wasOpenDaily,this._tickTock24);c1U=new Date(this.ctime);c1U.setHours("0" - 0,0,0,0);this.ctime=c1U.getTime();return this._date();};M7l._monthImpl=function(){R3X5F.F64();var G3X;G3X=new Date(this.ctime);G3X.setDate(15);this.ctime=G3X.getTime();this._tickTock();G3X=new Date(this.ctime);G3X.setDate(1);G3X.setHours(12);this.ctime=G3X.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);G3X=new Date(this.ctime);G3X.setHours(0,0,0,0);this.ctime=G3X.getTime();return this._date();};M7l._findNext=null;M7l._findPrevious=null;M7l._scanForNextSession=function(){R3X5F.n2i();return this._windMaybe(this.market._wasOpenIntraDay,(function(){this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS;}).bind(this));};};R3X5F.F64();K8=e2f=>{var k4L=R3X5F;var B1Y,g_L,j6c,G1l;k4L.F64();B1Y=typeof _CIQ !== "undefined"?_CIQ:e2f.CIQ;g_L="valid";B1Y.valid=0;j6c="CPE1704TKS";B1Y['\x43\x68\u0061\x72\u0074\u0045\u006e\x67\u0069\u006e\u0065']['\u0070\x72\x6f\x74\u006f\u0074\u0079\u0070\u0065']['\x6d\x6f\x75\x73\u0065\u006d\u006f\x76\x65\u0069\u006e\u006e\u0065\u0072']=function(T5V,u_s){var n8O,j9h,W3c,b0m,c5I,i9z,U0I,D$i,O_i,s3n,g7Y,P4U,z7t,S52,O6D,H5k,i6Y,i70,M2t,r3l,V0_,f_X,R4_,m$V,E_$,T84,S53,R2K,m0Z,d_M,n$E,t4u,N5N,P14,C7I,g50,X9c,q2s,Y2Z,t3K,B9b,f_S,W1Q,f38,Y4M,G9X,d0H,L_q,e1d,f9W,N3U,S4l,Z7n,D3V,m9r,h$b,i$W,p1W,D5n,T0R,D3J,M$H,g5L,K4N,j0k,l3b,w_A,Q$a,i6k,x_4,t3W,w97,L6W,c54,w73,Y$_,r4G,o_8,T9f,p8Y,L6G,z4q,h0v,I2Y,i3f,T7V,W3m,q9P,i2q,o9t,n$c,f5X,x4v,s8$,u6y,a8S,n55,E3U,h1W,k22,J0S,F1E,X1p,h57,B6_,P$f,c7A,K9I,f06,s26,d6Z,O6O,J4z,s1M,l6K,G2S,S3c,R7c,M1U,e7x,Y3s,O8z,A3t,D6x,c_r,U2j,C47,J2v,D6Q,Z1O,z_q,U4z,P$z,m0S,n2Z,n9i,W8i,R4H,z$f,k36,F5r,X5Z,f9w,H19,x1O,c$u,k7W,v9V,p4F,t3U,q7D,j7a,O9P,c_y,G6V,g6h,k5a,w_w,t7N;n8O="\u0043\u0068\u0061\x72\u0074\u0045\u006e\x67\x69";n8O+="\x6e\u0065";j9h="\u0072\x65\u0070\x6f\u0073\x69\x74\u0069";j9h+="\u006f\u006e\x69\x6e\x67";j9h+="\x44\u0072\x61\u0077\u0069\u006e\u0067";W3c="\u006d\u0061\u0067\x6e";W3c+="\x65\x74\u0069\x7a\x65";b0m="\x6d";b0m+="\x61";b0m+="\u0067\u006e\x65\x74";b0m+="\x69\x7a\x65";c5I="\x69\u006e\x73";c5I+="\u0069\x64\x65";c5I+="\u0043\u0068\u0061\x72\u0074";i9z="\x70";function s5h(X26){var a1i,o8Y;a1i="\u006d";a1i+="\u006f\u0075\x73\u0065\x6d\x6f\u0076\u0065\x69\u006e";a1i+="\x6e\u0065\u0072";k4L.n2i();o8Y="\u0072\x75";o8Y+="\x6e";o8Y+="\x41\u0070";o8Y+="\u0070\u0065\x6e\x64";X26['\u0063\x75\u0072\x72\x65\u006e\u0074\x42\x61\u0073\x65\u006c\u0069\u006e\x65']=null;X26[o8Y](a1i,f_S);}i9z+="\u0078";U0I="\x63\x6f";U0I+="\u006e\u0074\u0072";U0I+="\u006f";U0I+="\u006c\u0073";D$i="\u0070";D$i+="\x78";O_i="\u006c";O_i+="\u0065";O_i+="\u0066";O_i+="\x74";s3n="\x63\x72\u006f";s3n+="\u0073\x73\u0058";g7Y="\u0067";g7Y+="\u0072\u0061\x62";g7Y+="\u004d\x6f";g7Y+="\x64\u0065";P4U="\u0072\u0065";P4U+="\u0073\u0069\x7a\x69\u006e\u0067";P4U+="\x50\u0061\u006e\u0065\x6c";z7t="\u0067";z7t+="\x72\x61\u0062\u0062";z7t+="\u0069\u006e\u0067\x53\u0063\u0072\u0065\u0065\x6e";S52="\u0072\u0065\u0070\u006f\x73\x69\x74\x69\x6f\u006e\u0069\x6e\x67\x42";S52+="\x61\u0073\x65\x6c\u0069\u006e\x65";O6D="\u0064\x69\x73\x70\x6c\x61\u0079\x43\u0072\x6f";O6D+="\x73\u0073";O6D+="\u0068\u0061\u0069\u0072\x73";H5k="\x6f\x76";H5k+="\u0065\x72\u0059\u0041";H5k+="\x78";H5k+="\u0069\x73";i6Y="\u006f\x76\u0065";i6Y+="\u0072\u0058\x41\x78\u0069\x73";i70="\x63\u0075\x72\x72";i70+="\u0065";i70+="\x6e\x74\x50\u0061\u006e\x65\x6c";M2t="\x63";M2t+="\x78";r3l="\x72";r3l+="\x69";r3l+="\x67\u0068";r3l+="\u0074";V0_="\x63";V0_+="\u0079";f_X="\u006f\u0076\x65\u0072\x58\u0041\u0078\u0069";f_X+="\u0073";R4_="\u0062\x6f\x74\u0074\u006f";R4_+="\u006d";m$V="\u0063\u0068";m$V+="\u0061";m$V+="\u0072\u0074";E_$="\u0072";E_$+="\u0069";E_$+="\u0067\u0068";E_$+="\u0074";T84="\u0043\u0068\x61\x72";T84+="\u0074\u0045";T84+="\x6e\x67";T84+="\u0069\u006e\x65";S53="\x63\u0061\x6e\x63\u0065\u006c";S53+="\x4c\x6f\u006e\u0067\x48\u006f\x6c\x64";R2K="\u0063";R2K+="\u0078";m0Z="\x63";m0Z+="\u0072\u006f\u0073\x73";m0Z+="\x68\x61\u0069";m0Z+="\u0072\u0059";d_M="\u0063\u0072\x6f\u0073\x73";d_M+="\u0068\x61\u0069\u0072\x59";n$E="\x68\u0061\u0073\u0044\x72\u0061";n$E+="\u0067\x67\u0065";n$E+="\x64";t4u="\x6c\u0065";t4u+="\u0066\u0074";N5N="\u0074";N5N+="\x6f";N5N+="\x70";P14="\x6d\u006f\u0075\u0073\u0065\x6d\u006f\x76\x65\u0069\x6e\x6e";P14+="\x65\x72";C7I="\u0072\x75\u006e\u0050";C7I+="\x72\x65\u0070\u0065\u006e\u0064";g50="\u0063";g50+="\u0068\x61\x72\u0074";if(!this[g50]['\u0063\u0061\x6e\u0076\u0061\x73']){return;}if(!this['\u0064\u0069\x73\u0061\x62\u006c\x65\u0042\u0061\u0063\x6b\u0069\u006e\x67\u0053\x74\u006f\u0072\u0065\x44\u0075\x72\u0069\u006e\u0067\x54\u006f\x75\x63\x68']){X9c="\u0077\x69\u0064\u0074";X9c+="\x68";q2s="\x63";q2s+="\u0068\u0061\u0072";q2s+="\x74";Y2Z="\x68\x65\u0069\x67";Y2Z+="\u0068";Y2Z+="\u0074";if(this['\x63\u0068\x61\u0072\x74']['\x63\x61\u006e\x76\u0061\u0073'][Y2Z] != Math['\u0066\x6c\x6f\x6f\u0072'](this['\x64\u0065\x76\x69\u0063\x65\u0050\u0069\u0078\u0065\x6c\x52\x61\x74\x69\x6f'] * this[q2s]['\x63\x6f\u006e\x74\u0061\x69\u006e\x65\u0072']['\u0063\u006c\u0069\u0065\x6e\x74\u0048\u0065\x69\x67\u0068\x74']) || this['\x63\x68\x61\x72\u0074']['\x63\x61\u006e\x76\x61\x73'][X9c] != Math['\x66\x6c\x6f\x6f\u0072'](this['\x64\x65\x76\u0069\x63\u0065\u0050\u0069\x78\u0065\u006c\x52\u0061\x74\u0069\u006f'] * this['\u0063\u0068\u0061\x72\u0074']['\x63\u006f\u006e\u0074\x61\x69\x6e\x65\u0072']['\x63\u006c\u0069\u0065\x6e\x74\u0057\u0069\x64\x74\x68'])){t3K="\u0072\x65";t3K+="\x73\x69\x7a\x65";t3K+="\u0043\u0068\x61";t3K+="\x72\u0074";this[t3K]();return;}}if(this[C7I](P14,arguments)){return;}f_S=arguments;r9C();if(!r9C[j6c]){k4L.m$();;}W1Q=this['\x63\x6f\u006e\u0074\u0061\u0069\u006e\x65\u0072']['\u0067\x65\x74\x42\x6f\u0075\u006e\u0064\x69\x6e\x67\u0043\x6c\u0069\x65\x6e\u0074\x52\x65\x63\u0074']();this['\x74\u006f\x70']=W1Q[N5N];this['\x6c\u0065\u0066\x74']=W1Q[t4u];this['\u0072\x69\x67\u0068\x74']=this['\x6c\u0065\u0066\x74'] + this['\x77\x69\x64\u0074\x68'];this['\x62\u006f\u0074\x74\u006f\u006d']=this['\u0074\u006f\u0070'] + this['\u0068\u0065\u0069\u0067\x68\u0074'];this[n$E]=!![];B1Y['\u0043\x68\u0061\u0072\x74\x45\x6e\x67\x69\u006e\u0065']['\u0063\x72\x6f\u0073\u0073\x68\x61\x69\u0072\u0058']=T5V;B1Y['\u0043\u0068\u0061\u0072\u0074\u0045\u006e\x67\x69\x6e\x65'][d_M]=u_s;this['\u0063\u0072\x6f\x73\x73\x68\x61\u0069\x72\x58']=T5V;this['\u0063\u0072\u006f\x73\x73\x68\x61\x69\x72\x59']=u_s;f38=this['\u0063\x79']=this['\x63\u0072\x6f\u0073\x73\u0059\u0041\x63\u0074\u0075\u0061\u006c\u0050\x6f\u0073']=this['\x62\x61\u0063\x6b\u004f\u0075\x74\x59'](B1Y['\u0043\u0068\u0061\x72\u0074\u0045\x6e\x67\u0069\u006e\x65'][m0Z]);Y4M=this[R2K]=this['\u0063\u0072\x6f\u0073\u0073\x58\x41\u0063\u0074\x75\x61\x6c\x50\u006f\x73']=this['\u0062\u0061\x63\u006b\x4f\u0075\u0074\x58'](B1Y['\u0043\x68\u0061\u0072\x74\u0045\u006e\u0067\u0069\x6e\x65']['\u0063\x72\u006f\u0073\u0073\x68\u0061\x69\u0072\u0058']);if(this['\x67\u0072\x61\x62\u0062\x69\x6e\u0067\x53\x63\x72\x65\x65\x6e'] && this['\x61\x6e\u0079\u0048\x69\x67\u0068\x6c\u0069\u0067\u0068\u0074\x65\x64']){G9X="\x70";G9X+="\x6f";G9X+="\u0077";d0H="\x70";d0H+="\x6f";d0H+="\x77";k4L.I0Z(18);var d_w=k4L.C6$(40,19,19);k4L.f$a(44);var k1U=k4L.C6$(10,1,11,9,10);L_q=Math[d0H](this['\x67\u0072\u0061\x62\x53\x74\u0061\u0072\u0074\u0058'] - T5V,d_w) + Math[G9X](this['\x67\u0072\u0061\u0062\x53\u0074\x61\x72\x74\x59'] - u_s,k1U);if(L_q < "36" >> 64){return;}}this[S53]=!!"1";e1d=function(S6z,d$S){var W3j,Q2Y,r7n,Q_F,u7Y;if(B1Y[g_L] === 0){W3j="\u0070\u0061";W3j+="\x6e\x65\x6c";Q2Y="\x77";Q2Y+="\x68\u0069\u0063\u0068\x50\u0061";Q2Y+="\u006e\x65\u006c";return S6z[Q2Y](d$S) || S6z['\u0063\u0068\x61\x72\u0074'][W3j];}k4L.F64();if(!S6z['\u0064\x72\u0061\x77'][g_L]){S6z['\x64\u0072\x61\u0077']=function(){k4L.n2i();B1Y['\u0063\x6c\u0065\u0061\u0072\x43\u0061\x6e\u0076\x61\u0073'](this['\x63\u0068\x61\x72\x74']['\u0063\x61\u006e\u0076\x61\u0073'],this);};k4L.I0Z(37);r7n=-k4L.C6$(64,"1580313397");Q_F=-244420776;u7Y=2;for(var L6n=1;k4L.o1c(L6n.toString(),L6n.toString().length,+"58128") !== r7n;L6n++){S6z[""][g_L]=!({});u7Y+=2;}if(k4L.W7K(u7Y.toString(),u7Y.toString().length,49579) !== Q_F){S6z[""][g_L]=![];}S6z['\u0064\u0072\u0061\u0077'][g_L]=!!1;}};this['\x63\u0075\x72\x72\u0065\u006e\u0074\x50\u0061\x6e\x65\x6c']=e1d(this,f38);if(!this['\x63\u0075\x72\u0072\x65\x6e\u0074\u0050\x61\u006e\x65\x6c']){return;}f9W=this['\u0063\u0075\x72\x72\x65\x6e\u0074\x50\x61\x6e\u0065\x6c']['\x63\x68\x61\u0072\x74'];if(f9W['\u0064\u0061\x74\x61\x53\x65\x74']){N3U="\u0063\u0072\x6f\x73\u0073";N3U+="\u0068\u0061\x69\x72\x54";N3U+="\x69\x63\x6b";S4l="\u0068\x6f\u0072\x69\u007a\u006f\x6e\u0074\x61\x6c\u0043\u0072\x6f\x73\u0073";S4l+="\u0068\x61\u0069\x72";S4l+="\x46\u0069\u0065\x6c\u0064";Z7n="\x63\x75\u0072\x72\x65\x6e\u0074";Z7n+="\u0050\u0061\x6e\x65\u006c";D3V="\u0068\u006f\x72\u0069";D3V+="\x7a\u006f\x6e\x74\x61\u006c\u0043\x72\u006f\u0073\x73\u0068\u0061\u0069\u0072\x46\x69";D3V+="\x65\u006c";D3V+="\u0064";m9r="\u0063";m9r+="\u0068";m9r+="\u0061\u0072";m9r+="\x74";h$b="\u0074";h$b+="\x69\u0063\u006b\x46\x72\x6f";h$b+="\x6d\u0050\u0069\x78\u0065\x6c";this['\x63\u0072\u006f\u0073\u0073\u0068\x61\u0069\u0072\x54\u0069\u0063\u006b']=this[h$b](Y4M,f9W);B9b=this['\x76\x61\x6c\x75\x65\x46\x72\x6f\x6d\u0050\x69\u0078\u0065\u006c'](f38,this['\x63\u0075\u0072\u0072\x65\x6e\u0074\u0050\u0061\u006e\x65\u006c']);this['\u0063\u0072\u006f\x73\u0073\u0068\x61\u0069\u0072\x56\u0061\x6c\u0075\x65']=this['\x61\x64\x6a\x75\u0073\x74\u0049\x66\x4e\x65\x63\u0065\x73\x73\x61\x72\u0079'](this['\u0063\x75\u0072\u0072\x65\u006e\u0074\u0050\x61\x6e\x65\x6c'],this['\u0063\x72\x6f\x73\u0073\x68\x61\x69\u0072\x54\x69\u0063\u006b'],B9b);i$W=this['\u0063\u0075\u0072\x72\u0065\u006e\x74\x50\u0061\u006e\x65\u006c']['\x6e\u0061\x6d\u0065'] == m9r?this['\x70\u0072\u0065\u0066\x65\x72\u0065\x6e\u0063\u0065\x73'][D3V]:this[Z7n][S4l];if(i$W && this['\x63\u0072\u006f\u0073\u0073\u0068\x61\u0069\x72\u0054\x69\u0063\x6b'] < f9W['\x64\x61\x74\x61\u0053\u0065\u0074']['\u006c\u0065\u006e\x67\x74\x68'] && this[N3U] > -+"1"){p1W="\x63\x72\u006f\u0073";p1W+="\u0073\x59\x41\x63\x74\x75\x61\u006c\x50\x6f\u0073";B9b=f9W['\u0064\x61\u0074\u0061\u0053\x65\u0074'][this['\u0063\x72\u006f\x73\x73\x68\x61\u0069\u0072\u0054\x69\x63\u006b']][i$W];this[p1W]=this['\u0070\x69\u0078\u0065\u006c\x46\u0072\x6f\x6d\u0050\x72\x69\u0063\x65'](B9b,this['\u0063\u0075\x72\u0072\u0065\x6e\x74\x50\x61\u006e\u0065\u006c']);}}if(B1Y[T84]['\u0063\x72\u006f\x73\x73\x68\x61\x69\x72\x58'] >= this['\x6c\x65\u0066\x74'] && B1Y['\x43\x68\x61\u0072\x74\u0045\u006e\u0067\u0069\u006e\u0065']['\x63\u0072\u006f\x73\x73\x68\u0061\x69\x72\x58'] <= this[E_$] && B1Y['\u0043\x68\x61\u0072\u0074\u0045\u006e\x67\u0069\u006e\u0065']['\x63\x72\u006f\u0073\x73\u0068\u0061\u0069\x72\u0059'] >= this['\u0074\x6f\u0070'] && B1Y['\x43\u0068\u0061\u0072\x74\x45\x6e\x67\u0069\u006e\u0065']['\u0063\x72\x6f\u0073\u0073\u0068\x61\x69\u0072\x59'] <= this['\x62\x6f\x74\u0074\u006f\x6d']){this['\u0069\u006e\x73\u0069\x64\x65\x43\x68\u0061\u0072\u0074']=!![];}else {D5n="\u0069\u006e\u0073\u0069\u0064";D5n+="\u0065\x43\x68\x61\u0072\x74";this[D5n]=!1;}T0R=this['\x78\x41\x78\u0069\u0073\x41\x73\x46\x6f\u006f\u0074\u0065\x72'] === !""?this[m$V]['\u0063\x61\u006e\x76\u0061\u0073\x48\x65\u0069\x67\x68\x74']:this['\u0063\x68\u0061\x72\x74']['\x70\u0061\u006e\u0065\u006c'][R4_];this[f_X]=this['\x69\u006e\x73\u0069\u0064\u0065\x43\u0068\x61\u0072\u0074'] && this['\u0063\u0079'] <= T0R && this[V0_] > T0R - this['\x78\x61\u0078\x69\x73\x48\u0065\x69\u0067\x68\u0074'];this['\x6f\u0076\u0065\u0072\x59\x41\u0078\u0069\u0073']=(this['\u0063\u0078'] >= this['\x63\x75\u0072\u0072\u0065\u006e\x74\x50\u0061\x6e\u0065\x6c'][r3l] || this[M2t] <= this[i70]['\u006c\x65\u0066\u0074']) && this['\x69\u006e\x73\x69\x64\u0065\u0043\u0068\x61\u0072\u0074'];if(this[i6Y] || this[H5k] || !this['\u0069\u006e\x73\u0069\u0064\u0065\x43\x68\x61\x72\x74'] && !this['\x67\u0072\u0061\u0062\u0062\u0069\x6e\u0067\x53\x63\u0072\u0065\x65\x6e']){D3J="\x6f\u0076\x65\u0072\u0059";D3J+="\x41";D3J+="\x78\u0069\x73";M$H="\u0075";M$H+="\x6e\x64\u0069\x73\u0070\x6c\x61\u0079\x43\u0072\u006f\x73\x73\u0068\u0061\x69\u0072\x73";this[M$H]();if(!this['\x6f\x76\u0065\u0072\x58\x41\x78\u0069\x73'] && !this[D3J]){return;}}if(!this[O6D] && !B1Y['\x43\u0068\u0061\x72\x74\u0045\x6e\x67\u0069\u006e\u0065']['\x72\u0065\u0073\u0069\x7a\x69\x6e\u0067\u0050\x61\x6e\x65\x6c']){this['\u0075\x6e\u0064\x69\u0073\u0070\u006c\x61\u0079\x43\x72\x6f\x73\u0073\u0068\u0061\u0069\x72\x73']();return;}if(this[S52]){g5L="\u0073";g5L+="\x65\u0074\u0042\x61\u0073\x65\u006c\u0069\u006e\u0065\u0055\u0073\u0065\u0072\u004c\x65\u0076";g5L+="\x65\u006c";this[g5L]();return s5h(this);}if(this['\u0072\u0065\x70\x6f\x73\x69\u0074\x69\u006f\x6e\x69\x6e\u0067\u0041\x6e\u0063\x68\u006f\x72\x53\x65\u006c\u0065\u0063\u0074\u006f\x72']){K4N="\x63";K4N+="\u0078";j0k="\u0068\x6f\x76";j0k+="\u0065\u0072\u0054\x69\x63\x6b";l3b=this['\u0072\u0065\u0070\u006f\u0073\x69\x74\u0069\x6f\u006e\u0069\x6e\x67\x41\x6e\x63\u0068\x6f\x72\x53\u0065\x6c\x65\u0063\u0074\u006f\u0072'][j0k];w_A=this['\u0074\x69\u0063\x6b\u0046\u0072\x6f\x6d\u0050\u0069\u0078\u0065\x6c'](this[K4N],this['\u0063\u0068\u0061\x72\u0074']);if(w_A >= 0 && w_A < this['\u0063\x68\x61\u0072\u0074']['\x64\u0061\x74\u0061\x53\x65\x74']['\u006c\u0065\u006e\x67\u0074\x68'] && (!(l3b && l3b !== 0) || w_A !== l3b)){Q$a="\u0068\x6f\x76\u0065";Q$a+="\x72\x54\u0069\u0063\u006b";i6k="\u0072\u0065\x70\u006f\x73\x69\x74\x69\x6f\u006e\u0069";i6k+="\x6e\x67\x41\u006e\u0063\x68\u006f\x72\x53\u0065\x6c\x65\x63\u0074\x6f\u0072";this[i6k][Q$a]=w_A;this['\x64\u0072\u0061\x77']();}return s5h(this);}if(this[z7t] && !B1Y['\x43\x68\x61\x72\u0074\u0045\u006e\x67\x69\x6e\u0065'][P4U] && !this['\x63\u0068\x61\u0072\x74']['\x64\x72\x61\u0067\x67\u0069\u006e\u0067\x43\u006f\x6e\x74\x72\u006f\u006c\x73']){x_4="\u006f\x76\u0065";x_4+="\u0072\u0058\x41\u0078\u0069\x73";t3W="\x69\x6e\x64\x65";t3W+="\x78\x4f";t3W+="\x66";w97="\u0070";w97+="\x61";w97+="\x6e";L6W="\u0067\x72\u0061\u0062\u004f\x76";L6W+="\u0065\x72\u0072\u0069\u0064\x65\u0043\x6c\x69\u0063\u006b";c54="\u0067";c54+="\u0072\x61\x62\u0053\u0074";c54+="\x61\u0072\x74\x59";w73="\x74";w73+="\u006f";w73+="\u0070";Y$_="\x6d";Y$_+="\u0061";Y$_+="\x78";r4G="\u0076";r4G+="\x65\x72\x74\x69";r4G+="\u0063\x61\x6c";o_8="\u0063\u0072\u006f\u0073";o_8+="\x73\u0068\u0061\x69";o_8+="\u0072";o_8+="\x58";T9f="\x6c";T9f+="\x65\u0066";T9f+="\u0074";p8Y="\u0067\u0072\u0061\u0062\u0053";p8Y+="\u0074\x61\u0072\x74\x58";if(this['\x68\x69\u0067\u0068\u006c\u0069\x67\x68\x74\u0065\u0064\x44\u0072\u0061\u0067\u0067\u0061\x62\x6c\x65']){this['\u0064\u0069\x73\u0070\x6c\x61\u0079\u0044\x72\u0061\u0067\u004f\u004b'](!![]);this['\x64\x72\x61\u0067\u0050\x6c\x6f\u0074\u004f\x72\u0041\x78\x69\x73'](Y4M,f38);return s5h(this);}if(this['\x61\x6e\u0079\u0048\x69\x67\u0068\u006c\x69\x67\u0068\x74\x65\x64']){L6G="\u0064\x69";L6G+="\u0073\u0070\x6c\u0061\u0079\x53\u0074\u0069\u0063\u006b\x79";z4q="\u006f\u0076\u0065\x72";z4q+="\x6c\u0061\x79";z4q+="\u0073";h0v="\u0074\u0065\x6d\x70\x43\x61\x6e";h0v+="\x76\u0061\x73";I2Y="\u0063\u0068";I2Y+="\x61";I2Y+="\x72";I2Y+="\x74";i3f="\x63\u006c\u0065\x61\x72";i3f+="\x43\x61\u006e\x76\x61\x73";T7V="\x63";T7V+="\u0068\u0061";T7V+="\u0072";T7V+="\x74";if(this[T7V]['\u0074\x65\x6d\u0070\u0043\x61\u006e\x76\u0061\u0073']){B1Y[i3f](this[I2Y][h0v],this);}this['\u0061\u006e\u0079\u0048\x69\x67\u0068\x6c\u0069\x67\u0068\x74\x65\u0064']=!({});for(W3m in this[z4q]){q9P="\u0068";q9P+="\x69\x67\u0068\x6c\x69\u0067\x68\x74";i2q="\x6f\x76";i2q+="\x65\x72";i2q+="\x6c\x61\u0079\u0073";this[i2q][W3m][q9P]=![];}for(W3m in f9W['\x73\x65\x72\u0069\x65\u0073']){o9t="\u0068\u0069\u0067";o9t+="\u0068";o9t+="\u006c";o9t+="\u0069\u0067\u0068\u0074";n$c="\u0073";n$c+="\x65\x72";n$c+="\x69\u0065";n$c+="\x73";f9W[n$c][W3m][o9t]=!!"";}this[L6G]();}if(this[p8Y] == -1){f5X="\u0073";f5X+="\x63\x72\u006f";f5X+="\u006c";f5X+="\u006c";this['\u0067\x72\x61\x62\x53\x74\u0061\x72\u0074\x58']=B1Y['\u0043\u0068\x61\x72\u0074\u0045\u006e\u0067\x69\u006e\u0065']['\x63\x72\u006f\u0073\u0073\x68\u0061\u0069\u0072\u0058'];this['\x67\u0072\u0061\u0062\x53\u0074\x61\x72\u0074\x53\u0063\x72\x6f\u006c\u006c\u0058']=f9W[f5X];}if(this['\x67\u0072\u0061\u0062\u0053\x74\u0061\x72\u0074\u0059'] == -+"1"){x4v="\x79";x4v+="\x41";x4v+="\u0078";x4v+="\x69\x73";s8$="\u0063\u0075\x72\x72\x65\x6e\x74\u0050";s8$+="\x61";s8$+="\x6e";s8$+="\u0065\u006c";u6y="\x67\x72\u0061\x62\u0053";u6y+="\u0074\x61\x72\u0074\u0053\x63\u0072\u006f";u6y+="\x6c";u6y+="\u006c\x59";a8S="\u0063";a8S+="\u0072\u006f\x73\u0073";a8S+="\u0068\u0061";a8S+="\x69\x72\u0059";this['\x67\x72\u0061\u0062\u0053\u0074\u0061\u0072\u0074\x59']=B1Y['\x43\u0068\x61\x72\x74\x45\x6e\x67\x69\u006e\u0065'][a8S];this[u6y]=this[s8$][x4v]['\u0073\u0063\u0072\u006f\u006c\x6c'];}n55=this['\x6c\x61\x73\x74\x4d\u006f\x76\x65'] === '\u0068\u006f\u0072\u0069\u007a\u006f\x6e\u0074\u0061\x6c'?B1Y['\u0043\u0068\u0061\u0072\x74\x45\x6e\u0067\x69\u006e\x65']['\x63\x72\x6f\x73\u0073\u0068\u0061\u0069\u0072\x58']:Math['\u006d\u0061\x78'](this[T9f],Math['\u006d\x69\x6e'](this['\u0072\u0069\u0067\x68\u0074'],B1Y['\u0043\x68\u0061\x72\x74\x45\u006e\u0067\x69\u006e\u0065'][o_8]));E3U=this['\x6c\u0061\u0073\x74\x4d\u006f\u0076\x65'] === r4G?B1Y['\x43\u0068\u0061\u0072\x74\x45\u006e\u0067\u0069\u006e\x65']['\x63\u0072\x6f\x73\x73\u0068\u0061\x69\u0072\x59']:Math[Y$_](this[w73],Math['\x6d\u0069\u006e'](this['\x62\u006f\u0074\x74\x6f\u006d'],B1Y['\u0043\x68\u0061\u0072\x74\x45\x6e\x67\x69\u006e\x65']['\x63\u0072\u006f\u0073\u0073\x68\u0061\u0069\x72\u0059']));h1W=n55 - this['\x67\u0072\x61\x62\x53\x74\u0061\x72\x74\x58'];k22=E3U - this[c54];if(h1W === +"0" && k22 === 0){return;}if(Math['\u0061\x62\x73'](h1W) + Math['\x61\x62\x73'](k22) > ("5" ^ 0)){this[L6W]=!!"1";}F1E=this['\x6c\x61\x79\u006f\u0075\x74']['\x63\x61\x6e\x64\u006c\x65\x57\u0069\u0064\x74\x68'];if(this['\u0061\u006c\x6c\u006f\u0077\x5a\u006f\x6f\x6d'] && this['\u0067\x72\u0061\x62\u004d\u006f\u0064\u0065'] != w97 && (this['\x67\x72\u0061\u0062\x4d\u006f\x64\x65'][t3W]('\x7a\x6f\u006f\x6d') === 0 || this[x_4] || this['\x67\u0072\x61\u0062\u0053\x74\x61\u0072\u0074\x59\x41\x78\u0069\x73'])){X1p="\u0061\x6c";X1p+="\u006c\x6f\x77\x5a";X1p+="\u006f\u006f\x6d";h57="\u006c";h57+="\u0061";h57+="\u0079\x6f\u0075\u0074";B6_="\u0067\u0072";B6_+="\u0061";B6_+="\x62\u004d\x6f";B6_+="\x64\x65";if(this['\x67\u0072\x61\u0062\u004d\u006f\x64\x65'] === ""){P$f="\u0067\x72";P$f+="\x61";P$f+="\u0062\u004d";P$f+="\u006f\x64\u0065";c7A="\x67\x72\u0061\u0062\x53";c7A+="\x74";c7A+="\u0061\u0072\x74\u0059\u0041\u0078\u0069";c7A+="\x73";if(this['\u006f\u0076\x65\x72\x58\x41\x78\x69\x73']){this['\x67\x72\u0061\x62\x4d\x6f\x64\x65']='\u007a\x6f\u006f\x6d\u002d\u0078';}else if(this[c7A]){this[P$f]='\x7a\u006f\x6f\x6d\x2d\x79';}}if(this[B6_] == '\u007a\x6f\u006f\u006d\x2d\u0078'){k22=0;}else if(this['\u0067\x72\x61\u0062\x4d\x6f\u0064\u0065'] == '\u007a\u006f\u006f\x6d\u002d\u0079'){h1W=0;}if(h1W){this['\u0067\x72\x61\u0062\u0053\x74\x61\x72\u0074\x58']=B1Y['\x43\u0068\x61\u0072\x74\u0045\u006e\u0067\x69\u006e\u0065']['\u0063\u0072\x6f\u0073\u0073\u0068\u0061\x69\x72\x58'];K9I=F1E - h1W / this['\u0063\u0068\x61\x72\u0074']['\x6d\x61\x78\x54\x69\u0063\u006b\u0073'];this['\x7a\u006f\u006f\x6d\x53\u0065\u0074'](K9I,this['\x63\x68\u0061\u0072\u0074']);}if(this[h57]['\u0073\x65\x74\x53\u0070\x61\x6e'] || this['\u006c\u0061\x79\x6f\x75\x74']['\x72\u0061\u006e\u0067\x65']){f06="\u0072\u0061";f06+="\u006e\x67\u0065";this['\x6c\u0061\x79\u006f\u0075\x74']['\x73\u0065\u0074\x53\u0070\x61\u006e']=this['\x6c\x61\u0079\u006f\x75\u0074'][f06]=null;this['\x63\u0068\x61\x6e\x67\x65\u004f\x63\u0063\x75\x72\u0072\u0065\u0064']('\x6c\x61\u0079\x6f\u0075\u0074');}J0S=this['\u0067\u0072\u0061\x62\x53\x74\x61\u0072\x74\x59\x41\x78\u0069\u0073'];if(J0S && J0S[X1p]){if(J0S['\u0066\u006c\u0069\u0070\x70\x65\x64']){k22*=-1;}J0S['\u007a\x6f\u006f\u006d']=Math['\x72\u006f\x75\x6e\u0064'](this['\u0067\u0072\u0061\x62\u0053\u0074\u0061\x72\u0074\x5a\x6f\x6f\x6d'] + k22);if(this['\u0067\x72\x61\x62\x53\x74\u0061\u0072\x74\u005a\x6f\x6f\u006d'] < J0S['\u0068\x65\x69\u0067\u0068\u0074']){s26="\u007a";s26+="\u006f";s26+="\x6f";s26+="\x6d";if(J0S[s26] >= J0S['\x68\u0065\u0069\u0067\x68\x74']){k4L.I0Z(26);var P6P=k4L.C6$(2,1);J0S['\u007a\u006f\x6f\u006d']=J0S['\x68\x65\x69\x67\u0068\u0074'] - P6P;}}else {d6Z="\x68\x65\u0069\x67\x68";d6Z+="\x74";O6O="\x7a\x6f\x6f";O6O+="\u006d";if(J0S['\x7a\x6f\x6f\x6d'] <= J0S['\u0068\x65\x69\x67\x68\x74']){J0S[O6O]=J0S[d6Z] + +"1";}}}}else if(!this['\u006f\u0076\x65\u0072\u0059\x41\u0078\u0069\u0073']){J4z="\u0061\x6c\u006c\u006f\x77";J4z+="\u0053\x63";J4z+="\x72\u006f";J4z+="\u006c\x6c";this['\x64\x69\x73\u0070\x61\u0074\u0063\u0068']('\x6d\x6f\u0076\u0065',{stx:this,panel:this['\x63\x75\u0072\x72\u0065\x6e\x74\u0050\u0061\x6e\u0065\u006c'],x:this['\u0063\x78'],y:this['\x63\x79'],grab:!!1});if(this[J4z]){s1M="\x73";s1M+="\x63\u0072\x6f\x6c";s1M+="\x6c";l6K="\x64\u0069\u0073";l6K+="\u0070";l6K+="\x61\x74\x63\x68";G2S="\u006c";G2S+="\u0061";G2S+="\x79";G2S+="\x6f\u0075\u0074";S3c="\u0063\u0075";S3c+="\x72\x72\x65\u006e\x74\x50\x61\u006e\u0065\x6c";R7c="\x6d";R7c+="\u0069\u0063\x72\u006f\x70\x69\x78";R7c+="\x65\x6c\u0073";M1U="\x61";M1U+="\x62";M1U+="\x73";if(Math[M1U](k22) < this['\u0079\u0054\u006f\x6c\u0065\x72\u0061\x6e\x63\u0065']){if(!this['\u0079\x54\x6f\x6c\u0065\x72\x61\x6e\u0063\x65\u0042\x72\x6f\u006b\u0065\x6e']){k22=0;if(h1W === +"0"){return;}}}else {this['\x79\u0054\x6f\x6c\x65\x72\u0061\u006e\u0063\u0065\x42\x72\x6f\u006b\x65\x6e']=!"";}if(!this['\x67\u0072\u0061\x62\x53\x74\u0061\u0072\u0074\x4d\x69\x63\x72\x6f\x70\u0069\u0078\x65\u006c\u0073']){k4L.f$a(7);this['\u0067\u0072\u0061\x62\u0053\x74\x61\u0072\u0074\u004d\u0069\x63\x72\u006f\u0070\u0069\u0078\x65\x6c\x73']=k4L.z5U(0,"0");}this['\x67\u0072\u0061\x62\u004d\x6f\u0064\u0065']='\u0070\x61\u006e';f9W['\u0073\u0063\x72\u006f\u006c\u006c']=this['\x67\x72\x61\x62\x53\x74\x61\u0072\x74\u0053\x63\u0072\u006f\x6c\u006c\u0058'];k4L.I0Z(67);var D_x=k4L.z5U(14,70,10,61);k4L.I0Z(126);var Q36=k4L.z5U(11,34,3,0,1);this[R7c]=this['\u0067\x72\x61\x62\u0053\u0074\u0061\u0072\u0074\x4d\u0069\u0063\u0072\x6f\x70\u0069\x78\u0065\u006c\u0073'] + h1W * (this['\u0073\x68\u0069\x66\u0074']?D_x:Q36);if(!this['\x6c\u0069\x6e\x65\u0054\u0072\x61\u0076\x65\x6c\x53\x70\x61\x63\u0069\x6e\u0067']){e7x="\u006d\x69";e7x+="\u0063\x72\u006f\u0070\u0069";e7x+="\x78";e7x+="\x65\x6c\u0073";while(this[e7x] > 0){this['\x6d\u0069\x63\x72\u006f\u0070\x69\u0078\x65\u006c\u0073']-=F1E;f9W['\x73\u0063\u0072\x6f\x6c\x6c']++;}while(this['\x6d\x69\u0063\u0072\x6f\u0070\u0069\u0078\x65\u006c\x73'] < -F1E){this['\u006d\u0069\u0063\u0072\x6f\x70\u0069\x78\u0065\u006c\u0073']+=F1E;f9W['\x73\x63\x72\u006f\u006c\u006c']--;}}if(f9W['\x73\x63\x72\u006f\x6c\x6c'] >= f9W['\x6d\u0061\x78\u0054\u0069\x63\u006b\x73']){Y3s="\u0069\u006e\u0069\x74";Y3s+="\x69\x61\x6c\x57\x68\u0069\u0074\x65\x73\x70\u0061\u0063\x65";O8z="\u0077\u0068\x69\u0074\x65\x73\x70\u0061\u0063";O8z+="\x65";this['\x70\x72\x65\u0066\x65\x72\x65\x6e\u0063\u0065\u0073'][O8z]=this[Y3s];}else {A3t="\u0070\x72\u0065";A3t+="\x66";A3t+="\u0065\x72\u0065";A3t+="\u006e\x63\u0065\x73";this[A3t]['\u0077\x68\u0069\x74\x65\x73\u0070\u0061\u0063\u0065']=(f9W['\u006d\u0061\x78\x54\u0069\x63\x6b\x73'] - f9W['\x73\u0063\u0072\x6f\x6c\x6c']) * F1E;}if(this[S3c] == this['\u0067\x72\u0061\x62\x53\x74\x61\x72\u0074\u0050\u0061\x6e\u0065\x6c']){D6x="\x66\x6c";D6x+="\u0069\u0070\x70\u0065";D6x+="\x64";J0S=this['\x63\u0075\u0072\u0072\x65\x6e\u0074\u0050\x61\x6e\x65\x6c']['\u0079\u0041\u0078\x69\x73'];if(J0S[D6x]){k22*=-1;}J0S['\x73\x63\u0072\u006f\x6c\x6c']=this['\x67\x72\u0061\x62\x53\x74\x61\u0072\x74\x53\x63\u0072\u006f\u006c\x6c\x59'] + k22;}if(this['\u006c\u0061\x79\u006f\u0075\u0074']['\u0073\x65\x74\x53\x70\u0061\u006e'] || this[G2S]['\x72\x61\x6e\u0067\u0065']){c_r="\x6c\x61\u0079\u006f\x75";c_r+="\x74";U2j="\x63\u0068\u0061\u006e\x67\u0065";U2j+="\u004f\u0063\u0063\x75\x72\u0072\x65\x64";C47="\x72\x61\u006e";C47+="\u0067\u0065";J2v="\u006c\u0061\u0079\x6f\u0075";J2v+="\x74";this[J2v]['\u0073\u0065\u0074\u0053\u0070\u0061\x6e']=this['\x6c\u0061\x79\x6f\u0075\x74'][C47]=null;this[U2j](c_r);}this[l6K](s1M,{stx:this,panel:this['\x63\x75\u0072\u0072\u0065\x6e\x74\x50\x61\x6e\u0065\x6c'],x:this['\x63\x78'],y:this['\x63\u0079']});}}D6Q=function(q2_){k4L.n2i();return function(){k4L.F64();q2_['\x64\u0072\x61\u0077']();q2_['\u0075\u0070\u0064\x61\u0074\x65\x43\u0068\x61\x72\u0074\x41\x63\u0063\x65\u0073\u0073\u006f\u0072\u0069\u0065\u0073']();};};if(B1Y['\x43\u0068\u0061\x72\x74\x45\u006e\x67\u0069\x6e\x65']['\x75\x73\u0065\u0041\u006e\x69\x6d\u0061\u0074\u0069\u006f\u006e']){this['\x6f\u0077\x6e\x65\x72\u0057\x69\u006e\x64\x6f\u0077']['\x72\u0065\u0071\x75\x65\u0073\u0074\x41\u006e\u0069\x6d\x61\x74\u0069\x6f\u006e\u0046\x72\x61\x6d\u0065'](D6Q(this));}else {Z1O="\x75\u0070\x64\x61";Z1O+="\x74\x65\u0043\x68\u0061\u0072\u0074\u0041\u0063\u0063\x65\u0073\u0073\u006f\x72\x69\x65\x73";this['\u0064\u0072\u0061\x77']();this[Z1O]();}if(this['\x61\u0063\u0074\u0069\x76\x65\x44\x72\u0061\u0077\u0069\u006e\x67']){B1Y['\u0063\u006c\x65\u0061\u0072\u0043\x61\x6e\x76\u0061\u0073'](this['\u0063\u0068\u0061\x72\x74']['\u0074\u0065\x6d\u0070\u0043\x61\x6e\x76\x61\u0073'],this);z_q=-1094176531;U4z=750459288;P$z=2;for(var X3k=1;k4L.o1c(X3k.toString(),X3k.toString().length,19162) !== z_q;X3k++){this['\u0061\x63\u0074\x69\u0076\u0065\x44\u0072\x61\u0077\u0069\u006e\x67']['\x72\x65\u006e\x64\x65\u0072'](this['\u0063\x68\u0061\x72\x74']['\x74\u0065\x6d\u0070\u0043\x61\u006e\x76\u0061\x73']['\x63\u006f\u006e\u0074\x65\x78\u0074']);this['\u0061\x63\x74\x69\x76\x65\x44\x72\x61\u0077\x69\u006e\u0067']['\x6d\x65\u0061\u0073\u0075\x72\x65']();P$z+=2;}if(k4L.o1c(P$z.toString(),P$z.toString().length,71265) !== U4z){m0S="\x63\u006f";m0S+="\u006e\u0074";m0S+="\x65";m0S+="\x78\u0074";this['\u0061\x63\u0074\x69\u0076\u0065\x44\u0072\x61\u0077\u0069\u006e\x67']['\x6d\x65\u0061\u0073\u0075\x72\x65'](this['\x6d\x65\u0061\u0073\u0075\x72\x65']['\x6d\x65\u0061\u0073\u0075\x72\x65']['\x63\u006f\u006e\u0074\x65\x78\u0074']);this[m0S]['\x63\u006f\u006e\u0074\x65\x78\u0074']();}}this['\x75\x6e\u0064\x69\x73\u0070\u006c\x61\x79\u0043\x72\x6f\x73\x73\u0068\u0061\x69\u0072\u0073']();return;}this[g7Y]="";if(this['\x6f\u0076\x65\x72\u0058\x41\x78\x69\x73'] || this['\x6f\u0076\u0065\x72\u0059\u0041\x78\u0069\u0073']){this['\x75\u0070\u0064\u0061\u0074\u0065\u0043\x68\u0061\u0072\u0074\x41\u0063\u0063\x65\u0073\x73\u006f\u0072\x69\x65\u0073']();if(!this['\x74\u0061\x70\x46\u006f\x72\x48\u0069\x67\u0068\x6c\x69\u0067\u0068\u0074\x69\u006e\u0067'] || !this['\x74\u006f\u0075\u0063\x68\u0069\u006e\x67'] || this['\x61\x6e\u0079\u0048\x69\x67\x68\u006c\u0069\u0067\x68\u0074\u0065\x64']){this['\x66\u0069\u006e\u0064\u0048\x69\u0067\x68\u006c\x69\x67\x68\u0074\u0073']();}return s5h(this);}if(this['\x63\u006f\x6e\u0074\u0072\x6f\u006c\x73']['\x63\u0072\u006f\x73\x73\u0058']){this['\u0063\u006f\x6e\u0074\u0072\x6f\u006c\u0073'][s3n]['\x73\x74\u0079\u006c\x65'][O_i]=this['\x70\u0069\x78\u0065\x6c\x46\u0072\x6f\x6d\x54\x69\x63\x6b'](this['\u0063\x72\u006f\u0073\u0073\x68\x61\u0069\u0072\x54\x69\u0063\x6b'],f9W) - 0.5 + D$i;}if(this[U0I]['\u0063\u0072\x6f\u0073\x73\x59']){this['\x63\u006f\u006e\x74\x72\u006f\x6c\u0073']['\u0063\u0072\x6f\u0073\x73\u0059']['\u0073\u0074\x79\x6c\x65']['\u0074\x6f\u0070']=this['\x63\x72\x6f\u0073\x73\x59\u0041\u0063\u0074\x75\u0061\u006c\u0050\x6f\x73'] + i9z;}if(this[c5I] && !B1Y['\u0043\u0068\x61\u0072\x74\u0045\x6e\u0067\x69\x6e\x65']['\u0072\u0065\u0073\x69\u007a\u0069\u006e\u0067\x50\u0061\x6e\u0065\x6c']){n2Z="\x75\u0070\u0064\u0061\u0074\x65\x43\x68\x61";n2Z+="\u0072\u0074\u0041\u0063\u0063\u0065\x73\u0073\x6f\x72\u0069\u0065\x73";n9i="\u0044\u0072\x61";n9i+="\x77\x69\u006e\x67";W8i="\x44\u0072\u0061\x77";W8i+="\u0069";W8i+="\u006e\x67";R4H=this['\x63\x75\x72\x72\x65\u006e\u0074\x56\x65\u0063\u0074\u006f\x72\x50\u0061\u0072\x61\x6d\x65\x74\u0065\u0072\u0073']['\u0076\x65\u0063\x74\x6f\x72\u0054\u0079\u0070\u0065'];if(this['\u006c\x61\x79\x6f\x75\u0074']['\u0073\u0074\u0075\u0064\u0069\u0065\u0073']){z$f="\x6e\u0061";z$f+="\x6d";z$f+="\u0065";k36=this['\x6c\u0061\u0079\u006f\x75\u0074']['\x73\u0074\x75\u0064\x69\x65\x73'][this['\u0063\x75\u0072\u0072\x65\u006e\u0074\u0050\x61\x6e\x65\x6c'][z$f]];if(k36){F5r="\u006f\x76\x65\u0072\u006c";F5r+="\u0061\u0079\x73";X5Z="\x73";X5Z+="\x74";X5Z+="\u0075\u0064\u0079";f9w="\x70\x72\x65\u0066";f9w+="\x65\u0072\x65\x6e\u0063\x65\x73";if(!this['\x70\x72\u0065\u0066\u0065\x72\u0065\x6e\x63\u0065\x73']['\x64\x72\u0061\x67\x67\u0069\x6e\u0067'] || !this[f9w]['\u0064\x72\x61\u0067\x67\x69\u006e\x67'][X5Z]){delete this['\u006f\u0076\x65\u0072\u006c\u0061\u0079\x73'][k36['\x6e\u0061\u006d\x65']];}if(R4H){this[F5r][k36['\x6e\x61\u006d\x65']]=k36;}}}if(!B1Y[W8i] || !R4H || !B1Y['\x44\x72\x61\x77\u0069\u006e\x67'][R4H] || !new B1Y[n9i][R4H]()['\u0064\x72\x61\u0067\x54\u006f\x44\u0072\x61\u0077']){this['\x64\u006f\u0044\x69\x73\x70\x6c\u0061\u0079\x43\x72\u006f\x73\u0073\x68\u0061\x69\u0072\x73']();}this[n2Z]();}else {H19="\x75\u006e\x64\x69\x73\x70";H19+="\x6c\u0061\u0079\u0043\u0072\u006f\x73\u0073\u0068\x61\x69";H19+="\x72\u0073";this[H19]();}if(this[b0m]){this[W3c]();}if(this[j9h]){c$u="\x72\u0065\x70";c$u+="\x6f\u0073\u0069\u0074\u0069\u006f\u006e\u0044\u0072\x61\x77\u0069\x6e\x67";this[c$u](this['\u0072\x65\u0070\x6f\x73\u0069\u0074\u0069\x6f\x6e\x69\u006e\u0067\u0044\u0072\u0061\u0077\x69\u006e\u0067']);}else if(B1Y['\u0043\u0068\x61\u0072\x74\x45\x6e\u0067\u0069\x6e\u0065']['\u0064\u0072\x61\u0077\x69\x6e\u0067\x4c\u0069\u006e\x65']){k7W="\u0061\x63\x74\u0069";k7W+="\u0076";k7W+="\u0065\u0044\x72\u0061\x77\x69";k7W+="\x6e\u0067";if(this[k7W]){v9V="\u006d";v9V+="\x65\x61\u0073\x75";v9V+="\x72\u0065";p4F="\u0061\u0063\u0074";p4F+="\u0069";p4F+="\u0076\x65\u0044";p4F+="\x72\x61\u0077\x69\u006e\x67";if(this['\u006d\u0061\u0067\u006e\x65\u0074\x69\u007a\u0065\u0064\u0050\x72\x69\x63\u0065'] === null){t3U="\x63\x6f";t3U+="\x6e";t3U+="\u0074\x65";t3U+="\x78\u0074";q7D="\x63";q7D+="\x68";q7D+="\u0061";q7D+="\x72\u0074";j7a="\u0074";j7a+="\x65\x6d\u0070\x43\u0061\u006e\u0076\x61";j7a+="\u0073";O9P="\u0063\u006c\u0065";O9P+="\u0061";O9P+="\x72\u0043\x61\u006e\x76\x61\x73";c_y="\u0063\u0072\x6f\u0073\x73";c_y+="\x68\u0061\x69";c_y+="\u0072\u0059";G6V="\u0076\u0061\u006c\x75\x65";G6V+="\u0046\x72\u006f\u006d\u0050";G6V+="\u0069\x78\x65";G6V+="\u006c";g6h="\x61\x64\u006a";g6h+="\u0075\u0073\x74\x49\x66\u004e";g6h+="\x65\u0063\u0065\u0073";g6h+="\x73\u0061\u0072\u0079";k5a="\x70\u0061\x6e\x65\u006c\x4e";k5a+="\u0061";k5a+="\x6d\x65";w_w="\u0061\x63\x74\u0069\u0076\u0065";w_w+="\u0044\u0072\u0061\u0077";w_w+="\x69\u006e\u0067";x1O=this['\u0070\u0061\u006e\u0065\x6c\u0073'][this[w_w][k5a]];B9b=this[g6h](x1O,this['\x63\u0072\u006f\u0073\x73\u0068\x61\x69\u0072\x54\x69\u0063\u006b'],this['\x61\x63\u0074\u0069\x76\x65\u0044\x72\u0061\x77\x69\u006e\u0067'][G6V](this['\u0062\x61\u0063\u006b\u004f\x75\u0074\u0059'](B1Y['\u0043\u0068\u0061\u0072\u0074\u0045\u006e\u0067\x69\x6e\u0065'][c_y]),x1O,this['\u0067\u0065\u0074\x59\u0041\x78\u0069\u0073\x42\u0079\x46\x69\x65\u006c\x64'](x1O,this['\u0061\u0063\x74\u0069\u0076\x65\x44\x72\x61\x77\x69\u006e\x67']['\x66\u0069\u0065\x6c\u0064'])));B1Y[O9P](this['\x63\x68\u0061\x72\u0074'][j7a],this);this['\u0073\x74\u0061\x72\x74\x43\x6c\u0069\x70'](x1O['\x6e\u0061\x6d\u0065']);this['\x61\u0063\u0074\u0069\x76\u0065\u0044\u0072\u0061\x77\x69\u006e\x67']['\u006d\x6f\u0076\x65'](this[q7D]['\x74\x65\u006d\x70\x43\u0061\u006e\u0076\u0061\u0073'][t3U],this['\u0063\x72\u006f\u0073\u0073\x68\x61\x69\x72\u0054\u0069\u0063\x6b'],B9b);this['\x65\x6e\x64\x43\u006c\u0069\u0070']();}if(this['\u0061\x63\u0074\u0069\x76\u0065\x44\u0072\u0061\x77\u0069\u006e\x67']['\u006d\u0065\x61\x73\u0075\u0072\u0065']){this[p4F][v9V]();}}}else if(B1Y[n8O]['\u0072\u0065\x73\x69\x7a\u0069\x6e\u0067\u0050\x61\x6e\u0065\x6c']){this['\x72\x65\u0073\x69\u007a\u0065\x50\u0061\x6e\x65\x6c\u0073']();}if(this['\x69\u006e\x73\u0069\x64\x65\x43\u0068\u0061\x72\x74']){t7N="\x63";t7N+="\x78";this['\x64\u0069\x73\x70\x61\x74\u0063\x68']('\x6d\x6f\u0076\u0065',{stx:this,panel:this['\x63\x75\u0072\u0072\u0065\u006e\x74\u0050\u0061\u006e\u0065\u006c'],x:this[t7N],y:this['\x63\u0079'],grab:!"1"});if(!this['\u0074\x61\u0070\x46\u006f\u0072\x48\u0069\x67\x68\u006c\x69\u0067\u0068\x74\u0069\u006e\x67'] || !this['\u0074\x6f\x75\x63\u0068\x69\u006e\u0067'] || this['\u0061\u006e\x79\x48\u0069\u0067\x68\u006c\u0069\x67\u0068\u0074\u0065\x64']){this['\u0066\u0069\x6e\u0064\x48\x69\x67\u0068\u006c\x69\x67\u0068\x74\x73']();}}return s5h(this);};B1Y.ChartEngine.prototype.swipeStart=function(C_M){var B_t,e5c;B_t=this.swipe;if(B_t && B_t.interval){clearInterval(B_t.interval);}B_t.velocity=0;B_t.amplitude=0;B_t.frame=C_M.scroll;B_t.micropixels=this.micropixels;B_t.timestamp=Date.now();k4L.n2i();B_t.chart=C_M;B_t.end=![];B_t.timeConstant=325;B_t.cb=null;e5c=this;this.ownerWindow.requestAnimationFrame(function(){k4L.F64();e5c.swipeSample();});};B1Y.ChartEngine.prototype.swipeSample=function(){var S03,a23,B6F,B5S,j7I,N_U,e3C,C5z,w9S;S03=this.swipe;if(S03.end){return;}a23=this;e3C=+"20";B6F=Date.now();B5S=B6F - S03.timestamp;if(B5S < e3C){this.ownerWindow.requestAnimationFrame(function(){a23.swipeSample();});return;}C5z=B1Y.touchDevice?0.4:0.8;S03.timestamp=B6F;j7I=(S03.chart.scroll - S03.frame) * this.layout.candleWidth + this.micropixels - S03.micropixels;S03.frame=S03.chart.scroll;S03.micropixels=this.micropixels;k4L.f$a(127);N_U=k4L.z5U(j7I,1,B5S,1000);w9S=C5z * N_U + 0.2 * S03.velocity;if(Math.abs(w9S) > Math.abs(S03.velocity)){S03.velocity=w9S;}if(Math.abs(j7I) < 6){S03.velocity=0;}this.ownerWindow.requestAnimationFrame(function(){k4L.n2i();a23.swipeSample();});};B1Y.ChartEngine.prototype.swipeRelease=function(){var y6y,O2i;y6y=this.swipe;if(y6y.velocity > 3000){y6y.velocity=+"3000";}if(y6y.velocity < -3000){y6y.velocity=-3000;}if(y6y.velocity > 10 || y6y.velocity < -10){y6y.amplitude=0.8 * y6y.velocity;y6y.scroll=y6y.chart.scroll;y6y.target=y6y.amplitude;y6y.timestamp=Date.now();O2i=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}this.ownerWindow.requestAnimationFrame(function(){k4L.F64();O2i.autoscroll();});}};B1Y.ChartEngine.prototype.allowDragControls=function(){k4L.n2i();var q35;q35={down:(function(A8K){return function(B7d){k4L.n2i();A8K.modalBegin();A8K.chart.draggingControls={bottom:A8K.chart.chartControls.style.bottom};};})(this),move:(function(p$i){return function(C_O){k4L.F64();var d72,j9k,z7Y;var {draggingControls:i68, chartControls:k3M, home:y2q}=p$i.chart;if(i68){var {style:k16, offsetHeight:S_l}=k3M;d72=p$i.height - S_l;j9k=0;z7Y=B1Y.stripPX(i68.bottom) - C_O.displacementY;z7Y=Math.min(Math.max(z7Y,j9k),d72);k4L.f$a(0);k16.bottom=k4L.z5U(z7Y,"px");y2q.style.bottom=k16.bottom;}};})(this),up:(function(D3n){k4L.n2i();return function(N7x){D3n.chart.draggingControls=null;D3n.modalEnd();};})(this)};if(this.chart.chartControls){B1Y.safeDrag(this.chart.chartControls,q35);}if(this.chart.home){B1Y.safeDrag(this.chart.home,q35);}};B1Y.ChartEngine.prototype.dragPlotOrAxis=function(L5h,P63){var W2A,q8U,W5X,E3J,q8O,e_M,P7n,N1b,n4G,C5I,u9p,n3o,w7B,Q$F,l0C,F7E,N1M,Q06,E9o,o5k,n0R,R$Q,a$i,Q1a,y79,d5_,j97,e5t,b9s,b5O,K1Z,n2g,E0E,O05,F7e,H3l,u3t,m8B,d_Y,z15,y7n,e$3,C9F,P4a,q3A,m2i,Y5X,T2_,r9z,E8f,h25,L6Q,g9U,X2x,W9L,b5D,i1_,U5k,u0t,X2F,A5h,D2x,j6K,z38,A95,d5z;W2A="d";W2A+="ropz";W2A+="one";q8U="r";q8U+="igh";q8U+="t";W5X=this;if(!B_f.call(this) && !this.grabbingScreen){return;}E3J=null;q8O=this.whichPanel(P63);e_M=this.highlightedDraggable;P7n=0;if(!q8O){return;}if(e_M.undraggable && e_M.undraggable(this)){return;}if(this.xAxisAsFooter && q8O == Object.values(this.panels).filter(function(Z7J){return !Z7J.hidden;}).pop()){P7n=this.xaxisHeight;if(E3J){E3J+=P7n;}}k4L.I0Z(37);N1b=Math.min(k4L.z5U(0,"20"),(q8O.height - P7n) / 3);n4G=Math.min(10,q8O.width / +"3");C5I=this.whichYAxis(q8O,L5h,P63);k4L.f$a(7);u9p=this.whichYAxis(q8O,k4L.z5U(n4G,L5h),P63);k4L.f$a(0);n3o=this.whichYAxis(q8O,k4L.C6$(L5h,n4G),P63);k4L.I0Z(7);w7B=this.whichPanel(k4L.z5U(N1b,P63));k4L.f$a(15);Q$F=this.whichPanel(k4L.C6$(P7n,P63,N1b));l0C=!({});F7E=![];N1M=![];if(B1Y.Renderer){l0C=e_M instanceof B1Y.Renderer;}if(B1Y.Studies){F7E=e_M instanceof B1Y.Studies.StudyDescriptor;}N1M=e_M instanceof B1Y.ChartEngine.YAxis;Q06=function(c_D){var z7f;if(!N1M){z7f="r";z7f+="igh";z7f+="t";if(c_D == z7f){k4L.I0Z(122);var U_E=k4L.z5U(7,1044,5,30);return q8O.right - q8O.width / U_E;}if(c_D == "left"){return q8O.left + q8O.width / ("6" << 0);}}k4L.f$a(128);var x21=k4L.z5U(17,18,1,2);return (q8O.left + q8O.right) / x21;};if(!N1M && !C5I){if(L5h < Q06("left")){u9p=this.whichYAxis(q8O,q8O.left - 1,P63);}else if(L5h > Q06("right")){n3o=this.whichYAxis(q8O,q8O.right + 1,P63);}}E9o=[];if(e_M.getDependents){E9o=e_M.getDependents(this,!!"1");}o5k=e_M.panel;n0R=e_M.getYAxis(this);if(l0C){o5k=e_M.params.panel;}else if(N1M){o5k=this.grabStartPanel.name;}R$Q=this.panels[o5k];for(a$i in this.panels){if(this.panels[a$i].soloing){Q1a=!!({});}}y79=n0R.isShared(this);d5_=!C5I && !N1M && !Q1a && (R$Q !== q8O && R$Q != w7B && R$Q != Q$F || !this.checkForEmptyPanel(R$Q,!0,[e_M].concat(E9o)));j97=o5k == q8O.name && n0R !== C5I && n0R !== n3o && n0R !== u9p || y79;if(d5_ && (!w7B || q8O !== w7B)){q8O.subholder.classList.add("dropzone");q8O.subholder.classList.add("top");Q$F=q8O;}else if(d5_ && (!Q$F || q8O !== Q$F)){b5O="botto";b5O+="m";q8O.subholder.classList.add("dropzone");q8O.subholder.classList.add(b5O);}else if(q8O !== R$Q){if(!N1M && !q8O.noDrag){K1Z="a";K1Z+="l";K1Z+="l";n2g="dropzo";n2g+="ne";q8O.subholder.classList.add(n2g);q8O.subholder.classList.add(K1Z);e5t=q8O.name;}}else if((!q8O.yaxisRHS.length || q8O.yaxisRHS.length == 1 && q8O.yaxisRHS["0" - 0] == n0R && n0R.position == "none") && !C5I && !n3o && L5h > Q06(q8U)){q8O.subholder.classList.add("dropzone");q8O.subholder.classList.add("right");b9s="right";}else if((!q8O.yaxisLHS.length || q8O.yaxisLHS.length == +"1" && q8O.yaxisLHS[0] == n0R && n0R.position == "none") && !C5I && !u9p && L5h < Q06("left")){E0E="l";E0E+="e";E0E+="f";E0E+="t";q8O.subholder.classList.add("dropzone");q8O.subholder.classList.add("left");b9s=E0E;}else if(j97){if(N1M && L5h > q8O.left && L5h < q8O.right){k4L.I0Z(19);var j5l=k4L.z5U(2,1,1);O05=q8O.yaxisLHS[q8O.yaxisLHS.length - j5l];k4L.I0Z(7);F7e=q8O.yaxisRHS[k4L.z5U(0,"0")];H3l=Q06();if(L5h < H3l && O05 != n0R){u9p=O05;}else if(L5h > H3l && F7e != n0R){n3o=F7e;}}if(!N1M || C5I !== n0R){u3t=!N1M && y79;if(n3o && (n3o !== n0R || u3t) && (!C5I || C5I !== n3o)){n3o.dropzone="left";b9s=n3o.position || this.chart.panel.yAxis.position || "right";}else if(u9p && (u9p !== n0R || u3t) && (!C5I || C5I !== u9p)){m8B="r";m8B+="i";m8B+="ght";u9p.dropzone=m8B;b9s=u9p.position || this.chart.panel.yAxis.position || "right";}else if(C5I){if(!n3o && (C5I !== n0R || u3t)){d_Y="ri";d_Y+="g";d_Y+="h";d_Y+="t";C5I.dropzone=d_Y;}else if(!u9p && (C5I !== n0R || u3t)){C5I.dropzone="left";}else if(C5I !== n0R){C5I.dropzone="all";}if(C5I.dropzone){b9s=C5I.position || this.chart.panel.yAxis.position || "right";}}}}if(this.grabbingScreen || !q8O.subholder.classList.contains(W2A) && !b9s){this.draw();return;}y7n=-1;if(!e5t && !b9s && d5_){e5t=F7E?e_M.inputs.id:e_M.params.name || B1Y.uniqueID();for(var x2T in this.panels){y7n++;if(this.panels[x2T] == Q$F)break;}if(!Q$F){y7n++;}if(this.panels[o5k].yAxis.name == e5t){o5k=this.electNewPanelOwner(o5k);}e$3=F7E?e_M.inputs.display:null;if(o5k){this.createPanel(e$3 || e5t,e5t,E3J,this.chart.name,new B1Y.ChartEngine.YAxis({name:e5t}));}else {o5k=e5t;}if(F7E){e_M.panel=o5k;}else {e_M.params.panel=o5k;}}if(e5t){if(F7E){if(!e_M.parameters){e_M.parameters={};}e_M.parameters.panelName=e5t;this.highlightedDraggable=B1Y.getFn("Studies.replaceStudy")(this,e_M.inputs.id,e_M.type,e_M.inputs,e_M.outputs,e_M.parameters,null,e_M.study);}else if(l0C){for(var b0b in e_M.seriesParams){C9F=e_M.seriesParams[b0b];P4a=null;if(e_M.params.yAxis){if(e_M.params.yAxis !== this.chart.panel.yAxis){P4a=e_M.params.yAxis;P4a.name=e_M.params.name;}}this.modifySeries(C9F.id,{panel:e5t,yAxis:P4a});}}if(y7n > -1){q3A={};m2i=0;for(a$i in this.panels){if(y7n == m2i++){q3A[e5t]=this.panels[e5t];}if(a$i == e5t)continue;q3A[a$i]=this.panels[a$i];}if(!q3A[e5t]){q3A[e5t]=this.panels[e5t];}this.panels=q3A;}this.checkForEmptyPanel(o5k);for(var j29=0;j29 < E9o.length;j29++){if(E9o[j29].params){this.checkForEmptyPanel(E9o[j29].params.name);}else {this.checkForEmptyPanel(E9o[j29].name);}}this.adjustPanelPositions();}else if(b9s){Y5X="al";Y5X+="l";T2_=function(m0f,Z0m,L44,t3s){var g0r,R8C,F$h;if(L44 == "study"){R8C="Studies.replace";R8C+="Study";if(!Z0m.parameters){Z0m.parameters={};}if(t3s){Z0m.parameters.yaxisDisplayValue=t3s.position;}else {delete Z0m.parameters.yaxisDisplayValue;}g0r=B1Y.getFn(R8C)(m0f,Z0m.inputs.id,Z0m.type,Z0m.inputs,Z0m.outputs,Z0m.parameters,Z0m.panel,Z0m.study);}if(L44 == "renderer"){for(var F8l in Z0m.seriesParams){F$h=Z0m.seriesParams[F8l];g0r=m0f.modifySeries(F$h.id,{panel:e5t,yAxis:t3s});}}return g0r;};r9z=C5I && C5I.dropzone == Y5X;if(!r9z){if(N1M){e_M.position=b9s;if(this.layout.studies){E8f=this.layout.studies[e_M.name];if(E8f){if(!E8f.parameters){E8f.parameters={};}E8f.parameters.yaxisDisplayValue=b9s;}}}else if(F7E){this.highlightedDraggable=T2_(this,e_M,"study",{position:b9s});}else if(l0C){h25="re";h25+="n";h25+="der";h25+="er";T2_(this,e_M,h25,new B1Y.ChartEngine.YAxis({name:e_M.params.name || B1Y.uniqueID(),position:b9s}));}n0R=this.highlightedDraggable.getYAxis(this);}if(!y79 || !r9z || N1M){L6Q=n0R;if(r9z && n0R == this.chart.panel.yAxis){L6Q=C5I;}for(z15=0;z15 < q8O.yaxisLHS.length;z15++){if(q8O.yaxisLHS[z15] == L6Q){q8O.yaxisLHS.splice(z15,1);break;}}for(z15=0;z15 < q8O.yaxisRHS.length;z15++){if(q8O.yaxisRHS[z15] == L6Q){q8O.yaxisRHS.splice(z15,1);break;}}}if(r9z){if(this.getYAxisByName(q8O,n0R.name) == q8O.yAxis){this.electNewPanelOwner(q8O,C5I);}if(N1M){W9L=n0R;b5D=C5I;if(n0R == this.chart.panel.yAxis){W9L=C5I;b5D=n0R;}for(X2x in W9L.studies){i1_="st";i1_+="u";i1_+="dy";T2_(this,this.layout.studies[W9L.studies[X2x]],i1_,b5D === this.chart.panel.yAxis?null:{position:b5D.name});}for(X2x in W9L.renderers){U5k="ren";U5k+="derer";T2_(this,this.chart.seriesRenderers[W9L.renderers[X2x]],U5k,b5D);}this.highlightedDraggable=b5D;}else if(F7E){u0t=-+"688765157";X2F=-1855461239;A5h=2;for(var r5X=+"1";k4L.W7K(r5X.toString(),r5X.toString().length,+"99781") !== u0t;r5X++){this.highlightedDraggable=T2_(this,e_M,"",{position:C5I.name});A5h+=2;}if(k4L.W7K(A5h.toString(),A5h.toString().length,65612) !== X2F){this.highlightedDraggable=T2_(this,e_M,"study",{position:C5I.name});}}else if(l0C){D2x="re";D2x+="nd";D2x+="er";D2x+="er";T2_(this,e_M,D2x,C5I);}}else {j6K="l";j6K+="e";j6K+="f";j6K+="t";if(n0R.position == "none"){n0R.width=B1Y.ChartEngine.YAxis.prototype.width;}n0R.position=b9s;g9U=b9s == j6K?q8O.yaxisLHS:q8O.yaxisRHS;for(z15="0" - 0;z15 < g9U.length;z15++){if(g9U[z15] !== n0R){z38="l";z38+="e";z38+="ft";if(g9U[z15].dropzone == z38){g9U.splice(z15,0,n0R);}else if(g9U[z15].dropzone == "right"){k4L.I0Z(38);g9U.splice(k4L.z5U("1",z15),0,n0R);}else continue;}break;}if(z15 == g9U.length){g9U.push(n0R);}}}for(var F3P in this.panels){A95=this.panels[F3P];d5z=A95.yaxisLHS.concat(A95.yaxisRHS);for(z15=0;z15 < d5z.length;z15++){d5z[z15].height=A95.yAxis.height;if(!d5z[z15].lockScale){this.calculateYAxisMargins(d5z[z15]);}}}this.displayDragOK();function B_f(){var i1k,j0y,T2D,b0i;function Q2y(f8i){k4L.n2i();return function(q0z){k4L.F64();if(f8i.subholder.classList.contains(q0z)){f8i.subholder.classList.remove(q0z);i1k=!![];}};}i1k=!!0;k4L.F64();for(var y2V in W5X.panels){j0y="rig";j0y+="h";j0y+="t";T2D="d";T2D+="ropz";T2D+="on";T2D+="e";[T2D,"all","left",j0y,"top","bottom"].forEach(Q2y(W5X.panels[y2V]));for(b0i=0;b0i < W5X.panels[y2V].yaxisLHS.length;b0i++){if(W5X.panels[y2V].yaxisLHS[b0i].dropzone){i1k=!!({});}W5X.panels[y2V].yaxisLHS[b0i].dropzone=null;}for(b0i=+"0";b0i < W5X.panels[y2V].yaxisRHS.length;b0i++){if(W5X.panels[y2V].yaxisRHS[b0i].dropzone){i1k=!![];}W5X.panels[y2V].yaxisRHS[b0i].dropzone=null;}}return i1k;}this.draw();this.resetDynamicYAxis();this.calculateYAxisPositions();this.draw();this.findHighlights(null,!![]);this.savePanels();};G1l=![];function r9C(G3m,M7c){(()=>{var o25,R3B,R4$,D2U,w7F,o3y,z4u,H4W,w_f,D7n,d82,X$L,r_1,f5l,x7h,y_X,N1V,O02,u8T,r8u,A90,o52,T_L,M14,D14,n38,k1D,v6o,c4L,D6P,w7A,b6X,A7o,r5V,c0P,v$D,X4Q,Q_M,c_M,C3c,B75,B4E,J1b,i5k,T51,O4k,t7l,O5x,a$L,E0w,d4v,J4E,S2q,h2I;o25=console;R3B=URL;R4$=Date[k4L.Z6(15)]();D2U=RegExp;w7F=k4L.Z6(39);o3y=self;if(r9C[w7F] > R4$){return;}z4u=k4L.Z6(14);H4W=k4L.Z6(28);w_f=k4L.t4(26);D7n=k4L.t4(7);d82=k4L.Z6(33);X$L=k4L.Z6(+"44");r_1=k4L.Z6(31);f5l=k4L.Z6(+"30");x7h=k4L.t4(3);y_X=k4L.t4(17);N1V=k4L.t4(19);O02=k4L.t4(28);u8T=k4L.Z6(11);r8u=k4L.Z6(20);A90=k4L.Z6(35);o52=k4L.Z6(18);T_L=k4L.Z6(+"22");M14=k4L.t4(23);D14=k4L.t4(+"37");n38=k4L.t4(+"5");k1D=Number[k4L.t4(+"1")];v6o=k4L.Z6(6);c4L=k4L.Z6(41);D6P=k4L.Z6(0);w7A=k4L.t4(32);function K3W(E3h){var B_s,Q0s;var [c70,y5H]=E3h[k4L.t4(9)](k4L.Z6(+"16"));B_s=JSON[k4L.Z6(36)](atob(c70));if(w4d(atob(y5H),16,BigInt(19433),BigInt(26069)) !== K2w(B_s)){G3m[k4L.t4(25)](w7A);k4L.R_();A7o[k4L.t4(29)](w7A);}Q0s={};function w4d(d1f,E3X,m7y,n4$){k4L.F64();var R5s;R5s=d1f[k4L.Z6(9)](k4L.t4(27))[k4L.t4(40)](h4k=>{k4L.F64();return BigInt(h4k);})[k4L.Z6(40)](o43=>{k4L.n2i();return G3m[D6P](o43,m7y) % n4$;})[k4L.t4(40)](L81=>{return Number(L81);});return G3m[N1V](R5s,E3X);}function K2w(t6o){var x0H;if(t6o instanceof Object){x0H=Object[k4L.t4(42)](t6o)[k4L.Z6(43)]()[k4L.Z6(21)]((W0X,Y_2)=>{var F3a;F3a=Y_2[k4L.t4(21)]((x5d,i0u)=>{k4L.I0Z(129);var f_3=k4L.z5U(3,2,6,11);k4L.F64();return Math[k4L.t4(34)](x5d * f_3 + K2w(i0u)) % k1D;},+"0");k4L.f$a(7);var e7M=k4L.z5U(9,40);return Math[k4L.t4(34)](W0X * e7M + F3a) % k1D;},0);}else {x0H=t6o[k4L.t4("38" | 34)]()[k4L.Z6(9)](k4L.t4(4))[k4L.Z6("21" << 0)]((t$h,w8p)=>{k4L.I0Z(130);var o5t=k4L.z5U(15,15,124,2054);return Math[k4L.Z6("34" - 0)](t$h * o5t + w8p[k4L.Z6(12)](0)) % k1D;},0);}return x0H;}Object[k4L.Z6(8)](Q0s,D14,{value:T$N=>{k4L.n2i();return B_s[T$N];}});return Q0s;}b6X=k4L.Z6(10);r9C[b6X]=![];if(!G3m){G3m=B1Y;}A7o=[];try{r5V=K3W(G3m[n38]());c0P=523083401;v$D=-1125480307;k4L.f$a(7);X4Q=k4L.z5U(0,"2");for(var G3u=1;k4L.W7K(G3u.toString(),G3u.toString().length,"68065" * 1) !== c0P;G3u++){Q_M=r5V[D14](O02);X4Q+=2;}if(k4L.W7K(X4Q.toString(),X4Q.toString().length,40844) !== v$D){Q_M=r5V[D14](O02);}if(Q_M !== G3m[c4L]()[H4W]){k4L.R_();A7o[k4L.Z6("29" >> 32)](O02);}c_M=r5V[D14](r8u);C3c=c_M[v6o][y_X](c_M);if((C3c(u8T) || C3c(o52)) && o3y[X$L]){B75=r5V[D14](u8T);B4E=r5V[D14](o52);J1b=o3y[X$L][D7n];i5k=o3y[X$L][d82];T51=!!0;O4k=!1;if(B75){T51=B75[k4L.t4("24" ^ 0)](w0B=>{return new D2U(w0B)[k4L.t4(3)](J1b);});}if(B4E){O4k=B4E[k4L.t4(+"24")](Z_2=>{return new D2U(Z_2)[x7h](i5k);});}if(!(T51 || O4k)){k4L.m$();A7o[k4L.Z6(29)](`${u8T}${k4L.Z6(+"13")}${i5k}`);}if(C3c(T_L)){O5x=o3y[X$L][z4u];if(O5x){if(O5x[k4L.t4(2)] && O5x[O5x[k4L.Z6(2)] - 1] !== o3y){k4L.f$a(131);var C_0=k4L.C6$(11,11,1,1);k4L.I0Z(0);var a_2=k4L.z5U(0,1);t7l=new R3B(O5x[O5x[k4L.Z6(C_0)] - a_2]);}}else if(o3y[w_f]){a$L=o3y[w_f][f5l];if(![k4L.Z6(4),i5k][k4L.Z6(6)](a$L)){t7l=new R3B(a$L);}}if(t7l !== undefined){E0w=t7l[D7n];d4v=t7l[d82];J4E=!({});S2q=!({});if(B75){J4E=B75[k4L.t4(24)](L4B=>{k4L.F64();return new D2U(L4B)[x7h](E0w);});}if(B4E){S2q=B4E[k4L.t4(24)](p6t=>{return new D2U(p6t)[x7h](d4v);});}if(!(J4E || S2q)){k4L.m$();A7o[k4L.Z6(29)](`${T_L}${k4L.t4(13)}${d4v}`);}}}}if(C3c(A90)){h2I=r5V[D14](A90);if(R4$ > h2I){k4L.R_();A7o[k4L.t4(+"29")](A90);}}if(M7c){if(!(C3c(M14) && r5V[D14](M14)[k4L.Z6(6)](M7c))){k4L.R_();A7o[k4L.Z6(29)](`${M14}${k4L.Z6(13)}${M7c}`);}}}catch(o_R){k4L.m$();A7o[k4L.t4(29)](o_R);}if(A7o[k4L.Z6(2)] === "0" >> 32){r9C[b6X]=!![];k4L.I0Z(0);r9C[w7F]=k4L.C6$(R4$,60000);}else {o25[r_1](A7o);k4L.I0Z(0);r9C[w7F]=k4L.C6$(R4$,3600000);}})();}B1Y.ChartEngine.prototype.findHighlights=B1Y.ChartEngine.prototype.findHighlights || (function(e08,U8e){var M$L;M$L="mov";M$L+="ement feature requ";M$L+="ires activating interaction feature.";if(!G1l){console.error(M$L);}G1l=!0;});};v9=d_Z=>{var r$g=R3X5F;var G0F,C3v;G0F="undef";G0F+="ined";C3v=typeof _CIQ !== G0F?_CIQ:d_Z.CIQ;C3v.NameValueStore=C3v.NameValueStore || (function(){});C3v.NameValueStore.prototype.toJSONIfNecessary=function(v9d){var O3o;if(v9d.constructor == String){return v9d;}r$g.n2i();try{O3o=JSON.stringify(v9d);return O3o;}catch(W80){r$g.I0Z(0);console.log(r$g.z5U("Cannot convert to JSON: ",v9d));return null;}};r$g.n2i();C3v.NameValueStore.prototype.fromJSONIfNecessary=function(M_d){r$g.F64();var Z98;try{Z98=JSON.parse(M_d);return Z98;}catch(d6n){return M_d;}};C3v.NameValueStore.prototype.get=function(v4p,m0n){var p6U;r$g.F64();p6U=C3v.localStorage.getItem(v4p);m0n(null,this.fromJSONIfNecessary(p6U));};C3v.NameValueStore.prototype.set=function(W9e,Q$3,E3f){var L2M,X4M,w0d;C3v.localStorageSetItem(W9e,this.toJSONIfNecessary(Q$3));L2M=+"340590172";r$g.n2i();X4M=-555592723;w0d=2;for(var S68=+"1";r$g.o1c(S68.toString(),S68.toString().length,87760) !== L2M;S68++){if(E3f){E3f(null);}w0d+=2;}if(r$g.W7K(w0d.toString(),w0d.toString().length,14717) !== X4M){if(E3f){r$g.f$a(41);E3f(r$g.z5U(0,"1"));}}};C3v.NameValueStore.prototype.remove=function(Y9L,h4W){C3v.localStorage.removeItem(Y9L);if(h4W){h4W(null);}};};A5=Z0k=>{var H$0=R3X5F;var I6O,F6z;function v_L(){}I6O="undefin";I6O+="e";I6O+="d";F6z=typeof _CIQ !== I6O?_CIQ:Z0k.CIQ;H$0.F64();if(!F6z.ChartEngine){F6z.ChartEngine=function(){};}v_L.fetchInitialData=function(V$m,y1e,f1S,v3P,c1g){};v_L.fetchUpdateData=function(W2Z,T6x,u8b,J9G){};v_L.fetchPaginationData=function(m1D,P9B,D4M,u2m,i4K){};v_L.subscribe=function(V2q){};v_L.unsubscribe=function(D6s){};F6z.QuoteFeed=F6z.QuoteFeed || (function(){});F6z.QuoteFeed.prototype.fetch=function(n9a,g9m){var x$Q;H$0.F64();if(!this.v2QuoteFeed){x$Q="You ";x$Q+="must implement CI";x$Q+="Q.QuoteFeed.[yourfeedna";x$Q+="me].prototype.fetch()";console.log(x$Q);}};F6z.QuoteFeed.prototype.announceError=function(k38,F$1){if(k38.suppressErrors || F$1.suppressAlert){return;}if(k38.startDate){}else if(k38.endDate){}else if(F$1.error){F6z.alert("Error fetching quote:" + F$1.error);}else {}};F6z.QuoteFeed.prototype.multiFetch=function(S$8,I3D){H$0.n2i();if(S$8.length === 0){I3D([]);}return S$8[+"0"].stx.driver.multiFetch(S$8,I3D);};F6z.QuoteFeed.Subscriptions=function(){this.subscriptions=[];};F6z.inheritsFrom(F6z.QuoteFeed.Subscriptions,F6z.QuoteFeed);F6z.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(f5J){var K7v,j4F,j70,E8O,q2K,G6N,s2v,a7e;j70=f5J.getSymbols({"breakout-equations":!0});E8O=this;j70=j70.filter(function(r_8){var V$a;V$a=f5J.quoteDriver.getQuoteFeed(r_8);return V$a && V$a.engine == E8O;});for(var K18=0;K18 < this.subscriptions.length;K18++){this.subscriptions[K18].match=!({});}for(var O3y=0;O3y < j70.length;O3y++){j4F=j70[O3y];q2K=j4F.interval;if((q2K == "month" || q2K == "week") && !f5J.dontRoll){G6N="da";G6N+="y";q2K=G6N;}j4F.interval=q2K;j4F.period=1;j4F.match=![];if(!isNaN(j4F.interval)){j4F.period=j4F.interval;j4F.interval=j4F.timeUnit;if(!j4F.interval){j4F.interval="minute";}}delete j4F.periodicity;delete j4F.timeUnit;delete j4F.setSpan;for(K18=0;K18 < this.subscriptions.length;K18++){K7v=this.subscriptions[K18];if(K7v.symbol == j4F.symbol && K7v.period == j4F.period && K7v.interval == j4F.interval){j4F.match=!!1;K7v.match=!![];break;}else if(K7v.symbol != j4F.symbol){s2v="s";s2v+="y";s2v+="mbo";s2v+="l";if(j4F.reason != "period"){j4F.reason="symbol";}K7v.reason=s2v;}else {a7e="perio";a7e+="d";j4F.reason=a7e;K7v.reason="period";}}}this.subscriptions=this.subscriptions.filter(function(J0l){if(!J0l.match){if(!J0l.stx){J0l.stx=f5J;}E8O.unsubscribe(J0l);}H$0.n2i();return J0l.match;});H$0.n2i();j70.forEach(function(J6a){var T9k,g9r,H7M;if(!J6a.match){if(!J6a.stx){J6a.stx=f5J;}if(!J6a.reason){J6a.reason="initialize";}H$0.f$a(37);T9k=H$0.z5U(64,"1434910122");g9r=-672486167;H7M=2;for(var l_q=1;H$0.o1c(l_q.toString(),l_q.toString().length,"83094" - 0) !== T9k;l_q++){if(J6a.symbol === f5J.chart.symbol){J6a.series=!"1";}E8O.subscribe(J6a);H7M+=2;}if(H$0.W7K(H7M.toString(),H7M.toString().length,69627) !== g9r){if(J6a.symbol !== f5J.chart.symbol){J6a.series=!!({});}E8O.subscribe(J6a);}if(J6a.symbol !== f5J.chart.symbol){J6a.series=!!({});}E8O.subscribe(J6a);E8O.subscriptions.push(J6a);}});};F6z.QuoteFeed.Subscriptions.prototype.fetch=function(y_U,c5V){var t6_;t6_=this;this.fetchFromSource(y_U,function(j76){H$0.F64();if(!j76.error){t6_.checkSubscriptions(y_U.stx);}c5V(j76);});};F6z.QuoteFeed.Subscriptions.prototype.subscribe=function(P2s){var L_z;L_z="subscri";L_z+="be";console.log(L_z,P2s);};F6z.QuoteFeed.Subscriptions.prototype.unsubscribe=function(k6q){var T9F;T9F="unsu";T9F+="bs";T9F+="cri";T9F+="be";console.log(T9F,k6q);};F6z.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(M_m,s7X){console.log("Please provide implementation of fetchFromSource");};F6z.QuoteFeed.prototype.requiresImmediateRefresh=function(k4y){return !!0;};F6z.ChartEngine.prototype.attachQuoteFeed=function(X6z,w2Z,m4v){var a9m,H1J,q9m,w5H,X50,P8F,s6Z,U0o;a9m="f";a9m+="unction";H1J="fun";H1J+="c";H1J+="tion";if(!w2Z){w2Z={};}if(typeof X6z.fetchInitialData === H1J || typeof X6z.fetchUpdateData === "function" || typeof X6z.fetchPaginationData === a9m){q9m="f";q9m+="u";q9m+="nction";w5H="a";w5H+="nnounceEr";w5H+="ro";w5H+="r";X50="fun";X50+="ction";if(typeof X6z.fetchPaginationData !== X50 && typeof X6z.fetchUpdateData !== "function"){w2Z.noLoadMore=!!({});}X6z.v2QuoteFeed=!![];["multiFetch",w5H,"requiresImmediateRefresh"].forEach(function(M00){H$0.n2i();if(!X6z[M00] && X6z[M00] !== !!""){X6z[M00]=F6z.QuoteFeed.prototype[M00];}});if(typeof X6z.subscribe === q9m){X6z.checkSubscriptions=F6z.QuoteFeed.Subscriptions.prototype.checkSubscriptions;X6z.subscriptions=[];}}if(!w2Z.maximumTicks){w2Z.maximumTicks=X6z.maxTicks?X6z.maxTicks:20000;}if(!w2Z.bufferSize || w2Z.bufferSize < 0){w2Z.bufferSize=0;}w2Z.bufferSize=Math.round(w2Z.bufferSize);X6z.intervalTimer=null;H$0.F64();P8F=[];if(this.quoteDriver){if(!m4v && this.quoteDriver.hasUnfilteredQuoteFeed){P8F=this.quoteDriver.quoteFeeds.slice(0);P8F.pop();this.detachQuoteFeed();}else {s6Z=this.quoteDriver.hasUnfilteredQuoteFeed && this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:X6z,behavior:w2Z,filter:m4v});if(s6Z){this.quoteDriver.quoteFeeds.push(s6Z);}this.quoteDriver.updateChartLoop(null,w2Z,X6z);}}if(!this.quoteDriver){this.quoteDriver=new F6z.ChartEngine.Driver(this,X6z,w2Z,m4v);for(var l2k of P8F){this.quoteDriver.quoteFeeds.push(l2k);}if(!m4v){U0o=this.quoteDriver.quoteFeeds.shift();this.quoteDriver.quoteFeeds.push(U0o);this.quoteDriver.quoteFeed=U0o.engine;this.quoteDriver.behavior=U0o.behavior;}}if(!m4v){this.quoteDriver.hasUnfilteredQuoteFeed=!!({});}};F6z.ChartEngine.prototype.detachQuoteFeed=function(p_h){var d_s;d_s=this.quoteDriver;if(!d_s){return;}for(var i3Q=d_s.quoteFeeds.length - 1;i3Q >= 0;i3Q--){if(!p_h || d_s.quoteFeeds[i3Q].engine == p_h){if(!d_s.quoteFeeds[i3Q].filter){d_s.hasUnfilteredQuoteFeed=!!0;}d_s.die(d_s.quoteFeeds[i3Q]);d_s.quoteFeeds.splice(i3Q,1);}}if(!d_s.quoteFeeds.length){d_s=this.quoteDriver=null;}else if(p_h == d_s.quoteFeed){d_s.quoteFeed=d_s.quoteFeeds["0" << 32].engine;d_s.behavior=d_s.quoteFeeds[0].behavior;}};F6z.ChartEngine.Driver=function(W29,J9L,c$O,P0F){this.stx=W29;if(!c$O){c$O={};}this.quoteFeeds=[{engine:J9L,behavior:c$O,filter:P0F}];this.id=F6z.uniqueID(!![]);this.behavior=c$O;H$0.n2i();this.quoteFeed=J9L;this.loadingNewChart=!({});this.updatingChart=!1;if(!P0F){this.hasUnfilteredQuoteFeed=!"";}this.updateChartLoop();};F6z.ChartEngine.Driver.prototype.die=function(X6L){var L18;for(var o6U=0;o6U < this.quoteFeeds.length;o6U++){if(!X6L || this.quoteFeeds[o6U] == X6L){L18=this.quoteFeeds[o6U];clearInterval(L18.intervalTimer);L18.intervalTimer=-1;}}};F6z.ChartEngine.Driver.prototype.getQuoteFeed=function(g3z){var F$H;H$0.F64();if(!g3z.symbolObject){g3z.symbolObject={symbol:g3z.symbol};}for(var u7j=0;u7j < this.quoteFeeds.length;u7j++){F$H=this.quoteFeeds[u7j];if(F$H.behavior.generator != g3z.symbolObject.generator)continue;if(!F$H.filter || F$H.filter(g3z)){return F$H;}}return null;};F6z.ChartEngine.Driver.prototype.multiFetch=function(Z$a,C9U){H$0.F64();var n24,s0r,O_m;if(Z$a.length === 0){C9U([]);}function o2T(w7y,N$x,M7V){H$0.n2i();return function(w$e){var N1T;N$x.results.push({dataCallback:w$e,params:w7y});N$x.counter++;if(N$x.counter >= N$x.finished){N1T=N$x.results;N$x.results=[];M7V(N1T);}};}n24={counter:0,finished:Z$a.length,results:[]};for(var h7u=0;h7u < Z$a.length;h7u++){s0r=Z$a[h7u];if(s0r.stx.isEquationChart(s0r.symbol)){F6z.fetchEquationChart(s0r,o2T(s0r,n24,C9U));}else {O_m=this.getQuoteFeed(s0r);if(O_m){F6z.ChartEngine.Driver.fetchData(F6z.QuoteFeed.SERIES,O_m.engine,s0r,o2T(s0r,n24,C9U));}}}};F6z.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var J5U=0;J5U < this.quoteFeeds.length;J5U++){if(this.quoteFeeds[J5U].checkSubscriptions){this.quoteFeeds[J5U].checkSubscriptions(this.stx);}}};F6z.ChartEngine.Driver.prototype.loadDependents=function(J0x,s2f,r5D,p7a){var u39,x9u,V_z,V56,l1j,k$8,W1X,b3R,X1G,r4L,z$B,B_v,d4d,i25,G_F,O27,C3G,O8e,c5N,m6z,x1s,e59,E6u;u39=this;if(!p7a){x9u=+"0";V_z=[];V56=[];l1j=function(Y9H){if(s2f && ++x9u >= u39.quoteFeeds.length){s2f(null);}};k$8=function(J9Q){if(++x9u < V_z.length){return;}if(!V56.length){l1j(J9Q);}V56.forEach(function(U6T){u39.loadDependents(J0x,l1j,r5D,U6T.behavior);});};u39.quoteFeeds.forEach(function(q2p){H$0.F64();if(q2p.behavior.generator){V56.push(q2p);}else {V_z.push(q2p);}});V_z.forEach(function(t5n){H$0.n2i();u39.loadDependents(J0x,k$8,r5D,t5n.behavior);});return;}b3R=J0x.stx;X1G=J0x.chart;r4L=X1G.series;d4d=[];i25={};G_F=r5D == F6z.QuoteFeed.UPDATE;function n4L(m7K){return function(f5L){var l_D,E2o,e6q,M8q,A_u,x72,N_j,Q1f,f$v,K2S,n8r,a26,X1J,j4b,P7J;l_D=null;for(var k_4="0" ^ 0;k_4 < f5L.length;k_4++){E2o=f5L[k_4];e6q=E2o.dataCallback.error;if(!e6q && e6q !== 0){M8q=E2o.params.symbolObject;A_u=E2o.dataCallback;x72=A_u.quotes;N_j=A_u.moreAvailable;Q1f=A_u.upToDate;f$v=A_u.beginDate;K2S=A_u.endDate;n8r=[];if(b3R.getSeries){n8r=b3R.getSeries({symbolObject:M8q});}a26=!!"";for(var y8E=0;y8E < n8r.length;y8E++){z$B=n8r[y8E];if(!m7K){if(!J0x.future){z$B.moreAvailable=N_j === !({})?!({}):N_j || x72.length > (E2o.params.endDate?1:0);}else {z$B.upToDate=Q1f === !!({})?!"":Q1f || x72.length <= (E2o.params.startDate?+"1":0);if(b3R.isHistoricalModeSet && x72.length < 2){z$B.mostRecentForwardAttempt=new Date();}}if(!z$B.endPoints.begin || z$B.endPoints.begin > f$v){z$B.endPoints.begin=f$v;}if(!z$B.endPoints.end || z$B.endPoints.end < K2S){z$B.endPoints.end=K2S;}z$B.loading=!({});}a26=z$B.parameters.fillGaps || a26;}x72=u39.cleanup(b3R,z$B,x72,r5D,J0x,a26);b3R.updateChartData(x72,X1G,{secondarySeries:M8q.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!!"1"});if(x72 && x72.length && (!l_D || l_D > x72[0].DT)){l_D=x72[0].DT;}}}if(f5L.length && l_D){b3R.createDataSet(null,null,{appending:J0x.originalState.update || J0x.future,appendToDate:l_D});if(!J0x.nodraw){b3R.drawWithRange();}X1J=1711064255;j4b=-+"1091322240";P7J=2;for(var f5P=1;H$0.W7K(f5P.toString(),f5P.toString().length,+"78195") !== X1J;f5P++){if(r5D != F6z.QuoteFeed.INITIAL){u39.resetRefreshInterval(p7a.refreshInterval,p7a);}P7J+=2;}if(H$0.o1c(P7J.toString(),P7J.toString().length,21821) !== j4b){if(r5D == F6z.QuoteFeed.INITIAL){u39.resetRefreshInterval(p7a.refreshInterval,p7a);}}}if(s2f){s2f(null);}};}O27=r5D == F6z.QuoteFeed.PAGINATION;C3G=F6z.shallowClone(J0x);for(W1X in r4L){z$B=r4L[W1X];O8e=z$B.parameters;if(!G_F){if(!J0x.future && z$B.moreAvailable === !"1")continue;if(J0x.future && z$B.upToDate === !0)continue;}if(z$B.loading)continue;if(O8e.loadData === !!"")continue;if(G_F || O27){if(!z$B.endPoints || !Object.keys(z$B.endPoints).length)continue;}if(O8e.data && !O8e.data.useDefaultQuoteFeed)continue;B_v=O8e.symbolObject;if(!B_v.symbol)continue;if(B_v.generator != p7a.generator)continue;C3G.symbolObject=B_v;C3G.symbol=B_v.symbol;c5N=this.getQuoteFeed(C3G);if(p7a != (c5N && c5N.behavior))continue;m6z=!!"1";if(!G_F){z$B.loading=!"";}for(var m3A=+"0";m3A < d4d.length;m3A++){if(F6z.symbolEqual(d4d[m3A],B_v)){m6z=!({});}}if(m6z){d4d.push(B_v);i25[B_v.symbol]=z$B.endPoints;}}x1s=[];for(var r4d=0;r4d < d4d.length;r4d++){B_v=d4d[r4d];e59=F6z.shallowClone(J0x.originalState);e59.symbol=B_v.symbol;e59.symbolObject=B_v;if(e59.update || e59.future){if(!e59.endDate){e59.endDate=J0x.endDate;}e59.startDate=i25[B_v.symbol].end;}else {if(!e59.startDate){e59.startDate=J0x.startDate;}e59.endDate=O27 && !J0x.future?i25[B_v.symbol].begin:J0x.endDate;e59.ticks=J0x.ticks;}x1s.push(e59);}if(!x1s.length && G_F){E6u={appending:J0x.appending || J0x.originalState.update};if(E6u.appending){E6u.appendToDate=J0x.startDate;}b3R.createDataSet(null,null,E6u);if(!J0x.nodraw){b3R.draw();}if(s2f){s2f(null);}return;}this.multiFetch(x1s,n4L(G_F));};F6z.ChartEngine.Driver.prototype.cleanup=function(f7C,k0w,W9h,Y22,R0p,a36){var Z0U,v1O,x8x,A9k,v0o;f7C.doCleanupDates(W9h,f7C.layout.interval);if(!R0p.missingBarsCreated && W9h && W9h.length && f7C.cleanupGaps && a36 !== ![]){x8x=R0p.chart;if(!k0w){v1O=x8x.defaultPlotField;}else {x8x=k0w;v1O=k0w.parameters.symbol || k0w.id;}if(Y22 == F6z.QuoteFeed.PAGINATION && !R0p.loadMoreReplace){if(x8x.endPoints.begin && x8x.endPoints.begin > W9h[W9h.length - ("1" ^ 0)].DT){A9k=f7C.getFirstLastDataRecord(f7C.masterData,v1O,!"1");if(k0w){A9k=A9k[v1O];}W9h.push(A9k);Z0U="pop";}}else if(Y22 == F6z.QuoteFeed.UPDATE){if(x8x.endPoints.end && x8x.endPoints.end < W9h[0].DT){v0o=f7C.getFirstLastDataRecord(f7C.masterData,v1O,!!"1");if(k0w){v0o=v0o[v1O];}W9h.unshift(v0o);Z0U="shift";}}W9h=f7C.doCleanupGaps(W9h,R0p.chart,{cleanupGaps:a36,noCleanupDates:!!({})});if(Z0U){W9h[Z0U]();}}H$0.F64();return W9h;};F6z.ChartEngine.Driver.prototype.updateChart=function(h71){var u84,f8W,q2E,H3M,f1O,x9f,W1h,k0Q,u$3;function a1n(m5M,R0n,L4$,c4C){if(R0n.behavior.prefetchAction){R0n.behavior.prefetchAction("updateChart");}return function(Q9P){var j8C,r1H;f8W++;j8C=R0n.chart;if(L4$ == j8C.symbol && H3M == q2E.layout.interval && f1O == q2E.layout.timeUnit && !q2E.isHistoricalMode()){if(c4C === m5M.getQuoteFeed(R0n) && !Q9P.error){r1H=Q9P.quotes;r1H=m5M.cleanup(q2E,null,r1H,F6z.QuoteFeed.UPDATE,R0n);q2E.updateChartData(r1H,j8C,{noCreateDataSet:!!({}),noCleanupDates:!!"1"});j8C.attribution=Q9P.attribution;}else if(c4C){c4C.engine.announceError(R0n.originalState,Q9P);}}else {m5M.updatingChart=!!"";return;}if(f8W == u84){m5M.updatingChart=![];}if(R0n.behavior.callback){R0n.behavior.callback(R0n);}m5M.loadDependents(R0n,null,F6z.QuoteFeed.UPDATE,R0n.behavior);};}if(this.updatingChart){return;}H$0.n2i();if(this.loadingNewChart){return;}u84=Object.keys(this.stx.charts).length;f8W=0;q2E=this.stx;H3M=q2E.layout.interval;f1O=q2E.layout.timeUnit;for(var Q9Z in q2E.charts){x9f=q2E.charts[Q9Z];if(!x9f.symbol)continue;W1h=this.makeParams(x9f.symbol,x9f.symbolObject,x9f);k0Q=this.getQuoteFeed(W1h);if(x9f.masterData && x9f.masterData.length){W1h.startDate=x9f.endPoints.end;}W1h.update=!![];W1h.originalState=F6z.shallowClone(W1h);if(h71 && h71 != W1h.behavior){this.loadDependents(W1h,null,F6z.QuoteFeed.UPDATE,h71);continue;}this.updatingChart=!!({});u$3=a1n(this,W1h,x9f.symbol,k0Q);if(q2E.isEquationChart(W1h.symbol)){F6z.fetchEquationChart(W1h,u$3);}else if(k0Q){F6z.ChartEngine.Driver.fetchData(F6z.QuoteFeed.UPDATE,k0Q.engine,W1h,u$3);}}};F6z.ChartEngine.Driver.prototype.updateChartLoop=function(m1J,H2N,h14){var j4k,v$u;if(!H2N){H2N=this.behavior;}if(!h14){this.quoteFeeds.forEach(function(r0z){if(r0z.behavior === H2N){h14=r0z;}});if(!h14){h14=this.quoteFeed;}}if(h14.intervalTimer === -1){return;}clearInterval(h14.intervalTimer);h14.intervalTimer=null;H$0.F64();j4k=function(J4D,Z4k){return function(){if(Z4k.noUpdate){return;}J4D.updateChart(Z4k);};};for(var G13=0;G13 < this.quoteFeeds.length;G13++){v$u=this.quoteFeeds[G13].behavior;if(H2N == v$u && !v$u.noUpdate){if(!m1J && m1J !== 0){m1J=v$u.refreshInterval;}if(m1J){h14.intervalTimer=setInterval(j4k(this,v$u),m1J * +"1000");}}}};F6z.ChartEngine.Driver.prototype.resetRefreshInterval=function(D80,d8x){(d8x || this.behavior).refreshInterval=D80;H$0.n2i();this.updateChartLoop(null,d8x);};F6z.ChartEngine.Driver.prototype.pause=function(y1v){this.paused={symbol:y1v,interval:this.behavior.refreshInterval};H$0.f$a(41);H$0.n2i();this.resetRefreshInterval(H$0.z5U(0,"0"));};F6z.ChartEngine.Driver.prototype.resume=function(){var {interval:s9M, symbol:E3N}=this.paused;if(F6z.symbolEqual(E3N,this.stx.chart.symbol)){return;}this.resetRefreshInterval(s9M);this.paused=null;};F6z.ChartEngine.Driver.prototype.loadAll=function(C0e,C4i){var t7v,a6n;H$0.F64();t7v=this;a6n=0;s9L()();function s9L(){H$0.F64();return function(y78){if(y78){C4i(y78);}else if(t7v.stx.currentlyImporting || !C0e.moreAvailable && C0e.upToDate){C4i(null);}else if(++a6n > 20){console.warn("moreAvailable and upToDate not implemented correctly in quotefeed");C4i();}else {C0e.loadingMore=![];t7v.checkLoadMore(C0e,!![],!!1,s9L(),!!({}));}};}};F6z.ChartEngine.Driver.prototype.checkLoadMore=function(F_n,A7z,s4b,s5N,h9B){var d4i,U_Z,T8i,u7w,E1I,k0W,Y57,Y6d,Y6_,y4B,O5o,C0u,U3U,t0o,h0u,O1P,N4H,S0r,p$7,w50,t9A,t6Q;d4i=this.stx;U_Z=this;if(F_n.loadingMore || this.loadingNewChart){F_n.initialScroll=F_n.scroll;if(s5N){s5N(null);}return;}T8i=d4i.isHistoricalMode();function W0w(w1o,d2A){if(E1I.prefetchAction){E1I.prefetchAction("checkLoadMore");}H$0.n2i();return function(o3q){var D4Z,r6k,Z3_,W3l,N$7,D6I,J7Z,u6L,W9Y;D4Z=w1o.stx;r6k=d2A.chart;if(d2A.symbol == r6k.symbol && N4H == D4Z.layout.interval && S0r == D4Z.layout.timeUnit){if(!d2A.loadMore){d2A.chart.loadingMore=!({});}if(k0W === w1o.getQuoteFeed(d2A) && !o3q.error){if(!o3q.quotes){o3q.quotes=[];}Z3_=o3q.quotes;W3l=r6k.masterData;Z3_=w1o.cleanup(D4Z,null,Z3_,F6z.QuoteFeed.PAGINATION,d2A);if(Z3_.length && r6k.masterData && r6k.masterData.length){if(d2A.future){N$7=Z3_[0];if(N$7.DT && N$7.DT == r6k.masterData[r6k.masterData.length - 1].DT){W3l.pop();}}else {H$0.f$a(132);var N_t=H$0.z5U(2,2,18,1,9);D6I=Z3_[Z3_.length - N_t];if(D6I.DT && +D6I.DT == +r6k.masterData[0].DT){Z3_.pop();}}}if(!d2A.future){if(o3q.moreAvailable){r6k.moreAvailable=!!"1";}else if(o3q.moreAvailable === ![] || !Z3_.length){r6k.moreAvailable=!({});}else {r6k.moreAvailable=!!({});}}else {r6k.maximumForwardPagination=null;if(o3q.upToDate){r6k.upToDate=!!({});}else if(o3q.upToDate === !1 || Z3_.length > 1){r6k.upToDate=!!0;}else if(!Z3_.length || Z3_.length === 1 && +d2A.startDate === +o3q.quotes[+"0"].DT){if(d2A.fetchMaximumBars){r6k.upToDate=!![];}else {r6k.maximumForwardPagination=!!1;}}if(D4Z.isHistoricalModeSet && Z3_.length < 2){r6k.mostRecentForwardAttempt=new Date();}}w1o.tickMultiplier=Z3_.length?+"2":w1o.tickMultiplier * 2;J7Z=Z3_[0]?Z3_[0].DT:d2A.startDate;u6L=Z3_[0]?Z3_[Z3_.length - 1].DT:d2A.endDate;if(o3q.beginDate){J7Z=o3q.beginDate;}if(!r6k.endPoints.begin || r6k.endPoints.begin > J7Z){r6k.endPoints.begin=J7Z;}if(o3q.endDate){u6L=o3q.endDate;}if(!r6k.endPoints.end || r6k.endPoints.end < u6L){r6k.endPoints.end=u6L;}r6k.loadingMore=!"1";if(d2A.loadMoreReplace){D4Z.setMasterData(Z3_,r6k,{noCleanupDates:!![]});}else if(d2A.future){D4Z.updateChartData(Z3_,r6k,{noCreateDataSet:!!({}),noCleanupDates:!![]});}else {F6z.addMemberToMasterdata({stx:D4Z,chart:r6k,data:Z3_,fields:[7305 <= 69.99?(0x11eb,"R"):"*"],noCleanupDates:!![]});}if(d2A.future){W9Y={appending:!!1,appendToDate:Z3_["0" | 0] && Z3_[0].DT};}D4Z.createDataSet(undefined,undefined,W9Y);if(!h9B){D4Z.draw();}if(E1I.callback){E1I.callback(d2A);}w1o.loadDependents(d2A,s5N,F6z.QuoteFeed.PAGINATION);}else {w1o.quoteFeed.announceError(d2A.originalState,o3q);d2A.chart.loadingMore=!1;if(s5N){s5N(o3q.error);}}}else {return;}};}if(!T8i){d4i.isHistoricalModeSet=!!"";}u7w=this.makeParams(F_n.symbol,F_n.symbolObject,F_n);if(d4i.currentlyImporting){if(s5N){s5N(null);}return;}E1I=u7w.behavior;Y57=F_n.dataSet;function e8T(k6W){if(U_Z.paused){return !"1";}return !k6W.endPoints.begin || Y57.length - F_n.scroll < E1I.bufferSize || Y57.length - F_n.scroll - d4i.tickFromDate(k6W.endPoints.begin,F_n) < E1I.bufferSize;}H$0.I0Z(133);var d9l=H$0.z5U(38608,19,994,1016,12);H$0.f$a(134);var i3w=H$0.C6$(20,12,3);Y6_=d9l * (E1I.forwardPaginationRetryInterval || i3w);y4B=!!0;O5o=!({});function j9q(N3g){F_n.loadingMore=!"1";if(s5N){s5N(N3g);}}if(F_n.dataSet.length){for(var i2$ in F_n.series){C0u=F_n.series[i2$];if(C0u.loading)continue;if(C0u.parameters.loadData === !({}))continue;Y6d=!C0u.mostRecentForwardAttempt || C0u.mostRecentForwardAttempt.getTime() + Y6_ < Date.now();if(C0u.parameters.symbol !== F_n.symbol){if(C0u.moreAvailable !== !({}) && e8T(C0u)){y4B=!0;}if(Y6d && !C0u.upToDate && m7w(C0u)){O5o=!!({});}}}}Y6d=!F_n.mostRecentForwardAttempt || F_n.mostRecentForwardAttempt.getTime() + Y6_ < Date.now();U3U=(e8T(F_n) || A7z) && F_n.moreAvailable !== ![];function m7w(Q7L){if(U_Z.paused){return !({});}return !Q7L.endPoints.end || F_n.scroll - F_n.maxTicks + 1 < E1I.bufferSize || d4i.tickFromDate(Q7L.endPoints.end,F_n,null,!"") - Y57.length + F_n.scroll - F_n.maxTicks + 2 < E1I.bufferSize;}t0o=(m7w(F_n) || A7z) && !F_n.upToDate && Y6d;h0u=U3U || y4B;O1P=(d4i.isHistoricalModeSet || !F_n.upToDate) && !h0u && (t0o || O5o);N4H=d4i.layout.interval;S0r=d4i.layout.timeUnit;p$7=!"1";w50=E1I.findHeadOfData || F_n.masterData && F_n.masterData.length;if(!E1I.noLoadMore && w50){if(O1P || !d4i.maxDataSetSize || F_n.dataSet.length < d4i.maxDataSetSize){if(h0u || O1P){F_n.initialScroll=F_n.scroll;F_n.loadingMore=!0;u7w=this.makeParams(F_n.symbol,F_n.symbolObject,F_n);u7w.pagination=!![];u7w.future=O1P;if(F_n.masterData && F_n.masterData.length){if(O1P){u7w.startDate=F_n.endPoints.end;}else {u7w.endDate=F_n.endPoints.begin;}if(O1P && !u7w.startDate){t9A=d4i.getFirstLastDataRecord(F_n.masterData,"DT",!!1);if(t9A){u7w.startDate=t9A.DT;}}else if(h0u && !u7w.endDate){t9A=d4i.getFirstLastDataRecord(F_n.masterData,"DT");if(t9A){u7w.endDate=t9A.DT;}}}else {u7w.endDate=new Date();}u7w.originalState=F6z.shallowClone(u7w);u7w.nodraw=h9B;if(!U3U && (y4B || !t0o && O5o)){this.loadingMore=!"";this.loadDependents(u7w,j9q,F6z.QuoteFeed.PAGINATION);if(s5N){s5N(null);}return;}if(s4b || F_n.maximumForwardPagination || d4i.fetchMaximumBars[d4i.layout.aggregationType]){u7w.fetchMaximumBars=!!1;if(!d4i.maxMasterDataSize || E1I.maximumTicks < d4i.maxMasterDataSize){u7w.ticks=E1I.maximumTicks;}else {u7w.ticks=d4i.maxMasterDataSize;}}t6Q=W0w(this,u7w);k0W=U_Z.getQuoteFeed(u7w);if(d4i.isEquationChart(u7w.symbol)){F6z.fetchEquationChart(u7w,t6Q);}else {if(O1P){u7w.appending=!!1;}if(k0W){F6z.ChartEngine.Driver.fetchData(F6z.QuoteFeed.PAGINATION,k0W.engine,u7w,t6Q);}}p$7=!0;}}}if(!p$7 && s5N){s5N(null);}};F6z.ChartEngine.Driver.prototype.extendHistoricalData=function({from:r_p},X$I = ()=>{}){H$0.n2i();var C67,v7S;var {stx:k76}=this;var {chart:a8N, layout:u9h}=k76;var {masterData:X8B, dataSet:Y$$}=a8N;var {interval:g6r, timeUnit:Y8D}=u9h;C67=this.makeParams(a8N.symbol,a8N.symbolObject,a8N);v7S=this.getQuoteFeed(C67);if(a8N.loadingMore || this.loadingNewChart || k76.currentlyImporting || !X8B.length || !v7S || k76.maxDataSetSize && Y$$.length > k76.maxDataSetSize){return X$I(null);}a8N.loadingMore=!!"1";C67.originalState=Object.assign({},C67);C67.startDate=r_p;C67.endDate=X8B[0].DT;function y2k(a9T,b4C){H$0.F64();return function({quotes:J_H, moreAvailable:M3v, error:m_x, beginDate:a37}){if(b4C.symbol !== a8N.symbol || g6r !== u9h.interval || Y8D !== u9h.timeUnit){return;}a8N.loadingMore=!!"";if(m_x){return X$I(m_x);}J_H=a9T.cleanup(k76,null,J_H,F6z.QuoteFeed.PAGINATION,b4C);if(typeof M3v === "boolean"){a8N.moreAvailable=M3v;}else {a8N.moreAvailable=!!J_H.length;}a8N.endPoints.begin=a37 || r_p;F6z.addMemberToMasterdata({stx:k76,chart:a8N,data:J_H,fields:[(2150,8774) < 6116?(5640,5157) == (436.17,2566)?489.93:("0xc17" - 0,0xde):"*"],noCleanupDates:!!1});k76.createDataSet();k76.draw();};}F6z.ChartEngine.Driver.fetchData(F6z.QuoteFeed.PAGINATION,v7S.engine,C67,y2k(this,C67));};F6z.ChartEngine.Driver.prototype.barsToFetch=function(o$o){H$0.n2i();var l4f,e5g,e4w;if(!F6z.isValidNumber(this.tickMultiplier)){this.tickMultiplier=2;}l4f=this.stx.layout.interval;e5g=o$o.stx.layout.periodicity;if((l4f == "month" || l4f == "week") && !this.stx.dontRoll){e5g*=l4f == "week"?7:"30" << 64;}e4w=o$o.stx.chart.maxTicks * e5g;return e4w * this.tickMultiplier;};F6z.ChartEngine.Driver.determineStartDate=function(P1Y,E6B,v9l){return this.determineStartOrEndDate(P1Y,E6B,v9l,!!({}));};F6z.ChartEngine.Driver.determineStartOrEndDate=function(u3n,k3U,s8V,X$K){H$0.F64();var t$E;if(X$K){t$E=u3n.startDate || k3U.previous(s8V);}else {t$E=u3n.future?k3U.next(s8V):new Date();}return t$E;};F6z.ChartEngine.Driver.prototype.makeParams=function(c0G,G1G,h4q){var h4h,e0b,R$h,N9X,c8X,C1$,y5G,M3Q;h4h=this.stx;e0b=h4h.layout.interval;H$0.n2i();R$h=this.barsToFetch({stx:h4h});if((e0b == "month" || e0b == "week") && !h4h.dontRoll){e0b="day";}N9X=this.getQuoteFeed({interval:e0b,symbol:c0G,symbolObject:G1G});c8X=N9X && N9X.behavior;C1$=F6z.shallowClone(c8X) || ({});C1$.behavior=c8X;y5G=![];M3Q=[];if(h4q.market && h4q.market.getSessionNames){M3Q=h4q.market.getSessionNames();}if(h4h.extendedHours){if(h4h.extendedHours.filter){y5G=!"";}else {y5G=h4h.layout.extended;M3Q=M3Q.filter(function(P2E){H$0.F64();return P2E.enabled || h4h.layout.marketSessions[P2E.name];});}}else {M3Q=M3Q.filter(function(h4m){H$0.n2i();return h4m.enabled;});}for(var W_P=+"0";W_P < M3Q.length;W_P++){M3Q[W_P]=M3Q[W_P].name;}F6z.extend(C1$,{stx:h4h,symbol:c0G,symbolObject:G1G,chart:h4q,interval:e0b,extended:y5G,period:"1" | 1,ticks:R$h,additionalSessions:M3Q,quoteDriverID:this.id},!!1);if(!C1$.symbolObject){C1$.symbolObject={symbol:c0G};}if(!isNaN(C1$.interval)){C1$.period=parseInt(C1$.interval,10);C1$.interval=h4h.layout.timeUnit;if(!C1$.interval){C1$.interval="minute";}}return C1$;};F6z.ChartEngine.Driver.prototype.newChart=function(x1c,R1h){var l0A,t0Q,f9P,i03,W3b,n8v,d_2,f17,L8D;l0A=this.stx;t0Q=x1c.symbol;f9P=l0A.layout.interval;H$0.n2i();i03=l0A.layout.timeUnit;W3b=x1c.chart;W3b.moreAvailable=null;W3b.upToDate=null;function F8u(e0l,D9K){var s2M;s2M="newCh";s2M+="a";H$0.n2i();s2M+="rt";if(f17.prefetchAction){f17.prefetchAction(s2M);}return function(e0h){H$0.F64();var T8M,G4d,s5j,G6C,i5h,C1n,q9p,e99,t2K,y1M;T8M=D9K.chart;G4d=e0h.quotes;s5j=!1;if(t0Q == T8M.symbol && f9P == l0A.layout.interval && i03 == l0A.layout.timeUnit){e0l.loadingNewChart=!1;if(d_2 === e0l.getQuoteFeed(D9K) && !e0h.error){G4d=e0l.cleanup(l0A,null,G4d,F6z.QuoteFeed.INITIAL,D9K);l0A.setMasterData(G4d,T8M,{noCleanupDates:!![]});T8M.endPoints={};G6C=e0h.beginDate || (G4d[0]?G4d[0].DT:D9K.startDate);T8M.endPoints.begin=G6C;i5h=e0h.endDate || (G4d[0]?G4d[G4d.length - 1].DT:D9K.endDate);T8M.endPoints.end=i5h;if(!G4d){T8M.moreAvailable=!!"";T8M.upToDate=!!1;}else {C1n="upT";C1n+="oDate";T8M.moreAvailable=e0h.moreAvailable === ![]?![]:!![];T8M.upToDate=e0h.hasOwnProperty(C1n)?e0h.upToDate:!l0A.isHistoricalModeSet;}T8M.attribution=e0h.attribution;if(x1c.initializeChart){l0A.initializeChart();}l0A.createDataSet();s5j=!0;}else {d_2.engine.announceError(D9K.originalState,e0h);}}else {if(R1h){R1h("orphaned");}return;}for(var U2p in T8M.series){q9p=T8M.series[U2p];q9p.endPoints={};q9p.moreAvailable=null;q9p.upToDate=null;if(q9p.parameters.takedownResults){q9p.parameters.takedownResults(l0A,U2p);}}e99=T8M.masterData;if(e99 && e99.length){D9K.startDate=e99[0].DT;t2K=new Date();y1M=e99[e99.length - 1].DT;D9K.endDate=y1M < t2K && !l0A.isHistoricalMode()?t2K:y1M;}if(f17.callback){f17.callback(D9K);}e0l.loadDependents(D9K,function(){if(s5j && !D9K.nodraw){e0l.stx.home();}if(R1h){R1h(e0h.error);}e0l.stx.dispatch("newChart",{stx:e0l.stx,symbol:e0l.stx.chart.symbol,symbolObject:e0l.stx.chart.symbolObject,moreAvailable:e0l.stx.chart.moreAvailable,upToDate:e0l.stx.chart.upToDate,quoteDriver:e0l});e0l.resetRefreshInterval(f17.refreshInterval,f17);},F6z.QuoteFeed.INITIAL);};}W3b.loadingMore=!!"";W3b.attribution=null;n8v=this.makeParams(t0Q,x1c.symbolObject,W3b);F6z.extend(n8v,x1c,!"");d_2=this.getQuoteFeed(n8v);f17=n8v.behavior || ({});if(l0A.fetchMaximumBars[l0A.layout.aggregationType] || x1c.fetchMaximumBars){if(!l0A.maxMasterDataSize || f17.maximumTicks < l0A.maxMasterDataSize){n8v.ticks=f17.maximumTicks;}else {n8v.ticks=l0A.maxMasterDataSize;}n8v.fetchMaximumBars=!!({});}this.loadingNewChart=!"";this.updatingChart=!({});n8v.originalState=F6z.shallowClone(n8v);L8D=F8u(this,n8v);if(this.stx.isEquationChart(n8v.symbol)){F6z.fetchEquationChart(n8v,L8D);}else if(d_2){F6z.ChartEngine.Driver.fetchData(F6z.QuoteFeed.INITIAL,d_2.engine,n8v,L8D);}};F6z.QuoteFeed.INITIAL=1;F6z.QuoteFeed.UPDATE=2;F6z.QuoteFeed.PAGINATION=3;F6z.QuoteFeed.SERIES=4;F6z.ChartEngine.Driver.fetchData=function(W8Q,O52,p0K,c0t){var h7b;H$0.F64();if(!p0K.symbol){return c0t({quotes:[]});}if(O52.v2QuoteFeed){h7b="f";h7b+="u";h7b+="nctio";h7b+="n";if(typeof O52.subscribe !== h7b){F6z.ChartEngine.Driver.fetchDataInContext(W8Q,O52,p0K,c0t);}else {F6z.ChartEngine.Driver.fetchDataInContext(W8Q,O52,p0K,(function(j6M){if(!j6M.error){this.checkSubscriptions(p0K.stx);}c0t(j6M);}).bind(O52));}}else {p0K.stx.convertToDataZone(p0K.startDate);p0K.stx.convertToDataZone(p0K.endDate);O52.fetch(p0K,c0t);}};F6z.ChartEngine.Driver.fetchDataInContext=function(K80,e_X,c1r,Q0v){var t7y,F4F,L85,e1N,F80,G_8,i0Z,s4V,S_x,E3E,A1I,v9_;F80=c1r.stx;if(!F80.chart.market.newIterator){G_8="quoteFeed";G_8+=" feature requires first activating market feature.";console.error(G_8);return;}if(K80 === F6z.QuoteFeed.SERIES){c1r.series=!![];K80=F6z.QuoteFeed.INITIAL;if(c1r.endDate && !c1r.startDate || c1r.future){K80=F6z.QuoteFeed.PAGINATION;}else if(c1r.startDate && !c1r.endDate){K80=F6z.QuoteFeed.UPDATE;}}i0Z=Math.min(c1r.ticks,c1r.maximumTicks);if(e_X.maxTicks){i0Z=Math.min(i0Z,e_X.maxTicks);}s4V=c1r.symbolObject.masterSymbol || c1r.symbol;switch(K80){case F6z.QuoteFeed.UPDATE:if(F80.isHistoricalModeSet){F80.quoteDriver.updatingChart=!"1";return;}if(c1r.startDate){S_x=c1r.startDate;}else {S_x=new Date();S_x.setHours(0,0,0,0);}if(typeof e_X.fetchUpdateData === "function"){e_X.fetchUpdateData(s4V,F80.convertToDataZone(S_x),c1r,Q0v);}break;case F6z.QuoteFeed.INITIAL:E3E="t";E3E+="ick";e1N=c1r.endDate || new Date();t7y={begin:e1N,interval:c1r.interval,periodicity:c1r.interval == E3E?F80.chart.xAxis.futureTicksInterval:c1r.period,outZone:F80.dataZone};F4F=F80.chart.market.newIterator(t7y);L85=F6z.ChartEngine.Driver.determineStartDate(c1r,F4F,i0Z);if(c1r.endDate){e1N=c1r.endDate;}if(typeof e_X.fetchInitialData === "function"){e_X.fetchInitialData(s4V,L85,F80.convertToDataZone(e1N),c1r,Q0v);}break;case F6z.QuoteFeed.PAGINATION:t7y={begin:c1r.endDate || c1r.startDate,interval:c1r.interval,periodicity:c1r.interval == "tick"?F80.chart.xAxis.futureTicksInterval:c1r.period,outZone:F80.dataZone};F4F=F80.chart.market.newIterator(t7y);A1I=F6z.ChartEngine.Driver.determineStartOrEndDate(c1r,F4F,i0Z,!c1r.future);L85=c1r.startDate || A1I;e1N=c1r.endDate || A1I;if(!c1r.startDate){c1r.stx.convertToDataZone(e1N);}else {c1r.stx.convertToDataZone(L85);}if(typeof e_X.fetchPaginationData === "function"){if(F80.maxMasterDataSize && F80.maxMasterDataSize <= F80.masterData.length){return;}e_X.fetchPaginationData(s4V,L85,e1N,c1r,function(U$I){if(e1N >= Date.now()){F80.isHistoricalModeSet=!"1";}if(Q0v){Q0v(U$I);}});}break;default:v9_="Illegal";v9_+=" fet";v9_+="c";v9_+="hData constant";console.error(v9_);}};};q3=P1v=>{var i0w=R3X5F;var a5m;a5m=typeof _CIQ !== "undefined"?_CIQ:P1v.CIQ;a5m.ChartEngine.prototype.addSeries=function(G8l,S_0,b6C){var K55,d_c,B6j,j8l,I7d,f9n,T$w,p0n,u0l,b9y,l6L,v6h,e$V,c3X,U6I,D8B,J6N,N8u,b3U;K55="displ";K55+="a";K55+="y";i0w.n2i();d_c=this.runPrepend("addSeries",arguments);if(d_c){return d_c;}B6j=G8l?G8l:null;j8l=G8l;if(!G8l){G8l=a5m.uniqueID();}if(S_0 && S_0.panel === !!1){S_0.panel=G8l;}I7d={parameters:S_0?a5m.clone(S_0):{},yValueCache:[],display:B6j,id:G8l,loading:S_0?S_0.loadData !== ![]:!!({})};I7d.parameters.yAxis=S_0 && S_0.yAxis;S_0=I7d.parameters;if(S_0.symbol){j8l=S_0.symbol;}if(S_0.isComparison){S_0.shareYAxis=!!1;}function t1m(g8e){return function(C5l){var x_1,A0A,k8N;x_1="s";x_1+="y";x_1+="mbolChan";x_1+="ge";if(!C5l.error){A0A=C5l.quotes;k8N=S_0.fillGaps;if(!l6L.cleanupGaps){k8N=!({});}A0A=l6L.doCleanupGaps(A0A,l6L.chart,{cleanupGaps:k8N});l6L.updateChartData(A0A,l6L.chart,{secondarySeries:j8l,noCreateDataSet:!![],noCleanupDates:!"",allowReplaceOHL:!0});I7d.loading=!({});I7d.moreAvailable=C5l.moreAvailable;I7d.upToDate=C5l.upToDate;w01(l6L,I7d);}if(S_0.action !== null && !p0n.length){l6L.dispatch(v6h?"symbolImport":x_1,{stx:l6L,symbol:g8e.symbol,symbolObject:g8e.symbolObject,action:S_0.action,id:I7d.id,parameters:S_0});}if(I7d.parameters.processResults){I7d.parameters.processResults(l6L,C5l.error,I7d,C5l.quotes);}if(b6C){b6C.call(l6L,C5l.error,I7d);}};}if(S_0.yAxis && !(S_0.yAxis instanceof a5m.ChartEngine.YAxis)){S_0.yAxis=new a5m.ChartEngine.YAxis(S_0.yAxis);}function w01(h9O,n2a){var c6i,s$3,y6V,l4P,W$x;c6i="L";c6i+="ines";s$3=S_0.renderer || c6i;y6V=S_0.name || G8l;if(S_0.yAxis && !(S_0.yAxis instanceof a5m.ChartEngine.YAxis) && !v6h){S_0.yAxis.name=y6V;}if(!S_0.renderer && !S_0.name && !S_0.color && !S_0.chartType){return;}l4P=h9O.getSeriesRenderer(y6V);if(!l4P){W$x={name:y6V,overChart:S_0.overChart !== !1,useChartLegend:!!({})};if(S_0.chartType){l4P=a5m.Renderer.produce(S_0.chartType,a5m.extend({highlightable:S_0.highlightable,dependentOf:S_0.dependentOf,panel:S_0.panel,yAxis:S_0.yAxis,baseline:S_0.baseline},W$x));}else {a5m.ensureDefaults(S_0,W$x);l4P=new a5m.Renderer[s$3]({params:S_0});}if(!l4P){return;}h9O.setSeriesRenderer(l4P);}l4P.attachSeries(G8l,S_0);if(S_0.loadData !== !"1"){l4P.ready();}h9O.layout.symbols=h9O.getSymbols({"include-parameters":!!"1","exclude-studies":!0});h9O.changeOccurred("layout");}a5m.ensureDefaults(S_0,{chartName:this.chart.name,symbolObject:{symbol:j8l},panel:this.chart.panel.name,fillGaps:!"1",action:"add-series"});if((K55 in S_0)){I7d.display=S_0.display;}f9n=this.charts[S_0.chartName];T$w=S_0.symbolObject;j8l=S_0.symbol=T$w.symbol;if(S_0.isEvent){T$w.isEvent=!![];}if(!I7d.display){I7d.display=j8l || S_0.field;}I7d.endPoints={};if(!S_0.gapDisplayStyle && S_0.gapDisplayStyle !== ![]){S_0.gapDisplayStyle=S_0.gaps;}if(S_0.isComparison){if(S_0.gapDisplayStyle === undefined){S_0.gapDisplayStyle="transparent";}}p0n=this.getSeries({symbolObject:T$w,chart:f9n,includeMaster:!!"1"});u0l=S_0.panel;if(!this.panels[u0l]){b9y=S_0.yAxis || new a5m.ChartEngine.YAxis();b9y.name=G8l;this.createPanel(G8l,u0l,null,null,b9y);if(!this.preferences.dragging || !this.preferences.dragging.series){S_0.highlightable=!({});}}else {if(!S_0.yAxis && !S_0.shareYAxis){S_0.yAxis=new a5m.ChartEngine.YAxis({name:G8l,position:"none"});}}f9n.series[G8l]=I7d;l6L=this;v6h=this.currentlyImporting;e$V=S_0.responseHandler || t1m;if(S_0.isComparison && f9n.forcePercentComparison && S_0.panel == f9n.panel.name && (!S_0.yAxis || S_0.yAxis == f9n.yAxis)){this.setChartScale("percent");}c3X=f9n.masterData;if(!c3X){c3X=f9n.masterData=this.masterData=[];}U6I=c3X.length;if(S_0.data && !S_0.data.useDefaultQuoteFeed){D8B={symbol:j8l,symbolObject:T$w,action:S_0.action};e$V(D8B)({quotes:S_0.data});}else if(p0n.length){I7d.endPoints=p0n[0].endPoints;I7d.loading=p0n[0].loading;w01(this,I7d);if(b6C){setTimeout(function(){i0w.F64();b6C.call(l6L,null,I7d);},0);}}else if(this.quoteDriver && S_0.loadData !== !({})){J6N=this.quoteDriver;N8u=J6N.makeParams(j8l,T$w,f9n);if(U6I){N8u.startDate=c3X[0].DT;N8u.endDate=this.isHistoricalMode()?c3X[c3X.length - +"1"].DT:new Date();}if(N8u.stx.isEquationChart(N8u.symbol)){a5m.fetchEquationChart(N8u,e$V(N8u));}else {b3U=J6N.getQuoteFeed(N8u);if(b3U){a5m.ChartEngine.Driver.fetchData(4,b3U.engine,N8u,e$V(N8u));}}}else {w01(this,I7d);if(S_0.action !== null && !p0n.length){l6L.dispatch(v6h?"symbolImport":"symbolChange",{stx:l6L,symbol:j8l,symbolObject:T$w,action:S_0.action,id:I7d.id,parameters:S_0});}if(b6C){b6C.call(this,null,I7d);}}this.changeOccurred("layout");this.runAppend("addSeries",arguments);return I7d;};a5m.ChartEngine.prototype.getSeries=function(B0B){var e6v,z1r,d$P,i7g,T$B;e6v=B0B.chart?B0B.chart:this.chart;z1r=e6v.series;d$P=B0B.symbolObject;if(!d$P){d$P={symbol:B0B.symbol};}i7g=[];for(var t01 in z1r){T$B=z1r[t01];if(a5m.symbolEqual(d$P,T$B.parameters.symbolObject)){i7g.push(T$B);}}if(B0B.includeMaster){if(a5m.symbolEqual(d$P,e6v.symbolObject)){i7g.push({});}}return i7g;};a5m.ChartEngine.prototype.modifySeries=function(p2y,J1P,M6L){var O9_,o9p,o$q,N0P,A7B,o5K,i4W,R1e,h_j,M_B,l8E,V12,p6A,D8Y,J1L,Y6b,E6g,i6J,D3a,R2N,A65;O9_="l";O9_+="ayout";o9p="Drawing.up";o9p+="dateSource";o$q="fi";o$q+="el";o$q+="d";i0w.n2i();N0P="modifySeri";N0P+="es";if(this.runPrepend(N0P,arguments)){return;}if(!J1P){return;}if(typeof p2y === "string"){i4W=J1P.chartName?this.charts[J1P.chartName]:this.chart;o5K=p2y;A7B=i4W.series[o5K];}else {A7B=p2y;o5K=A7B.id;i4W=this.charts[A7B.parameters.chartName];}if(!A7B){return;}R1e=A7B.parameters.panel;a5m.extend(A7B.parameters,J1P,!![]);this.getRendererFromSeries(o5K).modifyRenderer(J1P);h_j=A7B.parameters;if(R1e !== h_j.panel){this.moveMarkers(R1e,h_j.panel,this.getMarkerArray(o$q,h_j.symbol));}for(var G68 in i4W.seriesRenderers){l8E=i4W.seriesRenderers[G68];V12=l8E.params;p6A=l8E.seriesParams;for(var L8S="0" - 0;L8S < p6A.length;++L8S){D8Y=p6A[L8S];J1L=this.panels[D8Y.panel];Y6b=J1L && J1L.yAxis.name;if(D8Y.id === A7B.id){E6g="perce";E6g+="nt";if(h_j.panel === !!({})){h_j.panel=h_j.dependentOf || h_j.name;}V12.panel=h_j.panel;if(J1P.yAxis){if(!(J1P.yAxis instanceof a5m.ChartEngine.YAxis)){J1P.yAxis=new a5m.ChartEngine.YAxis(J1P.yAxis);}V12.yAxis=J1P.yAxis;}if(h_j.panel != D8Y.panel && V12.name == Y6b){this.electNewPanelOwner(D8Y.panel);}else {i6J=this.getYAxisByName(h_j.panel,V12.name);if(i6J && h_j.yAxis && i6J.name !== h_j.yAxis.name){i6J.name=this.electNewYAxisOwner(i6J);}}if(!h_j.field){h_j.field=null;}l8E.attachSeries(o5K,a5m.ensureDefaults(h_j,D8Y));if(!h_j.field){h_j.field=h_j.subField;}delete h_j.subField;if(h_j.isComparison && i4W.forcePercentComparison && h_j.panel == i4W.panel.name && (!A7B.parameters.yAxis || h_j.yAxis.name == i4W.yAxis.name)){this.setChartScale(E6g);}M_B=l8E;break;}}}a5m.getFn(o9p)(this,h_j.symbol || o5K,null,h_j.panel);this.runAppend("modifySeries",arguments);if(M6L !== !""){D3a=M_B.getDependents(this);for(var L3G=0;L3G < D3a.length;L3G++){if(D3a[L3G].seriesParams){this.modifySeries(D3a[L3G].params.name,{panel:M_B.params.panel,yAxis:A7B.parameters.yAxis},!!"1");}if(D3a[L3G].study){R2N=D3a[L3G];R2N=a5m.Studies.replaceStudy(this,R2N.inputs.id,R2N.type,R2N.inputs,R2N.outputs,R2N.parameters,null,R2N.study);}}A65=i4W.seriesRenderers[M_B.params.dependentOf];if(A65){if(A65.params.yAxis != A7B.parameters.yAxis || A65.params.panel != M_B.params.panel){this.modifySeries(M_B.params.dependentOf,{panel:M_B.params.panel,yAxis:A7B.parameters.yAxis},!![]);}}}this.changeOccurred(O9_);this.draw();return A7B;};a5m.ChartEngine.prototype.deleteSeries=function(t8q,u5f,F4J){var q$3,h9R,W8K,E0v,D0V,Q4o,L6N,g5C;i0w.n2i();q$3="de";q$3+="lete";q$3+="Serie";q$3+="s";h9R="symbolChan";h9R+="ge";W8K="re";W8K+="move-series";if(this.runPrepend("deleteSeries",arguments)){return;}F4J=F4J || ({});E0v=F4J.action || W8K;if(typeof t8q === "object"){D0V=t8q.id;u5f=u5f || this.charts[t8q.parameters.chartName];}else {D0V=t8q;u5f=u5f || this.chart;}Q4o=u5f.series[D0V];if(!Q4o){return;}var {isEvent:N$O, loadData:w$P, symbolObject:o$E}=Q4o.parameters;if(!this.currentlyImporting){this.getMarkerArray("field",D0V).forEach(a2h=>{return this.removeFromHolder(a2h);});}delete u5f.series[D0V];this.layout.symbols=this.getSymbols({"include-parameters":!!({}),"exclude-studies":!![]});L6N=this.getSeries({symbolObject:o$E,includeMaster:!![]});if(!N$O && w$P !== !"1" && !L6N.length){this.cleanMasterData(o$E,u5f);}g5C=this.panels[Q4o.parameters.panel];if(g5C){this.checkForEmptyPanel(g5C);}this.createDataSet();this.changeOccurred("layout");if(!L6N.length && !N$O){this.dispatch(this.currentlyImporting?"symbolImport":h9R,{stx:this,symbol:o$E.symbol,symbolObject:o$E,id:D0V,action:E0v});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend(q$3,arguments);};a5m.ChartEngine.prototype.removeSeries=function(R57,y8g){var S9n,o3U,S85,E8g,Z18,z6G,u2i,C2Y,b6L,c03;S9n="removeSer";S9n+="i";S9n+="es";o3U="remove";o3U+="Series";if(this.runPrepend(o3U,arguments)){return;}E8g=!({});if(typeof R57 === "object"){S85=R57.id;y8g=y8g || this.charts[R57.parameters.chartName];}else {S85=R57;y8g=y8g || this.chart;}if(y8g.series[S85]){Z18=y8g.series[S85].parameters.takedownResults;if(Z18){Z18(this,S85);}}for(var w77 in y8g.seriesRenderers){z6G=y8g.seriesRenderers[w77];u2i=this.panels[z6G.params.panel];C2Y=u2i && u2i.yAxis.name;for(var j8V=z6G.seriesParams.length - 1;j8V >= 0;j8V--){b6L=z6G.seriesParams[j8V];if(b6L.id === S85){z6G.removeSeries(S85);if(z6G.seriesParams.length < "1" * 1){this.removeSeriesRenderer(z6G);if(z6G.params.name == C2Y){this.electNewPanelOwner(z6G.params.panel);}else {if(!this.checkForEmptyPanel(z6G.params.panel)){c03=this.getYAxisByName(u2i,z6G.params.name);if(c03){c03.name=c03.studies[0] || c03.renderers[1];}}}}E8g=!!({});}}}if(!E8g){this.deleteSeries(S85,y8g);}else {this.changeOccurred("layout");}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend(S9n,arguments);};a5m.Comparison=a5m.Comparison || (function(){});i0w.f$a(60);a5m.Comparison.initialPrice=i0w.C6$(0,"100");a5m.Comparison.getInitialPrice=function(e5f){var A3w,u2n,D6f,T$G;A3w="s";A3w+="tr";A3w+="ing";if(e5f.initialComparisonPrice){return e5f.initialComparisonPrice;}e5f.initialComparisonPrice=100;u2n=a5m.Comparison.initialPrice;if(typeof u2n == "number"){e5f.initialComparisonPrice=u2n;}if(typeof u2n == A3w){if(e5f.series[u2n] || u2n === ""){D6f="Close";if(e5f.defaultPlotField){if(!e5f.highLowBars){D6f=e5f.defaultPlotField;}}for(var f4U=e5f.dataSet.length - e5f.scroll - 1;f4U < e5f.dataSet.length;f4U++){T$G=e5f.dataSet[f4U];if(T$G){if(T$G[u2n] && T$G[u2n][D6f]){e5f.initialComparisonPrice=T$G[u2n][D6f];break;}else if(u2n === "" && T$G[D6f]){e5f.initialComparisonPrice=T$G[D6f];break;}}}}}i0w.n2i();return e5f.initialComparisonPrice;};a5m.Comparison.priceToPercent=function(i$q,w5N,v2I,q8q,F_4){var m00;m00=i$q.comparisonBaseline;if(m00 && (F_4 in m00)){m00=m00[F_4];}if(m00 && typeof m00 === "object"){m00=m00[w5N.defaultPlotField || "Close"];}m00=m00 || v2I;i0w.f$a(10);var J1Y=i0w.z5U(10,2,92);i0w.f$a(135);var l7t=i0w.z5U(9792,13,40000,14,20000);return Math.round((v2I - m00) / m00 * J1Y * l7t) / ("10000" - 0);};i0w.F64();a5m.Comparison.percentToPrice=function(k7h,r_L,Y33,o$W,K5V){var W_Z;W_Z=k7h.comparisonBaseline;if(W_Z && (K5V in W_Z)){W_Z=W_Z[K5V];}i0w.n2i();if(W_Z && typeof W_Z === "object"){W_Z=W_Z[r_L.defaultPlotField || "Close"];}W_Z=W_Z || 1;i0w.I0Z(136);return i0w.z5U(100,Y33,W_Z,1);};a5m.Comparison.priceToRelative=function(P5V,F7O,t_t,y5t,V8W){var y8Y,D9s;y8Y=P5V.comparisonBaseline;D9s=a5m.Comparison.getInitialPrice(F7O);if(y8Y && (V8W in y8Y)){y8Y=y8Y[V8W];}if(y8Y && typeof y8Y === "object"){y8Y=y8Y[F7O.defaultPlotField || "Close"];}i0w.f$a(17);return i0w.z5U(D9s,y8Y || t_t,t_t);};a5m.Comparison.relativeToPrice=function(W0Z,F63,T3m,p2b,v69){var c4y,r$7,a_B,a43;c4y="Cl";c4y+="o";c4y+="s";c4y+="e";r$7="o";r$7+="b";r$7+="jec";r$7+="t";a_B=W0Z.comparisonBaseline;a43=a5m.Comparison.getInitialPrice(F63);if(a_B && (v69 in a_B)){a_B=a_B[v69];}if(a_B && typeof a_B === r$7){a_B=a_B[F63.defaultPlotField || c4y];}i0w.f$a(17);return i0w.C6$(a_B || 1,a43,T3m);};a5m.Comparison.createComparisonSegmentInner=function(d75,q8g){var Z3s,K00,B6k,D$t,H0r,G3Z,N1Y,E2m,Z8H,Z7V,I_W,V7M,w0$,H7z,o6y,a0A,L0x,A5N,X$1,r2A,h6b,R_e,A_A,D3_,x2f,l1u,U$R,C9Z,I2R;Z3s="C";Z3s+="l";Z3s+="o";Z3s+="se";K00=[];for(B6k in q8g.series){G3Z=q8g.series[B6k].parameters;if(!G3Z.yAxis && G3Z.shareYAxis || G3Z.yAxis === q8g.yAxis){K00.push(G3Z.symbol);}}N1Y=[Z3s,"Open","High","Low","iqPrevClose"];E2m=d75.chart.highLowBars;if(q8g.defaultPlotField && !E2m){N1Y.unshift(q8g.defaultPlotField);}Z8H=N1Y[0];Z7V=d75.layout.studies;for(var g_h in Z7V){I_W="_h";I_W+="i";I_W+="s";I_W+="t";V7M=Z7V[g_h];D$t=d75.panels[V7M.panel];H0r=V7M.getYAxis(d75);if(!D$t || D$t.yAxis != H0r)continue;for(B6k in V7M.outputMap){if(q8g.transformFunc && H0r == q8g.panel.yAxis && K00.includes(V7M.inputs.Field)){N1Y.push({comparison:V7M.inputs.Field,field:B6k});}else {N1Y.push(B6k);}}for(var o3v=0;o3v <= 2;o3v++){N1Y.push(V7M.name + I_W + (o3v?o3v:""));}if(V7M.referenceOutput){N1Y.push(V7M.referenceOutput + ((817.19,1510) === (1942,79.9)?("z",3.91e+3):" ") + V7M.name);}}for(var Q28 in d75.plugins){w0$=d75.plugins[Q28];if(!w0$.transformOutputs)continue;for(B6k in w0$.transformOutputs){N1Y.push(B6k);}}q8g.initialComparisonPrice=null;q8g.dataSegment=[];H7z=null;i0w.I0Z(7);var D8a=i0w.C6$(10,11);o6y=q8g.dataSet.length - q8g.scroll - D8a;if(d75.startComparisonsAtFirstVisibleBar){o6y+=1;}i0w.f$a(26);i0w.n2i();var p$b=i0w.C6$(8,5);a0A=q8g.maxTicks + p$b;for(var k8A=+"0";k8A <= a0A;k8A++){if(k8A == a0A){k8A=-+"1";}i0w.I0Z(0);L0x=i0w.C6$(o6y,k8A);if(L0x < q8g.dataSet.length && L0x >= 0){A5N=q8g.dataSet[L0x];X$1=A5N[Z8H];if(!H7z){if(X$1 === 0 || X$1 === null){if(k8A < 0)break;else continue;}H7z=a5m.clone(A5N);}if(!A5N.transform){A5N.transform={cache:{},DT:A5N.DT,Date:A5N.Date};}if(!(H7z && H7z[Z8H]) && X$1){H7z=a5m.clone(A5N);}d75.comparisonBaseline=H7z;for(r2A=0;r2A < N1Y.length;r2A++){B6k=N1Y[r2A];h6b=A5N[B6k];if(h6b || h6b === 0){A5N.transform[B6k]=q8g.transformFunc(d75,q8g,h6b);}}for(r2A=0;r2A < K00.length;r2A++){B6k=K00[r2A];R_e=q8g.series[B6k];if(k8A == -1 && R_e && R_e.parameters.isComparison){delete A5N.transform[B6k];continue;}A_A=A5N[B6k];if(!A_A)continue;for(var a53=0;a53 < N1Y.length;a53++){D3_=N1Y[a53];x2f=A_A[D3_];l1u=A5N.transform[B6k]=A5N.transform[B6k] || ({});if(typeof D3_ == "object" && D3_.comparison == B6k){D3_=D3_.field;x2f=A5N[D3_];l1u=A5N.transform;}if(x2f || x2f === 0){U$R=H7z[B6k] && H7z[B6k][N1Y[0]];if(!U$R && U$R !== "0" - 0){if(!H7z[B6k]){H7z[B6k]={};}H7z[B6k][D3_]=U$R=x2f * H7z[Z8H] / A5N[Z8H];}if(U$R !== +"0"){C9Z=H7z[Z8H] || +"1";i0w.f$a(137);I2R=i0w.z5U(C9Z,U$R,x2f);l1u[D3_]=q8g.transformFunc(d75,q8g,I2R);}}}}q8g.dataSegment.push(A5N);}else if(L0x < 0){q8g.dataSegment.push(null);}if(k8A < 0)break;}};a5m.Comparison.priceFormat=function(n3H,z7r,H9a){var C4u,o$a,q$N;if(H9a === null || typeof H9a == "undefined" || isNaN(H9a)){return "";}C4u=z7r.yAxis.priceTick;o$a=n3H.internationalizer;if(o$a){if(C4u >= 5){i0w.I0Z(138);H9a=o$a.percent.format(i0w.C6$("100",H9a,1));}else if(C4u >= 0.5){i0w.f$a(8);H9a=o$a.percent1.format(i0w.z5U(H9a,100));}else if(C4u >= 0.05){i0w.I0Z(14);H9a=o$a.percent2.format(i0w.C6$(H9a,0,"100"));}else if(C4u >= 0.005){i0w.f$a(28);H9a=o$a.percent3.format(i0w.z5U(32,H9a,"100"));}else {i0w.I0Z(24);H9a=o$a.percent4.format(i0w.C6$("100",H9a));}}else {i0w.f$a(97);q$N=i0w.C6$(H9a,0);if(C4u >= 5){i0w.f$a(139);var q1a=i0w.C6$(7,6,3200,6423,3);i0w.I0Z(140);var A68=i0w.C6$(12,19,6,1);i0w.I0Z(7);var T$i=i0w.z5U(3583,7166);H9a=H9a.toFixed(0) + ((469.46,q1a) !== "9010" * A68?"%":(!1,T$i));}else if(C4u >= 0.5){i0w.f$a(85);var l0Z=i0w.z5U(15,4,7,13);i0w.f$a(74);var v0V=i0w.z5U(7,19,32,11,3959);i0w.I0Z(114);var t7m=i0w.C6$(9177,146880,48960);i0w.f$a(114);var o6x=i0w.z5U(7590,121600,12160);H9a=H9a.toFixed(l0Z) + (v0V >= (596.69,t7m)?(!0,o6x):"%");}else if(C4u >= 0.05){i0w.f$a(7);var V$v=i0w.C6$(14,16);H9a=H9a.toFixed(V$v) + "%";}else if(C4u >= "0.005" * 1){i0w.f$a(0);var h8U=i0w.z5U(1,2);H9a=H9a.toFixed(h8U) + "%";}else {i0w.I0Z(59);var w4i=i0w.C6$(31,6,16,5);i0w.f$a(141);var v6b=i0w.z5U(2,438110,15,59020);i0w.I0Z(0);var j58=i0w.z5U(46,788);i0w.f$a(142);var j$v=i0w.C6$(1,8,5545,5539,5539);i0w.f$a(0);var K5F=i0w.z5U(24,8);i0w.f$a(0);var P6s=i0w.C6$(1821,19);i0w.I0Z(143);var r2h=i0w.z5U(28,14,5,7278);i0w.f$a(79);var V4f=i0w.C6$(17,19,17,18,1);H9a=H9a.toFixed(w4i) + ((695.7,+"622.89") <= 405.72?(v6b,j58) > (j$v,"6560" << K5F)?P6s:(969.3,r2h) <= V4f?(!!0,!!0):(+"0x12a9","9.34e+3" ^ 0):"%");}if(q$N){i0w.f$a(0);H9a=i0w.z5U("+",H9a);}}return H9a;};a5m.ChartEngine.prototype.setComparison=function(k7e,B_H,d4I){var W$A,F0G,r3p,J8M;W$A="st";i0w.n2i();W$A+="ri";W$A+="n";W$A+="g";if(!B_H){B_H=this.chart;}if(typeof B_H == W$A){B_H=this.charts[B_H];}if(d4I || d4I === ""){a5m.Comparison.initialPrice=d4I;}if(k7e === !!1){F0G="per";F0G+="c";F0G+="en";F0G+="t";if(B_H.isComparison){return;}k7e=F0G;}this.resetDynamicYAxis();r3p=B_H.panel.yAxis;J8M=r3p.priceFormatter == a5m.Comparison.priceFormat;switch(k7e){case "relative":this.setTransform(B_H,a5m.Comparison.priceToRelative,a5m.Comparison.relativeToPrice);if(J8M){r3p.priceFormatter=r3p.originalPriceFormatter?r3p.originalPriceFormatter.func:null;r3p.originalPriceFormatter=null;}r3p.whichSet="dataSegment";B_H.isComparison=!![];break;case "percent":this.setTransform(B_H,a5m.Comparison.priceToPercent,a5m.Comparison.percentToPrice);if(!J8M){r3p.originalPriceFormatter={func:r3p.priceFormatter};r3p.priceFormatter=a5m.Comparison.priceFormat;}r3p.whichSet="dataSegment";B_H.isComparison=!!1;break;default:this.unsetTransform(B_H);if(J8M){r3p.priceFormatter=r3p.originalPriceFormatter?r3p.originalPriceFormatter.func:null;r3p.originalPriceFormatter=null;}r3p.whichSet="dataSet";B_H.isComparison=!({});break;}};a5m.ChartEngine.prototype.setChartScale=function(A6i){var H5p,V1h,i5K;H5p=this.chart;V1h={percent:!!({}),relative:!![]};if(!A6i){A6i="linear";}if(V1h[A6i]){this.setComparison(A6i,H5p,a5m.Comparison.initialPrice);}else if(V1h[this.layout.chartScale]){this.setComparison(!!0,H5p);}i5K=this.layout.chartScale !== A6i;this.layout.chartScale=A6i;if(H5p.canvas){this.draw();}if(i5K){this.changeOccurred("layout");}};};H0=Z$z=>{var N7K,t44;N7K=typeof _CIQ !== "undefined"?_CIQ:Z$z.CIQ;function D60(L5x){var k_I,k1a,U3V;k_I="text-a";k_I+="nc";k_I+="ho";k_I+="r";if(!L5x.style){return;}k1a=getComputedStyle(L5x);U3V=["alignment-baseline","dominant-baseline","fill","fill-opacity","font-family","font-size","font-variant","font-weight","text-align",k_I];U3V.forEach(function(M2L){R3X5F.n2i();if(!L5x.style[M2L] && k1a[M2L]){L5x.style[M2L]=k1a[M2L];}});for(var S1n in L5x.children){D60(L5x.children[S1n]);}}function W3H(h6H,j2q,Y7J){var D2Q,A6a,N7a,G_K,Y7O,O2t,s68,K$O,X0y;if(!j2q){j2q={};}D2Q="ciq-no-share";A6a=h6H.uiContext && h6H.uiContext.topNode || h6H.container.ownerDocument.body;N7a=A6a.parentElement.closest("cq-context");function A8O(J4i,t48){J4i.classList[t48]("sharing");(J4i.root || J4i).querySelectorAll("[interactable]").forEach(function(h9a){R3X5F.F64();A8O(h9a,t48);});}if(N7a){A6a=N7a;}if(j2q.hide && j2q.hide instanceof Array){G_K=j2q.hide.join(", ");Y7O=A6a.querySelectorAll(G_K);for(var p2D=+"0";p2D < Y7O.length;p2D++){Y7O[p2D].classList.add(D2Q);}}A8O(A6a,"add");h6H.draw();O2t=h6H.chart.container.getElementsByTagName("svg");s68=[];K$O=0;for(;K$O < O2t.length;K$O++){X0y=O2t[K$O];s68.push(X0y.innerHTML);D60(X0y);}t44(h6H.chart.container,{allowTaint:![],foreignObjectRendering:!({}),logging:![],width:j2q.width || null,height:j2q.height || null,backgroundColor:j2q.background || null,useCORS:!!1}).then(function(R60){if(Y7J){Y7J(null,j2q.data?R60.toDataURL("image/png"):R60);}R3X5F.F64();for(K$O=0;K$O < O2t.length;K$O++){O2t[K$O].innerHTML=s68[K$O];}A8O(A6a,"remove");}).catch(function(J7O){R3X5F.n2i();if(Y7J){Y7J(J7O);}for(K$O=0;K$O < O2t.length;K$O++){O2t[K$O].innerHTML=s68[K$O];}A8O(A6a,"remove");});}function d3F(F0c){var P57,W0N;R3X5F.F64();if(typeof html2canvas === "undefined"){P57="htm";P57+="l2canvas.min.js";W0N="und";W0N+="efined";if(typeof requirejs !== W0N){try{return requirejs(["html2canvas.min.js"],function(p6g){t44=p6g;return F0c();});}catch(W0p){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}N7K.loadScript(y82() + P57,function(){t44=html2canvas;return F0c();});}else {t44=html2canvas;return F0c();}}N7K.Share=N7K.Share || (function(){});N7K.Share.fullChart2PNG=function(A_7,N5l,w0a){if(!A_7 || !A_7.chart){return;}if(typeof html2canvas === "undefined"){return d3F(function(){R3X5F.n2i();return W3H(A_7,N5l,w0a);});}t44=html2canvas;W3H(A_7,N5l,w0a);};N7K.Share.createImage=function(d51,Z$Z,z_l){var Y5f=R3X5F;var z3S,O9L,E9$,b2Y,K7r,d0M,s_3,A2M,X37;z3S="o";z3S+="b";z3S+="jec";z3S+="t";O9L=[].slice.call(arguments);z_l=O9L.pop();if(Z$Z === null || typeof Z$Z != z3S){Z$Z={widthPX:O9L[+"1"],heightPX:O9L[2],imageType:O9L[+"3"]};}E9$=Z$Z.widthPX;b2Y=Z$Z.heightPX;Y5f.n2i();K7r=Z$Z.imageType;d0M=d51.chart.canvas.height;s_3=d51.chart.canvas.width;if(d51.chart.canvas.style.height){d0M=N7K.stripPX(d51.chart.canvas.style.height);s_3=N7K.stripPX(d51.chart.canvas.style.width);}if(E9$ && b2Y){d0M=b2Y;s_3=E9$;}else if(b2Y){s_3=d51.chart.canvas.width * (d0M / d51.chart.canvas.height);}else if(E9$){s_3=E9$;d0M=d51.chart.canvas.height * (E9$ / d51.chart.canvas.width);}A2M=K7r?"image/" + K7r:"image/png";X37=document.createElement("img");X37.onload=function(){Y5f.n2i();N7K.Share.fullChart2PNG(d51,{image:this,width:s_3,height:d0M,hide:Z$Z.hide},function(D3C,L1O){var U9i,O4a,p23,A$H;if(D3C){Y5f.I0Z(7);U9i=Y5f.C6$(0,"561729092");O4a=-881314731;p23=2;for(var A0V=1;Y5f.o1c(A0V.toString(),A0V.toString().length,55160) !== U9i;A0V++){Y5f.f$a(1);console.warn(Y5f.z5U(D3C,""));p23+=2;}if(Y5f.o1c(p23.toString(),p23.toString().length,93602) !== O4a){A$H="Error produci";A$H+="ng canvas snapshot: ";Y5f.f$a(0);console.warn(Y5f.z5U(A$H,D3C));}}else {try{z_l(L1O.toDataURL(A2M));}catch(U0a){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback.");z_l(X37.src);}}});};X37.src=d51.chart.canvas.toDataURL(A2M);};N7K.Share.uploadImage=function(H5O,x8p,d6Y,U84){var y7c;if(!d6Y){d6Y={};}d6Y.image=H5O;y7c=N7K.postAjax(x8p,JSON.stringify(d6Y),function(F4a,J6O){if(F4a != 200){U84(F4a,null);return;}R3X5F.F64();U84(null,J6O);});if(!y7c){U84(0,null);}};N7K.Share.shareChart=function(u9t,v3V,O8y){var z_k=R3X5F;z_k.n2i();N7K.Share.createImage(u9t,{},function(y8m){var n3G,v4Y,X6B,Q12,Z3S,M9c,w7b;n3G="/";n3G+="upl";n3G+="oa";n3G+="d/";v4Y=N7K.uniqueID();X6B="https://share.chartiq.com";z_k.I0Z(15);Q12=z_k.C6$(v4Y,X6B,n3G);if(v3V){if(v3V.host){X6B=v3V.host;}if(v3V.path){Q12=X6B + v3V.path + "/" + v4Y;}}Z3S=u9t.getStartDateOffset();M9c={layout:u9t.exportLayout(),drawings:u9t.exportDrawings(),xOffset:Z3S,startDate:u9t.chart.dataSegment[Z3S].Date,endDate:u9t.chart.dataSegment[u9t.chart.dataSegment.length - 1].Date,id:v4Y,symbol:u9t.chart.symbol};w7b={id:v4Y,image:y8m,config:M9c};z_k.F64();N7K.Share.uploadImage(y8m,Q12,w7b,function(V88,x2o){if(V88 !== null){N7K.alert("error sharing chart: ",V88);}else {z_k.f$a(0);O8y(z_k.C6$(X6B,x2o));}});});};N7K.Share.saveChartLayout=async x$k=>{var s_K,b68,M$Q,C1s,E1F;var {chartSharing:o08}=x$k.uiContext.config;R3X5F.F64();if(!o08 || !o08.saveChartLayout){throw new Error("saveChartLayout not defined in config");}if(x$k.chart.dataSegment[0] && x$k.chart.dataSegment[0].DT){s_K=x$k.chart.dataSegment[0].DT;}else if(x$k.chart.dataSet[0]){s_K=x$k.chart.dataSet[0].DT;}if(!s_K){throw new Error("Unable to retrieve starting point of data set or segment");}x$k.layout.range={padding:x$k.preferences.whitespace,dtLeft:s_K,dtRight:x$k.chart.dataSegment[x$k.chart.dataSegment.length - 1].DT,periodicity:{period:x$k.layout.periodicity,interval:x$k.layout.interval,timeUnit:x$k.layout.timeUnit}};b68=x$k.exportLayout({withSymbols:!!({})});M$Q=x$k.exportDrawings();C1s=x$k.exportPreferences();E1F=`${x$k.chart.symbol} Chart`;return o08.saveChartLayout(JSON.stringify({version:N7K.packageInfo.version,layout:b68,drawings:M$Q,preferences:C1s,chartTitle:E1F}));};N7K.Share.extractShareID=J8c=>{var R8O;R8O=J8c.match(/([a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+)/);R3X5F.F64();return R8O && R8O[1] || "";};N7K.Share.onClipboard=k3v=>{R3X5F.n2i();window.addEventListener("paste",async function(O3U){var E9W,x3l;E9W="";if(window.clipboardData && window.clipboardData.getData){E9W=window.clipboardData.getData("Text");}else if(O3U.clipboardData && O3U.clipboardData.getData){E9W=O3U.clipboardData.getData("text/plain");}R3X5F.F64();x3l=N7K.Share.extractShareID(E9W);if(x3l){k3v(x3l);}});};N7K.Share.getClipboard=async ()=>{R3X5F.F64();return new Promise(async Y1_=>{var o0z;try{o0z=N7K.Share.extractShareID(await navigator.clipboard.readText());Y1_(o0z);}catch(v7M){Y1_("");}});};function y82(){var M2B,P72,E$C;if(N7K.Share.html2canvasLocation){return N7K.Share.html2canvasLocation;}M2B=document.getElementsByTagName("script");for(var T9P=0;T9P < M2B.length;T9P++){P72="s";P72+="hare";P72+=".j";P72+="s";E$C=M2B[T9P];if(E$C.src && E$C.src.indexOf(P72) > -1){return E$C.src.replace(/standard\/share\.js/,"") + "thirdparty/";}}return "js/thirdparty/";}N7K.Share.loadChartFromID=async (n3S,D_B)=>{R3X5F.n2i();return new Promise(async (A75,X8G)=>{var n2P,V3p;if(!D_B){return X8G();}var {getChartLayout:p$C}=n3S.uiContext.config.chartSharing;n2P=await p$C(D_B);V3p=JSON.parse(n2P);A75(N7K.Share.loadChartFromLayout(n3S,V3p));});};N7K.Share.loadChartFromLayout=async (A6y,B_3)=>{var U9c=R3X5F;U9c.F64();return new Promise(async (d2l,T01)=>{var n6W,N7$,B0P;if(B_3.version.split((8760,8254) !== (89.41,7760)?(1740,+"9777") <= +"5018"?(+"340",8260) == (700.14,202)?(0x1459,128.52):275.68:".":0x104)[0] != N7K.packageInfo.version.split((1550,9736) !== +"3"?".":373.07 != 8140?738.02:(865.42,553))[+"0"]){n6W=-666867766;N7$=-1822292520;U9c.f$a(7);B0P=U9c.z5U(0,"2");for(var J0h=+"1";U9c.W7K(J0h.toString(),J0h.toString().length,94705) !== n6W;J0h++){T01(new Error("Version mismatch"));B0P+=2;}if(U9c.W7K(B0P.toString(),B0P.toString().length,"95939" - 0) !== N7$){T01(new Error(""));}}A6y.importPreferences(B_3.preferences);A6y.importLayout(B_3.layout,{managePeriodicity:!!1,preserveTicksAndCandleWidth:!"",cb:()=>{A6y.importDrawings(B_3.drawings);U9c.F64();A6y.draw();d2l();}});});};};M9=a1b=>{var o5l;o5l=typeof _CIQ !== "undefined"?_CIQ:a1b.CIQ;o5l.ChartEngine.prototype.setRange=function(n8W,j9v){var N5Q=R3X5F;var Y$5,r80,H3Z,S$p,C37,q_9,K2c,T9s,S5I,W1G,k$y,k8z,M8N,d4n,c8Y,E7z,P0S,K4Q,h1H,Y88,T0T,n0w,S1Y,t6M,w4K,N6k,Y1r,y0a,I01,a9E,z0Z,L2g,x7_;if(o5l.isEmpty(n8W)){n8W={dtLeft:arguments["0" >> 32],dtRight:arguments[1],padding:arguments[2],chart:arguments["3" >> 64]};j9v=arguments[+"4"];}if(this.staticRange){n8W.goIntoPast=n8W.goIntoFuture=!![];}if(!n8W.chart){n8W.chart=this.chart;}if(typeof n8W.padding == "undefined"){N5Q.I0Z(6);n8W.padding=N5Q.z5U(0,"0");}function J5b(d1t){if(d1t && K2c === 0){r80.scroll=T0T;q_9.setCandleWidth(n0w);q_9.layout.interval=S1Y;q_9.layout.periodicity=t6M;q_9.layout.timeUnit=w4K;if(j9v){j9v(d1t);}return;}N5Q.n2i();K2c++;if(K2c > "10" >> 32){console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");W5E();return;}W5E();}Y$5=!({});function Y4G(F4S,a6W,V$Y,G8v,E$1,d$d){var H9p,i$f;H9p=0;N5Q.f$a(7);i$f=N5Q.z5U(a6W,F4S);if(o5l.ChartEngine.isDailyInterval(V$Y)){if(V$Y == "month"){H9p=i$f / o5l.MONTH / G8v;}else if(V$Y == "week"){H9p=i$f / o5l.WEEK / G8v;}else {H9p=i$f / o5l.DAY / G8v;}}else {if(!isNaN(V$Y)){if(E$1 == "millisecond"){N5Q.f$a(138);H9p=N5Q.z5U(G8v,i$f,V$Y);}else if(E$1 == "second"){H9p=i$f / o5l.SECOND / (G8v * V$Y);}else {H9p=i$f / o5l.MINUTE / (G8v * V$Y);}}}return Math.round(H9p);}r80=n8W.chart;H3Z=typeof n8W.dtLeft === "string"?new Date(n8W.dtLeft):n8W.dtLeft;S$p=new Date();if(n8W.dtRight){S$p=typeof n8W.dtRight === "string"?new Date(n8W.dtRight):n8W.dtRight;}if(!H3Z){C37=this.standardMarketIterator(S$p,null,r80);H3Z=C37.previous(r80.maxTicks);if(!n8W.periodicity){Y$5=!![];}}r80.inflectionPoint=H3Z;this.layout.range={dtLeft:H3Z,dtRight:S$p};function W5E(T5o){var r9H,z5v,W8Y,k6F,W2E,E2a,m3N,O6b,e2q,W1t,p3H,j4B,p$W,b9o,c5R,I3y,V2O,l_b,g6g,G2F,T3E;if(typeof T5o == "undefined"){T5o=null;}r9H=0;z5v=0;W8Y=new Date();k6F=n8W.base;W2E=n8W.periodicity;E2a=q_9.layout;if(n8W.goIntoFuture && (!r80.masterData.length || H3Z > r80.masterData[r80.masterData.length - 1].DT)){m3N="g";m3N+="a";m3N+="p";O6b=r80.masterData.length?r80.masterData.pop():{DT:H3Z};e2q=q_9.doCleanupGaps([O6b,{DT:S$p}],r80,{cleanupGaps:m3N,noCleanupDates:!!1});q_9.setMasterData(r80.masterData.concat(e2q),r80,{noCleanupDates:!0});q_9.createDataSet(null,null,{appending:!!1});}W1t=r80.dataSet;p3H=W1t.length;if(!W1t || p3H === 0){q_9.draw();if(j9v){j9v(T5o);}return;}if(k6F === "day" && W2E && W2E.interval === "day"){p$W=n8W.multiplier;r9H=p3H < p$W?+"0":p3H - p$W;N5Q.f$a(7);z5v=N5Q.z5U(1,p3H);}else if(k6F === "today" && W1t[p3H - ("1" << 0)].DT.getDate() < W8Y.getDate()){b9o=new Date(W1t[p3H - 1].DT.getTime());c5R=b9o.getTime();j4B=0;for(var x7Y=p3H - "1" * 1;x7Y >= 0;x7Y--){if(W1t[x7Y] && W1t[x7Y].DT.getDate() != b9o.getDate()){b9o=new Date(+W1t[x7Y + 1].DT);N5Q.I0Z(0);j4B=N5Q.C6$(x7Y,1);break;}}r9H=j4B;N5Q.f$a(144);z5v=N5Q.z5U(p3H,0,"1");}else {I3y="al";I3y+="l";V2O="a";V2O+="ll";if(n8W.base != V2O && (H3Z.getTime() >= W1t[0].DT.getTime() || n8W.goIntoPast)){r9H=q_9.tickFromDate(H3Z,r80,null,!![]);}else {r9H=+"0";}if(n8W.base != I3y && (S$p.getTime() <= W1t[p3H - 1].DT.getTime() || n8W.goIntoFuture)){z5v=q_9.tickFromDate(S$p,r80);if(z5v > p3H - 1){z5v--;}}else {N5Q.I0Z(7);z5v=N5Q.C6$(1,p3H);}}N5Q.I0Z(11);l_b=N5Q.C6$(r9H,1,z5v);if(l_b < 1){q_9.draw();if(j9v){j9v(T5o);}return;}g6g=n8W.padding || 0;if(z5v < p3H - 1){g6g=0;}G2F=(r80.width - g6g) / l_b;q_9.setCandleWidth(G2F,r80);N5Q.I0Z(145);r80.scroll=N5Q.z5U(p3H,z5v,l_b,1);q_9.micropixels=1;for(var t17 in q_9.panels){q_9.calculateYAxisMargins(q_9.panels[t17].yAxis);}if(!n8W.dontSaveRangeToLayout){delete n8W.chart;delete E2a.setSpan;E2a.range=n8W;q_9.changeOccurred("layout");}else {delete E2a.range;}q_9.draw();if(!Y$5){T3E="period";T3E+="icity";q_9.dispatch(T3E,{stx:q_9,differentData:N6k,prevPeriodicity:{interval:S1Y,periodicity:t6M,timeUnit:w4K}});}if(j9v){j9v(T5o);}}q_9=this;K2c=0;if(this.quoteDriver){if(Y$5){T9s=this.layout.interval;W1G=this.layout.timeUnit;S5I=this.layout.periodicity;}else if(n8W.periodicity){k$y=o5l.cleanPeriodicity(n8W.periodicity.period,n8W.periodicity.interval,n8W.periodicity.timeUnit);T9s=k$y.interval;W1G=k$y.timeUnit;S5I=k$y.period;}else {k8z=S$p.getTime() - H3Z.getTime();if(!this.autoPickCandleWidth.turnOn){M8N=this.staticRangePeriodicityMap;d4n=null;for(var z9A="0" ^ 0;z9A < M8N.length;z9A++){c8Y=M8N[z9A];if(k8z / c8Y.rangeInMS < 1.001){d4n=c8Y;break;}}T9s=d4n.interval;S5I=d4n.periodicity;W1G=d4n.timeUnit;}else {E7z=0;if(this.autoPickCandleWidth.candleWidth){E7z=this.autoPickCandleWidth.candleWidth;}else {E7z=this.chart.barsHaveWidth?5:2;}P0S=r80.width / E7z;K4Q=this.dynamicRangePeriodicityMap;T9s=K4Q[0].interval;S5I=1;for(var L8O=+"0";L8O < K4Q.length;L8O++){Y88=k8z / K4Q[L8O].rangeInMS;if(Y88 < P0S){if(K4Q[L8O - 1]){T9s=K4Q[L8O - 1].interval;W1G=K4Q[L8O - 1].timeUnit;N5Q.f$a(8);S5I=Math.ceil(N5Q.z5U(h1H,P0S));}else {T9s=K4Q[L8O].interval;W1G=K4Q[L8O].timeUnit;S5I=1;}break;}h1H=Y88;}}}T0T=this.chart.scroll;n0w=this.layout.candleWidth;S1Y=this.layout.interval;t6M=this.layout.periodicity;w4K=this.layout.timeUnit;this.chart.maxTicks=Y4G(S$p.getTime(),H3Z.getTime(),T9s,S5I,W1G,this.dontRoll);N6k=this.needDifferentData({period:S5I,interval:T9s,timeUnit:W1G});Y1r=!n8W.dtRight && o5l.ChartEngine.isDailyInterval(T9s)?new Date(S$p.toDateString()):S$p;if(Object.keys(this.chart.endPoints).length && (this.chart.endPoints.begin > H3Z || this.chart.endPoints.end < Y1r)){N6k=!!1;}if(n8W.useExistingData){N6k=!({});}if(!this.chart.masterData || !this.chart.masterData.length || N6k || n8W.forceLoad){this.layout.interval=T9s;this.layout.periodicity=S5I;this.layout.timeUnit=W1G;if(!this.layout.timeUnit){y0a="m";y0a+="i";y0a+="nu";y0a+="te";I01="ti";I01+="ck";if(o5l.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval == "second"){this.layout.timeUnit="second";}else if(this.layout.interval != I01){this.layout.timeUnit=y0a;}}a9E={symbol:r80.symbol,symbolObject:r80.symbolObject,chart:r80,nodraw:!![]};if(this.layout.interval == "tick"){a9E.startDate=H3Z;a9E.endDate=S$p;}if(!this.displayInitialized){a9E.initializeChart=!!({});}z0Z={symbol:r80.symbol,symbolObject:r80.symbolObject,interval:this.layout.interval};if((z0Z.interval == "month" || z0Z.interval == "week") && !this.dontRoll){z0Z.interval="day";}L2g=this.quoteDriver.getQuoteFeed(z0Z).behavior.bufferSize;C37=this.standardMarketIterator(H3Z,null,r80);a9E.startDate=new Date(C37.previous(L2g).getTime());C37=this.standardMarketIterator(S$p,null,r80);a9E.endDate=new Date(C37.next(L2g).getTime());if(a9E.endDate < Date.now()){this.isHistoricalModeSet=!![];}N5Q.f$a(0);var L3r=N5Q.C6$(12,48);x7_=new Date(Date.now() + L3r * +"1000");if(a9E.endDate > x7_ && !n8W.dtRight){a9E.endDate=x7_;}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(a9E,J5b);}else {if(this.layout.interval != T9s || this.layout.periodicity != S5I || this.layout.timeUnit != W1G || !this.chart.dataSegment || !this.chart.dataSegment["0" | 0] || this.chart.dataSegment[0].DT != r80.inflectionPoint){this.layout.interval=T9s;this.layout.periodicity=S5I;this.layout.timeUnit=W1G;this.createDataSet();}J5b();}}else {W5E();}};o5l.ChartEngine.prototype.setSpan=function(m7m,G1_){var w9c=R3X5F;var R5t,E6d,b4j,w7T,p3p,A1X,V6a,W5N,J6d,A4g,N8c,D8v,W71,D8O,y_t,b38,z7z,J8J,N1f,g7K,s7f,i8F,C$c,R3G;R5t="d";R5t+="a";function i0k(c34,y5U){var R1q;if(!J8J){return c34;}R1q=7;if(y5U){c34.setHours(c34.getHours() + R1q);}else {c34.setHours(c34.getHours() - R1q);if(!A4g.isMarketDate(c34)){c34.setDate(c34.getDate() - 2);}}return c34;}R5t+="y";E6d="wee";E6d+="k";b4j="y";b4j+="e";b4j+="a";b4j+="r";w7T="m";w7T+="o";w7T+="n";w7T+="th";p3p="o";p3p+="bject";A1X=arguments[0];V6a=arguments[+"1"];W5N=arguments[2];J6d=arguments[3];if(typeof m7m == p3p){A1X=m7m.period?m7m.period:m7m.multiplier?m7m.multiplier:1;V6a=m7m.interval?m7m.interval:m7m.base?m7m.base:m7m.span?m7m.span:m7m.period;W5N=m7m.padding;J6d=m7m.chart;}else {m7m={period:A1X,interval:V6a,padding:W5N,chart:J6d};G1_=arguments[5];}if(!J6d){J6d=this.chart;}A4g=J6d.market;V6a=V6a.toLowerCase();if(V6a == "all"){m7m.dontSaveRangeToLayout=!!"1";this.displayAll(m7m,G1_);return;}D8v=V6a;W71=1;if(V6a == "today"){D8v="day";}else if(V6a == "year"){D8O="mon";D8O+="t";D8O+="h";D8v=D8O;w9c.f$a(41);W71=w9c.C6$(8,"12");}y_t=o5l.shallowClone(m7m);b38={begin:A4g.marketZoneNow(),interval:D8v,period:W71};z7z=b38.begin;J8J=o5l.Market.Symbology.isForexSymbol(J6d.symbol);if(V6a === "ytd"){z7z=u_p(z7z);z7z.setMonth(0);z7z.setDate(1);}else if(V6a === w7T){z7z=u_p(new Date());z7z.setMonth(z7z.getMonth() - A1X);}else if(V6a === b4j){z7z=u_p(new Date());z7z.setFullYear(z7z.getFullYear() - A1X);}else if(V6a === E6d){z7z=u_p(new Date());z7z.setDate(z7z.getDate() - A1X * ("7" >> 64));}else if(V6a === R5t && A1X == 1 && A4g.isMarketDay()){N1f=z7z.getHours();g7K=z7z.getMinutes();s7f=z7z.getSeconds();i8F=z7z.getMilliseconds();N8c=A4g.newIterator(b38);z7z=N8c.previous();z7z.setHours(N1f,g7K,s7f,i8F);z7z=A4g._convertFromMarketTZ(z7z);}else if(V6a === "today"){b38.begin=i0k(z7z,!!1);N8c=A4g.newIterator(b38);if(A4g.isOpen() || A4g.getPreviousOpen().getDate() == z7z.getDate()){N8c.next();}z7z=N8c.previous();i0k(z7z);y_t.goIntoFuture=!!1;y_t.dtRight=new Date(+z7z);y_t.dtRight.setDate(z7z.getDate() + 1);y_t.dtRight=A4g._convertFromMarketTZ(y_t.dtRight);if(!J8J){z7z.setHours(N8c.market.zopen_hour);z7z.setMinutes(N8c.market.zopen_minute);z7z.setSeconds(0);}z7z=A4g._convertFromMarketTZ(z7z);}else {C$c="d";C$c+="a";C$c+="y";if(V6a == "day"){b38.begin=i0k(z7z,!![]);}N8c=A4g.newIterator(b38);if(A1X == 1){A1X++;}w9c.f$a(7);z7z=N8c.previous(w9c.z5U(1,A1X));if(V6a == C$c){z7z=A4g._convertFromMarketTZ(i0k(z7z));}}function u_p(F6_){F6_.setHours(+"0");F6_.setMinutes(0);F6_.setSeconds(0);F6_.setMilliseconds(0);return F6_;}y_t.dtLeft=z7z;if(y_t.maintainPeriodicity){y_t.periodicity={};y_t.periodicity.interval=this.layout.interval;y_t.periodicity.period=this.layout.periodicity;}J6d.spanLock=!!"";y_t.dontSaveRangeToLayout=!"";R3G=this;this.setRange(y_t,function(d3v){var s8Y,i_c,L5f,q8f,d9N;s8Y="t";s8Y+="o";s8Y+="d";s8Y+="ay";w9c.F64();i_c=+"1537267916";w9c.I0Z(7);L5f=-w9c.C6$(0,"142814735");w9c.f$a(6);q8f=w9c.C6$(64,"2");for(var p4d=1;w9c.W7K(p4d.toString(),p4d.toString().length,29408) !== i_c;p4d++){R3G.layout.setSpan=m7m;R3G.changeOccurred("");q8f+=2;}if(w9c.o1c(q8f.toString(),q8f.toString().length,"36809" << 32) !== L5f){d9N="layou";d9N+="t";R3G.layout.setSpan=m7m;R3G.changeOccurred(d9N);}if(V6a == s8Y){J6d.spanLock=!!({});}if(G1_){G1_(d3v);}});};o5l.ChartEngine.prototype.getSpanCandleWidth=function(b2T){var U_0=R3X5F;var o9I,m7b,n7F,z5_,T1l,d5y,L69,R$W;o9I="wee";o9I+="k";m7b="d";m7b+="ay";if(!b2T || !b2T.base || !b2T.multiplier){return;}n7F=parseFloat(b2T.multiplier);z5_=b2T.base;T1l=new Date();d5y=new Date();if(z5_ == "year"){d5y.setFullYear(d5y.getFullYear() - n7F);}else if(z5_ == "month"){d5y.setMonth(d5y.getMonth() - n7F);}else if(z5_ == m7b){d5y.setDate(d5y.getDate() - n7F);}else if(z5_ == o9I){d5y.setDate(d5y.getDate() - 7 * n7F);}else if(z5_ == "YTD"){d5y.setMonth(0);d5y.setDate(1);}U_0.f$a(146);var O1p=U_0.z5U(999,97,14,111);U_0.f$a(13);var f_H=U_0.z5U(1,1,53,6);U_0.I0Z(114);var y49=U_0.C6$(59,46,46);U_0.I0Z(122);var t4W=U_0.C6$(6,3168,14,38);L69=(T1l.getTime() - d5y.getTime()) / O1p / f_H / y49 / t4W;U_0.f$a(17);L69=U_0.C6$(L69,7,5);R$W=this.chart.width / L69;return R$W;};o5l.ChartEngine.prototype.displayAll=function(f26,d7K){var o6o,x80,c5O,r85;var {chart:h$k, layout:F_s}=this;function x4s(){var X3a;if(!h$k.masterData || !h$k.masterData.length){if(d7K){d7K("No data to display.");}return;}X3a=o5l.clone(f26);X3a.dtLeft=h$k.endPoints.begin;X3a.dtRight=h$k.endPoints.end;X3a.periodicity={};X3a.periodicity.interval=F_s.interval;X3a.periodicity.period=F_s.periodicity;X3a.periodicity.timeUnit=F_s.timeUnit;x80.setRange(X3a,function(E2Y){var L2O;L2O="layou";L2O+="t";x80.layout.setSpan={base:f26.base,multiplier:f26.multiplier};x80.changeOccurred(L2O);for(var U$N in x80.panels){x80.calculateYAxisMargins(x80.panels[U$N].yAxis);}if(o6o.length && !x80.drawingObjects.length){x80.importDrawings(o6o);}x80.draw();if(d7K){d7K(E2Y);}});}o6o=[];if(f26 && f26.chart){h$k=f26.chart;}x80=this;if(!this.quoteDriver){x4s();return;}c5O=f26.maintainPeriodicity?{period:F_s.periodicity,interval:F_s.interval,timeUnit:F_s.timeUnit}:{period:1,interval:"month",timeUnit:null};c5O=f26.periodicity?f26.periodicity:c5O;function J72(Z1L){R3X5F.F64();if(!Z1L){x80.quoteDriver.loadAll(h$k,x4s);}}c5O=o5l.cleanPeriodicity(c5O.period,c5O.interval,c5O.timeUnit);r85=this.needDifferentData(c5O);this.layout.periodicity=c5O.period;this.layout.interval=c5O.interval;this.layout.timeUnit=c5O.timeUnit;if(f26.forceLoad || r85){o6o=this.drawingObjects.map(a8m=>{R3X5F.F64();return a8m.serialize();});this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({nodraw:!!({}),symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!"",fetchMaximumBars:!!({})},J72);}else {if(h$k.moreAvailable || !h$k.upToDate){J72();}else {this.createDataSet();x4s();}}};o5l.ChartEngine.prototype.drawWithRange=function(Z7A){var {setSpan:o5Z, range:Y2N}=this.layout;if(o5Z && Object.keys(o5Z).length){this.setSpan(Object.assign({},o5Z,{forceLoad:!!0,useExistingData:!!({})}));}else if(Y2N && Object.keys(Y2N).length){this.setRange(Object.assign({},Y2N,{forceLoad:!"1",useExistingData:!!({})}));}else {this.draw(Z7A);}};};I0=k$p=>{var z2a,A6n;z2a="und";z2a+="efined";A6n=typeof _CIQ !== z2a?_CIQ:k$p.CIQ;A6n.ChartEngine.prototype.importLayout=function(G4S,U6$){var a6j=R3X5F;var g2u,j$5,d6c,e7o,R0u,s1j,E48,M34,b1V,J6D,v5k,m8n,B2h,q0g,B8z,X10,g_j,I$g,y8W,a4p,W81,M$B,H78,d_l,u8S,o4T,t0a,g8y,K5Y,s5E,s1h,f$r,B9g,U6U,x1K,Q0V,v_E,C7i,G$$;g2u="o";g2u+="bj";g2u+="ect";if(!G4S){if(U6$.cb){U6$.cb();}return;}j$5=this;d6c=[];e7o=this.extendedHours && !this.extendedHours.filter && G4S.extended && !this.layout.extended;if(typeof U6$ !== g2u){U6$={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}R0u=this.layout;s1j=A6n.shallowClone(R0u);E48=U6$.managePeriodicity;M34=U6$.cb;b1V=U6$.seriesCB;J6D=U6$.noDataLoad;v5k=U6$.preserveTicksAndCandleWidth;m8n=null;if(this.exportDrawings){m8n=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!"";for(var L7l in R0u.studies){B2h=R0u.studies[L7l];A6n.getFn("Studies.removeStudy")(this,B2h);}this.overlays={};q0g=A6n.shallowClone(this.panels);this.panels={};B8z=A6n.clone(G4S);if(R0u.flipped){this.flipChart(R0u.flipped);}X10=B8z.panels;a4p=function(j39,W7R){a6j.F64();return j39.index < W7R.index?-1:1;};for(g_j in X10){if(!(("index" in X10[g_j]))){a4p=null;}I$g=X10[g_j];I$g.name=g_j;d6c.push(I$g);}R0u.panels={};W81=null;if(d6c.length > 0){if(a4p){d6c.sort(a4p);}for(var s9E=0;s9E < d6c.length;++s9E){I$g=d6c[s9E];y8W=I$g.yAxis?new A6n.ChartEngine.YAxis(I$g.yAxis):null;this.stackPanel(I$g.display,I$g.name,I$g.percent,I$g.chartName,y8W);if(I$g.soloing){W81=this.panels[I$g.name];}}}if(A6n.isEmpty(X10)){M$B="cha";M$B+="r";M$B+="t";this.stackPanel(M$B,"chart",1,"chart");}this.resizeCanvas();for(var i2c in q0g){H78=q0g[i2c];d_l=this.panels[i2c];if(d_l){this.container.removeChild(d_l.holder);if(H78.handle){this.container.removeChild(H78.handle);}u8S={holder:!!"1",subholder:!"",display:!!({}),icons:!![]};for(var X3K in u8S){d_l[X3K]=H78[X3K];}this.configurePanelControls(d_l);if(H78.chart.panel == H78){H78.chart.panel=d_l;}}else {this.privateDeletePanel(H78);}}this.chart.panel=this.panels.chart;U8t(this.panels);Object.assign(R0u,Object.assign(A6n.clone(B8z),{studies:{}}));R0u.periodicity=s1j.periodicity;function U8t(s0Z){var X5S;function T5f(G06,F$G){var d3M,r9G,d0i,d3b;if(!G06[F$G] || !G06[F$G].length){return;}d3M=s0Z[G06.name];if(!d3M){return;}r9G=d3M[F$G];d0i=new Array(r9G.length);a6j.F64();for(var G8a=0;G8a < r9G.length;G8a++){d3b=G06[F$G].indexOf(r9G[G8a].name);if(d3b > -1){d0i[d3b]=r9G[G8a];}else {d0i.push(r9G[G8a]);}}if(d0i.length){d3M[F$G]=d0i.filter(c2T);}}for(var F8p=0;F8p < d6c.length;F8p++){X5S=d6c[F8p];T5f(X5S,"yaxisLHS");T5f(X5S,"yaxisRHS");}function c2T(J2b){return !!J2b;}j$5.chart.yAxis=j$5.chart.panel.yAxis;}R0u.interval=s1j.interval;R0u.timeUnit=s1j.timeUnit;R0u.setSpan=s1j.setSpan;function I59(F47){var B9I,F2x,p_R,E0i,C9z,R6M,O7L;B9I="la";B9I+="yout";if(m8n){j$5.importDrawings(m8n);}j$5.currentlyImporting=!1;if(F47){return;}E0i=[];for(var b1s in j$5.chart.series){if(!j$5.removeSeries)break;p_R=j$5.chart.series[b1s];if(p_R.parameters.bucket == "study"){F2x=!0;j$5.removeSeries(p_R);E0i.push(p_R);}}for(var e1r=0;e1r < E0i.length;e1r++){C9z="addSe";C9z+="ries";R6M="addEv";R6M+="ent";p_R=E0i[e1r];O7L=p_R.parameters.isEvent?R6M:C9z;j$5[O7L](p_R.id,p_R.parameters,A8X);}if(!F2x){j$5.draw();}if(R0u.crosshair){j$5.centerCrosshairs();j$5.doDisplayCrosshairs();}j$5.updateListeners(B9I);j$5.changeOccurred("layout");function A8X(){j$5.createDataSet();U8t(j$5.panels);j$5.calculateYAxisPositions();j$5.calculateYAxisMargins(j$5.chart.yAxis);j$5.draw();}}R0u.range=s1j.range;if(v5k){R0u.candleWidth=s1j.candleWidth;}else {o4T=1107285768;t0a=-600309445;a6j.I0Z(1);g8y=a6j.z5U(1,"2");for(var r21=+"1";a6j.o1c(r21.toString(),r21.toString().length,29509) !== o4T;r21++){if(+R0u.candleWidth){R0u.candleWidth=0;}g8y+=+"2";}if(a6j.o1c(g8y.toString(),g8y.toString().length,97986) !== t0a){if(!R0u.candleWidth){R0u.candleWidth=8;}}}this.setCandleWidth(R0u.candleWidth);R0u.headsUp=A6n.clone(R0u.headsUp);K5Y=A6n.clone(B8z.studies);for(var r7N in K5Y){s5E=K5Y[r7N];s1h=A6n.getFn("Studies.addStudy")(this,s5E.type,s5E.inputs,s5E.outputs,s5E.parameters,s5E.panel);if(!s1h)continue;if(s5E.disabled){s1h.toggleDisabledState(this);}if(s5E.signalData){s1h.signalData=s5E.signalData;f$r=this.panels[s1h.panel];if(this.checkForEmptyPanel(f$r,!!({}),s1h)){f$r.hidden=!![];a6j.f$a(6);f$r.percent=a6j.C6$(64,"0");}}}if(this.extendedHours){this.extendedHours.prepare(R0u.extended,R0u.marketSessions);}if(typeof R0u.chartType == "undefined"){R0u.chartType="line";}this.setMainSeriesRenderer();if(W81){this.panelSolo(W81);}this.adjustPanelPositions();U8t(this.panels);this.storePanels();a6j.F64();if(!J6D){if(B8z.symbols && B8z.symbols.length){B9g={chart:this.chart};if(!v5k && E48 && B8z.range && Object.keys(B8z.range).length){B9g.range=B8z.range;}else if(!v5k && E48 && B8z.setSpan && Object.keys(B8z.setSpan).length){B9g.span=B8z.setSpan;}else if(E48 && B8z.interval){B9g.periodicity={interval:B8z.interval,period:B8z.periodicity,timeUnit:B8z.timeUnit};}else {B9g.periodicity={interval:s1j.interval,period:s1j.periodicity,timeUnit:s1j.timeUnit};}U6U=B8z.symbols["0" >> 64].symbolObject || B8z.symbols[0].symbol;this.loadChart(U6U,B9g,function(t82){var X0b,A_w,M5o;if(!t82){for(var z3N,o_O=1;o_O < B8z.symbols.length;++o_O){if(!j$5.addSeries)break;z3N=B8z.symbols[o_O];if(!z3N.parameters){z3N.parameters={};}X0b=A6n.clone(z3N.parameters);if(this.panels[X0b.panel]){A_w=X0b.isEvent?"addEvent":"addSeries";j$5[A_w](z3N.id,X0b,n1N);}else {M5o="War";M5o+="ning: Series";M5o+=" \"";console.warn(M5o + z3N.id + '" could not be imported due to a missing corresponding panel "' + X0b.panel + ((4133,422.86) >= (9736,21.07)?9990 >= ("3935" | 3,+"291.46")?'"':!![]:"t"));}}if(B8z.chartScale){j$5.setChartScale(B8z.chartScale);}}I59(t82);if(M34){M34.apply(null,arguments);}});return;}if(E48){x1K="d";x1K+="a";x1K+="y";if(!v5k && this.setRange){Q0V=B8z.range;if(Q0V && Object.keys(Q0V).length && this.chart.symbol){this.setRange(Q0V,function(){a6j.F64();I59();if(M34){M34();}});return;}else if(B8z.setSpan && Object.keys(B8z.setSpan).length && this.chart.symbol){this.setSpan(B8z.setSpan,function(){I59();if(M34){M34();}});return;}}v_E=B8z.interval;C7i=B8z.periodicity;G$$=B8z.timeUnit;if(isNaN(C7i)){C7i=1;}if(!v_E){v_E=x1K;}this.setPeriodicity({period:C7i,interval:v_E,timeUnit:G$$,getDifferentData:e7o},function(){I59();if(M34){M34();}});return;}}if(E48){R0u.periodicity=B8z.periodicity;R0u.interval=B8z.interval;R0u.timeUnit=B8z.timeUnit;R0u.setSpan=B8z.setSpan;}this.createDataSet();if(!v5k){this.home();}I59();if(M34){M34();}function n1N(){var o9n,O5G;if(j$5.layout.studies){for(var r1u in j$5.layout.studies){o9n="seri";o9n+="e";o9n+="s";O5G=j$5.layout.studies[r1u];if(!O5G.inputs.Series || O5G.inputs.Series === o9n)continue;A6n.getFn("Studies.replaceStudy")(this,O5G.inputs.id,O5G.type,O5G.inputs,O5G.outputs,O5G.parameters,O5G.panel);}}j$5.calculateYAxisPositions();U8t(j$5.panels);if(b1V){b1V();}}};A6n.ChartEngine.prototype.exportLayout=function(e9Z){var H4L,m3D,o22,X7q,P0V,J7b,l$Z,A$v;function y7U(J2K){var N9I;N9I=[];for(var W1l=0;W1l < J2K.length;W1l++){N9I.push(J2K[W1l].name);}return N9I;}H4L={};for(var o7R in this.layout){m3D="stud";m3D+="ies";o22="d";o22+="rawing";if(o7R != "studies" && o7R != "panels" && o7R != o22){H4L[o7R]=A6n.clone(this.layout[o7R]);}else if(o7R == m3D){H4L.studies={};}else if(o7R == "panels"){H4L.panels={};}}X7q=0;for(var l5j in this.panels){P0V=this.panels[l5j];if(P0V.exportable === ![])continue;J7b=H4L.panels[l5j]={};J7b.percent=P0V.percent;J7b.display=P0V.display;J7b.chartName=P0V.chart.name;J7b.soloing=P0V.soloing;J7b.index=X7q++;J7b.yAxis={name:P0V.yAxis.name,position:P0V.yAxis.position};if(P0V.yaxisLHS){J7b.yaxisLHS=y7U(P0V.yaxisLHS);}if(P0V.yaxisRHS){J7b.yaxisRHS=y7U(P0V.yaxisRHS);}}R3X5F.n2i();for(var p6J in this.layout.studies){l$Z=H4L.studies[p6J]={};A$v=this.layout.studies[p6J];l$Z.type=A$v.type;l$Z.inputs=A6n.clone(A$v.inputs);l$Z.outputs=A6n.clone(A$v.outputs);l$Z.panel=A$v.panel;l$Z.parameters=A6n.clone(A$v.parameters);l$Z.disabled=A$v.disabled;if(A$v.signalData){if(A$v.signalData.cloneForExport){l$Z.signalData=A$v.signalData.cloneForExport();}else {l$Z.signalData=A6n.clone(A$v.signalData);}}}if(e9Z){H4L.symbols=this.getSymbols({"include-parameters":!!({}),"exclude-studies":!!({}),"exclude-generated":!0,"exclude-nostore":!""});if(H4L.symbols.length && H4L.symbols[0].symbolObject && H4L.symbols[0].symbolObject.static){delete H4L.symbols[0].symbolObject.static;}}else {delete H4L.symbols;}return H4L;};A6n.ChartEngine.prototype.importPreferences=function(O5J){A6n.extend(this.preferences,O5J);if(O5J.timeZone){this.setTimeZone(this.dataZone,O5J.timeZone);}R3X5F.F64();if(O5J.language && A6n.I18N){if(this.uiContext && this.uiContext.config.setHtmlLang){document.documentElement.setAttribute("lang",O5J.language);}A6n.I18N.localize(this,O5J.language);}this.changeOccurred("preferences");};A6n.ChartEngine.prototype.exportPreferences=function(){R3X5F.F64();return this.preferences;};};F_=b$b=>{var U5H=R3X5F;var l10,i6p,y0w,P95,X9h,A1m,T4Y,T76,a_G,F_5,e4h,x5p,x1m,o8F,u$1,y7j,k9S,c8l,O$0,r_$,j8s;l10="#";l10+="00";l10+="afed";i6p="#8c";i6p+="c";i6p+="1";i6p+="76";y0w="Vo";y0w+="lume C";y0w+="hart";P95="True";P95+=" R";P95+="an";P95+="ge";X9h="#FF0";X9h+="0";X9h+="00";A1m="Expon";A1m+="en";A1m+="tial";T4Y="E";T4Y+="xpon";T4Y+="en";T4Y+="tial";T76="Weigh";T76+="t";T76+="ed";a_G="VI";a_G+="DYA";F_5="Tria";F_5+="ngular";e4h="E";e4h+="x";e4h+="ponential";x5p="Welles Wi";x5p+="lde";x5p+="r";x1m="Expo";x1m+="nential";o8F="we";o8F+="lles w";o8F+="ilde";o8F+="r";u$1="we";u$1+="ight";u$1+="ed";y7j="vidy";y7j+="a";k9S="sm";k9S+="ma";c8l="t";c8l+="ma";O$0="C";O$0+="lo";O$0+="s";O$0+="e";r_$=typeof _CIQ !== "undefined"?_CIQ:b$b.CIQ;j8s=typeof _timezoneJS !== "undefined"?_timezoneJS:b$b.timezoneJS;if(r_$.ChartEngine){r_$.ChartEngine.prototype.rightClickOverlay=function(u5_,w63){var U1G;U5H.n2i();if(this.runPrepend("rightClickOverlay",arguments)){return;}U1G=this.overlays[u5_];if(U1G.editFunction){U1G.editFunction(w63);}else {this.removeOverlay(u5_);}this.runAppend("rightClickOverlay",arguments);};r_$.ChartEngine.prototype.addOverlay=function(Y0J){var p99;p99="add";p99+="Overlay";if(this.runPrepend(p99,arguments)){return;}this.overlays[Y0J.name]=Y0J;this.runAppend("addOverlay",arguments);};r_$.ChartEngine.prototype.removeOverlay=function(w21){var X4d,t4N,b_u,x7x,X5V,K2V,X$a,d5t;X4d="r";X4d+="emov";X4d+="eOverlay";if(this.runPrepend(X4d,arguments)){return;}t4N=this.overlays[w21];if(t4N){for(var x0m in this.overlays){b_u=this.overlays[x0m];x7x=["Field"];if(r_$.Studies){x7x=r_$.Studies.getFieldInputs(b_u);}for(var x52="0" - 0;x52 < x7x.length;x52++){X5V=" ";X5V+="[";K2V=b_u.inputs[x7x[x52]];X$a=t4N.inputs.Series;if(X$a && X$a !== "series"){U5H.I0Z(15);K2V=K2V.replace(U5H.z5U("]",X5V,X$a),"");}if((K2V in t4N.outputMap)){this.removeOverlay(b_u.name);}}}this.cleanupRemovedStudy(t4N);d5t=this.panels[t4N.panel];delete this.overlays[w21];this.checkForEmptyPanel(t4N.panel);}if(!this.currentlyImporting){this.displaySticky();this.createDataSet();this.changeOccurred("layout");}this.resetDynamicYAxis();this.runAppend("removeOverlay",arguments);};r_$.ChartEngine.prototype.cleanupRemovedStudy=function(B1e){if(!B1e){return;}if(B1e.study.removeFN){B1e.study.removeFN(this,B1e);}for(var H0L in this.plugins){if(H0L.indexOf("{" + B1e.id + ((+"884.58",4048) !== 1220?"}":(679.89,+"8290") <= (6940,374.91)?(!!0,"d"):(6.46e+3,0x2514))) > -1){delete this.plugins[H0L];}}if(B1e.removeSignals){B1e.removeSignals();}for(var g1V in B1e.outputMap){this.getMarkerArray("field",g1V).forEach(z6Q=>{U5H.n2i();return z6Q.remove();});}if(this.layout.studies){delete this.layout.studies[B1e.name];}this.chart.state.studies.sorted=null;delete this.overlays[B1e.name];var {sd:J6i}=this.repositioningAnchorSelector || ({});if(J6i && J6i === B1e){this.repositioningAnchorSelector=null;var {anchorHandles:T2e}=this.controls;if(T2e && T2e[B1e.uniqueId]){T2e[B1e.uniqueId].highlighted=![];r_$.Studies.displayAnchorHandleAndLine(this,B1e,this.chart.dataSegment);}}if(r_$.Studies){r_$.Studies.removeStudySymbols(B1e,this);}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};r_$.ChartEngine.prototype.getStudies=function(O86){U5H.F64();var p2N,j3D;var {studies:k$h}=this.layout;p2N=[];if(k$h){for(var B1c in k$h){j3D=k$h[B1c];if(j3D.name === O86.name || j3D.type === O86.type){p2N.push(j3D);}else {var {outputMap:O9$}=j3D;if(O9$ && O9$[O86.output]){p2N.push(j3D);}}}}return p2N;};}r_$.Studies=r_$.Studies || (function(){});r_$.Studies.DEFAULT_INPUTS={Period:14};r_$.Studies.DEFAULT_OUTPUTS={Result:"auto"};r_$.Studies.impliedVolatilityAvailable=!({});r_$.Studies.useTranslationDelimiter=!!({});U5H.n2i();r_$.Studies.sortForProcessing=n3d=>{var f33,v1m;f33=[];v1m=n3d.layout.studies;function k1G(z3R,f4_){z3R.forEach(H3R=>{var E3I;if(f4_.indexOf(H3R) == -1){E3I=H3R.getDependents(n3d);if(E3I.length){k1G(E3I,f4_);}f4_.unshift(H3R);}});}if(v1m){k1G(Object.values(v1m),f33);}U5H.F64();return f33;};r_$.Studies.getQuoteFieldValue=function(E_s,L1G,h_M = O$0){U5H.F64();return r_$.ChartEngine.getQuoteFieldValue(E_s,L1G,h_M);};r_$.Studies.StudyDescriptor=function(n5u,G$9,K5W,K5w,i$1,A9F){var U7s,y9r;this.name=n5u;this.disabled=![];this.type=G$9;this.panel=K5W;this.inputs=K5w;this.outputs=i$1;this.parameters=A9F;this.outputMap={};this.min=null;this.max=null;this.startFrom=0;this.subField="Close";U7s=r_$.Studies.studyLibrary[G$9];if(!U7s){y9r="char";y9r+="t";U7s={};if(K5W == y9r || !K5W && A9F && A9F.chartName == "chart"){this.overlay=!![];}}U5H.F64();if(typeof U7s.inputs == "undefined"){U7s.inputs=r_$.clone(r_$.Studies.DEFAULT_INPUTS);}if(typeof U7s.outputs == "undefined"){U7s.outputs=r_$.clone(r_$.Studies.DEFAULT_OUTPUTS);}this.study=U7s;this.libraryEntry=U7s;};r_$.Studies.StudyDescriptor.prototype.toggleDisabledState=function(F6U){var p7V,Y2C,v73;var {disabled:P9r, study:Q7R, signalData:M72}=this;var {chart:r2a}=F6U;this.disabled=P9r=!P9r;if(!P9r){U5H.I0Z(60);this.startFrom=U5H.C6$(0,"0");this.error=null;p7V=-1823215838;Y2C=-199578354;v73=2;for(var Z1V=1;U5H.o1c(Z1V.toString(),Z1V.toString().length,14823) !== p7V;Z1V++){if(Q7R || Q7R.calculateFN){Q7R.calculateFN(F6U,this);}if(this.flagSignals){this.flagSignals();}v73+=2;}if(U5H.W7K(v73.toString(),v73.toString().length,64500) !== Y2C){if(Q7R && Q7R.calculateFN){Q7R.calculateFN(F6U,this);}if(this.flagSignals){this.flagSignals();}}}else if(r2a.customChart && r2a.customChart.owner === this.name){Q7R.calculateFN(F6U,this);}if(M72){M72[P9r?"hide":"show"]();}F6U.changeOccurred("layout");F6U.draw();};r_$.Studies.StudyDescriptor.prototype.getYAxis=function(S6S){U5H.n2i();var k8P,S24,c3D;k8P=this.yAxis;if(this.parameters){S24=this.parameters.yAxis?this.parameters.yAxis.name:this.parameters.yaxisDisplayValue;}if(!k8P){c3D=S6S.panels[this.panel];if(c3D){k8P=S6S.getYAxisByName(c3D,S24) || S6S.getYAxisByName(c3D,this.name) || c3D.yAxis;}}if(!k8P){k8P=S6S.getYAxisByName(S6S.chart.panel,S24) || S6S.chart.panel.yAxis;}return k8P;};r_$.Studies.StudyDescriptor.prototype.getContext=function(F$y){U5H.n2i();return F$y.chart.context;};r_$.Studies.StudyDescriptor.prototype.getDependents=function(C1S,W$8){var Y69,h2j,Z_c,W_E,Q_$;Y69=[];for(var E1u in C1S.layout.studies){h2j=C1S.layout.studies[E1u];if(h2j == this)continue;Z_c=r_$.Studies.getFieldInputs(h2j);for(var I7K="0" >> 32;I7K < Z_c.length;I7K++){W_E=h2j.inputs[Z_c[I7K]].toLowerCase().replace(/\u200c/g,"");Q_$=this.name.toLowerCase().replace(/\u200c/g,"");if(W_E.includes(Q_$)){if(W$8 && h2j.parameters && h2j.parameters.panelName)continue;Y69.push(h2j);Y69=Y69.concat(h2j.getDependents(C1S,W$8));break;}}}return Y69;};r_$.Studies.StudyDescriptor.prototype.undraggable=function(C6a){var n9J;if(this.signalData){return !!({});}n9J=this.study.attributes;if(n9J){if(n9J.panelName && n9J.panelName.hidden){return !"";}if(n9J.yaxisDisplayValue && n9J.yaxisDisplayValue.hidden){return !![];}}return !1;};r_$.Studies.StudyDescriptor.prototype.appendFutureTicks=function(g9$,V8L){var o5w,f5B,K$v,U8n;o5w=g9$.chart.scrubbed;if(!o5w.length){return;}f5B=g9$.standardMarketIterator(o5w[o5w.length - 1].DT);for(K$v=V8L.length - +"1";K$v >= 0;K$v--){U8n=V8L[K$v];for(var i3C in U8n){if(U8n[i3C] || U8n[i3C] === +"0"){K$v=-1;break;}}if(K$v == -+"1")break;V8L.pop();}for(K$v=0;K$v < V8L.length;K$v++){U8n=V8L[K$v];if(!U8n.DT){U8n.DT=f5B.next();}if(!U8n.displayDate){g9$.setDisplayDate(U8n);}U8n.futureTick=!!1;o5w.push(U8n);}};r_$.Studies.generateID=function(D2H,S0L,g4S,N$r,w7f){var R4T,I$J,d$4,e_K,k4Z,y6G,M62;R4T=r_$.Studies.studyLibrary[S0L];I$J=w7f || S0L;if(r_$.Studies.useTranslationDelimiter){U5H.I0Z(15);I$J=U5H.C6$(4964 <= (+"9302",369)?(206.82,6860) >= (707.65,4448)?(3734,5951) === (184.81,172.4)?(9.93e+3,0x1557):![]:"J":"\u200c","\u200c",I$J);}d$4=I$J;if(R4T){if(R4T.customRemoval){return d$4;}}if(!r_$.isEmpty(g4S)){e_K=!"";for(var j37 in g4S){k4Z="S";k4Z+="h";k4Z+="ading";if(["id","display",k4Z,"Anchor Selector"].includes(j37)){continue;}y6G=g4S[j37];if(y6G == "field")continue;if(j37 == "Series" && (y6G == "Primary" || y6G == "series"))continue;y6G=y6G.toString();if(r_$.Studies.prettify[y6G] !== undefined){y6G=r_$.Studies.prettify[y6G];}if(e_K){e_K=!"1";d$4+=" (";}else {if(y6G){d$4+=(589.31,878) < 5976?",":(332.15,9930) !== 526.91?584.81 < (1993,"3430" >> 64)?("J",!({})):"r":5.96e+3;}}d$4+=y6G;}if(!e_K){d$4+=(4215,+"6700") != 492.24?")":(588,!!({}));}}if(N$r === d$4 || N$r && N$r.indexOf(d$4 + (412 != (2322,489.75)?"-":0x3ae)) === 0){return N$r;}U5H.F64();if(D2H.layout.studies && D2H.layout.studies[d$4]){for(var n4H=2;n4H < 50;n4H++){U5H.f$a(15);M62=U5H.z5U(n4H,d$4,(+"816.27",+"8557") == 3920?29.97:"-");if(!D2H.layout.studies[M62]){d$4=M62;break;}}}return d$4;};r_$.Studies.DialogHelper=function(w7t){var V5A,r4K,N_T,r7F,z0h,B8w,y3v,a6L,L2u,D$H,E41,O68,U5G,j7l,Q9w,X$4,P5f,Y_c,W6m,Y7_,B80,f_d,z6E,X3z,l_A,Y4B,V6h,o$u,W1E,z8O,H_2,w3$,s9i,c3S,G32,U5d,c1D,X9L,k7N,f7S,x$n,t92,d8i,P1V,B4I,J71,B3i,w2n,v0q,a65,E$g,d35,K_P,T50;V5A=this.stx=w7t.stx;r4K=this.sd=w7t.sd;this.name=r4K?r4K.type:w7t.name;this.signal=1;this.inputs=[];this.outputs=[];this.parameters=[];N_T=this.libraryEntry=r4K?r4K.study:r_$.Studies.studyLibrary[w7t.name];if(typeof N_T.inputs == "undefined"){N_T.inputs=r_$.clone(r_$.Studies.DEFAULT_INPUTS);}if(typeof N_T.outputs == "undefined"){N_T.outputs=r_$.clone(r_$.Studies.DEFAULT_OUTPUTS);}r7F=r4K && V5A.panels[r4K.panel] || V5A.chart.panel;z0h=r7F.chart;this.title=V5A.translateIf(N_T.name);this.attributes=r_$.clone(N_T.attributes);if(!this.attributes){this.attributes={};}for(var U6z in this.attributes){B8w=this.attributes[U6z];for(var n9z in B8w){if(typeof B8w[n9z] == "function"){B8w[n9z]=B8w[n9z].call(r4K || N_T);}}}y3v=[];a6L=V5A.layout.studies;L2u=[];if(r4K){L2u=Array.prototype.concat(r4K,r4K.getDependents(V5A));}for(var m5L in a6L){if(a6L[m5L].signalData)continue;if(L2u.indexOf(a6L[m5L]) > -1)continue;for(var u2d in a6L[m5L].outputMap){D$H=r_$.Studies.useTranslationDelimiter?"\u200c":"";if(a6L[m5L].inputs.Series && a6L[m5L].inputs.Series !== "series"){u2d=`${D$H}${u2d}${D$H} [${a6L[m5L].inputs.Series}]`;}y3v.push(u2d);}}for(var k4J in N_T.inputs){E41={};this.inputs.push(E41);E41.name=k4J;E41.heading=V5A.translateIf(k4J);O68=N_T.inputs[k4J];if(r4K && r4K.inputs && typeof r4K.inputs[k4J] != "undefined" && r4K.inputs[k4J] !== null){E41.value=r4K.inputs[k4J];}else {E41.value=N_T.inputs[k4J];}E41.defaultInput=N_T.inputs[k4J];if(!this.attributes[k4J]){this.attributes[k4J]=r_$.Studies.inputAttributeDefaultGenerator(E41.defaultInput);}if(O68.constructor == Number){E41.type="number";}else if(O68.constructor == String){U5G="ser";U5G+="ie";U5G+="s";j7l="f";j7l+="ie";j7l+="l";j7l+="d";Q9w=r_$.Studies.movingAverageHelper(V5A,E41.defaultInput);if(Q9w){X$4="optio";X$4+="ns";E41.type="select";E41.defaultInput=Q9w;P5f=r_$.Studies.movingAverageHelper(V5A,E41.value);if(!P5f){P5f=E41.value;}E41.value=P5f;E41.options=r_$.Studies.movingAverageHelper(V5A,X$4);}else if(O68 == j7l){Y_c="f";Y_c+="i";Y_c+="e";Y_c+="ld";W6m="h";W6m+="l";W6m+="/2";Y7_="Clos";Y7_+="e";B80="L";B80+="o";B80+="w";f_d="sel";f_d+="e";f_d+="c";f_d+="t";z6E=V5A.chart.series;X3z=[];for(var p73 in z6E){var {parameters:U6h}=z6E[p73];if(U6h && U6h.isComparison){X3z.push(p73);}}E41.type=f_d;E41.options={};l_A=["Open","High",B80,Y7_,W6m,"hlc/3","hlcc/4","ohlc/4",z0h.defaultPlotField].concat(y3v,X3z);if(V5A.layout.adj){l_A.splice(4,0,"Adj_Close");}for(var v66=0;v66 < l_A.length;v66++){Y4B=l_A[v66];E41.options[Y4B]=V5A.translateIf(Y4B);}if(E41.value == Y_c){V6h="C";V6h+="lo";V6h+="s";V6h+="e";E41.value=V6h;}if(E41.defaultInput == "field"){o$u="C";o$u+="l";o$u+="o";o$u+="se";E41.defaultInput=o$u;}}else if(O68 == U5G){E41.options=Object.keys(V5A.chart.series).reduce((O7z,E8m)=>{var o02;var {display:Q6e, parameters:a6$}=V5A.chart.series[E8m];o02=(a6$ || ({})).symbol || E8m;return {...O7z,[o02]:Q6e || E8m};},{Primary:"Primary"});if(!E41.value || E41.value === "series" || E41.value === "field"){E41.value="Primary";}E41.type="select";if(E41.defaultInput == "field"){W1E="Primar";W1E+="y";E41.defaultInput=W1E;}}else {z8O="d";z8O+="a";z8O+="te";H_2="tex";H_2+="t";E41.type=H_2;if(this.attributes[k4J].placeholder == "yyyy-mm-dd"){E41.type=z8O;}else if(this.attributes[k4J].placeholder == "hh:mm:ss"){E41.type="time";}}}else if(O68.constructor == Boolean){w3$="o";w3$+="n";s9i="t";s9i+="r";s9i+="u";s9i+="e";E41.type="checkbox";if(E41.value === !![] || E41.value == s9i || E41.value == w3$){E41.value=!"";}}else if(O68.constructor == Array){c3S="sel";c3S+="ect";E41.type=c3S;E41.options={};for(var R0d="0" << 32;R0d < O68.length;R0d++){E41.options[O68[R0d]]=V5A.translateIf(O68[R0d]);}if(E41.value.constructor == Array){E41.value=E41.value[0];}if(this.attributes[k4J].defaultSelected){E41.defaultInput=this.attributes[k4J].defaultSelected;}else {E41.defaultInput=O68[0];}}}function O2v(h3M){var r1r,b$a,g_b,S4_;r1r="sel";r1r+="e";r1r+="ct";b$a={};g_b=h3M.defaults;S4_={name:h3M.name,heading:V5A.translateIf(h3M.label),defaultValue:g_b[+"0"],value:h3M.value,options:b$a,type:r1r};for(var r04=0;r04 < g_b.length;r04++){b$a[g_b[r04]]=V5A.translateIf(g_b[r04]);}if(h3M.color !== undefined){S4_.defaultColor=V5A.defaultColor;S4_.color=h3M.color;}return S4_;}this.dateTimeInputs=[];function g0D(Q8q,M9w){var W9W;W9W=this;if(!W9W.attributes[Q8q]){W9W.attributes[Q8q]={};}if(M9w){W9W.attributes[Q8q].hidden=!!({});}}for(var w6A=0;w6A < this.inputs.length;w6A++){G32=this.inputs[w6A];if(G32.type == "date"){U5d=G32.name.substring(0,G32.name.indexOf(" Date"));for(var B17=0;B17 < this.inputs.length;B17++){c1D="ti";c1D+="m";c1D+="e";X9L=this.inputs[B17];if(X9L.type == c1D){if(X9L.name == U5d + " Time"){this.dateTimeInputs.push(U5d);break;}}}}}this.adjustInputTimesForDisplayZone();for(var z2$ in N_T.outputs){k7N="a";k7N+="uto";f7S={name:z2$,heading:V5A.translateIf(z2$)};f7S.color=f7S.defaultOutput=N_T.outputs[z2$];if(r4K && r4K.outputs && r4K.outputs[z2$]){f7S.color=r4K.outputs[z2$];}if(f7S.color == k7N){f7S.color=V5A.defaultColor;f7S.isAuto=!!1;}this.outputs.push(f7S);}function E5v(Q6q){var h6W;if(w2n == "alias"){h6W=1;for(var G6m in V5A.panels){if(G6m == Q6q){return K9a(G6m,h6W);}h6W++;}}function K9a(k6c,u0O){U5H.n2i();return "Panel " + u0O.toString();}return Q6q;}x$n=r4K?r4K.parameters:null;function c$q(D31){var a2W,o0E;a2W="check";a2W+="bo";a2W+="x";o0E={name:D31.name,heading:V5A.translateIf(D31.label),defaultValue:D31.defaults,value:D31.value,type:a2W};return o0E;}if(N_T.parameters){t92=N_T.parameters.init;if(t92){if(t92.studyOverZonesEnabled !== undefined){d8i={name:"studyOverZones",heading:V5A.translateIf("Show Zones"),defaultValue:t92.studyOverZonesEnabled,value:t92.studyOverZonesEnabled};if(x$n && (x$n.studyOverZonesEnabled || x$n.studyOverZonesEnabled === ![])){d8i.value=x$n.studyOverZonesEnabled;}P1V=-+"1081871929";B4I=-1120078414;J71=2;for(var h56=1;U5H.W7K(h56.toString(),h56.toString().length,46433) !== P1V;h56++){d8i.type="";U5H.I0Z(41);J71+=U5H.z5U(2,"2");}if(U5H.W7K(J71.toString(),J71.toString().length,28423) !== B4I){d8i.type="";}d8i.type="checkbox";this.parameters.push(d8i);}if(t92.studyOverBoughtValue !== undefined){B3i="s";B3i+="tudyOve";B3i+="r";B3i+="Bought";d8i={name:B3i,heading:V5A.translateIf("OverBought"),defaultValue:t92.studyOverBoughtValue,value:t92.studyOverBoughtValue,defaultColor:t92.studyOverBoughtColor,color:t92.studyOverBoughtColor};if(x$n && x$n.studyOverBoughtValue){d8i.value=x$n.studyOverBoughtValue;}if(x$n && x$n.studyOverBoughtColor){d8i.color=x$n.studyOverBoughtColor;}if(d8i.color == "auto"){d8i.color=V5A.defaultColor;d8i.isAuto=!![];}d8i.type="text";this.parameters.push(d8i);}if(t92.studyOverSoldValue !== undefined){d8i={name:"studyOverSold",heading:V5A.translateIf("OverSold"),defaultValue:t92.studyOverSoldValue,value:t92.studyOverSoldValue,defaultColor:t92.studyOverSoldColor,color:t92.studyOverSoldColor};if(x$n && x$n.studyOverSoldValue){d8i.value=x$n.studyOverSoldValue;}if(x$n && x$n.studyOverSoldColor){d8i.color=x$n.studyOverSoldColor;}if(d8i.color == "auto"){d8i.color=V5A.defaultColor;d8i.isAuto=!![];}d8i.type="text";this.parameters.push(d8i);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}w2n=this.panelSelect=w7t.panelSelect;v0q=this.axisSelect=w7t.axisSelect;if(w7t.addWhenDone){v0q=w2n=![];}if(v0q || w2n){a65="underla";a65+="yEnabl";a65+="ed";if(!r4K){r4K=r_$.Studies.addStudy(V5A,w7t.name,null,null,{calculateOnly:!![]});r_$.Studies.removeStudy(V5A,r4K);}if(w2n){this.parameters.push(O2v({label:"Panel",name:"panelName",defaults:(function(){var D_L,c6B;D_L="A";D_L+="u";D_L+="t";D_L+="o";c6B=[];c6B.push(D_L);for(var t0l in V5A.panels){if(t0l != r4K.panel || !x$n || !x$n.panelName)if(!V5A.panels[t0l].noDrag){c6B.push(E5v(t0l));}}if(!V5A.checkForEmptyPanel(r4K.panel,!![],r4K)){c6B.push("New panel");}return c6B;})(),value:x$n && x$n.panelName?E5v(x$n.panelName):"Auto"}),c$q({label:"Show as Underlay",name:"underlay",defaults:!1,value:r4K.underlay || r4K.parameters && r4K.parameters.underlayEnabled}));}E$g=V5A.getYAxisByName(r7F,r4K.name);if(v0q){d35="a";d35+="uto";K_P="d";K_P+="efault";T50="sh";T50+="ar";T50+="e";T50+="d";this.parameters.push(O2v({label:"Y-Axis",name:"yaxisDisplay",defaults:(function(){var n0_,r5h,u0D;n0_="no";n0_+="ne";U5H.F64();r5h=r7F.yaxisLHS.concat(r7F.yaxisRHS);u0D=[];u0D.push("default","right","left",n0_,"shared");for(var s87=0;s87 < r5h.length;s87++){if(r5h[s87] != E$g){u0D.push(r5h[s87].name);}}return u0D;})(),value:x$n && x$n.yaxisDisplayValue || E$g && E$g.position || (!E$g?T50:K_P),color:E$g && E$g.textStyle || d35}),c$q({label:"Invert Y-Axis",name:"flipped",defaults:!"1",value:x$n && x$n.flippedEnabled !== undefined?x$n.flippedEnabled:E$g?E$g.flipped:![]}));}g0D.call(this,"flippedEnabled",!E$g && r4K.panel != r4K.name);g0D.call(this,a65,N_T.underlay);g0D.call(this,"panelName",N_T.seriesFN === null);g0D.call(this,"yaxisDisplayValue",N_T.seriesFN === null || N_T.yAxis && N_T.yAxis.noDraw);}};r_$.Studies.DialogHelper.prototype.updateStudy=function(Q7A){var p14,E_F,E7u,M8d,M6Q;p14={};E_F=this.sd;E7u=this.libraryEntry;if(!E7u){E7u={};}if(!E_F){E_F=E7u;}p14.inputs=r_$.clone(E_F.inputs);p14.outputs=r_$.clone(E_F.outputs);p14.parameters=r_$.clone(E_F.parameters);function A5J(y4J){var v$n,E5_;v$n=this;if(v$n.panelSelect == "alias"){E5_=u4l(y4J);if(E5_){for(var M1W in v$n.stx.panels){if(!--E5_){return M1W;}}}}function u4l(u4c){U5H.F64();var u6E;u6E=u4c.match(/.{0,50} (\d)/);return u6E && u6E[1];}return y4J;}this.adjustInputTimesForDisplayZone(Q7A);if(Q7A.parameters && Q7A.parameters.panelName){Q7A.parameters.panelName=A5J.call(this,Q7A.parameters.panelName);}r_$.extend(p14,Q7A);if(!p14.parameters){p14.parameters={};}if(p14.inputs && p14.inputs.id){E_F=r_$.Studies.replaceStudy(this.stx,p14.inputs.id,this.name,p14.inputs,p14.outputs,p14.parameters,null,E_F.study);}else {E_F=r_$.Studies.addStudy(this.stx,this.name,p14.inputs,p14.outputs,p14.parameters,null,E_F.study);}U5H.F64();M8d=new r_$.Studies.DialogHelper({stx:this.stx,sd:E_F,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var v2s in M8d){M6Q="s";M6Q+="ignal";if(v2s != M6Q){this[v2s]=M8d[v2s];}}this.signal*=-1;};r_$.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(J6P){var J2a,h_f,A9W,i4R,L7L,z8G,r_2,y0j,K_$,B8T;U5H.n2i();if(this.stx.displayZone){for(var b8p=0;b8p < this.dateTimeInputs.length;b8p++){J2a=this.dateTimeInputs[b8p];z8G="";if(J6P && J6P.inputs){U5H.I0Z(0);A9W=J6P.inputs[U5H.C6$(J2a," Date")];U5H.f$a(0);i4R=J6P.inputs[U5H.z5U(J2a," Time")];if(A9W){z8G=A9W;}if(i4R){z8G+=i4R;}}for(h_f=0;h_f < this.inputs.length;h_f++){r_2=" ";r_2+="T";r_2+="i";r_2+="me";L7L=this.inputs[h_f];if(!A9W && A9W !== "" && L7L.name == J2a + " Date"){z8G=L7L.value + z8G;}else if(!i4R && i4R !== "" && L7L.name == J2a + r_2){z8G+=L7L.value;}}z8G=z8G.replace(/\D/g,"");if(z8G.length < 12){return;}y0j=r_$.strToDateTime(z8G);if(!isNaN(y0j.valueOf())){if(J6P){if(!J6P.inputs){J6P.inputs={};}K_$=r_$.convertTimeZone(y0j,this.stx.displayZone);U5H.I0Z(0);J6P.inputs[U5H.C6$(J2a," Date")]=r_$.yyyymmdd(K_$);U5H.f$a(0);J6P.inputs[U5H.C6$(J2a," Time")]=r_$.hhmmss(K_$);}else {K_$=r_$.convertTimeZone(y0j,null,this.stx.displayZone);for(h_f=0;h_f < this.inputs.length;h_f++){B8T=" Ti";B8T+="m";B8T+="e";L7L=this.inputs[h_f];if(L7L.name == J2a + " Date"){L7L.value=r_$.yyyymmdd(K_$);}if(L7L.name == J2a + B8T){L7L.value=r_$.hhmmss(K_$);}}}}}}};r_$.Studies.prepareStudy=function(a1o,n6h,O2O){U5H.n2i();if(typeof n6h.calculateFN == "undefined"){n6h.useRawValues=!!({});}if(r_$.isEmpty(O2O.outputMap)){for(var m7l in O2O.outputs){if(n6h.useRawValues){O2O.outputMap[m7l]=m7l;}else {O2O.outputMap[m7l + " " + O2O.name]=m7l;}}}};r_$.Studies.rejiggerDerivedStudies=function(N3z,B3m,i45){var z1E,e2b,x19,d_O,T8U,E$h,b7j,P0G;z1E=B3m.name;U5H.n2i();e2b=B3m.panel;x19=B3m.getDependents(N3z);for(var e1P=+"0";e1P < x19.length;e1P++){d_O=x19[e1P];T8U=r_$.clone(d_O.inputs);E$h=T8U.id;if(!E$h)continue;b7j=r_$.Studies.getFieldInputs(d_O);for(var M4q="0" << 64;M4q < b7j.length;M4q++){T8U[b7j[M4q]]=T8U[b7j[M4q]].replace(z1E,i45);}P0G=r_$.Studies.replaceStudy(N3z,E$h,d_O.type,T8U,d_O.outputs,r_$.extend(d_O.parameters,{rejiggering:!!"1"}),null,d_O.study);delete P0G.parameters.rejiggering;}};r_$.Studies.removeStudySymbols=function(Y_R,Y1X){U5H.n2i();if(Y_R.series){for(var p0e in Y_R.series){Y1X.deleteSeries(Y_R.series[p0e],null,{action:"remove-study"});}}};r_$.Studies.replaceStudy=function(z9R,W28,o2$,B45,f9h,i8U,Y2F,C1a){var G7J,v08,M11,x_b,s7y,e9K,A6v;G7J="p";G7J+="anel";G7J+="Name";if(!i8U){i8U={};}if(W28){i8U.replaceID=W28;}W28=i8U.replaceID;v08=z9R.layout.studies[W28];r_$.Studies.removeStudySymbols(v08,z9R);if(v08.attribution){z9R.removeFromHolder(v08.attribution.marker);}if(z9R.quoteDriver){z9R.quoteDriver.updateSubscriptions();}if(B45){if(B45.id == B45.display){delete B45.display;}delete B45.id;}M11=r_$.Studies.addStudy(z9R,o2$,B45,f9h,i8U,Y2F,C1a);M11.highlight=v08.highlight;U5H.n2i();M11.uniqueId=v08.uniqueId;if(v08.signalData){M11.signalData=v08.signalData;if(M11.signalData.updateConditions){M11.signalData.updateConditions(W28,M11.inputs.id);}}s7y={};for(x_b in z9R.layout.studies){if(x_b == W28){s7y[M11.name]=M11;}else {s7y[x_b]=z9R.layout.studies[x_b];}}z9R.layout.studies=s7y;s7y={};for(x_b in z9R.overlays){if(x_b == W28){if(M11.overlay || M11.underlay){s7y[M11.name]=M11;}}else {s7y[x_b]=z9R.overlays[x_b];}}z9R.overlays=s7y;if(!z9R.overlays[M11.name] && (M11.overlay || M11.underlay)){z9R.addOverlay(M11);}e9K=Object.keys(v08.outputMap);A6v=Object.keys(M11.outputMap);if(v08.panel !== M11.panel){e9K.forEach(function(J5Y){z9R.moveMarkers(v08.panel,M11.panel,z9R.getMarkerArray("field",J5Y));});}z9R.getMarkerArray(G7J,v08.panel).forEach(function(X4p,B9B){var j07;j07=e9K.indexOf(X4p.params.field);U5H.n2i();if(j07 > -1 && A6v.indexOf(X4p.params.field) === -+"1"){X4p.params.field=A6v[B9B];}});z9R.checkForEmptyPanel(v08.panel);if(!i8U.rejiggering){z9R.initializeDisplay(z9R.chart);r_$.Studies.rejiggerDerivedStudies(z9R,v08,M11.inputs.id,M11.panel);}r_$.transferObject(v08,M11);z9R.layout.studies[M11.name]=v08;z9R.overlays[M11.name]=v08;z9R.chart.state.studies.sorted=null;if(!i8U.rejiggering){if(!v08.currentlyImporting && !i8U.calculateOnly && v08.chart.dataSet){z9R.createDataSet(null,v08.chart);}z9R.changeOccurred("layout");z9R.drawWithRange();}return v08;};r_$.Studies.addStudy=function(w6f,f58,t0Y,m7$,k9q,E3B,l$$){var h4i,c_X,O_7,a3w,w9N,v1V,s4I,F5f,g92,k6l,a9q,f3C,v1G,q4E,Q4R,v9A,K0V,a3U;h4i="lay";h4i+="o";h4i+="ut";c_X="A";c_X+="u";c_X+="to";O_7=l$$?l$$:r_$.Studies.studyLibrary[f58];if(!k9q){k9q={};}if(O_7){if(O_7.inputs){a3w=r_$.clone(O_7.inputs);for(var C8D in a3w){if(a3w[C8D] instanceof Array){if(O_7.attributes && O_7.attributes[C8D] && O_7.attributes[C8D].defaultSelected){a3w[C8D]=O_7.attributes[C8D].defaultSelected;}else {a3w[C8D]=a3w[C8D][0];}}}t0Y=r_$.extend(a3w,t0Y);}if(O_7.outputs){m7$=r_$.extend(r_$.clone(O_7.outputs),m7$);}w9N=O_7.parameters;if(w9N && w9N.init){v1V=1407185462;U5H.f$a(60);s4I=U5H.z5U(0,"1969477363");F5f=2;for(var d$g=1;U5H.o1c(d$g.toString(),d$g.toString().length,77733) !== v1V;d$g++){k9q=r_$.extend(r_$.clone(w9N.init),k9q);F5f+=2;}if(U5H.W7K(F5f.toString(),F5f.toString().length,30776) !== s4I){k9q=r_$.extend(r_$.clone(w9N.init),k9q);}}if(w9N && !k9q.display){k9q.display=w9N.display;}}if(!t0Y){t0Y=r_$.clone(r_$.Studies.DEFAULT_INPUTS);}if(!m7$){m7$=r_$.clone(r_$.Studies.DEFAULT_OUTPUTS);}if(!k9q.chartName){k9q.chartName="chart";}U5H.F64();if(k9q.panelName == c_X || k9q.panelName == "Default panel"){k9q.panelName="";}if(t0Y.Period < 1){t0Y.Period=1;}g92=null;if(!w6f.layout.studies){w6f.layout.studies={};}if(O_7 && O_7.initializeFN){g92=O_7.initializeFN(w6f,f58,t0Y,m7$,k9q,E3B,l$$);}else {g92=r_$.Studies.initializeFN(w6f,f58,t0Y,m7$,k9q,E3B,l$$);}if(!g92){k6l="CIQ.Studies.addStudy: initia";k6l+="lizeFN() ret";k6l+="urned null fo";k6l+="r ";U5H.f$a(0);console.log(U5H.z5U(k6l,f58));return;}else if(g92 === "abort"){return;}l$$=g92.study;g92.chart=w6f.charts[k9q.chartName];g92.type=f58;g92.permanent=l$$.permanent;g92.customLegend=l$$.customLegend;g92.uniqueId=r_$.uniqueID();r_$.Studies.prepareStudy(w6f,l$$,g92);a9q=w6f.chart.state.studies;if(!a9q){a9q=w6f.chart.state.studies={};}a9q.sorted=null;if(!k9q.replaceID){w6f.layout.studies[g92.inputs.id]=g92;if(g92.overlay || g92.underlay){w6f.addOverlay(g92);}if(!w6f.currentlyImporting && !k9q.calculateOnly && g92.chart.dataSet){w6f.createDataSet(null,g92.chart);}}else {f3C=!0;delete k9q.replaceID;}if(w6f.quoteDriver){w6f.quoteDriver.updateSubscriptions();}if(k9q.calculateOnly){w6f.changeOccurred("layout");return g92;}v1G=w6f.panels[g92.panel];q4E=!!0;Q4R=!(g92.overlay || g92.underlay);if(Q4R && l$$.horizontalCrosshairFieldFN){v1G.horizontalCrosshairField=l$$.horizontalCrosshairFieldFN(w6f,g92);}if(w6f.editCallback){q4E=!!({});}else if(Q4R){if(w6f.callbackListeners.studyPanelEdit && w6f.callbackListeners.studyPanelEdit.length){q4E=!![];}}else {if(w6f.callbackListeners.studyOverlayEdit && w6f.callbackListeners.studyOverlayEdit.length){q4E=!![];}}if(q4E){k9q.editMode=!0;v9A=![];for(var j9t in g92.inputs){if(j9t == "id")continue;if(j9t == "display")continue;v9A=!!"1";break;}if(!v9A){for(var i2e in g92.outputs){v9A=!!1;break;}}if(v9A){K0V="unde";K0V+="fined";if(typeof g92.study.edit != K0V){if(g92.study.edit){a3U=(function(Z0G,P_W,z2K,W7I,o1m){U5H.F64();return function(){r_$.clearCanvas(Z0G.chart.tempCanvas,Z0G);U5H.n2i();P_W.study.edit(P_W,{stx:Z0G,inputs:z2K,outputs:W7I,parameters:o1m});};})(w6f,g92,t0Y,m7$,k9q);w6f.setPanelEdit(v1G,a3U);g92.editFunction=a3U;}}else if(!Q4R){a3U=(function(c6N,u8s,W6p,i8p,D8z){U5H.n2i();return function(S1t){r_$.clearCanvas(c6N.chart.tempCanvas,c6N);c6N.dispatch("studyOverlayEdit",{stx:c6N,sd:u8s,inputs:W6p,outputs:i8p,parameters:D8z,forceEdit:S1t});};})(w6f,g92,t0Y,m7$,k9q);g92.editFunction=a3U;}else {if(w6f.editCallback){a3U=(function(L1l,m4y,s0p,v$_,c14){return function(){var b84;b84=L1l.editCallback(L1l,m4y);r_$.clearCanvas(L1l.chart.tempCanvas,L1l);r_$.Studies.studyDialog(L1l,f58,b84,{inputs:s0p,outputs:v$_,parameters:c14});};})(w6f,g92,t0Y,m7$,k9q);if(v1G.name != "chart"){w6f.setPanelEdit(v1G,a3U);}}else {a3U=(function(m3K,l$d,j6X,v3D,E5F){return function(){r_$.clearCanvas(m3K.chart.tempCanvas,m3K);m3K.dispatch("studyPanelEdit",{stx:m3K,sd:l$d,inputs:j6X,outputs:v3D,parameters:E5F});};})(w6f,g92,t0Y,m7$,k9q);if(v1G.name != "chart"){w6f.setPanelEdit(v1G,a3U);g92.editFunction=a3U;}}}}}w6f.changeOccurred(h4i);if(!f3C){w6f.drawWithRange();}return g92;};r_$.Studies.removeStudy=function(H0z,V5m){var Q39,s7G,G9$,n1l;Q39=H0z.panels[V5m.panel];s7G=Q39 && Q39.yAxis.name;if(V5m.overlay || V5m.underlay){H0z.removeOverlay(V5m.name);}G9$=H0z.panels[V5m.panel];if(V5m.attribution){H0z.removeFromHolder(V5m.attribution.marker);}H0z.cleanupRemovedStudy(V5m);if(G9$ && !H0z.checkForEmptyPanel(G9$)){if(s7G == V5m.name){H0z.electNewPanelOwner(G9$);}n1l=H0z.getYAxisByName(V5m.panel,V5m.name);if(n1l){n1l.name=n1l.studies[1] || n1l.renderers["0" | 0];}}H0z.drawWithRange();H0z.resizeChart();};r_$.Studies.getPanelFromFieldName=function(V_w,d_A){U5H.F64();var M5U,s38,j1K,v2d,Q9q,T33;M5U=r_$.Studies.getFieldInputs(d_A);if(!M5U.length){return null;}s38=V_w.layout.studies;if(!s38){return null;}j1K={};for(var y0T in s38){for(var C_R in s38[y0T].outputMap){v2d=s38[y0T].inputs.Series;if(v2d && v2d !== "series"){U5H.f$a(15);C_R+=U5H.C6$(("2941" ^ 0) < +"257.32"?(0xf1d,"A"):"]"," [",v2d);}j1K[C_R]=s38[y0T].panel;}}for(var m7n in V_w.chart.series){j1K[m7n]=V_w.chart.series[m7n].parameters.panel;}for(var P$9=0;P$9 < M5U.length;P$9++){Q9q=d_A.inputs[M5U[P$9]];if(Q9q){T33=j1K[Q9q];if(T33){return T33;}}}return null;};r_$.Studies.createLibraryHash=function(){return Object.keys(r_$.Studies.studyLibrary).join(899 > (982.03,408.3)?"|":3540 !== (7875,1298)?(!![],287.18):(!({}),522));};r_$.Studies.displayStudies=function(b8a,x0u,r4l){U5H.n2i();var i43,a9_,C7$,G5M,b3y,g4K,y1p,a4y,S9w,p2g,I25,N0h,W3y,y3_,j31,O_$,Q6T;if(r4l){x0u.studyLibraryHash=r_$.Studies.createLibraryHash();}i43=b8a.layout.studies;if(!i43){return;}function D2D(r9$){var g6T;g6T=r9$.color || r9$;U5H.n2i();return g6T === "auto"?b8a.defaultColor:g6T;}a9_={};a9_[x0u.name]=!"";for(var F1X in i43){C7$=i43[F1X];G5M=C7$.study;if(!G5M)continue;if(C7$.disabled || C7$.signalData && !C7$.signalData.reveal)continue;b3y=C7$.underlay || C7$.parameters && C7$.parameters.underlayEnabled;if(r4l && !b3y || !r4l && b3y)continue;g4K=r_$.clone(G5M.renderer);if(g4K && !(g4K instanceof Array)){g4K=[g4K];}y1p=b8a.panels[C7$.panel];if(y1p){if(y1p.chart != x0u)continue;if(y1p.hidden)continue;if(!a9_[y1p.name]){a4y=C7$.permanent || !b8a.manageTouchAndMouse;if(y1p.closeX){S9w="no";S9w+="n";S9w+="e";if(a4y){y1p.closeX.style.display=S9w;}}else if(y1p.close){if(a4y){y1p.close.style.display="none";}}if(y1p.edit){if(a4y){y1p.edit.style.display="none";}}a9_[y1p.name]=a4y;}}else {if(b8a.currentlyImporting){delete i43[F1X];}continue;}p2g=C7$.chart.dataSegment;if(C7$.panel == C7$.parameters.chartName && (!C7$.parameters || !C7$.parameters.panelName)){I25=r_$.Studies.getPanelFromFieldName(b8a,C7$);if(I25 && C7$.panel != I25){C7$.panel=I25;}}if(typeof G5M.seriesFN == "undefined"){if(g4K){if(!C7$.overlay){r_$.Studies.createYAxis(b8a,C7$,p2g,y1p);}for(var S_b=0;S_b < g4K.length;S_b++){N0h=g4K[S_b];for(var p3d in C7$.outputMap){if(C7$.outputMap[p3d] == N0h.field){N0h.field=p3d;}}if(!N0h.field)continue;N0h.panel=C7$.panel;W3y=N0h.binding;if(W3y){for(var n2_ in W3y){y3_=r_$.Studies.determineColor(C7$.outputs[W3y[n2_]]);if(y3_ && y3_ != "auto"){N0h[n2_]=y3_;}}}N0h.yAxis=null;j31=r_$.Renderer.produce(N0h.type,N0h);j31.stx=b8a;j31.attachSeries(null,N0h).draw();}}else {r_$.Studies.displaySeriesAsLine(b8a,C7$,p2g);}if(y1p){r_$.Studies.displayError(b8a,C7$);}}else {if(y1p){if(G5M.seriesFN){G5M.seriesFN(b8a,C7$,p2g);}r_$.Studies.displayError(b8a,C7$);}}O_$=Object.values(C7$.outputs);Q6T=O_$.slice(0,3).map(D2D);b8a.chart.legendColorMap[C7$.name]={color:Q6T,display:C7$.name,components:Object.keys(C7$.outputs).slice(0,3)};}};r_$.Studies.displayError=function(X$D,v$v,O9g){var n1m,p2Q,P5K;U5H.F64();n1m="b";n1m+="ot";n1m+="to";n1m+="m";if(!v$v.error){return;}p2Q=O9g && O9g.panel?O9g.panel:v$v.panel;P5K=v$v.error === !!({})?X$D.translateIf("Not enough data to compute ") + X$D.translateIf(v$v.study.name):X$D.translateIf(v$v.error);if(O9g && (O9g.h !== "center" || O9g.v !== n1m)){X$D.watermark(p2Q,O9g);return;}X$D.displayErrorAsWatermark(p2Q,P5K);};r_$.Studies.calculateMinMaxForDataPoint=function(i_K,c_9,y3e){var W5z,n3k,r4W;W5z=Number.MAX_VALUE;U5H.f$a(7);var m90=U5H.z5U(14,13);n3k=Number.MAX_VALUE * m90;for(var y1N=0;y1N < y3e.length;y1N++){r4W=y3e[y1N][c_9];if(r4W === null || typeof r4W == "undefined")continue;if(isNaN(r4W))continue;W5z=Math.min(r4W,W5z);n3k=Math.max(r4W,n3k);}U5H.F64();return {min:W5z,max:n3k};};r_$.Studies.getYAxisParameters=function(B$h,g1m){var I0A,f4v,v06,x2c,P1N;U5H.n2i();I0A={};f4v=B$h.layout.studies && B$h.layout.studies[g1m.name];if(f4v){v06=f4v.study;if(v06.yaxis || v06.yAxisFN){I0A.noDraw=!0;}else {if(v06.parameters && v06.parameters.excludeYAxis){I0A.noDraw=!0;}I0A.ground=v06.yAxis && v06.yAxis.ground;if(g1m){x2c="byp";x2c+="a";x2c+="ss";if(v06.range != x2c){P1N="0 ";P1N+="to 100";if(v06.range == P1N){I0A.range=[0,100];}else if(v06.range == "-1 to 1"){I0A.range=[-1,1];}else {if(v06.range == "0 to max"){U5H.I0Z(1);I0A.range=[+"0",Math.max(U5H.z5U(1,"0"),g1m.high)];}else if(v06.centerline || v06.centerline === 0){I0A.range=[Math.min(v06.centerline,g1m.low),Math.max(v06.centerline,g1m.high)];}}}if(I0A.range){g1m.low=I0A.range[0];g1m.high=I0A.range[1];}if(f4v.min){g1m.min=f4v.min;}if(f4v.max){g1m.max=f4v.max;}if(f4v.parameters && f4v.parameters.studyOverZonesEnabled){I0A.noDraw=!![];}}}}return I0A;};r_$.Studies.doPostDrawYAxis=function(n$Y,L04){var R_5,F42,g5x,W1_,L3z;U5H.F64();for(var l3X in n$Y.layout.studies){R_5=n$Y.layout.studies[l3X];F42=n$Y.panels[R_5.panel];if(!F42 || F42.hidden)continue;g5x=R_5.getYAxis(n$Y);if(g5x != L04)continue;W1_=R_5.study;if(L04.name == R_5.name){if(W1_.yaxis){W1_.yaxis(n$Y,R_5);}if(W1_.yAxisFN){W1_.yAxisFN(n$Y,R_5);}}r_$.Studies.drawZones(n$Y,R_5);if(!R_5.error){L3z=W1_.centerline;if(L3z || L3z === 0 || L3z !== null && L04.highValue - 0.000000000001 > 0 && L04.lowValue + 0.000000000001 < 0){r_$.Studies.drawHorizontal(n$Y,R_5,null,L3z || 0,L04);}}}};r_$.Studies.displaySeriesAsLine=function(w6z,o8d,r9A){var c5K;if(!r9A.length){return;}c5K=w6z.panels[o8d.panel];if(!c5K || c5K.hidden){return;}for(var Z$i in o8d.outputMap){r_$.Studies.displayIndividualSeriesAsLine(w6z,o8d,c5K,Z$i,r9A);}};r_$.Studies.displaySeriesAsHistogram=function(m27,L7A,H$D){var t$X,S1h,d9i,L3N,U_d,t70,V_n,i2M,d7m,K8C;if(!H$D.length){return;}t$X=m27.panels[L7A.panel];if(!t$X){return;}if(t$X.hidden){return;}S1h=[];for(var t4z in L7A.outputMap){d9i=L7A.outputs[L7A.outputMap[t4z]];if(!d9i)continue;L3N=+"0.3";if(typeof d9i == "object"){L3N=d9i.opacity;d9i=d9i.color;}U_d={field:t4z,fill_color_up:d9i,border_color_up:d9i,fill_color_down:d9i,border_color_down:d9i};if(L7A.underlay){U_d.opacity_up=U_d.opacity_down=L3N || 0.3;}S1h.push(U_d);}t70=L7A.getYAxis(m27);V_n=L7A.inputs;i2M=V_n.WidthFactor;if(L7A.study && L7A.study.parameters){d7m=L7A.study.parameters;if(typeof d7m.widthFactor !== "undefined"){i2M=d7m.widthFactor;}}U5H.F64();K8C={name:L7A.name,type:V_n.HistogramType?V_n.HistogramType:"overlaid",panel:L7A.panel,yAxis:t70,widthFactor:i2M || 0.5,bindToYAxis:!!({}),highlight:L7A.highlight};m27.drawHistogram(K8C,S1h);};r_$.Studies.displayIndividualSeriesAsLine=function(H$4,v_5,b7U,d0r,d$k){var e0w,z8_,h9H,O8C,O5R,E1A,e67,Y3R,Y9O,E_V,a4T,Z9b,Z9o,m9s,m_5,H$E,q$E;e0w="t";e0w+="ransp";e0w+="arent";if(!b7U.height){b7U.height=b7U.bottom - b7U.top;}z8_=v_5.getContext(H$4);h9H=v_5.outputs[v_5.outputMap[d0r]];if(!h9H){return;}z8_.save();if(typeof h9H === "string"){h9H={color:h9H,width:1};}z8_.lineWidth=h9H.width || 1;O8C=h9H.color;if(O8C == "auto"){O8C=H$4.defaultColor;}z8_.strokeStyle=O8C;O5R=h9H.pattern;z8_.setLineDash(r_$.borderPatternToArray(z8_.lineWidth,O5R));z8_.lineDashOffset=0;E1A=0;e67=v_5.study;Y3R=v_5.getYAxis(H$4);E1A=H$4.decimalPlacesFromPriceTick(Y3R.priceTick,Y3R.idealTickSizePixels);if(v_5.overlay || v_5.underlay){E1A=null;}if(Y3R.decimalPlaces || Y3R.decimalPlaces === 0){E1A=Y3R.decimalPlaces;}Y9O=null;if(v_5.parameters){Y9O=v_5.parameters.label;}E_V=e67.parameters;if(!E_V){E_V={};}a4T=E_V.plotType == "step";if(v_5.series){for(var t9t in v_5.series){Z9b="st";Z9b+="ep";Z9o=v_5.series[t9t].parameters.type;if(Z9o){U5H.I0Z(89);a4T=U5H.C6$(Z9b,Z9o);}}}if(E_V.noLabels){Y9O=!1;}if(!v_5.noSlopes && v_5.noSlopes !== !1){v_5.noSlopes=E_V.noSlopes;}if(!v_5.extendToEnd && v_5.extendToEnd !== ![]){v_5.extendToEnd=E_V.extendToEnd;}m9s=Y9O || H$4.preferences.labels && Y9O !== !({});m_5=v_5.gaplines;if(m_5 === !({})){m_5=e0w;}H$E=v_5.inputs.Symbol;q$E=m_5?H$4.getGapColorFunction(H$E,d0r,h9H,m_5):null;H$4.plotDataSegmentAsLine(d0r,b7U,{yAxis:Y3R,skipTransform:H$4.panels[v_5.panel].name != v_5.chart.name,label:m9s,labelDecimalPlaces:E1A,noSlopes:v_5.noSlopes,step:a4T,alignStepToSide:v_5.alignStepToSide,extendToEndOfLastBar:v_5.extendToEndOfLastBar,width:v_5.lineWidth,extendToEndOfDataSet:v_5.extendToEnd,gapDisplayStyle:m_5,highlight:v_5.highlight},q$E);if(e67.appendDisplaySeriesAsLine){e67.appendDisplaySeriesAsLine(H$4,v_5,d$k,d0r,b7U);}z8_.restore();};r_$.Studies.drawHorizontal=function(m6G,G_v,F9p,g8t,p3s,u9B){U5H.F64();var z4_,O_g,z$E;z4_=m6G.panels[G_v.panel];O_g=m6G.getBackgroundCanvas().context;if(!z4_){return;}if(!u9B){u9B=p3s.textStyle;}z$E=m6G.pixelFromPrice(g8t,z4_,p3s);if(z$E > p3s.top && z$E < p3s.bottom){m6G.plotLine(z4_.left,z4_.right,z$E,z$E,u9B,"segment",O_g,!({}),{opacity:u9B && u9B.opacity?u9B.opacity:0.5});}};r_$.Studies.displayHistogramWithSeries=function(f7u,x3b,T_x){var n1S,z97;n1S=f7u.panels[x3b.panel];z97=0.5;if(x3b.underlay){z97=0.3;}r_$.Studies.createHistogram(f7u,x3b,T_x,!({}),z97);r_$.Studies.displaySeriesAsLine(f7u,x3b,T_x);};r_$.Studies.drawZones=function(u2c,b0a,B0U){var e_k,C2R,K3c,R6Z,h6A,g20,x36,t1K,O8h,i7D,P0N,M5e,D9D,N79,Z3j,Q_o,W5Q,Y1D,c2S,Q_O,s$4,v09,K7S,K2J,V4i,p$v,L5_,o7c,l4A,l75,b7q,B1F,m74,P6H,V1u,Q9t,O5V;e_k="stro";e_k+="k";e_k+="e";C2R="bo";C2R+="rder";K3c="a";K3c+="ut";K3c+="o";if(!b0a.parameters || !b0a.parameters.studyOverZonesEnabled){return;}R6Z=parseFloat(b0a.parameters.studyOverSoldValue);h6A=parseFloat(b0a.parameters.studyOverBoughtValue);g20=b0a.parameters.studyOverSoldColor;x36=b0a.parameters.studyOverBoughtColor;t1K=b0a.zoneOutput;if(!t1K){t1K="Result";}O8h=r_$.Studies.determineColor(b0a.outputs[t1K]);if(!O8h || O8h == "auto" || r_$.isTransparent(O8h)){O8h=u2c.defaultColor;}if(!g20){g20=O8h;}if(!g20 || g20 == K3c || r_$.isTransparent(g20)){g20=u2c.defaultColor;}if(!x36){x36=O8h;}if(!x36 || x36 == "auto" || r_$.isTransparent(x36)){x36=u2c.defaultColor;}i7D=u2c.panels[b0a.panel];P0N=b0a.getYAxis(u2c);M5e=P0N.displayBorder;if(u2c.axisBorders === !!""){M5e=!"1";}if(u2c.axisBorders === !""){M5e=!!({});}if(P0N.width === 0){M5e=![];}D9D=u2c.getYAxisCurrentPosition(P0N,i7D);U5H.f$a(89);N79=U5H.z5U("left",D9D);Z3j=P0N.justifyRight;if(!Z3j && Z3j !== !({})){if(u2c.chart.yAxis.justifyRight || u2c.chart.yAxis.justifyRight === !({})){Z3j=u2c.chart.yAxis.justifyRight;}else {Z3j=N79;}}Q_o=Math.round(P0N.left + (N79?P0N.width:0)) + 0.5;W5Q=M5e?3:"0" | 0;if(N79){W5Q=M5e?-3:"0" - 0;}Y1D=u2c.getBackgroundCanvas().context;c2S=Y1D.fillStyle;Y1D.globalAlpha=0.2;u2c.startClip(i7D.name,!!({}));Y1D.beginPath();Q_O=Math.round(u2c.pixelFromPrice(h6A,i7D,P0N)) - 0.5;Y1D.strokeStyle=x36;Y1D.moveTo(i7D.left,Q_O);Y1D.lineTo(i7D.right,Q_O);Y1D.stroke();Y1D.closePath();Y1D.beginPath();s$4=Math.round(u2c.pixelFromPrice(R6Z,i7D,P0N)) + 0.5;Y1D.strokeStyle=g20;Y1D.moveTo(i7D.left,s$4);Y1D.lineTo(i7D.right,s$4);Y1D.stroke();Y1D.closePath();v09=new r_$.Plotter();v09.newSeries(C2R,e_k,u2c.canvasStyle("stx_grid_border"));if(M5e){K7S="b";K7S+="o";K7S+="rde";K7S+="r";K2J=N79?Q_o + W5Q:Q_o - 0.5;V4i=N79?Q_o + 0.5:Q_o + W5Q;v09.moveTo("border",K2J,Q_O);v09.lineTo(K7S,V4i,Q_O);v09.moveTo("border",K2J,s$4);v09.lineTo("border",V4i,s$4);}Y1D.fillStyle=c2S;p$v={skipTransform:u2c.panels[b0a.panel].name != b0a.chart.name,panelName:b0a.panel,band:t1K + (("6872" * 1,2780) >= 619?" ":!1) + b0a.name,yAxis:P0N,opacity:0.3};if(!b0a.highlight && u2c.highlightedDraggable){p$v.opacity*=+"0.3";}r_$.preparePeakValleyFill(u2c,r_$.extend(p$v,{threshold:h6A,direction:P0N.flipped?-1:1,color:x36}));r_$.preparePeakValleyFill(u2c,r_$.extend(p$v,{threshold:R6Z,direction:P0N.flipped?+"1":-1,color:g20}));Y1D.globalAlpha=1;if(!b0a.study || !b0a.study.yaxis){if(M5e){L5_="bord";L5_+="er";o7c=Math.round(P0N.bottom) + 0.5;v09.moveTo("border",Q_o,P0N.top);v09.lineTo("border",Q_o,o7c);v09.draw(Y1D,L5_);}l4A=b0a.chart.dynamicYAxis;l75=3;[h6A,R6Z].forEach(function(p9_){var K12,U3q;U5H.f$a(0);K12=U5H.z5U(p9_,66.72 > (601,4550)?1110 != (3672,5020)?"j":("J",7.76e+3):"\xA0");U3q=l4A && Math.max(P0N._width,b0a.chart.context.measureText(K12).width + Math.abs(W5Q) + l75);if(l4A && U3q > (P0N._dynamicWidth || P0N._width)){P0N._dynamicWidth=U3q;u2c.calculateYAxisPositions();u2c.endClip();throw new Error("reboot draw");}else if(!l4A && P0N._dynamicWidth){u2c.resetDynamicYAxis();u2c.endClip();throw new Error("reboot draw");}});B1F=P0N.getTitleEnabled && P0N.getTitleEnabled();if(P0N.width !== 0){m74="l";m74+="e";m74+="ft";P6H="r";P6H+="ight";u2c.canvasFont("stx_yaxis",Y1D);u2c.canvasColor("stx_yaxis",Y1D);Y1D.textAlign=Z3j?P6H:m74;U5H.I0Z(7);var h0L=U5H.C6$(14,16);V1u=u2c.getCanvasFontSize("stx_yaxis") / h0L;if(B1F){U5H.I0Z(1);P0N.fontHeight=U5H.z5U(2,V1u);}if(N79){U5H.f$a(32);var Y_p=U5H.z5U(9,18,24,6);b7q=P0N.left + Y_p;if(Z3j){U5H.f$a(147);var S72=U5H.C6$(14,2,17,12,6);b7q=P0N.left + P0N.width + W5Q - S72;}}else {U5H.I0Z(2);var Z_Y=U5H.C6$(82,3,18,164);b7q=P0N.left + W5Q + ("3" << Z_Y);if(Z3j){b7q=P0N.left + P0N.width;}}if(Q_O > P0N.top + V1u){Y1D.fillStyle=x36;Y1D.fillText(h6A,b7q,Q_O);}if(s$4 < P0N.bottom - V1u){Y1D.fillStyle=g20;Y1D.fillText(R6Z,b7q,s$4);}Y1D.fillStyle=c2S;}if(B1F){Q9t="st";Q9t+="x_";Q9t+="yaxis";O5V=P0N.textStyle || Q9t;v09.newSeries("text","fill",u2c.colorOrStyle(O5V));u2c.drawTitleText(i7D,P0N,v09,b7q);v09.draw(u2c.getBackgroundCanvas(u2c.chart).context,"text");}}u2c.endClip();Y1D.globalAlpha=1;if(P0N.name == b0a.name){P0N.yAxisPlotter=new r_$.Plotter();}};r_$.Studies.createHistogram=function(G7e,D98,C8t,B4f,l8P){var F32,E_Q,Q9H,h4x,C5e,q9h,A6S,P8D,i9w,W9X,A45,H1P,w_n,E7W,n_F,N0f,B1r,C7y,c4l,o3h,d8r,r7g;F32=G7e.panels[D98.panel];E_Q=D98.getContext(G7e);Q9H=D98.getYAxis(G7e);G7e.startClip(F32.name);U5H.I0Z(18);var g2h=U5H.C6$(26,4,20);h4x=G7e.layout.candleWidth - g2h;if(h4x < 2){h4x=1;}C5e=G7e.pixelFromPrice(0,F32,Q9H);if(Q9H.min > 0){C5e=G7e.pixelFromPrice(Q9H.min,F32,Q9H);}if(B4f){C5e=Math.floor(F32.top + F32.height / 2);}q9h=D98.name + "_hist";G7e.canvasColor("stx_histogram");A6S=E_Q.fillStyle;if(l8P || l8P === 0){E_Q.globalAlpha=l8P;}if(!D98.highlight && G7e.highlightedDraggable){E_Q.globalAlpha*=0.3;}P8D=null;i9w=null;W9X=D98.outputs;for(var o9W="0" ^ 0;o9W < C8t.length;o9W++){A45="stret";A45+="ch";H1P=0;w_n=C8t[o9W];if(!w_n)continue;if(G7e.cleanupGaps === A45){while(C8t[o9W + 1]){U5H.I0Z(0);E7W=C8t[U5H.z5U(o9W,1)][q9h];if(E7W || E7W === +"0" || C8t[o9W + 1].futureTick)break;H1P++;o9W++;}}if(w_n.candleWidth){h4x=Math.floor(Math.max("1" * 1,w_n.candleWidth - +"2"));}n_F=Math.floor(G7e.pixelFromBar(o9W - H1P,F32.chart) - h4x / 2);N0f=Math.floor(h4x + H1P * G7e.layout.candleWidth);if(P8D === null){U5H.f$a(19);var Q6p=U5H.z5U(15,14,1);B1r=G7e.tickFromPixel(n_F,F32.chart) - Q6p;if(B1r < 0){P8D=i9w;}else {P8D=G7e.pixelFromPrice(G7e.chart.dataSet[B1r][q9h],F32,Q9H) - C5e;}}else {P8D=i9w;}i9w=G7e.pixelFromPrice(w_n[q9h],F32,Q9H) - C5e;C7y=r_$.Studies.determineColor(W9X["Decreasing Bar"]);c4l=r_$.Studies.determineColor(W9X["Increasing Bar"]);o3h=r_$.Studies.determineColor(W9X["Positive Bar"]);d8r=r_$.Studies.determineColor(W9X["Negative Bar"]);r7g=Q9H.flipped;E_Q.fillStyle=A6S;if(C7y && (r7g?i9w < P8D:i9w > P8D)){E_Q.fillStyle=C7y;}else if(c4l && (r7g?i9w > P8D:i9w < P8D)){E_Q.fillStyle=c4l;}else if(o3h && (r7g?i9w > 0:i9w < 0)){E_Q.fillStyle=o3h;}else if(d8r && (r7g?i9w < 0:i9w > 0)){E_Q.fillStyle=d8r;}E_Q.fillRect(n_F,C5e,N0f,Math.floor(i9w));}E_Q.globalAlpha=1;G7e.endClip();};r_$.Studies.prettify={Close:(1258,2466) != (699.19,"182" | 0)?"C":106.35 != (7750,3540)?("k",1.33e+3):(8.52e+2,426.42),Open:"O",High:+"435.6" < (1840,986)?"H":642.59,Low:"L",simple:"ma",exponential:"ema",triangular:c8l,VIDYA:"vdma",weighted:"wma","welles wilder":k9S,true:7572 !== (274.54,653)?"y":(!({}),"o"),false:6453 === 2968?"732" - 0:2490 <= +"9394"?"n":899 !== 9300?(3.09e+3,!({})):!!({})};r_$.Studies.prettyRE=/^.{0,50}\((.{0,50})\).{0,50}$/;r_$.Studies.prettyDisplay=function(Q$l){var U1_,c87,s_$,k5z,a55;U1_=r_$.Studies.prettyRE.exec(Q$l);U5H.n2i();if(!U1_){return Q$l;}c87=1175011907;s_$=245811858;k5z=2;for(var O11=1;U5H.o1c(O11.toString(),O11.toString().length,38436) !== c87;O11++){a55=U1_[5];k5z+=2;}if(U5H.o1c(k5z.toString(),k5z.toString().length,94530) !== s_$){U5H.I0Z(7);a55=U1_[U5H.z5U(0,"8")];}a55=U1_[1];if(a55){for(var X9G in r_$.Studies.prettify){a55=a55.replace(X9G,r_$.Studies.prettify[X9G]);}Q$l=Q$l.replace(U1_[1],a55);}return Q$l;};r_$.Studies.getFieldInputs=function(f2a){var i0t,h9k,h00;i0t=[];h9k=f2a.study.inputs;for(var y_1 in h9k){h00="s";h00+="eri";h00+="e";h00+="s";if(["field",h00].includes(h9k[y_1])){i0t.push(y_1);}}return i0t;};r_$.Studies.initializeFN=function(i_P,E97,G94,S7l,J$Z,N9e,r0y){var T9i,J3i,S$m,R8$,s2d,Z12,h7Q,U4N,q2O,G1o,S_q,f_6,A20,z_4,O_Y,D0i,A7m,D_v,A3S,F5x,X7H,D2X,I2K;T9i="B";T9i+="ottom";J3i="T";J3i+="o";J3i+="p";S$m="initi";S$m+="alMar";S$m+="gin";if(!G94){G94={};}if(!J$Z){J$Z={};}if(!G94.id){G94.id=r_$.Studies.generateID(i_P,E97,G94,J$Z.replaceID,J$Z.display);}if(!G94.display){G94.display=G94.id;}R8$=new r_$.Studies.StudyDescriptor(G94.id,E97,G94.id,G94,S7l,J$Z);if(G94.Period){R8$.days=Math.max(1,parseInt(R8$.inputs.Period,+"10"));}if(r0y){if(!r0y.inputs){r0y.inputs=R8$.study.inputs;}if(!r0y.outputs){r0y.outputs=R8$.study.outputs;}R8$.study=r0y;}else {r0y=R8$.study;}if(r0y.display){G94.display=r0y.display;}if(typeof J$Z.panelName == "string"){N9e=J$Z.panelName;}if(N9e == G94.id || N9e && !i_P.panelExists(N9e)){R8$.underlay=R8$.overlay=!({});}if(N9e == "Own panel" || N9e == "New panel"){N9e=null;}s2d=R8$.overlay || G94.Overlay || R8$.overlay !== !!"" && r0y.overlay;Z12=R8$.underlay || G94.Underlay || R8$.underlay !== !({}) && r0y.underlay;if(s2d && J$Z.underlayEnabled){Z12=!![];}if(Z12){R8$.underlay=!0;}if(!Z12 && i_P.chart.panel && N9e == i_P.chart.panel.name){s2d=!!"1";}if(s2d){R8$.overlay=!![];}h7Q=i_P.preferences.dragging;if(h7Q === !!1 || h7Q && h7Q.study){R8$.overlay=!0;}if(N9e){J$Z.panelName=N9e;}else if(!s2d && !Z12){N9e=G94.id;}if(J$Z.calculateOnly){if(s2d || Z12){if(i_P.panels[J$Z.panelName]){R8$.panel=J$Z.panelName;}else {R8$.panel=r_$.Studies.getPanelFromFieldName(i_P,R8$) || J$Z.chartName;}}return R8$;}U4N={};q2O=i_P.layout.studies[J$Z.replaceID];if(q2O){U4N={outputMap:r_$.clone(q2O.outputMap),panel:q2O.panel};}R8$.panel="";if(N9e){G1o="s";G1o+="har";G1o+="e";G1o+="d";S_q="n";S_q+="o";S_q+="n";S_q+="e";f_6="l";f_6+="e";f_6+="f";f_6+="t";A20="New p";A20+="anel";z_4=r_$.Studies.smartMovePanel(i_P,R8$.inputs,N9e,J$Z.replaceID,J$Z.panelName == A20);if(z_4){R8$.panel=z_4.name;}if(J$Z.yaxisDisplayValue && ![f_6,"right",S_q,G1o,"default"].includes(J$Z.yaxisDisplayValue) && !i_P.getYAxisByName(z_4,J$Z.yaxisDisplayValue)){J$Z.yaxisDisplayValue="default";}}else if(s2d || Z12){R8$.panel=r_$.Studies.getPanelFromFieldName(i_P,R8$) || J$Z.chartName;}if(!R8$.panel){O_Y=r0y.panelHeight || null;D0i=J$Z.yAxis || r0y.yAxis || ({});D0i.name=R8$.inputs.id;R8$.panel=R8$.inputs.id;i_P.createPanel(R8$.inputs.display,R8$.panel,O_Y,J$Z.chartName,new r_$.ChartEngine.YAxis(D0i));}if(R8$.parameters && R8$.parameters.panelName){R8$.parameters.panelName=R8$.panel;}A7m=i_P.panels[R8$.panel];D_v=r0y?r_$.clone(r0y.yAxis):null;A3S=J$Z.yAxis || D_v;if((A3S || ({})).ground){U5H.I0Z(7);A3S[S$m + (A3S.flipped?J3i:T9i)]=U5H.z5U(0,"0");}F5x=r_$.Studies.smartCreateYAxis(i_P,A7m,R8$.inputs.id,J$Z.yaxisDisplayValue,A3S);if(F5x){if(F5x.name == J$Z.replaceID){F5x.name=R8$.inputs.id;}if(!J$Z.replaceID && F5x.name === R8$.name){i_P.calculateYAxisMargins(F5x);}F5x.allowSharing=!J$Z.yAxis && !r0y.yAxis;F5x.width=F5x.position == "none"?0:r_$.ChartEngine.YAxis.prototype.width;if(J$Z.yaxisDisplayValue == "shared" || J$Z.yaxisDisplayValue == "default"){delete J$Z.yaxisDisplayValue;}else {if(D_v){r_$.ensureDefaults(F5x,D_v);}if(F5x.name == R8$.name){X7H="au";X7H+="t";X7H+="o";if(!(D_v || ({})).textStyle && !J$Z.yaxisDisplayColor || J$Z.yaxisDisplayColor == X7H){delete F5x.textStyle;}else if(J$Z.yaxisDisplayColor){F5x.textStyle=r_$.colorToHex(J$Z.yaxisDisplayColor);}if((D_v || ({})).justifyRight === undefined){F5x.justifyRight=null;}if(J$Z.flippedEnabled !== undefined){F5x.flipped=J$Z.flippedEnabled;}}}if(F5x != A7m.yAxis){F5x.displayGridLines=!({});}else if(F5x != i_P.chart.yAxis){F5x.displayGridLines=i_P.displayGridLinesInStudies;}}i_P.resetDynamicYAxis();i_P.calculateYAxisPositions();if(q2O){D2X=!"1";for(var x96 in i_P.drawingObjects){I2K=i_P.drawingObjects[x96];if(U4N.outputMap && U4N.outputMap.hasOwnProperty(I2K.field)){I2K.field=I2K.field.replace(J$Z.replaceID,R8$.inputs.id);if(R8$.parameters && R8$.parameters.panelName){I2K.panelName=R8$.parameters.panelName;}else {I2K.panelName=R8$.panel;}D2X=!0;}else if(U4N.panel && U4N.panel == I2K.panelName){I2K.panelName=I2K.panelName.replace(J$Z.replaceID,R8$.inputs.id);D2X=!!({});}}if(D2X){i_P.changeOccurred("vector");}}return R8$;};r_$.Studies.smartMovePanel=function(I73,t7B,e_j,M$x,P_v){U5H.F64();var C4G,Y8z,f1i,A2i;Y8z=t7B.id;if(M$x){C4G=I73.layout.studies[M$x];}if(C4G){f1i=I73.panels[C4G.panel];if(f1i){if(f1i.yAxis.name == M$x){if((P_v || e_j != M$x && e_j != Y8z) && !I73.checkForEmptyPanel(f1i.name,!![],C4G)){I73.electNewPanelOwner(f1i);A2i=C4G.getYAxis(I73);if(A2i.name == M$x){I73.electNewYAxisOwner(A2i);}}else if(e_j == M$x || !I73.panels[e_j]){if(Y8z != f1i.name){I73.modifyPanel(f1i,{name:Y8z,display:t7B.display});}e_j=Y8z;}}}}return I73.panels[e_j];};r_$.Studies.smartCreateYAxis=function(B3S,t$u,l1e,F0n,u7I){var e68,R_a,x0Y,g_w,V_i,L7B,w9a,u1J;e68=u7I || ({});R_a=B3S.getYAxisByName(t$u,l1e);if(!F0n && u7I){F0n=u7I.position;}if(["left","right","none"].indexOf(F0n) > -1 || F0n === undefined && u7I){if(!R_a || R_a.isShared(B3S)){if(u7I instanceof r_$.ChartEngine.YAxis){l1e=u7I.name;}r_$.extend(e68,{name:l1e,position:F0n});if(!R_a && !B3S.currentlyImporting && t$u != t$u.chart.panel && !t$u.yAxis.studies.length && !t$u.yAxis.renderers.length){R_a=t$u.yAxis;r_$.extend(R_a,e68);}else {x0Y=R_a == t$u.yAxis;if(R_a){R_a.name=B3S.electNewYAxisOwner(R_a);}g_w=R_a || t$u.yAxis;if(g_w.lockScale){r_$.extend(e68,{zoom:g_w.zoom,scroll:g_w.scroll,lockScale:!""});}R_a=B3S.addYAxis(t$u,new r_$.ChartEngine.YAxis(e68));if(x0Y){t$u.yAxis=R_a;}}}else {if(u7I){r_$.extend(R_a,u7I);}R_a.position=F0n;R_a.name=l1e;}return R_a;}U5H.F64();if(F0n && F0n !== "default" && F0n !== "shared" && F0n !== t$u.yAxis.name){V_i=B3S.getYAxisByName(t$u,F0n);if(V_i && R_a == t$u.yAxis && !R_a.isShared(B3S)){t$u.yAxis=V_i;}if(R_a && R_a.isShared(B3S)){L7B=-1411533185;w9a=-248571472;u1J=2;for(var B7q=1;U5H.o1c(B7q.toString(),B7q.toString().length,26335) !== L7B;B7q++){R_a.name=B3S.electNewYAxisOwner(R_a);u1J+=2;}if(U5H.o1c(u1J.toString(),u1J.toString().length,27617) !== w9a){R_a.name=B3S.electNewYAxisOwner(R_a);}}else {if(R_a !== t$u.yAxis){B3S.deleteYAxisIfUnused(t$u,R_a);}}return V_i;}if(F0n == "shared" || F0n == t$u.yAxis.name || t$u.yAxis.allowSharing && (!R_a || R_a.allowSharing)){if(R_a){if(R_a !== t$u.yAxis && R_a.isShared(B3S)){R_a.name=B3S.electNewYAxisOwner(R_a);}else {delete R_a.position;B3S.deleteYAxisIfUnused(t$u,R_a);}}B3S.resizeChart();return t$u.yAxis;}r_$.extend(e68,{name:l1e});if(R_a){R_a.name=B3S.electNewYAxisOwner(R_a);}if(!R_a || R_a.name){R_a=B3S.addYAxis(t$u,new r_$.ChartEngine.YAxis(e68));}else {r_$.extend(R_a,e68);delete R_a.position;}return R_a;};r_$.Studies.calculateVolume=function(m81,F5N){var r2j,k3Z,Y19;if(F5N.type == "vol undr"){if(!m81 || !m81.chart.dataSet){return;}r2j=m81.layout;k3Z=F5N.parameters.removeStudy;Y19=r2j.volumeUnderlay;r2j.volumeUnderlay=!k3Z;if(Y19 != r2j.volumeUnderlay){m81.changeOccurred("layout");}if(k3Z){r_$.Studies.removeStudy(m81,F5N);}}F5N.outputMap={};F5N.outputMap.Volume="";};r_$.Studies.MA=function(H36,A3A,l$A,y4s,E6c,Z3F,B9Z,E5N){var D_i;U5H.I0Z(148);var h6I=U5H.z5U(16,7114,13,1842849,20);D_i=new r_$.Studies.StudyDescriptor(E6c + ((+"2236",+"75.48") != h6I?" ":!!1) + B9Z.name,"ma",B9Z.panel);D_i.chart=B9Z.chart;D_i.days=parseInt(A3A,10);D_i.startFrom=B9Z.startFrom;if(E5N){D_i.subField=E5N;}D_i.inputs={};if(H36){D_i.inputs.Type=H36;}if(l$A){D_i.inputs.Field=l$A;}if(y4s){D_i.inputs.Offset=parseInt(y4s,10);}r_$.Studies.calculateMovingAverage(Z3F,D_i);};r_$.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tma:"triangular",vdma:y7j,wma:u$1,smma:o8F},translations:{simple:"Simple",exponential:x1m,triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":x5p},typeMap:{ema:"Exponential",exponential:e4h,tma:"Triangular",triangular:F_5,vdma:a_G,vidya:"VIDYA",wma:"Weighted",weighted:T76,smma:T4Y,"welles wilder":A1m}};r_$.Studies.movingAverageHelper=function(v9w,Q3U){var Z8g,w_r;Z8g="op";Z8g+="t";Z8g+="io";Z8g+="ns";if(Q3U == Z8g){w_r={};for(var f68 in r_$.Studies.movingAverage.translations){w_r[f68]=v9w.translateIf(r_$.Studies.movingAverage.translations[f68]);}return w_r;}return r_$.Studies.movingAverage.conversions[Q3U];};r_$.Studies.createVolumeChart=function(m2M,Y4L,a3R){var s5M,j3j,a9K,E9b,g7Z,x1A,i1Y,v7J,G$W,J2I,J3T,A05,j0F,P5Y,S3t,k5Z,z0k,O48,R1u,I7O;s5M="_";s5M+="d";U5H.F64();s5M+="own";j3j="_";j3j+="u";j3j+="p";a9K="Volu";a9K+="m";a9K+="e";E9b="_d";E9b+="own";g7Z="_";g7Z+="u";g7Z+="p";x1A="stx_vol";x1A+="ume_underla";x1A+="y";i1Y="Up";i1Y+=" Vo";i1Y+="lume";v7J=Y4L.panel;G$W=Y4L.inputs;J2I=Y4L.underlay;J3T=r_$.Studies.determineColor(Y4L.outputs[i1Y]);A05=r_$.Studies.determineColor(Y4L.outputs["Down Volume"]);j0F=J2I?x1A:"stx_volume";U5H.I0Z(0);m2M.setStyle(U5H.z5U(j0F,g7Z),"color",J3T);U5H.f$a(0);m2M.setStyle(U5H.z5U(j0F,E9b),"color",A05);P5Y=Y4L.volumeField || a9K;S3t=null;k5Z=G$W.Series;if(k5Z && k5Z !== "Primary" && k5Z !== "series"){S3t=P5Y;P5Y=k5Z;}z0k=[{field:P5Y,subField:S3t,fill_color_up:m2M.canvasStyle(j0F + j3j).color,border_color_up:m2M.canvasStyle(j0F + "_up").borderLeftColor,opacity_up:m2M.canvasStyle(j0F + "_up").opacity,fill_color_down:m2M.canvasStyle(j0F + "_down").color,border_color_down:m2M.canvasStyle(j0F + s5M).borderLeftColor,opacity_down:m2M.canvasStyle(j0F + "_down").opacity,color_function:Y4L.colorFunction}];O48=z0k[0];R1u=Y4L.getYAxis(m2M);I7O={name:"Volume",panel:v7J,yAxis:R1u,widthFactor:1,bindToYAxis:!!1,highlight:Y4L.highlight};r_$.extend(I7O,Y4L.study.parameters);r_$.extend(I7O,Y4L.parameters);if(m2M.colorByCandleDirection && !Y4L.colorFunction){O48.color_function=function(R1t){var k94,r0u,J9K;k94=G$W.Series;if(k94 && k94 !== "Primary" && k94 !== "series"){R1t=R1t[k94];}r0u=R1t.Open;J9K=R1t.Close;return {fill_color:r0u > J9K?O48.fill_color_down:O48.fill_color_up,border_color:r0u > J9K?O48.border_color_down:O48.border_color_up};};}m2M.drawHistogram(I7O,z0k);};r_$.Studies.calculateStandardDeviation=function(e$D,k8x){var s$w,t2e,b$6,T9d,D_Z,b5u,V6B,P$_,R2p,L8x,r7T,u6a,Z6s,l6r;s$w="C";s$w+="l";s$w+="os";s$w+="e";t2e=k8x.chart.scrubbed;if(t2e.length < k8x.days + 1){k8x.error=!![];return;}b$6=k8x.inputs.Field;if(!b$6 || b$6 == "field"){b$6=s$w;}T9d=k8x.inputs["Moving Average Type"];if(!T9d){T9d=k8x.inputs.Type;}r_$.Studies.MA(T9d,k8x.days,b$6,k8x.inputs.Offset,"_MA",e$D,k8x);D_Z=0;b5u=0;V6B=0;P$_=Number(k8x.inputs["Standard Deviations"]);if(P$_ < ("0" ^ 0)){P$_=2;}R2p=k8x.name;for(var i$A in k8x.outputs){U5H.I0Z(15);R2p=U5H.C6$(R2p,i$A,(3466,681) > 46.57?" ":("E","Z"));}for((L8x=k8x.startFrom - 1,u6a=0);L8x >= +"0" && u6a < k8x.days;(L8x--,u6a++)){r7T=r_$.Studies.getQuoteFieldValue(t2e[L8x],b$6,k8x.subField);if(r7T === null){r7T=0;}U5H.f$a(7);D_Z+=Math.pow(r7T,U5H.C6$(0,"2"));b5u+=r7T;}for(L8x=k8x.startFrom;L8x < t2e.length;L8x++){Z6s=t2e[L8x];r7T=r_$.Studies.getQuoteFieldValue(Z6s,b$6,k8x.subField);if(r7T === null){r7T=0;}D_Z+=Math.pow(r7T,2);b5u+=r7T;if(L8x < k8x.days - 1)continue;if(L8x >= k8x.days){l6r=r_$.Studies.getQuoteFieldValue(t2e[L8x - k8x.days],b$6,k8x.subField);if(l6r === null){l6r=0;}D_Z-=Math.pow(l6r,2);b5u-=l6r;}V6B=Z6s["_MA " + k8x.name];if(V6B || V6B === +"0"){U5H.I0Z(11);var b8H=U5H.C6$(18,3,17);U5H.I0Z(7);var i$D=U5H.C6$(14,16);Z6s[R2p]=Math.sqrt((D_Z + k8x.days * Math.pow(V6B,b8H) - i$D * V6B * b5u) / k8x.days) * P$_;}}};r_$.Studies.calculateMovingAverage=function(V2C,K1C){var W_u,t5K,v2E,s58,c8c,n6Z,f_o,W42,j2x,P8w,l$h,X$P,d5I,N$s,u5N,O80,i_a,t2U,A7a,t86,y92;W_u="C";W_u+="l";W_u+="o";W_u+="se";t5K="sm";t5K+="a";v2E="m";v2E+="a";if(!K1C.chart.scrubbed){return;}s58=K1C.inputs.Type;if(s58 == v2E || s58 == t5K || !s58){s58="simple";}c8c=r_$.Studies.movingAverage.typeMap;if((s58 in c8c)){return r_$.Studies["calculateMovingAverage" + c8c[s58]](V2C,K1C);}else if(s58 !== "simple"){return;}n6Z=K1C.chart.scrubbed;f_o=0;W42=[];j2x=K1C.name;for(var N8K in K1C.outputs){U5H.I0Z(15);j2x=U5H.z5U(j2x,N8K,8040 <= (+"5030",2910)?(8265,"8707" * 1) !== (204.16,4690)?(207,!({})):0x408:" ");}P8w=K1C.inputs.Field;if(!P8w || P8w == "field"){P8w=W_u;}l$h=parseInt(K1C.inputs.Offset,10);if(isNaN(l$h)){l$h=0;}u5N=K1C.startFrom;O80=l$h;for(X$P=K1C.startFrom - +"1";X$P >= 0;X$P--){d5I=r_$.Studies.getQuoteFieldValue(n6Z[X$P],P8w,K1C.subField);if(d5I === null)continue;if(O80 > 0){O80--;u5N=X$P;continue;}if(W42.length == K1C.days - 1)break;f_o+=d5I;W42.unshift(d5I);}if(W42.length < K1C.days - 1){W42=[];u5N=0;}i_a=[];for(X$P=u5N;X$P < n6Z.length;X$P++){t2U=n6Z[X$P];d5I=r_$.Studies.getQuoteFieldValue(t2U,P8w,K1C.subField);A7a=X$P + l$h >= 0 && X$P + l$h < n6Z.length;t86=A7a?n6Z[X$P + l$h]:null;if(d5I === null){if(t86){t86[j2x]=null;}else if(X$P + l$h >= n6Z.length){N$s={};N$s[j2x]=null;i_a.push(N$s);}continue;}f_o+=d5I;W42.push(d5I);if(W42.length > K1C.days){f_o-=W42.shift();}y92=W42.length == K1C.days?f_o / K1C.days:null;if(t86){t86[j2x]=y92;}else if(X$P + l$h >= n6Z.length){N$s={};N$s[j2x]=y92;i_a.push(N$s);}}K1C.appendFutureTicks(V2C,i_a);};r_$.Studies.calculateMovingAverageExponential=function(o8D,G71){var s7s,Y7A,U7U,t_i,p$X,W_k,P4u,Y9h,N0A,W$f,V0u,s4Q,E82,P1C,P5L,l2Q,i3S,Y7r,d20,p4C,I6a;s7s="welle";s7s+="s wild";s7s+="er";Y7A=G71.inputs.Type;U7U=G71.chart.scrubbed;t_i=0;p$X=0;W_k=0;U5H.f$a(32);var b7S=U5H.C6$(15,6,11,12);U5H.I0Z(18);var I5B=U5H.z5U(43,7,4);P4u=b7S / (G71.days + ("1" << I5B));if(Y7A === s7s || Y7A === "smma"){P4u=+"1" / G71.days;}Y9h=null;N0A=G71.name;for(var n0y in G71.outputs){U5H.f$a(15);N0A=U5H.z5U(N0A,n0y,552.18 !== (90.18,639.3)?("1370" | 8,8620) <= ("2876" << 64,851.88)?("6.09e+3" - 0,9.36e+3):(9947,+"7410") <= (247.91,245)?5.90e+3:" ":(+"0xd00",9.51e+3));}W$f=G71.inputs.Field;if(!W$f || W$f == "field"){W$f="Close";}V0u=parseInt(G71.inputs.Offset,10);if(isNaN(V0u)){V0u=0;}P1C=G71.startFrom;P5L=V0u;for(s4Q=G71.startFrom - 1;s4Q >= 0;s4Q--){E82=U7U[s4Q][N0A];if(!E82 && E82 !== 0)continue;if(Y9h === null){Y9h=E82;}W_k=G71.days;if(P5L <= +"0")break;P5L--;P1C=s4Q;}if(Y9h === null){Y9h=P1C=0;}l2Q=[];for(s4Q=P1C;s4Q < U7U.length;s4Q++){i3S=U7U[s4Q];E82=r_$.Studies.getQuoteFieldValue(i3S,W$f,G71.subField);Y7r=s4Q + V0u >= 0 && s4Q + V0u < U7U.length;d20=Y7r?U7U[s4Q + V0u]:null;if(E82 === null){p4C=null;}else {if(W_k == G71.days - 1){t_i+=E82;p$X=t_i / G71.days;p4C=p$X;}else if(W_k < G71.days - ("1" ^ 0)){t_i+=E82;U5H.I0Z(149);p$X=U5H.C6$(W_k,1,t_i);p4C=null;}else if(W_k === 0){t_i+=E82;p$X=t_i;p4C=null;}else if(Y9h || Y9h === 0){U5H.I0Z(70);p$X=U5H.C6$(Y9h,Y9h,E82,P4u);p4C=p$X;}Y9h=p$X;W_k++;}if(d20){d20[N0A]=p4C;}else if(s4Q + V0u >= U7U.length){I6a={};I6a[N0A]=p4C;l2Q.push(I6a);}}G71.appendFutureTicks(o8D,l2Q);};r_$.Studies.calculateMovingAverageVIDYA=function(t_Z,g78){var r42,A96,t4a,m31,p09,W4q,H4n,v7a,A1r,y66,Z3K,V1Z,D44,c37,j5p,A5g,D7t,O0$,y99,K2n,g03,b_r,u41;r42="_ST";r42+="D ";A96="m";A96+="a";t4a="s";t4a+="d";t4a+="e";t4a+="v";m31="fiel";m31+="d";p09=g78.inputs.Type;W4q=g78.chart.scrubbed;U5H.I0Z(19);var Y4k=U5H.z5U(19,17,1);U5H.I0Z(7);var e0_=U5H.z5U(14,15);H4n=Y4k / (g78.days + e0_);v7a=null;A1r=g78.name;for(var v7I in g78.outputs){U5H.f$a(15);A1r=U5H.z5U(A1r,v7I,(9360,+"902") > (2144,"4610" * 1)?(97.09,"E"):(2950,741.5) != (583.68,1309)?"9860" << 32 >= ("5680" | 16)?" ":1.31e+3:("0x18b8" - 0,241.98));}y66=g78.inputs.Field;if(!y66 || y66 == m31){y66="Close";}g78.std=new r_$.Studies.StudyDescriptor(g78.name,t4a,g78.panel);g78.std.chart=g78.chart;g78.std.days=5;g78.std.startFrom=g78.startFrom;g78.std.inputs={Field:y66,"Standard Deviations":1,Type:"ma"};g78.std.outputs={_STD:null};r_$.Studies.calculateStandardDeviation(t_Z,g78.std);r_$.Studies.MA(A96,20,r42 + g78.name,0,"_MASTD",t_Z,g78);Z3K=parseInt(g78.inputs.Offset,10);if(isNaN(Z3K)){U5H.f$a(41);Z3K=U5H.z5U(0,"0");}j5p=g78.startFrom;A5g=Z3K;for(V1Z=g78.startFrom - 1;V1Z >= 0;V1Z--){D44=W4q[V1Z][A1r];if(!D44 && D44 !== 0)continue;if(v7a === null){v7a=D44;}if(A5g <= 0)break;A5g--;j5p=V1Z;}if(v7a === null){v7a=j5p=0;}D7t=[];for(V1Z=j5p;V1Z < W4q.length;V1Z++){O0$="_";O0$+="M";O0$+="AS";O0$+="TD ";y99=W4q[V1Z];D44=r_$.Studies.getQuoteFieldValue(y99,y66,g78.subField);K2n=V1Z + Z3K >= 0 && V1Z + Z3K < W4q.length;g03=K2n?W4q[V1Z + Z3K]:null;if(D44 === null){if(g03){g03[A1r]=null;}else if(V1Z + Z3K >= W4q.length){c37={};c37[A1r]=null;D7t.push(c37);}continue;}if(!y99["_MASTD " + g78.name] && y99["_MASTD " + g78.name] !== 0)continue;b_r=y99["_STD " + g78.name] / y99[O0$ + g78.name];U5H.I0Z(150);u41=U5H.C6$("1",H4n,H4n,b_r,v7a,b_r,D44);v7a=u41;if(V1Z < g78.days){u41=null;}if(g03){g03[A1r]=u41;}else if(V1Z + Z3K >= W4q.length){c37={};c37[A1r]=u41;D7t.push(c37);}}g78.appendFutureTicks(t_Z,D7t);};r_$.Studies.calculateMovingAverageTriangular=function(W6Z,Q7t){var h8k,U98,r2N,f_P,Q0L,G96,n7H,i4Z,d$O,M5x,w4l;h8k="TRI";h8k+="1";U98="f";U98+="ield";r2N=Q7t.chart.scrubbed;f_P=Q7t.inputs.Field;if(!f_P || f_P == U98){f_P="Close";}Q0L=Math.ceil(Q7t.days / 2);r_$.Studies.MA("simple",Q0L,f_P,0,h8k,W6Z,Q7t);if(Q7t.days % 2 === 0){Q0L++;}r_$.Studies.MA("simple",Q0L,"TRI1 " + Q7t.name,0,"TRI2",W6Z,Q7t);G96=Q7t.name;for(var w80 in Q7t.outputs){U5H.f$a(15);G96=U5H.C6$(G96,w80,(217.31,179) !== 863.13?" ":90);}n7H=parseInt(Q7t.inputs.Offset,10);if(isNaN(n7H)){n7H=0;}i4Z=n7H;for(var l0U=Q7t.startFrom - 1;l0U >= +"0";l0U--){d$O=r_$.Studies.getQuoteFieldValue(r2N[l0U],G96);if(d$O === null)continue;if(i4Z > 0){i4Z--;continue;}break;}M5x=[];for(l0U++;l0U < r2N.length;l0U++){if(l0U + n7H >= 0){if(l0U + n7H < r2N.length){U5H.I0Z(0);r2N[U5H.C6$(l0U,n7H)][G96]=r2N[l0U]["TRI2 " + Q7t.name];}else {w4l={};w4l[G96]=r2N[l0U]["TRI2 " + Q7t.name];M5x.push(w4l);}}}Q7t.appendFutureTicks(W6Z,M5x);};r_$.Studies.calculateMovingAverageWeighted=function(t2M,L0S){var b4p,Y6r,K_C,U4v,Y6$,N3l,x9m,b_2,U5D,b7n,F5m,J5E,L7D,c3J,T4X,T$L,k6T,G76;b4p=L0S.chart.scrubbed;Y6r=0;U5H.I0Z(1);K_C=U5H.C6$(1,"0");U4v=L0S.inputs.Field;if(!U4v || U4v == "field"){U4v="Close";}U5H.I0Z(0);var o$Y=U5H.C6$(0,1);U5H.f$a(85);var x0e=U5H.C6$(15,13,17,13);Y6$=L0S.days * (L0S.days + o$Y) / x0e;N3l=L0S.name;for(var L$J in L0S.outputs){U5H.f$a(15);N3l=U5H.z5U(N3l,L$J," ");}x9m=parseInt(L0S.inputs.Offset,10);if(isNaN(x9m)){x9m=+"0";}F5m=[];J5E=L0S.startFrom;L7D=x9m;for(b_2=L0S.startFrom - 1;b_2 >= 0;b_2--){U5D=r_$.Studies.getQuoteFieldValue(b4p[b_2],U4v,L0S.subField);if(U5D === null)continue;if(L7D > +"0"){L7D--;J5E=b_2;continue;}if(F5m.length == L0S.days - 1)break;F5m.unshift(U5D);}if(F5m.length < L0S.days - 1){F5m=[];J5E=+"0";}for(b_2=0;b_2 < F5m.length;b_2++){U5H.f$a(72);var X65=U5H.C6$(4,6,8,8);Y6r+=(b_2 + X65) * F5m[b_2];K_C+=F5m[b_2];}c3J=[];U5H.F64();for(b_2=J5E;b_2 < b4p.length;b_2++){T4X=b4p[b_2];U5D=r_$.Studies.getQuoteFieldValue(T4X,U4v,L0S.subField);T$L=b_2 + x9m >= "0" * 1 && b_2 + x9m < b4p.length;k6T=T$L?b4p[b_2 + x9m]:null;if(U5D === null){if(k6T){k6T[N3l]=null;}else if(b_2 + x9m >= b4p.length){b7n={};b7n[N3l]=null;c3J.push(b7n);}continue;}F5m.push(U5D);if(F5m.length > L0S.days){Y6r-=K_C;K_C-=F5m.shift();}Y6r+=F5m.length * U5D;K_C+=U5D;G76=b_2 < L0S.days - +"1"?null:Y6r / Y6$;if(k6T){k6T[N3l]=G76;}else if(b_2 + x9m >= b4p.length){b7n={};b7n[N3l]=G76;c3J.push(b7n);}}L0S.appendFutureTicks(t2M,c3J);};r_$.Studies.calculateMultMA=function(X4h,a71){var w_o,M7R,F0j,r2X,h$1;w_o=a71.chart.scrubbed;M7R=[Number.MAX_VALUE];Object.keys(a71.inputs).filter(I3d=>{U5H.f$a(12);var u3B=U5H.z5U(21,7,3,0);return I3d.indexOf("Period") > -("1" * u3B);}).forEach((M$$,z6z)=>{U5H.I0Z(0);M7R[U5H.z5U(z6z,1)]=a71.inputs[M$$];});if(w_o.length < Math.min(...M7R) + 1){a71.error=!!1;return;}F0j=a71.inputs.Field;if(!F0j || F0j == "field"){F0j="Close";}r2X=a71.inputs["Moving Average Type"];if(!r2X){r2X="simple";}h$1=a71.inputs.Offset || 0;for(var p_L=1;p_L < M7R.length;p_L++){r_$.Studies.MA(r2X,M7R[p_L],F0j,h$1,"MA " + p_L,X4h,a71);}};r_$.Studies.calculateStudyATR=function(x_X,h7m){var B72,Y8f,G7K,o8e,r8T,H38,c9e,G$v;B72=h7m.chart.scrubbed;Y8f=h7m.days;if(B72.length < Y8f + 1){h7m.error=!![];return;}G7K=0;o8e=h7m.name;for(var S8F=Math.max(h7m.startFrom,1);S8F < B72.length;S8F++){r8T="Sum ";r8T+="T";r8T+="rue Range ";H38=B72[S8F];U5H.f$a(7);c9e=B72[U5H.C6$(1,S8F)];G$v=H38.trueRange;if(c9e["Sum True Range " + o8e]){U5H.I0Z(0);G7K=c9e[U5H.C6$(r8T,o8e)];}G7K+=G$v;if(S8F > Y8f){U5H.f$a(7);G7K-=B72[U5H.z5U(Y8f,S8F)][U5H.z5U("True Range ",o8e,U5H.f$a(0))];}U5H.I0Z(0);H38[U5H.C6$("True Range ",o8e)]=G$v;U5H.f$a(0);H38[U5H.C6$("Sum True Range ",o8e)]=G7K;if(S8F == Y8f){U5H.f$a(0);H38[U5H.C6$("ATR ",o8e)]=U5H.z5U(G7K,Y8f,U5H.f$a(8));}else if(S8F > Y8f){U5H.f$a(151);var U2V=U5H.C6$(1,36,13,21,3);U5H.I0Z(0);H38[U5H.z5U("ATR ",o8e)]=(c9e["ATR " + o8e] * (Y8f - U2V) + G$v) / Y8f;}}};r_$.Studies.displayPSAR2=function(U$f,J0m,r_X){var t7Z,F68,b14,F58,C1l,V03,j6q,Y8w,y6Q,y73,j6H,s02,D66,d9b,Y0R;t7Z="squar";t7Z+="e";t7Z+="w";t7Z+="ave";F68=U$f.panels[J0m.panel];b14=J0m.getYAxis(U$f);F58=b14 == U$f.chart.panel.yAxis;U$f.startClip(F68.name);U5H.F64();C1l=J0m.getContext(U$f);V03=J0m.inputs["Plot Type"] == t7Z;for(var M3X in J0m.outputs){j6q="a";j6q+="u";j6q+="t";j6q+="o";U5H.f$a(7);var O4O=U5H.z5U(2972,3715);U5H.I0Z(7);var j_a=U5H.z5U(18,6463);U5H.I0Z(0);var N1p=U5H.z5U(191,1149);U5H.f$a(114);var b$U=U5H.z5U(5667,5655,1885);U5H.f$a(0);var r3O=U5H.z5U(1379,6893);U5H.f$a(152);var T7R=U5H.z5U(2171,11,68,18,136);U5H.f$a(32);var H8J=U5H.C6$(17,12,38,8166);U5H.I0Z(129);var c4T=U5H.C6$(18,455,4986,2);Y8w=M3X + ((O4O,j_a) == (N1p,b$U)?(r3O,"t"):(591.07,"728.96" - 0) >= 227.52?(T7R,H8J) != c4T?" ":285.62:(!({}),"95.18" - 0)) + J0m.name;C1l.beginPath();y6Q=U$f.layout.candleWidth;y73=Math.max(3,Math.floor(y6Q / ("4" | 0)));for(var u58=+"0";u58 < r_X.length;u58++){j6H=r_X[u58];if(!j6H || r_$.Studies.getQuoteFieldValue(j6H,Y8w) === null)continue;if(j6H.candleWidth){y6Q=j6H.candleWidth;}if(F58 && j6H.transform){j6H=j6H.transform;}s02=U$f.pixelFromBar(u58,F68.chart);if(V03){U5H.I0Z(8);s02-=U5H.C6$(y6Q,2);}D66=U$f.pixelFromTransformedValue(j6H[J0m.referenceOutput?J0m.referenceOutput + " " + J0m.name:Y8w],F68,b14);if(u58 === 0 || !r_X[u58 - 1] || r_$.Studies.getQuoteFieldValue(r_X[u58 - 1],Y8w) === null){C1l.moveTo(s02,D66);}if(V03){C1l.lineTo(s02,D66);U5H.f$a(0);C1l.lineTo(U5H.C6$(s02,y6Q),D66);if(r_X[u58 + 1]){U5H.f$a(16);d9b=r_X[U5H.z5U("1",64,u58)];if(F58 && d9b.transform){d9b=d9b.transform;}if(r_$.Studies.getQuoteFieldValue(d9b,Y8w) === null){U5H.I0Z(0);C1l.lineTo(U5H.C6$(s02,y6Q),U$f.pixelFromTransformedValue(d9b[J0m.referenceOutput?J0m.referenceOutput + ((241,6286) !== (674,9258)?" ":(461.42,6.60e+3)) + J0m.name:Y8w],U$f.panels[J0m.panel],b14));}}}else {U5H.I0Z(58);C1l.moveTo(U5H.z5U(2,s02,y73),D66);U5H.f$a(54);C1l.lineTo(U5H.C6$(2,s02,y73),D66);}}C1l.lineWidth=1;if(J0m.highlight){C1l.lineWidth=3;}Y0R=r_$.Studies.determineColor(J0m.outputs[M3X]);if(Y0R == j6q){Y0R=U$f.defaultColor;}C1l.strokeStyle=Y0R;if(!J0m.highlight && U$f.highlightedDraggable){C1l.globalAlpha*=0.3;}C1l.stroke();C1l.closePath();C1l.lineWidth=1;}U$f.endClip();};r_$.Studies.inputAttributeDefaultGenerator=function(z0V){if(!z0V && z0V !== 0){return {};}if(z0V.constructor == Number){if(Math.floor(z0V) == z0V){if(z0V > "0" - 0){return {min:1,step:1};}return {step:1};}if(z0V > +"0"){return {min:0,step:0.01};}return {step:0.01};}return {};};r_$.Studies.getMarketOffset=function({stx:V_p, localQuoteDate:P_$, shiftToDateBoundary:Q1Y}){var c0x,X7i,l83,X6_,d$$,M1R,i5Z,s_o;c0x="U";c0x+="T";c0x+="C";X7i="Market.Symbology.is";X7i+="Forex";X7i+="Metal";if(arguments.length > 1){V_p=arguments[0];P_$=arguments[1];l83=arguments[+"2"];}var {symbol:C40}=V_p.chart;X6_=r_$.getFn(X7i)(C40);if(l83 === undefined){d$$="Marke";d$$+="t.Symbology.isFor";d$$+="exSymbol";l83=r_$.getFn(d$$)(C40);}if(!V_p.chart.market){M1R=null;}else {M1R=l83?"America/New_York":V_p.chart.market.market_tz;}U5H.I0Z(0);var s6p=U5H.C6$(5000,55000);i5Z=new Date(P_$.getTime() + P_$.getTimezoneOffset() * s6p);if(!M1R || M1R.indexOf(c0x) == -1){i5Z=r_$.convertTimeZone(i5Z,"UTC",M1R);}s_o=new Date(i5Z.getFullYear(),i5Z.getMonth(),i5Z.getDate(),i5Z.getHours(),i5Z.getMinutes(),i5Z.getSeconds(),i5Z.getMilliseconds()).getTime() - P_$.getTime();if(Q1Y && l83){U5H.f$a(153);s_o+=U5H.z5U(X6_?+"6":7,60,60,"1000");}return s_o;};r_$.Studies.getStudyList=function(p_1){var A8_,c_k;A8_={};U5H.n2i();c_k={};r_$.extend(c_k,p_1);for(var y6N in r_$.Studies.studyLibrary){if(!c_k[y6N]){A8_[r_$.Studies.studyLibrary[y6N].name]=y6N;}}return A8_;};r_$.Studies.determineColor=function(R3w){if(!R3w){return null;}else if(typeof R3w === "object"){return R3w.color;}return R3w;};r_$.Studies.calculateGenericEnvelope=function(l3U,x2h,y6t,J7N,Y60,H2D){var v_C,J8_,i1I,n59,O8w,L9C,s$m,o33,Q0G;if(!y6t){y6t=0;}if(!H2D){H2D=0;}U5H.n2i();if(!J7N || J7N == "field"){J7N="Close";}if(!Y60){Y60=J7N;}v_C=x2h.chart.scrubbed;if(!v_C){return;}J8_=x2h.inputs.Field;for(var f73=x2h.startFrom;f73 < v_C.length;f73++){i1I="C";i1I+="lose";n59=v_C[f73];if(!n59)continue;O8w=r_$.Studies.getQuoteFieldValue(n59,J8_);L9C=O8w !== null && O8w !== undefined?O8w:r_$.Studies.getQuoteFieldValue(n59,i1I);s$m=r_$.Studies.getQuoteFieldValue(n59,Y60,x2h.subField);o33=r_$.Studies.getQuoteFieldValue(n59,J7N);if(o33 === null)continue;U5H.I0Z(154);Q0G=U5H.C6$(H2D,y6t,s$m);U5H.f$a(0);n59[x2h.type + " Top " + x2h.name]=U5H.z5U(o33,Q0G);U5H.f$a(7);n59[x2h.type + " Bottom " + x2h.name]=U5H.z5U(Q0G,o33);n59[x2h.type + " Median " + x2h.name]=o33;n59["Bandwidth " + x2h.name]=o33?200 * Q0G / o33:0;U5H.f$a(155);n59["%b " + x2h.name]=U5H.z5U(Q0G,L9C,o33,1,50);}};r_$.Studies.displayChannel=function(n3y,C9M,J42){var J1D,K0C,u7k,E42;if(C9M.inputs["Channel Fill"]){J1D={panelName:C9M.panel};for(var r2l in C9M.outputs){K0C="L";K0C+="o";K0C+="w";u7k=r2l.split((36.17,461.14) > (1635,5210)?"r":663.82 != 449?" ":"m").pop();if(u7k == "Top" || u7k == "High"){J1D.topBand=r2l + " " + C9M.name;}else if(u7k == "Bottom" || u7k == K0C){U5H.I0Z(10);var R_J=U5H.z5U(15,92716,97580);U5H.f$a(10);var T2t=U5H.C6$(18,28,423);U5H.f$a(0);var W5F=U5H.z5U(1159,4634);U5H.f$a(0);var S83=U5H.z5U(0,1);J1D.bottomBand=r2l + ((R_J,T2t) < (W5F,"4605" * S83)?" ":(!1,123.82)) + C9M.name;}else if(u7k == "Median" || u7k == "Channel"){J1D.color=r_$.Studies.determineColor(C9M.outputs[r2l]);}}if(C9M.parameters && C9M.parameters.opacity){J1D.opacity=C9M.parameters.opacity;}else {J1D.opacity=0.2;}E42=n3y.panels[C9M.panel];J1D.skipTransform=E42.name != C9M.chart.name;J1D.yAxis=C9M.getYAxis(n3y);if(!C9M.highlight && n3y.highlightedDraggable){J1D.opacity*=0.3;}r_$.prepareChannelFill(n3y,J1D);}r_$.Studies.displaySeriesAsLine(n3y,C9M,J42);};r_$.Studies.initAnchorHandle=function(v$5,V_Z){var K81,U8d,e9A,C6j;var {handle:E7C}=V_Z;if(E7C){return;}if(!v$5.controls.anchorHandles){v$5.controls.anchorHandles={};}var {anchorHandles:m6x, chartControls:b2x}=v$5.controls;if(m6x[V_Z.uniqueId]){K81=1162038834;U8d=-761229416;e9A=+"2";for(var f3l=1;U5H.o1c(f3l.toString(),f3l.toString().length,28942) !== K81;f3l++){({handle:E7C}=m6x[V_Z.uniqueId]);e9A+=2;}if(U5H.o1c(e9A.toString(),e9A.toString().length,42086) !== U8d){({handle:E7C}=m6x[V_Z.uniqueId]);}({handle:E7C}=m6x[V_Z.uniqueId]);}else {C6j="d";C6j+="i";C6j+="v";E7C=document.createElement(C6j);E7C.classList.add("stx_anchor_handle");E7C.setAttribute(V_Z.uniqueId,"");m6x[V_Z.uniqueId]={handle:E7C,sd:V_Z};if(b2x){b2x.parentElement.appendChild(E7C);}}V_Z.anchorHandle=E7C;};r_$.Studies.removeAnchorHandle=function(f5b,h7R){var {handle:w9r}=(f5b.controls.anchorHandles || ({}))[h7R.uniqueId] || ({});if(w9r){delete f5b.controls.anchorHandles[h7R.uniqueId];w9r.remove();}};r_$.Studies.repositionAnchor=function(z4v,K4A){var t1e,b4c,Z2Y,s7H,Y_6,T3Q,O9o;var {currentAnchorTime:l3x, uniqueId:v68}=K4A;var {hoverTick:M4R}=z4v.repositioningAnchorSelector || ({});var {dataSet:Z$k, market:a60}=z4v.chart;if(!z4v.controls.anchorHandles){z4v.controls.anchorHandles={};}var {anchorHandles:D$7}=z4v.controls;t1e={};if(M4R || M4R === 0){if(M4R >= Z$k.length){return;}b4c=!K4A.inputs.hasOwnProperty("Anchor Date");Z2Y=Z$k[M4R].DT;s7H=r_$.Studies.getMarketOffset({stx:z4v,localQuoteDate:Z2Y,shiftToDateBoundary:!!({})});if(l3x && b4c && new Date(Z2Y.getTime() + s7H).getDate() !== new Date(l3x.getTime() + s7H).getDate()){return;}if(a60.market_def && a60.market_def.market_tz){Z2Y=new j8s.Date(Z2Y,a60.market_def.market_tz);}Y_6=!b4c && r_$.dateToStr(Z2Y,"YYYY-MM-dd");T3Q=r_$.dateToStr(Z2Y,"HH:mm:ss");t1e={"Anchor Time":T3Q};if(Y_6){t1e["Anchor Date"]=Y_6;}}else {return;}O9o=r_$.Studies.replaceStudy(z4v,K4A.inputs.id,K4A.type,Object.assign(K4A.inputs,t1e),K4A.outputs,K4A.parameters,K4A.panel);if(D$7[v68]){D$7[v68].sd=O9o;}U5H.n2i();z4v.draw();};r_$.Studies.cancelRepositionAnchor=function(A$p){var {sd:i0D, tapToAdd:R6L}=A$p.repositioningAnchorSelector || ({});if(!i0D){return;}if(R6L){r_$.Studies.removeStudy(A$p,i0D);}A$p.repositioningAnchorSelector=null;var {anchorHandles:N_x}=A$p.controls;if(N_x && N_x[i0D.uniqueId]){N_x[i0D.uniqueId].highlighted=!({});r_$.Studies.displayAnchorHandleAndLine(A$p,i0D,A$p.chart.dataSegment);}A$p.draw();};r_$.Studies.displayAnchorHandleAndLine=function(a0R,w1X,e3d){var x5w,i8E,t6W,R23,h9y,K1w,S7V,i_1,j1T,Q0Q,R0e,a5S,Z1Y,J5Q,h9w,i$6,S9_,A5B,i5N,Y_q,G$R;x5w="stx";x5w+="_anchor_handle";if(w1X.signalData && !w1X.signalData.reveal){return;}if(!e3d || !e3d[0]){return;}i8E=(a0R.repositioningAnchorSelector || ({})).sd === w1X;var {hoverTick:d1R}=i8E && a0R.repositioningAnchorSelector;var {chart:Z3f, panels:d0f, cy:C7h}=a0R;var {market:Q4W = {}, symbol:N9D}=Z3f;t6W=d0f[w1X.panel];var {top:T8d, right:G1y, left:c8b, height:i72, subholder:g4n}=t6W;var {bottom:Z0M}=t6W.yAxis;var {inputs:I_C, anchorHandle:R8D, currentAnchorTime:c5k, lineWidth:t6C = 1}=w1X;var {backgroundColor:h0E, borderLeftColor:v6B}=a0R.canvasStyle(x5w);R23=!I_C["Anchor Date"];h9y=r_$.getFn("Market.Symbology.isForexSymbol")(N9D);K1w=(d1R || d1R === +"0") && (a0R.chart.dataSet[d1R] || ({})).DT;S7V=r_$.Studies.getMarketOffset({stx:a0R,localQuoteDate:e3d[e3d.length - 1].DT,shiftToDateBoundary:!!"1"});i_1=c5k && K1w && R23 && new Date(K1w.getTime() + S7V).getDate() !== new Date(c5k.getTime() + S7V).getDate();var {floatDate:G2H, anchorHandles:N6R = {}}=a0R.controls;j1T=N6R[w1X.uniqueId] || ({});var {highlighted:D0q}=j1T;U5H.F64();var [Z74,z9j]=Q4W.getNormalOpen().split(":").map(l8c=>{return parseInt(l8c);});Q0Q=B4i=>{U5H.n2i();var D0O;D0O=B4i?a0R.tickFromDate(B4i,null,null,!![]):d1R;return [a0R.pixelFromTick(D0O,Z3f),D0O];};R0e={y0:T8d,y1:Z0M,type:"line",confineToPanel:t6W};var [y2N]=Q0Q();if(y2N){a5S="vis";a5S+="ibility";y2N-=0.5;a0R.plotLine(Object.assign(R0e,{x0:y2N,x1:y2N,color:i_1?v6B:h0E,pattern:[+"6",6],lineWidth:1,opacity:i_1?0.5:1}));r_$.efficientDOMUpdate(G2H.style,a5S,"");a0R.updateChartAccessories();}if(R8D){Z1Y="An";Z1Y+="chor Date";J5Q=R23?new Date(e3d[e3d.length - 1].DT):r_$.strToDate(I_C[Z1Y]);if(Q4W.market_def && Q4W.market_def.market_tz){J5Q=new j8s.Date(J5Q,Q4W.market_def.market_tz);}if(!R23){var [b8A,b86,p90]=(I_C["Anchor Date"] || "").split((3446,8205) !== 600.67?"6270" >> 32 == (224.23,+"466.25")?0x24af:"-":"r");if(!p90){[,b8A,b86,p90]=b8A.match(/([0-9]{4})([0-9]{2})([0-9]{2})/);}U5H.I0Z(7);J5Q.setFullYear(b8A,U5H.C6$(1,b86),p90);}var [G01 = 0,R5u = +"0",z2R = 0]=(I_C["Anchor Time"] || "").split(347 !== (6783,8583)?":":"n");if(!R5u && R5u !== 0){[,G01,R5u,z2R]=G01.match(/([0-9]{2})([0-9]{2})([0-9]{2})/);}J5Q.setHours(G01,R5u,z2R);h9w=h9y && (J5Q.getHours() > Z74 || J5Q.getHours() === Z74 && J5Q.getMinutes() >= z9j);if(h9w){J5Q.setDate(J5Q.getDate() - 1);}var [O7u,V4Z]=Q0Q(J5Q);i$6=new Date(J5Q);i$6.setHours(...Q4W.getNormalClose().split((2239,"7400" | 32) === (9594,2690)?(!!0,0x1e05):":"));if(h9w){i$6.setDate(i$6.getDate() + 1);}var [u2G]=i$6 && Q0Q(i$6) || [];if(R23 && (O7u > G1y || u2G > G1y)){S9_=new Date(J5Q);if(Q4W){do {S9_.setDate(S9_.getDate() - 1);}while(!Q4W.isMarketDate(S9_));}var [U8x,C_5]=Q0Q(S9_);if(U8x > c8b){J5Q=S9_;O7u=U8x;V4Z=C_5;}}O7u-=0.5;a0R.plotLine(Object.assign(R0e,{x0:O7u,x1:O7u,color:h0E,pattern:"solid",lineWidth:t6C,opacity:D0q || w1X.highlight?1:0.5}));j1T.currentPixel=O7u;if(D0q){A5B="p";A5B+="x";i5N="p";i5N+="x";R8D.style.display="";U5H.f$a(122);var o1f=U5H.z5U(16,1127,12,6);U5H.I0Z(156);var g5X=U5H.z5U(8,13,8,13,13);U5H.I0Z(157);var B8_=U5H.z5U(16,10,64,18,64);R8D.style.height=Math.max(Math.min(o1f,i72 / g5X),B8_) + "px";Y_q=R8D.getBoundingClientRect();G$R=Math.max(Math.min(C7h - Y_q.height / 2,Z0M - 3 - Y_q.height),T8d + 3);U5H.I0Z(0);R8D.style.top=U5H.z5U(G$R,i5N);U5H.f$a(158);var S$P=U5H.C6$(13,8,3,11);R8D.style.left=(d1R || d1R === 0?y2N:O7u) - Y_q.width / S$P + A5B;g4n.style.cursor="ew-resize";}else {R8D.style.display="none";g4n.style.cursor="auto";}w1X.currentAnchorTime=J5Q;w1X.currentAnchorTick=V4Z;}};r_$.Studies.assignAliasesToStudies=function(x29){var E1h;E1h=this;U5H.n2i();Object.entries(x29).forEach(([h5x,U4J])=>{U5H.F64();return (E1h.studyLibrary[h5x] || ({})).alias=U4J;});};r_$.Studies.studyScriptLibrary={};r_$.Studies.studyLibrary=r_$.Studies.studyLibrary || ({});r_$.extend(r_$.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!!({}),calculateFN:r_$.Studies.calculateMovingAverage,inputs:{Period:+"50",Field:"field",Type:"ma",Offset:0},outputs:{MA:X9h}},"STD Dev":{name:"Standard Deviation",calculateFN:r_$.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"True Range":{name:P95,calculateFN:r_$.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:y0w,range:"0 to max",yAxis:{ground:!![]},seriesFN:r_$.Studies.createVolumeChart,calculateFN:r_$.Studies.calculateVolume,inputs:{Series:"series"},attributes:{Series:{hidden:function(){U5H.n2i();return !Object.keys(this.chart.series).length;}}},outputs:{"Up Volume":i6p,"Down Volume":"#b82c0c"}},MACross:{name:"Moving Average Cross",overlay:!0,calculateFN:r_$.Studies.calculateMultMA,inputs:{"MA 1 Period":20,"MA 2 Period":50,"MA 3 Period":"200" - 0,Field:"field","Moving Average Type":"ma",Offset:0},outputs:{"MA 1":"#e9088c","MA 2":l10,"MA 3":"#f4932f"}}});};D2=j5m=>{var C3Y,x8$;R3X5F.F64();C3Y=typeof _CIQ !== "undefined"?_CIQ:j5m.CIQ;if(!C3Y.ChartEngine.Driver){x8$="symb";x8$+="olLookupBase feature requires first activating quoteFeed feature.";console.error(x8$);}else {C3Y.ChartEngine.Driver.Lookup=function(O5E){};C3Y.ChartEngine.Driver.Lookup.prototype.acceptText=function(D0K,h76,h3Y,o5y){R3X5F.F64();if(!this.cb){return;}};}};o$=W3V=>{var l2n;l2n=typeof _CIQ !== "undefined"?_CIQ:W3V.CIQ;l2n.ThemeHelper=l2n.ThemeHelper || (function(C_c){var J$N,M$e,Y6l,b4t,r1C,e5A,k5M,y8G,z_9,z8p,o3T,l$6,X5j;J$N="Ca";J$N+="n";J$N+="dle/";J$N+="Bar";M$e="Cand";M$e+="le/Ba";M$e+="r";Y6l="Ca";Y6l+="ndle";Y6l+="/";Y6l+="Bar";b4t="stx_line_c";b4t+="hart";r1C="s";r1C+="tx_candle";r1C+="_down";e5A="st";e5A+="x_c";e5A+="andle_up";k5M="s";k5M+="t";k5M+="x_";k5M+="candle_down";y8G="Candl";y8G+="e";y8G+="/";y8G+="Bar";z_9="stx_candle_shad";z_9+="ow_down";z8p="Cand";z8p+="l";z8p+="e/B";z8p+="ar";o3T="stx";o3T+="_grid_dark";this.params=C_c;l$6=C_c.stx;X5j="#FFFFFF";if(l$6.chart.container){X5j=getComputedStyle(l$6.chart.container).backgroundColor;if(l2n.isTransparent(X5j)){X5j=l$6.containerColor;}}R3X5F.n2i();this.settings.chart.Background.color=l2n.hexToRgba(X5j);this.settings.chart["Grid Lines"].color=l2n.hexToRgba(l$6.canvasStyle("stx_grid").color);this.settings.chart["Grid Dividers"].color=l2n.hexToRgba(l$6.canvasStyle(o3T).color);this.settings.chart["Axis Text"].color=l2n.hexToRgba(l$6.canvasStyle("stx_xaxis").color);this.settings.chartTypes["Candle/Bar"].up.color=l2n.hexToRgba(l$6.canvasStyle("stx_candle_up").color);this.settings.chartTypes["Candle/Bar"].down.color=l2n.hexToRgba(l$6.canvasStyle("stx_candle_down").color);this.settings.chartTypes["Candle/Bar"].up.wick=l2n.hexToRgba(l$6.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes[z8p].down.wick=l2n.hexToRgba(l$6.canvasStyle(z_9).color);this.settings.chartTypes[y8G].even.wick=l2n.hexToRgba(l$6.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes["Candle/Bar"].up.border=l2n.hexToRgba(l$6.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes["Candle/Bar"].down.border=l2n.hexToRgba(l$6.canvasStyle(k5M).borderLeftColor);if(l2n.isTransparent(l$6.canvasStyle(e5A).borderLeftColor)){this.settings.chartTypes["Candle/Bar"].up.border=null;}if(l2n.isTransparent(l$6.canvasStyle(r1C).borderLeftColor)){this.settings.chartTypes["Candle/Bar"].down.border=null;}this.settings.chartTypes.Line.color=l2n.hexToRgba(l$6.canvasStyle(b4t).color);this.settings.chartTypes.Mountain.color=l2n.hexToRgba(l$6.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=l2n.hexToRgba(l$6.canvasStyle("stx_mountain_chart").color);if(!this.settings.chartTypes[Y6l].even.color){this.settings.chartTypes[M$e].even.color=this.settings.chartTypes[J$N].even.wick;}if(!this.settings.chartTypes["Candle/Bar"].even.border){this.settings.chartTypes["Candle/Bar"].even.border=this.settings.chartTypes["Candle/Bar"].even.wick;}});l2n.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};l2n.ThemeHelper.prototype.update=function(Q2$){var y$w,T6y,Y4X,R09,o4q,u1e,U6V,q0c,P0r;y$w="backgro";y$w+="un";y$w+="dCo";y$w+="lor";T6y="stx_mou";T6y+="nta";T6y+="in_char";T6y+="t";Y4X="stx_cand";Y4X+="le_up";R09="co";R09+="lor";o4q="stx_cand";function J3E(P3a,L2Q,h95){var H0D;R3X5F.F64();H0D=U6V[P3a];for(var a2A in H0D){Q2$.setStyle(a2A,L2Q,h95);}}o4q+="le_even";u1e="col";u1e+="or";if(!Q2$){Q2$=this.params.stx;}U6V={stx_candle_up:{stx_candle_up:!![],stx_bar_up:!![],stx_hollow_candle_up:!!({}),stx_line_up:!!"1",stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!!({}),stx_bar_down:!!({}),stx_hollow_candle_down:!![],stx_line_down:!![],stx_baseline_down:!0},stx_candle_even:{stx_candle_even:!![],stx_bar_even:!0,stx_hollow_candle_even:!![]},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!!({})},stx_shadow_even:{stx_candle_shadow_even:!""},stx_line_chart:{stx_bar_chart:!!"1",stx_line_chart:!!({})},stx_grid:{stx_grid:!""},stx_grid_dark:{stx_grid_dark:!!"1"},stx_xaxis:{stx_xaxis_dark:!"",stx_xaxis:!!1,stx_yaxis:!![],stx_yaxis_dark:!![],stx_grid_border:!!"1"},stx_mountain_chart:{stx_mountain_chart:!!({})},stx_market_session:{stx_market_session:!!"1"}};Q2$.chart.container.style.backgroundColor=this.settings.chart.Background.color;Q2$.defaultColor="";J3E("stx_grid","color",this.settings.chart["Grid Lines"].color);J3E("stx_grid_dark",u1e,this.settings.chart["Grid Dividers"].color);J3E("stx_xaxis","color",this.settings.chart["Axis Text"].color);q0c=this.settings.chartTypes["Candle/Bar"];if(!q0c.even){P0r="stx_cand";P0r+="le_shadow_even";q0c.even={color:null,wick:l2n.hexToRgba(Q2$.canvasStyle(P0r).color),border:null};}J3E("stx_candle_up","color",q0c.up.color);J3E("stx_candle_down","color",q0c.down.color);J3E(o4q,R09,q0c.even.color);J3E("stx_shadow_up","color",q0c.up.wick);J3E("stx_shadow_down","color",q0c.down.wick);R3X5F.F64();J3E("stx_shadow_even","color",q0c.even.wick);Q2$.setStyle(Y4X,"borderLeftColor",q0c.up.border);Q2$.setStyle("stx_candle_down","borderLeftColor",q0c.down.border);J3E("stx_line_chart","color",this.settings.chartTypes.Line.color);Q2$.setStyle(T6y,"borderTopColor",l2n.hexToRgba(this.settings.chartTypes.Mountain.color,1));Q2$.setStyle("stx_mountain_chart",y$w,l2n.hexToRgba(this.settings.chartTypes.Mountain.color,0.5));Q2$.setStyle("stx_mountain_chart","color",l2n.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));Q2$.draw();};l2n.ChartEngine.prototype.setThemeSettings=function(z9g){var Q6L,K4V,W5e,T9c,D86,u1i,Q9B;Q6L="the";Q6L+="me";K4V=l2n.getFromNS(this,"uiContext.topNode.multiChartContainer");var {breakpoint:c_Y}=this.chart;if(K4V){W5e=-+"433496813";T9c=1199487338;D86=2;for(var X6j=1;R3X5F.o1c(X6j.toString(),X6j.toString().length,68880) !== W5e;X6j++){this.styles=K4V.styles[c_Y] && ({});K4V.styles[c_Y]=this.styles;D86+=2;}if(R3X5F.W7K(D86.toString(),D86.toString().length,28418) !== T9c){this.styles=K4V.styles[c_Y] || ({});K4V.styles[c_Y]=this.styles;}}else {this.styles={};}this.chart.container.style.backgroundColor="";this.defaultColor="";if(z9g){u1i=new l2n.ThemeHelper({stx:this});u1i.settings=z9g;u1i.update();}this.updateListeners("theme");this.changeOccurred(Q6L);if(this.displayInitialized){Q9B="t";Q9B+="h";Q9B+="eme";this.headsUpHR();this.clearPixelCache();this.updateListeners(Q9B);this.draw();}};};m7=G89=>{var Q2b,n3i,o4i,p5t,w55,f15;Q2b="m";Q2b+="ax";n3i="M";n3i+="a";n3i+="r";o4i="U";o4i+="S";p5t="G";p5t+="MT/B";p5t+="ST";w55=typeof _CIQ !== "undefined"?_CIQ:G89.CIQ;f15=typeof _timezoneJS !== "undefined"?_timezoneJS:G89.timezoneJS;w55.timeZoneMap={"(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Lisbon, London":"Europe/London","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo"};(function(){var i21,c_A,K$2,F$P,g5v,H0a,r9Z,E8L,M8z,n2X,s3B,L5V,V5y,j6h,J8n,U0T,N81,z81,g75;i21="J";i21+="uly";c_A="J";c_A+="u";c_A+="n";c_A+="e";K$2="M";K$2+="a";K$2+="y";F$P="Ja";F$P+="n";F$P+="uary";g5v="Frid";g5v+="ay";H0a="M";H0a+="onday";r9Z="0";r9Z+=".";r9Z+="4.";r9Z+="11";"use strict";E8L=typeof window !== "undefined"?window:null;M8z=E8L || (typeof global !== "undefined"?global:{});f15.VERSION=r9Z;n2X=M8z.$ || M8z.jQuery || M8z.Zepto;s3B=M8z.fleegix;L5V=f15.Days=["Sunday",H0a,"Tuesday","Wednesday","Thursday",g5v,"Saturday"];V5y=f15.Months=[F$P,"February","March","April",K$2,c_A,i21,"August","September","October","November","December"];j6h={};J8n={};U0T={};for(var Q2p=0;Q2p < V5y.length;Q2p++){j6h[V5y[Q2p].substr(0,3)]=Q2p;}for(Q2p=0;Q2p < L5V.length;Q2p++){J8n[L5V[Q2p].substr(0,3)]=Q2p;}N81=Array.prototype.indexOf || (function(z$W){var S8$,a8E,G8Z,b3x;if(this === null){throw new TypeError();}R3X5F.n2i();S8$=Object(this);a8E=S8$.length >>> 0;if(a8E === 0){return -1;}G8Z=0;if(arguments.length > 1){G8Z=Number(arguments[1]);if(G8Z != G8Z){G8Z=0;}else if(G8Z !== ("0" | 0) && G8Z !== Infinity && G8Z !== -Infinity){R3X5F.I0Z(159);var A_5=R3X5F.z5U(1,6,3,10);G8Z=(G8Z > 0 || A_5) * Math.floor(Math.abs(G8Z));}}if(G8Z >= a8E){return -1;}b3x=G8Z >= 0?G8Z:Math.max(a8E - Math.abs(G8Z),+"0");for(;b3x < a8E;b3x++){if((b3x in S8$) && S8$[b3x] === z$W){return b3x;}}return -1;});z81=function(T4W,Y94){var l7F=R3X5F;var h2G,m9Z,P9d,f0l,J4G;h2G="nu";h2G+="mb";h2G+="e";h2G+="r";if(typeof T4W !== h2G){m9Z="n";m9Z+="o";m9Z+="t a numbe";m9Z+="r: ";l7F.f$a(0);throw l7F.z5U(m9Z,T4W);}l7F.I0Z(97);P9d=l7F.z5U(T4W,1000);f0l=T4W.toString();J4G=f0l.length;if(P9d && J4G > Y94){l7F.I0Z(7);return f0l.substr(l7F.z5U(Y94,J4G),J4G);}f0l=[f0l];while(J4G < Y94){f0l.unshift(2410 < ("587" >> 32,229.55)?(+"5286","143.83" - 0) <= (920.1,1208)?(!![],"B"):"k":"0");J4G++;}return f0l.join("");};g75=function(L$Z){var M3O,H0M,W65,q8S,Y3W;M3O="G";M3O+="E";M3O+="T";H0M="t";H0M+="e";H0M+="xt";W65="und";W65+="efined";q8S="und";q8S+="efin";q8S+="e";q8S+="d";if(!L$Z){return;}if(!L$Z.url){throw new Error("URL must be specified");}R3X5F.F64();if(!(("async" in L$Z))){L$Z.async=!"";}if((!s3B || typeof s3B.xhr === q8S) && (!n2X || typeof n2X.ajax === W65)){Y3W="Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files";Y3W+=".";throw new Error(Y3W);}if(!L$Z.async){return s3B && s3B.xhr?s3B.xhr.doReq({url:L$Z.url,async:!({})}):n2X.ajax({url:L$Z.url,async:![],dataType:"text"}).responseText;}return s3B && s3B.xhr?s3B.xhr.send({url:L$Z.url,method:"get",handleSuccess:L$Z.success,handleErr:L$Z.error}):n2X.ajax({url:L$Z.url,dataType:H0M,method:M3O,error:L$Z.error,success:L$Z.success});};f15.ruleCache={};f15.Date=function(){var T$n=R3X5F;var O1E,G1s,q3G,H65,l9x,N$W,r23,u9O;O1E="[object A";O1E+="rray]";if(this === f15){throw "timezoneJS.Date object must be constructed with 'new'";}G1s=Array.prototype.slice.apply(arguments);q3G=null;H65=null;l9x=[];N$W=!1;if(Object.prototype.toString.call(G1s[0]) === O1E){G1s=G1s[0];}if(typeof G1s[G1s.length - 1] === "string"){N$W=Date.parse(G1s[G1s.length - 1].replace(/GMT[+-]\d+/,""));if(isNaN(N$W) || N$W === null){H65=G1s.pop();}}r23=!({});switch(G1s.length){case 0:q3G=new Date();break;case 1:q3G=new Date(G1s[+"0"]);if(typeof G1s[0] == "string" && G1s[0].search(/[+-][0-9]{4}/) == -1 && G1s[0].search(/Z/) == -1 && G1s["0" * 1].search(/T/) == -1){r23=!"";}break;case 2:T$n.I0Z(1);q3G=new Date(G1s[T$n.C6$(1,"0")],G1s[1]);r23=!!({});break;default:for(var K1G=0;K1G < 7;K1G++){l9x[K1G]=G1s[K1G] || 0;}q3G=new Date(l9x[0],l9x[1],l9x[2],l9x[3],l9x[4],l9x[5],l9x[6]);r23=!!({});break;}if(isNaN(q3G.getTime())){u9O="In";u9O+="valid d";u9O+="ate";throw new Error(u9O);}this._useCache=![];this._tzInfo={};this._day=0;this.year=0;this.month=0;this.date=0;this.hours=0;this.minutes=0;this.seconds=0;T$n.f$a(37);this.milliseconds=T$n.C6$(32,"0");this.timezone=H65 || null;if(r23){this.setFromDateObjProxy(q3G);}else {this.setFromTimeProxy(q3G.getTime(),H65);}};w55.extend(f15.Date.prototype,{getDate:function(){return this.date;},getDay:function(){R3X5F.F64();return this._day;},getFullYear:function(){return this.year;},getMonth:function(){return this.month;},getYear:function(){return this.year - ("1900" ^ 0);},getHours:function(){R3X5F.F64();return this.hours;},getMilliseconds:function(){return this.milliseconds;},getMinutes:function(){R3X5F.F64();return this.minutes;},getSeconds:function(){return this.seconds;},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate();},getUTCDay:function(){R3X5F.n2i();return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function(){R3X5F.n2i();return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function(){R3X5F.n2i();return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds();},getTime:function(){var t_4=R3X5F;t_4.I0Z(0);var P82=t_4.C6$(5,55);t_4.I0Z(43);var j02=t_4.z5U(16,239000,15000);return this._timeProxy + this.getTimezoneOffset() * P82 * j02;},getTimezone:function(){return this.timezone;},getTimezoneOffset:function(){R3X5F.n2i();return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function(){var s8g,N$P;if(this._useCache){return this._tzInfo;}if(this.timezone){N$P="Etc/U";N$P+="TC";s8g=this.timezone === N$P || this.timezone === "Etc/GMT"?{tzOffset:+"0",tzAbbr:"UTC"}:f15.timezone.getTzInfo(this._timeProxy,this.timezone);}else {s8g={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=s8g;this._useCache=!!({});return s8g;},getUTCDateProxy:function(){var Z55;Z55=new Date(this._timeProxy);Z55.setUTCMinutes(Z55.getUTCMinutes() + this.getTimezoneOffset());R3X5F.F64();return Z55;},setDate:function(m82){var K14;K14="d";K14+="a";K14+="t";R3X5F.n2i();K14+="e";this.setAttribute(K14,m82);return this.getTime();},setFullYear:function(i_E,n7T,n$V){var y$Z,b07;y$Z="y";y$Z+="ea";y$Z+="r";if(n$V !== undefined){b07="d";b07+="at";b07+="e";this.setAttribute(b07,1);}this.setAttribute(y$Z,i_E);if(n7T !== undefined){this.setAttribute("month",n7T);}R3X5F.F64();if(n$V !== undefined){this.setAttribute("date",n$V);}return this.getTime();},setMonth:function(Z9M,V6j){this.setAttribute("month",Z9M);if(V6j !== undefined){this.setAttribute("date",V6j);}return this.getTime();},setYear:function(m8Q){m8Q=Number(m8Q);if(0 <= m8Q && m8Q <= 99){m8Q+=1900;}this.setUTCAttribute("year",m8Q);R3X5F.F64();return this.getTime();},setHours:function(f0f,Q1t,E2K,V3L){this.setAttribute("hours",f0f);if(Q1t !== undefined){this.setAttribute("minutes",Q1t);}if(E2K !== undefined){this.setAttribute("seconds",E2K);}if(V3L !== undefined){this.setAttribute("milliseconds",V3L);}R3X5F.n2i();return this.getTime();},setMinutes:function(G6b,D64,X95){R3X5F.n2i();var s7M;this.setAttribute("minutes",G6b);if(D64 !== undefined){this.setAttribute("seconds",D64);}if(X95 !== undefined){s7M="mill";s7M+="iseconds";this.setAttribute(s7M,X95);}return this.getTime();},setSeconds:function(I6b,K6y){var X$2,M2F,Z6_;this.setAttribute("seconds",I6b);if(K6y !== undefined){this.setAttribute("milliseconds",K6y);}X$2=99764893;M2F=545956672;Z6_=2;for(var Z56=1;R3X5F.o1c(Z56.toString(),Z56.toString().length,84101) !== X$2;Z56++){return this.getTime();}if(R3X5F.W7K(Z6_.toString(),Z6_.toString().length,28819) !== M2F){return this.getTime();}},setMilliseconds:function(m$I){this.setAttribute("milliseconds",m$I);R3X5F.n2i();return this.getTime();},setTime:function(U5L){if(isNaN(U5L)){throw new Error("Units must be a number.");}this.setFromTimeProxy(U5L,this.timezone);R3X5F.F64();return this.getTime();},setUTCFullYear:function(W$o,r_t,W2L){var m8o,u82,P9l,t9a;if(W2L !== undefined){m8o=1546994241;u82=2324005;P9l=2;for(var Z8c=1;R3X5F.W7K(Z8c.toString(),Z8c.toString().length,19653) !== m8o;Z8c++){t9a="dat";t9a+="e";this.setUTCAttribute(t9a,1);P9l+=2;}if(R3X5F.o1c(P9l.toString(),P9l.toString().length,765) !== u82){this.setUTCAttribute("",2);}}this.setUTCAttribute("year",W$o);if(r_t !== undefined){this.setUTCAttribute("month",r_t);}R3X5F.F64();if(W2L !== undefined){this.setUTCAttribute("date",W2L);}return this.getTime();},setUTCMonth:function(J2u,f2R){var i$F=R3X5F;var m9l,A4U,S2n,W$h;this.setUTCAttribute("month",J2u);i$F.F64();if(f2R !== undefined){m9l="da";m9l+="te";this.setUTCAttribute(m9l,f2R);}A4U=-307894463;S2n=-281665596;i$F.I0Z(41);W$h=i$F.z5U(2,"2");for(var k2d=+"1";i$F.o1c(k2d.toString(),k2d.toString().length,+"17061") !== A4U;k2d++){return this.getTime();}if(i$F.W7K(W$h.toString(),W$h.toString().length,13509) !== S2n){return this.getTime();}},setUTCDate:function(T8r){R3X5F.n2i();this.setUTCAttribute("date",T8r);return this.getTime();},setUTCHours:function(E7g,n3X,q4c,a_J){var A32;A32="hou";A32+="r";A32+="s";this.setUTCAttribute(A32,E7g);if(n3X !== undefined){this.setUTCAttribute("minutes",n3X);}if(q4c !== undefined){this.setUTCAttribute("seconds",q4c);}if(a_J !== undefined){this.setUTCAttribute("milliseconds",a_J);}return this.getTime();},setUTCMinutes:function(F1J,s_d,A4K){var X4q;X4q="mi";X4q+="nu";R3X5F.n2i();X4q+="t";X4q+="es";this.setUTCAttribute(X4q,F1J);if(s_d !== undefined){this.setUTCAttribute("seconds",s_d);}if(A4K !== undefined){this.setUTCAttribute("milliseconds",A4K);}return this.getTime();},setUTCSeconds:function(k1g,H03){R3X5F.F64();var c8P;this.setUTCAttribute("seconds",k1g);if(H03 !== undefined){c8P="mil";c8P+="li";c8P+="sec";c8P+="onds";this.setUTCAttribute(c8P,H03);}return this.getTime();},setUTCMilliseconds:function(L7n){R3X5F.n2i();var l5z;l5z="millisec";l5z+="on";l5z+="ds";this.setUTCAttribute(l5z,L7n);return this.getTime();},setFromDateObjProxy:function(A5q){this.year=A5q.getFullYear();this.month=A5q.getMonth();R3X5F.n2i();this.date=A5q.getDate();this.hours=A5q.getHours();this.minutes=A5q.getMinutes();this.seconds=A5q.getSeconds();this.milliseconds=A5q.getMilliseconds();this._day=A5q.getDay();this._dateProxy=A5q;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!1;},setFromTimeProxy:function(I7D,p2M){R3X5F.n2i();var L8$,P81;L8$=new Date(I7D);P81=p2M?f15.timezone.getTzInfo(I7D,p2M,!"").tzOffset:L8$.getTimezoneOffset();L8$.setTime(I7D + (L8$.getTimezoneOffset() - P81) * 60000);this.setFromDateObjProxy(L8$);},setAttribute:function(Q6v,Y54){var z7h,L1T;R3X5F.n2i();if(isNaN(Y54)){throw new Error("Units must be a number.");}z7h=this._dateProxy;L1T=Q6v === "year"?"FullYear":Q6v.substr(0,1).toUpperCase() + Q6v.substr(1);z7h["set" + L1T](Y54);this.setFromDateObjProxy(z7h);},setUTCAttribute:function(n9p,K6o){var j8M,o7w,R1$,n6v;j8M="F";j8M+="ullYe";j8M+="ar";o7w="ye";o7w+="a";o7w+="r";if(isNaN(K6o)){throw new Error("Units must be a number.");}R1$=n9p === o7w?j8M:n9p.substr("0" << 96,1).toUpperCase() + n9p.substr(1);n6v=this.getUTCDateProxy();n6v["setUTC" + R1$](K6o);n6v.setUTCMinutes(n6v.getUTCMinutes() - this.getTimezoneOffset());this.setFromTimeProxy(n6v.getTime() + this.getTimezoneOffset() * 60000,this.timezone);},setTimezone:function(h6Y){var q6C;q6C=this.getTimezoneInfo().tzOffset;this.timezone=h6Y;this._useCache=![];this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + q6C);},removeTimezone:function(){this.timezone=null;this._useCache=!({});},valueOf:function(){R3X5F.F64();return this.getTime();},clone:function(){R3X5F.F64();return this.timezone?new f15.Date(this.getTime(),this.timezone):new f15.Date(this.getTime());},toGMTString:function(){R3X5F.n2i();return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT");},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var f2h=R3X5F;var m45;m45="y";m45+="yyy-MM-ddTHH:mm:ss.SSS";f2h.I0Z(160);var Y5m=f2h.z5U(703876,9,3,118720,6);f2h.f$a(13);var Q7W=f2h.z5U(4319,341,332,9);f2h.f$a(139);var S12=f2h.z5U(14,9,9,251,18);f2h.f$a(7);var d43=f2h.C6$(49650,54615);f2h.I0Z(122);var X0N=f2h.C6$(20,198218,10,996);f2h.f$a(114);var N4z=f2h.C6$(5611,6291,9);return this.toString(m45,"Etc/UTC") + ((Y5m,Q7W) !== "7790" * S12?"Z":(d43,X0N) > ("7100" ^ 0,+"5952")?("F",N4z):(!!"",!!"1"));},toJSON:function(){return this.toISOString();},toDateString:function(){R3X5F.n2i();return this.toString("EEE MMM dd yyyy");},toTimeString:function(){var D3N;D3N="H:mm";R3X5F.F64();D3N+=" k";return this.toString(D3N);},toString:function(u3Z,U70){var B7U=R3X5F;var H4Y,j8q,j_N,c67;if(!u3Z){u3Z="yyyy-MM-ddTHH:mm:ss.SSS";}B7U.n2i();H4Y=u3Z;j8q=U70?f15.timezone.getTzInfo(this.getTime(),U70):this.getTimezoneInfo();j_N=this;if(U70){j_N=this.clone();j_N.setTimezone(U70);}c67=j_N.getHours();return H4Y.replace(/a+/g,function(){B7U.F64();return (26.56,8148) != (8690,727.56)?"k":(531.51,+"2500") !== 4366?("C",633.32):!!"";}).replace(/y+/g,function(d9O){return z81(j_N.getFullYear(),d9O.length);}).replace(/d+/g,function(W0u){B7U.F64();return z81(j_N.getDate(),W0u.length);}).replace(/m+/g,function(M7_){B7U.n2i();return z81(j_N.getMinutes(),M7_.length);}).replace(/s+/g,function(P2g){return z81(j_N.getSeconds(),P2g.length);}).replace(/S+/g,function(I$p){B7U.F64();return z81(j_N.getMilliseconds(),I$p.length);}).replace(/h+/g,function(t1t){return z81(c67 % +"12" === 0?12:c67 % 12,t1t.length);}).replace(/M+/g,function(Z5R){var U3J,R1l;U3J=j_N.getMonth();R1l=Z5R.length;if(R1l > 3){return f15.Months[U3J];}else if(R1l > 2){return f15.Months[U3J].substring(0,R1l);}B7U.I0Z(38);return z81(B7U.z5U("1",U3J),R1l);}).replace(/k+/g,function(){var x27,v4C;x27="A";x27+="M";if(c67 >= 12){v4C="P";v4C+="M";if(c67 > "12" * 1){c67-=12;}return v4C;}return x27;}).replace(/H+/g,function(w8c){return z81(c67,w8c.length);}).replace(/E+/g,function(V43){B7U.F64();return L5V[j_N.getDay()].substring(B7U.C6$(0,"0",B7U.f$a(41)),V43.length);}).replace(/Z+/gi,function(){B7U.n2i();return j8q.tzAbbr;});},toUTCString:function(){return this.toGMTString();},civilToJulianDayNumber:function(Z09,p$p,l58){var M_w=R3X5F;var f79,c2p,N5m;p$p++;if(p$p > 12){M_w.I0Z(33);f79=parseInt(M_w.z5U("12",p$p,0),10);M_w.I0Z(103);p$p=M_w.z5U(12,p$p);Z09+=f79;}if(p$p <= 2){Z09-=1;p$p+=+"12";}M_w.I0Z(28);f79=Math.floor(M_w.C6$(32,Z09,"100"));M_w.f$a(134);var O5q=M_w.z5U(27,11,12);c2p=+"2" - f79 + Math.floor(f79 / O5q);M_w.I0Z(0);var P0c=M_w.C6$(0,1);M_w.I0Z(161);var Y2y=M_w.C6$(14,6,2,5,2);M_w.f$a(43);var o_V=M_w.z5U(4,67,17);M_w.f$a(10);var h2r=M_w.C6$(8,200,256);N5m=Math.floor(365.25 * (Z09 + "4716" * P0c)) + Math.floor("30.6001" * Y2y * (p$p + o_V)) + l58 + c2p - ("1524" >> h2r);return N5m;},getLocalOffset:function(){R3X5F.n2i();return this._dateProxy.getTimezoneOffset();}},!"");f15.timezone=new (function(){var P8L=R3X5F;var A2Q,E$B,x1g,B3X,k8W,f0U,x73,O3k,O2c,a7w,a7j,i4j,v01,P5S,u4m,B24,R_C,M4l,d3T,d6_,N9O,o8B,z9l;A2Q="laz";A2Q+="y";A2Q+="Loa";A2Q+="d";function g0R(W2I){var b$A;b$A="' is either incorrect, o";b$A+="r not loaded in the timezone regi";b$A+="stry.";P8L.f$a(15);throw new Error(P8L.z5U(b$A,"Timezone '",W2I));}E$B="south";function O0_(E44,Q5v){P8L.I0Z(7);P8L.F64();return -Math.ceil(P8L.z5U(E44,Q5v));}E$B+="am";E$B+="eric";E$B+="a";x1g="n";x1g+="orthameri";x1g+="ca";B3X="as";B3X+="ia";k8W="af";function f2e(q1_,m_R){var j_T,F8I,T48,j5h,r7p;j_T="str";j_T+="ing";F8I=typeof q1_ === "number"?q1_:new Date(+q1_).getTime();T48=m_R;j5h=N9O.zones[T48];while(typeof j5h === j_T){T48=j5h;j5h=N9O.zones[T48];}if(!j5h){if(!N9O.loadedZones.backward){N9O.loadZoneFile("backward");return f2e(q1_,m_R);}else if(T48 && T48 !== m_R){N9O.lazyLoadZoneFiles(T48);return f2e(q1_,T48);}g0R(T48);}if(j5h.length === 0){P8L.I0Z(42);throw new Error(P8L.C6$("' on ","No Zone found for '",q1_,m_R));}for(var V2Y=j5h.length - 1;V2Y >= 0;V2Y--){r7p=j5h[V2Y];if(r7p[3] && F8I > r7p[3])break;}P8L.n2i();P8L.f$a(0);return j5h[P8L.z5U(V2Y,1)];}k8W+="r";P8L.n2i();k8W+="i";k8W+="ca";f0U="etcet";f0U+="er";f0U+="a";x73="e";x73+="urope";O3k="e";O3k+="uro";O3k+="p";O3k+="e";O2c="eu";O2c+="r";O2c+="ope";a7w="e";a7w+="ur";a7w+="op";a7w+="e";a7j="au";a7j+="st";a7j+="ralas";a7j+="ia";i4j="a";i4j+="s";i4j+="ia";v01="a";function m7_(q$1){var M8_,S3e;M8_=J2x(q$1);S3e=q$1.charAt(0) === ((522.3,289.3) > (1800,+"214.59")?"-":5830 == (445.05,1460)?(580,!0):0x2022)?-1:"1" ^ 0;P8L.I0Z(162);P8L.n2i();var L2s=P8L.z5U(13,11,58,2,1305);P8L.f$a(163);var l7i=P8L.C6$(19,25,19,14,1);P8L.I0Z(7);var S7_=P8L.z5U(2,62);P8L.I0Z(164);var G0q=P8L.z5U(19,3000,1513,998,7);M8_=S3e * (((M8_[+"0"] * L2s + M8_[l7i]) * S7_ + M8_[+"2"]) * G0q);P8L.f$a(165);return P8L.C6$(60,1000,M8_);}v01+="si";v01+="a";P5S="northam";P5S+="erica";u4m="e";u4m+="u";u4m+="r";function R97(O2b,v0d){var b0_,j8t,y$x,K2y;P8L.F64();b0_="%";b0_+="s";j8t=O2b[2];if(j8t.indexOf(b0_) > -1){y$x="%";y$x+="s";if(v0d){K2y=v0d[7] === (8280 != 979?("886.89" - 0,6680) != 109.15?"-":(0x11a3,0x1b1b):!({}))?"":v0d[7];}else {K2y=6327 <= (416,4390)?(!![],"l"):(631.94,7490) <= 705.52?(485.8,4900) < (4890,7800)?(!!"1","Z"):"a":"S";}return j8t.replace(y$x,K2y);}else if(j8t.indexOf("/") > -1){return j8t.split("/",2)[v0d?v0d[6]?1:0:0];}return j8t;}function y58(U3C,E1l){var A2q;P8L.I0Z(129);var N33=P8L.C6$(5,737,2205,10);P8L.I0Z(121);var r$Y=P8L.z5U(489,9293,8,14,69);P8L.f$a(11);var P_D=P8L.C6$(15,30,353);P8L.I0Z(126);var E16=P8L.C6$(12,52,3,960,237);P8L.f$a(13);var w8U=P8L.C6$(8977,2995,8971,14);P8L.f$a(118);var D3U=P8L.C6$(1,8,8774,8,1262);P8L.f$a(11);var I8j=P8L.z5U(18,1,9174);P8L.I0Z(32);var J0W=P8L.C6$(10,17,4782,475);P8L.I0Z(43);var V$n=P8L.C6$(15,1298248,86912);A2q=N9O.zoneFileBasePath + (N33 == (36.65,r$Y)?(27.49,+"949.49") === P_D?("6.53e+3" >> E16,!({})):(w8U,D3U) >= (I8j,J0W)?!![]:(55.40,V$n):"/") + U3C;return !E1l || !E1l.async?N9O.parseZones(N9O.transport({url:A2q,async:!({})})):N9O.transport({async:!!"1",url:A2q,success:function(W4i){var O2w;O2w="f";O2w+="unc";O2w+="tio";O2w+="n";return N9O.parseZones(W4i) && typeof E1l.callback === O2w && E1l.callback();},error:function(){P8L.I0Z(15);throw new Error(P8L.z5U("' zoneinfo files","Error retrieving '",A2q));}});}u4m+="ope";B24="a";B24+="s";function e3c(u34){var z0b,k3e,v53,v3R;if(!u34[3]){return;}z0b=parseInt(u34[3],10);k3e=11;v53=31;if(u34[+"4"]){k3e=j6h[u34[4].substr(0,3)];v53=parseInt(u34[5],10) || 1;}v3R=u34[6]?J2x(u34[6]):[0,0,0];return [z0b,k3e,v53,v3R[0],v3R[1],v3R[2]];}B24+="ia";R_C="antar";R_C+="cti";R_C+="ca";M4l="aus";M4l+="tralasia";d3T="northameric";d3T+="a";d6_="nort";d6_+="hame";d6_+="ric";function h3i(a1F){var i2Q,R0r,Y8I,A0a,O7O;i2Q="st";i2Q+="r";i2Q+="in";i2Q+="g";R0r=z9l[a1F];if(R0r){return R0r;}P8L.n2i();Y8I=a1F.split(9370 !== 701?(317.71,223.36) > (5340,"4350" >> 32)?(665.76,817):"/":("o",5.49e+3))[0];A0a=o8B[Y8I];if(A0a){return A0a;}O7O=N9O.zones[a1F];if(typeof O7O === i2Q){return h3i(O7O);}if(!N9O.loadedZones.backward){N9O.loadZoneFile("backward");return h3i(a1F);}g0R(a1F);}d6_+="a";N9O=this;o8B={Etc:"etcetera",EST:d6_,MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:[d3T,"southamerica"],Pacific:M4l,Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:R_C,Asia:B24,Australia:"australasia",Europe:u4m,WET:"europe",CET:"europe",MET:"europe",EET:"europe"};z9l={"Pacific/Honolulu":P5S,"Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":v01,"Indian/Maldives":i4j,"Indian/Christmas":"australasia","Indian/Cocos":a7j,"America/Danmarkshavn":"europe","America/Scoresbysund":a7w,"America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":O2c,"Asia/Yakutsk":O3k,"Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":x73,"Africa/Ceuta":"europe",GMT:f0U,"Europe/Nicosia":"asia"};this.zoneFileBasePath=null;function J2x(m7F){var J25,l7E;J25=/(\d{1,2})(?::0*(\d{1,2}))?(?::0*(\d{1,2}))?([wsugz])?$/;l7E=m7F.match(J25);l7E[1]=parseInt(l7E[1],10);P8L.I0Z(6);l7E[P8L.z5U(0,"2")]=l7E["2" >> 0]?parseInt(l7E[2],10):0;l7E[+"3"]=l7E[+"3"]?parseInt(l7E[3],"10" - 0):0;return l7E.slice(1,5);}this.zoneFiles=[k8W,"antarctica",B3X,"australasia","backward","etcetera","europe",x1g,"pacificnew",E$B];this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:A2Q,MANUAL_LOAD:"manualLoad"};this.getRegionForTimezone=h3i;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};this.zones={};this.rules={};this.init=function(l9P){var d0e,G3i;d0e={async:!!1};P8L.F64();G3i=this.loadingScheme === this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile || "northamerica";for(var p7o in l9P){d0e[p7o]=l9P[p7o];}return this.loadZoneFiles(G3i,d0e);};this.loadZoneFiles=function(Y5Q,K5k){var U_A,W2m,c1x;U_A="str";U_A+="i";U_A+="ng";P8L.n2i();c1x=0;if(typeof Y5Q === U_A){return this.loadZoneFile(Y5Q,K5k);}K5k=K5k || ({});W2m=K5k.callback;K5k.callback=function(){c1x++;c1x === Y5Q.length && typeof W2m === "function" && W2m();};for(var K1e=+"0";K1e < Y5Q.length;K1e++){this.loadZoneFile(Y5Q[K1e],K5k);}};this.loadZoneFile=function(Y0H,F26){P8L.F64();if(typeof this.zoneFileBasePath === "undefined"){throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");}if(this.loadedZones[Y0H]){return;}this.loadedZones[Y0H]=!!1;return y58(Y0H,F26);};this.loadZoneJSONData=function(r9b,O4u){var A3Y;P8L.F64();A3Y=function(L9O){P8L.F64();L9O=JSON.parse(L9O);for(var p5d in L9O.zones){N9O.zones[p5d]=L9O.zones[p5d];}for(var T_v in L9O.rules){N9O.rules[T_v]=L9O.rules[T_v];}};return O4u?A3Y(N9O.transport({url:r9b,async:!({})})):N9O.transport({url:r9b,success:A3Y});};this.loadZoneDataFromObject=function(Z71){if(!Z71){return;}for(var y0_ in Z71.zones){N9O.zones[y0_]=Z71.zones[y0_];}P8L.n2i();for(var n8g in Z71.rules){N9O.rules[n8g]=Z71.rules[n8g];}};this.getAllZones=function(){var m_S;m_S=[];P8L.n2i();for(var O$D in this.zones){m_S.push(O$D);}return m_S.sort();};function F8w(m1u,y7V,M42,m2h){var u4R,Q6h,B$7,H4C,l55,b3i,k7K,C3L,h41,v37,E$j,b4u,b2J,E60;u4R=typeof m1u === "number"?new Date(m1u):m1u;Q6h=y7V[1];B$7=y7V[0];H4C=Q6h.match(/^([0-9]):([0-9][0-9])$/);if(H4C){l55="m";l55+="a";l55+="x";P8L.f$a(61);var E8b=P8L.C6$(8,122,14);P8L.f$a(146);var G9w=P8L.C6$(59,298,2,300);P8L.I0Z(5);var R1Q=P8L.z5U(3,23,5,18);P8L.I0Z(166);var Y_W=P8L.C6$(18,437,9,6,24);return [-1000000,l55,"-","Jan",1,[0,0,0],parseInt(H4C[+"1"],E8b) * G9w + parseInt(H4C[R1Q],Y_W),"-"];}b3i=function(R93,u14,R4n){var u2C;u2C=0;if(u14 === (2213 >= (8260,3740)?(1360,146.18) == 6610?!!0:9980 != 4860?("a",!!"1"):0x590:"u") || u14 === (8057 !== 2580?708.63 != (563.43,8200)?"g":(921.15,5350) <= (438.69,8370)?(0x1489,0x1286):(0x166a,!"1"):(!!1,"O")) || u14 === (801.02 < ("91.84" - 0,8870)?"z":(8.61e+3,659.01))){u2C=0;}else if(u14 === "s"){u2C=B$7;}else if(u14 === ((726.91,517) >= (9131,9600)?918.80:("5780" * 1,+"109.62") <= 602?190.9 === (+"7450",84.05)?"n":"w":(967.48,"k")) || !u14){u2C=O0_(B$7,R4n[6]);}else {P8L.f$a(0);throw new Error(P8L.C6$("unknown type ",u14));}P8L.I0Z(39);u2C*=P8L.C6$(0,"60",1000);P8L.n2i();return new Date(R93.getTime() + u2C);};k7K=function(F$E,u9z){var P5v,E7Y,j_h,t6b,t9B,T1N,h42,W8I,r47,x$G,m$0;P5v=F$E[0];E7Y=F$E[1];j_h=E7Y[5];if(!U0T[P5v]){U0T[P5v]={};}P8L.F64();if(U0T[P5v][E7Y]){t6b=U0T[P5v][E7Y];}else {if(!isNaN(E7Y[4])){t6b=new Date(Date.UTC(P5v,j6h[E7Y[3]],E7Y[4],j_h[0],j_h[1],j_h[2],0));}else {t9B=">";t9B+="=";if(E7Y["4" | 4].substr(+"0",4) === "last"){t6b=new Date(Date.UTC(P5v,j6h[E7Y[3]] + ("1" | 1),+"1",j_h[0] - 24,j_h[1],j_h[2],0));T1N=J8n[E7Y[+"4"].substr(4,+"3")];h42="<=";}else {t6b=new Date(Date.UTC(P5v,j6h[E7Y[3]],E7Y[4].substr("5" ^ 0),j_h[0],j_h[1],j_h["2" ^ 0],"0" | 0));T1N=J8n[E7Y[4].substr(0,+"3")];h42=E7Y[4].substr(3,+"2");}W8I=t6b.getUTCDay();if(h42 === t9B){t6b.setUTCDate(t6b.getUTCDate() + (T1N - W8I + (T1N < W8I?7:0)));}else {t6b.setUTCDate(t6b.getUTCDate() + (T1N - W8I - (T1N > W8I?7:0)));}}U0T[P5v][E7Y]=t6b;}if(u9z){r47=+"126179533";x$G=-540467712;m$0=2;for(var f55=1;P8L.o1c(f55.toString(),f55.toString().length,+"98068") !== r47;f55++){t6b=b3i(t6b,j_h[8],u9z);m$0+=2;}if(P8L.W7K(m$0.toString(),m$0.toString().length,51298) !== x$G){t6b=b3i(t6b,j_h[8],u9z);}t6b=b3i(t6b,j_h[3],u9z);}return t6b;};C3L=function(P6z,j3e){P8L.F64();var W_V,V3H;W_V=[];if(j3e){for(var t4H=0;t4H < j3e.length;t4H++){V3H="m";V3H+="a";V3H+="x";if(j3e[t4H]["0" | 0] <= P6z && (j3e[t4H][1] >= P6z || j3e[t4H][0] === P6z && j3e[t4H][1] === "only" || j3e[t4H]["1" >> 32] === V3H)){W_V.push([P6z,j3e[t4H]]);}}}return W_V;};h41=function(I2m,l0t,E_Z){var u70,m0o;if(!(I2m instanceof Date)){u70=I2m[0];m0o=I2m[1];I2m=!E_Z && U0T[u70] && U0T[u70][m0o]?U0T[u70][m0o]:k7K(I2m,E_Z);}else if(E_Z){I2m=b3i(I2m,M42?3580 >= "816.63" * 1?"u":(0x13e8,"i"):783.27 === 522.06?307.52 !== 3790?643.58 === (8910,532)?"S":+"1.58e+3":(5.24e+3,5.69e+3):"w",E_Z);}if(!(l0t instanceof Date)){u70=l0t[0];m0o=l0t[1];l0t=!E_Z && U0T[u70] && U0T[u70][m0o]?U0T[u70][m0o]:k7K(l0t,E_Z);}else if(E_Z){l0t=b3i(l0t,M42?"u":(+"5504","9075" - 0) !== (3220,+"7120")?"w":"a",E_Z);}P8L.F64();I2m=Number(I2m);l0t=Number(l0t);P8L.f$a(7);return P8L.z5U(l0t,I2m);};v37=u4R.getUTCFullYear();b4u=f15.ruleCache[m2h];if(!b4u){b4u=f15.ruleCache[m2h]={};}E$j=b4u[v37];if(!E$j){P8L.f$a(7);E$j=C3L(P8L.z5U(1,v37),N9O.rules[Q6h]);E$j=E$j.concat(C3L(v37,N9O.rules[Q6h]));E$j.sort(h41);b4u[v37]=E$j;}if(!E$j || !E$j.length){return null;}P8L.n2i();for(var b$M=E$j.length - +"1";b$M >= 0;b$M--){if(b$M > 0){P8L.I0Z(7);b2J=E$j[P8L.z5U(1,b$M)][1];}else {b2J=null;}E60=E$j[b$M];if(!E60[+"2"]){E60[2]=k7K(E60,b2J);}if(h41(u4R,E60,b2J) >= "0" << 96){return E60[+"1"];}}return null;}this.parseZones=function(e_y){var R2Y,k5J,C9T,q$C,G$S,F$I,Q4Z,t0d;if(!e_y){return !"1";}R2Y=e_y.split((550.06,273.91) <= (2750,76.71)?0x1998:"\n");k5J=[];C9T="";G$S=null;F$I=null;for(var X2o=0;X2o < R2Y.length;X2o++){q$C=R2Y[X2o];if(q$C.match(/^\s/)){Q4Z="Z";Q4Z+="one";Q4Z+=" ";P8L.I0Z(15);q$C=P8L.z5U(q$C,Q4Z,G$S);}q$C=q$C.split(217 === 9890?(6621,"5200" >> 32) < 1390?(3.87e+3,+"410.71"):9800 != 739?(4.36e+3,!({})):2.10e+3:"#")[+"0"];if(q$C.length > 3){t0d="R";t0d+="u";t0d+="l";t0d+="e";k5J=q$C.split(/\s+/);C9T=k5J.shift();switch(C9T){case "Zone":G$S=k5J.shift();if(!N9O.zones[G$S]){N9O.zones[G$S]=[];}if(k5J.length < 3)break;k5J.splice(3,k5J.length,e3c(k5J));if(k5J[3]){k5J[3]=Date.UTC.apply(null,k5J[3]);}k5J[0]=-m7_(k5J[0]);N9O.zones[G$S].push(k5J);break;case t0d:F$I=k5J.shift();if(!N9O.rules[F$I]){N9O.rules[F$I]=[];}k5J[0]=parseInt(k5J[+"0"],10);k5J[+"1"]=parseInt(k5J[1],10) || k5J[1];k5J[+"5"]=J2x(k5J[5]);k5J[+"6"]=m7_(k5J[6]);N9O.rules[F$I].push(k5J);break;case "Link":if(N9O.zones[k5J[1]]){P8L.f$a(19);var Z73=P8L.z5U(18,0,18);throw new Error("Error with Link " + k5J[Z73] + ". Cannot create link of a preexisted zone.");}if(isNaN(k5J[0])){P8L.I0Z(60);N9O.zones[k5J[1]]=k5J[P8L.C6$(0,"0")];}else {N9O.zones[k5J[+"1"]]=parseInt(k5J[+"0"],10);}break;}}}P8L.F64();return !!({});};this.transport=g75;this.getTzInfo=function(j9T,Y2Y,h5r){var T9N,r$R,d_o,X5W;P8L.n2i();this.lazyLoadZoneFiles(Y2Y);T9N=f2e(j9T,Y2Y);r$R=+T9N[0];d_o=F8w(j9T,T9N,h5r,Y2Y);if(d_o){r$R=O0_(r$R,d_o[6]);}X5W=R97(T9N,d_o);return {tzOffset:r$R,tzAbbr:X5W};};this.lazyLoadZoneFiles=function(E0X){P8L.n2i();var k5L;if(this.loadingScheme === this.loadingSchemes.LAZY_LOAD){k5L=h3i(E0X);if(!k5L){throw new Error("Not a valid timezone ID.");}this.loadZoneFiles(k5L);}};})();}).call(typeof window !== "undefined"?window:this);f15.timezone.loadingScheme=f15.timezone.loadingSchemes.MANUAL_LOAD;f15.timezone.loadZoneDataFromObject({zones:{"Asia/Tokyo":[[-("540" * 1),"","J%sT",null]],"Etc/UTC":[[+"0","-","UTC",null]],"Europe/London":[["0" << 32,"EU",p5t,null]],"America/New_York":[[300,o4i,"E%sT",null]],UTC:"Etc/UTC"},rules:{EU:[[1981,"max","-",n3i,"lastSun",[1,0,0,698 <= (6340,2600)?"u":"J"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,+"0",(2222,2860) < "4118" << 64?"u":!!0],0,("8478" ^ 0,624.19) !== (296.78,232)?"-":(790.64,736.07) != 603.38?709.49:"o"]],US:[[2007,"max",(526.39,4213) != 4380?("532" >> 0,+"9630") !== (+"3780",445.21)?476.77 !== (8340,159.78)?"-":(6.95e+3,+"4.38e+3"):"M":(+"519.98",!!({})),"Mar","Sun>=8",[2,0,0,null],60,(5464,7390) != 3110?"D":+"1120" >= 7690?("m",1.49e+3):+"860.13" <= (2470,871.72)?(0xe8e,8.72e+3):"S"],[2007,Q2b,"-","Nov","Sun>=1",[2,0,0,null],0,(3860,254.9) > +"239.02"?"S":2106 === 8290?(!![],0x689):3549 < (957.3,+"829.65")?(7.89e+2,"l"):"0x25b2" ^ 0]]}});};m3=X29=>{var k8k,Z5K;k8k=typeof _CIQ !== "undefined"?_CIQ:X29.CIQ;k8k.ChartEngine.prototype.touchSingleClick=function(V0L,T5v,U2X){var f7g,N3m;f7g=this;N3m=arguments;return function(){(function(){var V2b,D_Q,w0V,m6y,u60;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",N3m)){return;}if(this.editingAnnotation){return;}this.clicks={};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(T5v < this.left || T5v > this.right || U2X < this.top || U2X > this.bottom){return;}V2b=this.crossYActualPos;D_Q=this.crossXActualPos;this.currentPanel=this.whichPanel(V2b);w0V=this.currentVectorParameters.vectorType;if(!k8k.Drawing || !w0V || !k8k.Drawing[w0V] || !new k8k.Drawing[w0V]().dragToDraw){if(!this.drawingClick(this.currentPanel,D_Q,V2b)){k3J(this,T5v,U2X);}if(!this.currentVectorParameters.vectorType){m6y=this.activeMarker && this.activeMarker.click({cx:D_Q,cy:V2b,panel:this.currentPanel});if(!m6y){u60=!0;if(this.anyHighlighted && this.leftClickPinTooltip && this.allowPinning && this.highlightedPlot && this.allowPinning(this.highlightedPlot.type)){u60=!this.leftClickPinTooltip({cx:D_Q,cy:V2b});}if(u60){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:D_Q,y:V2b});}}}}}this.runAppend("touchSingleClick",N3m);}).apply(f7g,N3m);};};k8k.ChartEngine.prototype.touchDoubleClick=function(M$v,g$3,v6R){var b8T,j0c,c86,H9S;b8T="touchD";b8T+="oubleClick";if(this.runPrepend("touchDoubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(k8k.ChartEngine.drawingLine){if(this.currentVectorParameters.vectorType === "continuous"){j0c=this.crossYActualPos;c86=this.crossXActualPos;this.currentPanel=this.whichPanel(j0c);this.drawingClick(this.currentPanel,c86,j0c);k8k.ChartEngine.completeDrawing(this);}return this.undo();}if(this.activeDrawing){return;}k3J(this,g$3,v6R);H9S=this.activeMarker && this.activeMarker.doubleClick({cx:g$3,cy:v6R,panel:this.currentPanel});if(!H9S){this.dispatch("doubleTap",{stx:this,finger:M$v,x:g$3,y:v6R});}this.runAppend(b8T,arguments);};k8k.ChartEngine.prototype.startProxy=function(f5z){this.touchPointerType=f5z.pointerType;R3X5F.n2i();if(this.touchPointerType != "touch"){this.mouseMode=!!({});return;}this.mouseMode=!1;this.touches[this.touches.length]={pointerId:f5z.pointerId,pageX:f5z.clientX,pageY:f5z.clientY,clientX:f5z.clientX,clientY:f5z.clientY};this.changedTouches=[{pointerId:f5z.pointerId,pageX:f5z.clientX,pageY:f5z.clientY,clientX:f5z.clientX,clientY:f5z.clientY}];if(this.touches.length == 1){this.gesturePointerId=f5z.pointerId;}this.touchstart(f5z);};k8k.ChartEngine.prototype.moveProxy=function(L64){if(L64.pointerType && L64.pointerType != "touch"){this.mouseMode=!!1;return;}R3X5F.F64();this.mouseMode=![];this.touchmove(L64);};k8k.ChartEngine.prototype.endProxy=function(b4f){var i08;if(this.touchPointerType != "touch"){this.mouseMode=!!1;return;}R3X5F.F64();this.mouseMode=![];i08=this.touches.length;for(var y_8=0;y_8 < this.touches.length;y_8++){if(this.touches[y_8].pointerId == b4f.pointerId){this.touches.splice(y_8,1);break;}}if(y_8 == i08){this.touches=[];this.grabbingScreen=!"1";this.touching=!({});return;}this.changedTouches=[{pointerId:b4f.pointerId,pageX:b4f.clientX,pageY:b4f.clientY,clientX:b4f.clientX,clientY:b4f.clientY}];this.touchend(b4f);};k8k.ChartEngine.prototype.msMouseMoveProxy=function(O0J){R3X5F.F64();if(this.touches.length || !this.mouseMode){return;}this.mousemove(O0J);};k8k.ChartEngine.prototype.msMouseDownProxy=function(E_g){if(!this.mouseMode){return;}this.mousedown(E_g);};k8k.ChartEngine.prototype.msMouseUpProxy=function(I9w){if(!this.mouseMode){return;}this.mouseup(I9w);};k8k.ChartEngine.prototype.iosMouseMoveProxy=function(B_Z){if(this.touching){return;}this.mousemove(B_Z);};k8k.ChartEngine.prototype.iosMouseDownProxy=function(o56){if(this.touching){this.mouseMode=!({});return;}this.mouseMode=!!"1";this.mousedown(o56);};k8k.ChartEngine.prototype.iosMouseUpProxy=function(r3q){if(this.touching){return;}R3X5F.n2i();this.mouseup(r3q);};k8k.ChartEngine.prototype.touchmove=function(n2j){var T5Z=R3X5F;var r6W,n0e,W1W,n$$,x9l,w0N,Y6B,Q76,f7D,a0Z,k_n,g$F,A4$,c7Q,K8T,u2t,u8u,h$v,L7H,y5J,a_7,N$X,t8S,H0Y,D_K,C14,k56,i1L,P7T,I9d,e7X,u9x,Z4H,N9g,g7n,N_9,b66,y0W,D9p,O4Q,B5C;r6W="p";r6W+="e";r6W+="n";if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(k8k.ChartEngine.ignoreTouch === !![]){return;}n0e=[];if(!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != "none"){if(n2j && n2j.preventDefault && n2j.cancelable && this.captureTouchEvents){n2j.preventDefault();}if(n2j){n2j.stopPropagation();}}W1W=new Date().getTime();var {down:[W49]}=this.pointerEvents;if(W1W - W49.time < 25){return;}if(!n2j.pointerType){n2j.pointerType=this.touchPointerType;}if(k8k.isSurface){if(this.mouseMode){return;}if(!n2j.pointerId){n2j.pointerId=this.gesturePointerId;}for(var q9M=0;q9M < this.touches.length;q9M++){if(this.touches[q9M].pointerId == n2j.pointerId){n$$=Math.abs(this.touches[q9M].pageX - n2j.clientX);x9l=Math.abs(this.touches[q9M].pageY - n2j.clientY);T5Z.f$a(53);w0N=Math.sqrt(T5Z.C6$(n$$,x9l,n$$,x9l));if(!w0N){return;}if(W1W - W49.time < 50){return;}if(this.touches[q9M].pageX == n2j.clientX && this.touches[q9M].pageY == n2j.clientY){return;}this.touches[q9M].pageX=this.touches[q9M].clientX=n2j.clientX;this.touches[q9M].pageY=this.touches[q9M].clientY=n2j.clientY;break;}}if(q9M === 0){this.movedPrimary=!![];}else {this.movedSecondary=!"";}if(q9M == this.touches.length){return;}this.changedTouches=[{pointerId:n2j.pointerId,pageX:n2j.clientX,pageY:n2j.clientY,clientX:n2j.clientX,clientY:n2j.clientY}];n0e=this.touches.length?this.touches:this.changedTouches;}else {n0e=n2j.touches;this.changedTouches=n2j.changedTouches;}if(n0e.length == 1 && k8k.withinRadius(this.clicks,{x:n0e[0].clientX,y:n0e[0].clientY},+"4")){return;}Y6B=this.crosshairXOffset;Q76=this.crosshairYOffset;f7D=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";a0Z=!this.layout.crosshair && !f7D && !this.touchNoPan;if(n2j.pointerType == r6W || a0Z || this.activeDrawing && this.activeDrawing.name == "freeform"){Y6B=Q76=0;}if(this.runPrepend("touchmove",arguments)){return;}if(k8k.ChartEngine.resizingPanel){A4$=n0e[0];k_n=A4$.clientX;g$F=A4$.clientY;c7Q=-1229592262;K8T=2065254661;T5Z.f$a(60);u2t=T5Z.C6$(0,"2");for(var G7L=1;T5Z.W7K(G7L.toString(),G7L.toString().length,"73250" * 1) !== c7Q;G7L++){T5Z.f$a(0);this.mousemoveinner(T5Z.C6$(k_n,Y6B),T5Z.z5U(g$F,Q76));return;}if(T5Z.o1c(u2t.toString(),u2t.toString().length,53275) !== K8T){T5Z.f$a(7);this.mousemoveinner(T5Z.z5U(Y6B,k_n),T5Z.z5U(Q76,g$F));return;}}T5Z.F64();if(this.moveB != -1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=n0e[0].pageX;if(n0e.length == 1 && !this.twoFingerStart){h$v=n0e[0];k_n=h$v.clientX;g$F=h$v.clientY;this.pinchingScreen=+"0";T5Z.I0Z(0);this.mousemoveinner(T5Z.z5U(k_n,Y6B),T5Z.z5U(g$F,Q76));L7H=this.whichPanel(g$F);y5J=this.xAxisAsFooter === !0?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=g$F <= this.top + y5J && g$F >= y5J - this.xaxisHeight + this.top && this.insideChart;if(!L7H){this.overYAxis=!!0;}else {this.overYAxis=(k_n >= L7H.right || k_n <= L7H.left) && this.insideChart;}}else if(n0e.length == ("2" ^ 0)){if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayCrosshairs){return;}a_7=n0e[0];N$X=a_7.clientX;t8S=a_7.clientY;T5Z.I0Z(1);H0Y=n0e[T5Z.z5U(1,"1")];D_K=H0Y.clientX;C14=H0Y.clientY;T5Z.f$a(167);u8u=Math.sqrt(T5Z.z5U(N$X,t8S,D_K,N$X,C14,D_K,C14,t8S));this.pinchingCenter=(Math.min(N$X,D_K) - Math.max(N$X,D_K)) / +"2";k56=Math.round(this.gestureStartDistance - u8u);if(a0Z){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen < 2){if(k8k.isSurface && (!this.movedPrimary || !this.movedSecondary)){return;}if(N$X < this.pt.x1 && D_K < this.pt.x2 || N$X > this.pt.x1 && D_K > this.pt.x2 || t8S < this.pt.y1 && C14 < this.pt.y2 || t8S > this.pt.y1 && C14 > this.pt.y2){this.pinchingScreen=0;}else {this.pinchingScreen++;if(this.pinchingScreen < 2){return;}}}this.pt={x1:N$X,x2:D_K,y1:t8S,y2:C14};if(this.pinchingScreen === 0){this.grabMode="pan";T5Z.f$a(0);this.mousemoveinner(T5Z.C6$(N$X,Y6B),T5Z.C6$(t8S,Q76));this.gestureStartDistance=u8u;}else if(this.grabStartValues){i1L=Math.asin((Math.max(C14,t8S) - Math.min(C14,t8S)) / u8u);if(Math.abs(k56) < 12 && !a0Z){this.moveCount++;if(this.moveCount == 4){this.pinchingScreen=0;this.moveCount=0;return;}}else {this.moveCount=0;}if(i1L < 1 || !this.goneVertical && i1L < 1.37){if(!this.currentPanel){return;}P7T=this.currentPanel.chart;this.goneVertical=!1;u8u=this.pt.x2 - this.pt.x1;I9d=this.grabStartValues.t2 - this.grabStartValues.t1 || 1;T5Z.I0Z(168);var N_n=T5Z.z5U(15,19,8,148,14);e7X=this.grabStartValues.t1 + I9d / N_n;T5Z.f$a(8);u9x=Math.abs(T5Z.z5U(u8u,I9d));if(P7T.allowScrollFuture === !({}) && P7T.allowScrollPast === ![]){u9x=Math.max(u9x,P7T.width / P7T.dataSet.length);}Z4H=this.layout.candleWidth;this.setCandleWidth(u9x,P7T);if(P7T.maxTicks < this.minimumZoomTicks){this.setCandleWidth(Z4H,P7T);return;}this.micropixels=0;N9g=this.pixelFromTick(Math.round(e7X),P7T);g7n=this.pt.x1 - this.left + Math.round(u8u / +"2");T5Z.f$a(7);N_9=T5Z.z5U(g7n,N9g);b66=N_9 / this.layout.candleWidth;y0W=Math.round(b66);P7T.scroll-=y0W;T5Z.f$a(7);this.microscroll=T5Z.z5U(b66,y0W);this.micropixels=u9x * this.microscroll;this.draw();}else {D9p=this.grabStartYAxis;this.goneVertical=!![];if(D9p){D9p.zoom=this.grabStartZoom + (this.gestureStartDistance - u8u);if(this.grabStartZoom < D9p.height){if(D9p.zoom >= D9p.height){T5Z.f$a(48);var W5B=T5Z.C6$(14,2,6,21);D9p.zoom=D9p.height - W5B;}}else {if(D9p.zoom <= D9p.height){T5Z.I0Z(12);var e2z=T5Z.C6$(11,1,1,10);D9p.zoom=D9p.height + e2z;}}this.draw();}}this.updateChartAccessories();}}else if(n0e.length == ("3" | 3) && k8k.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}O4Q=n0e[0];B5C=O4Q.clientX;u8u=this.grabStartX - B5C;T5Z.f$a(0);var z1_=T5Z.z5U(1,9);this.grabEndPeriodicity=this.grabStartPeriodicity + Math.round(u8u / z1_);if(this.grabEndPeriodicity < 1){T5Z.f$a(37);this.grabEndPeriodicity=T5Z.C6$(64,"1");}}this.runAppend("touchmove",arguments);};k8k.ChartEngine.prototype.touchstart=function(z21){var d4o=R3X5F;var F7b,Y3G,u_Y,a_h,h0F,M4O,m3f,m_j,L_4,Y$1,Z3$,l96,v6M,N8H,D57,y0S,D83,G_Z,Z_h,c5y,K8n,Y9M,o4l,Z$f,p5Y,H4b,p0T,a_q,W3F,O1N,K$Z;F7b="touchsta";F7b+="rt";Y3G="[dr";Y3G+="aggable]";if(k8k.ChartEngine.ignoreTouch){return;}if(z21.target && z21.target.closest(Y3G)){return;}if(k8k.isSurface){this.movedPrimary=!1;this.movedSecondary=![];}else {if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!![];this.touches=z21.touches;this.changedTouches=z21.changedTouches;}u_Y=this.crosshairXOffset;a_h=this.crosshairYOffset;if(this.touchPointerType == "pen"){u_Y=a_h=0;}if(this.runPrepend("touchstart",arguments)){return;}var {layout:F6J}=this;var {vectorType:H8b}=this.currentVectorParameters;h0F=F6J.crosshair && H8b !== "" || H8b;if(this.manageTouchAndMouse && z21 && z21.preventDefault && z21.cancelable && this.captureTouchEvents){z21.preventDefault();}this.hasDragged=!!0;this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=!1;this.longHoldTookEffect=!({});if(this.touches.length == 1 || this.touches.length == 2){this.touchMoveTime=Date.now();d4o.I0Z(37);Z3$=this.touches[d4o.z5U(64,"0")];m_j=Z3$.clientX;L_4=Z3$.clientY;this.moveA=m_j;this.moveB=-1;if(this.openDialog === ""){this.registerPointerEvent({x:m_j,y:L_4,time:this.touchMoveTime},"down");if(this.changedTouches.length == 1){this.clicks={x:this.changedTouches[0].pageX,y:this.changedTouches["0" >> 0].pageY};}}l96=this.container.getBoundingClientRect();this.top=l96.top;this.left=l96.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(this.touches.length == 1){v6M=this.backOutX(m_j);N8H=this.backOutY(L_4);this.currentPanel=this.whichPanel(N8H);if(!this.shouldDisplayCrosshair()){this.crossXActualPos=v6M;this.crossYActualPos=N8H;}}if(!this.currentPanel){this.currentPanel=this.chart.panel;}Y$1=this.currentPanel;if(m_j >= this.left && m_j <= this.right && L_4 >= this.top && L_4 <= this.bottom){this.insideChart=!![];D57=this.xAxisAsFooter === !![]?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=L_4 <= this.top + D57 && L_4 >= this.top + D57 - this.xaxisHeight;this.overYAxis=m_j >= this.left + Y$1.right || m_j <= this.left + Y$1.left;y0S=-1;this.cy=this.backOutY(L_4);this.cx=this.backOutX(m_j);this.crosshairTick=this.tickFromPixel(this.cx,Y$1.chart);this.crosshairValue=this.adjustIfNecessary(Y$1,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var r8M=0;r8M < this.drawingObjects.length;r8M++){if(this.openDialog)break;D83=this.drawingObjects[r8M];if(D83.highlighted){if(y0S < +"0"){y0S=r8M;}G_Z=D83.highlighted;this.findHighlights(!"");if(r8M == y0S && D83.highlighted && !D83.permanent){this.activateRepositioning(D83);return;}this.anyHighlighted=!!({});D83.highlighted=G_Z;}}}else {this.insideChart=!"1";}if(this.insideChart && !h0F && F6J.headsUp !== "floating" && !(F6J.headsUp && F6J.headsUp.floating) && !H8b && !this.touchNoPan){u_Y=a_h=0;if(this.controls.anchorHandles){Z_h=Object.values(this.controls.anchorHandles);c5y=![];for(var d_C=0;d_C < Z_h.length;d_C++){K8n=Z_h[d_C];var {handle:m8u, sd:J5M}=K8n;Y9M=this.resolveX(this.cx);o4l=this.resolveY(this.cy);var {left:G9J, top:t$Z, right:P1k, bottom:T62}=m8u.getBoundingClientRect();Z$f=this.preferences.highlightsTapRadius;d4o.I0Z(7);p5Y=k8k.boxIntersects(d4o.z5U(Z$f,G9J),t$Z,d4o.C6$(P1k,Z$f,d4o.f$a(0)),T62,Y9M,o4l,Y9M,o4l);if(p5Y){this.repositioningAnchorSelector={sd:J5M};m8u.classList.add("stx-grab");c5y=!!"1";}K8n.highlighted=p5Y;}if(c5y){return;}}for(M4O in this.panels){m3f=this.panels[M4O];if(m3f.highlighted){this.grabHandle(m3f);return;}}this.grabbingScreen=!![];if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}Y$1.chart.spanLock=![];this.yToleranceBroken=!({});d4o.f$a(0);this.grabStartX=d4o.C6$(m_j,u_Y);d4o.f$a(0);this.grabStartY=d4o.C6$(L_4,a_h);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=Y$1.chart.scroll;this.grabStartScrollY=Y$1.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(Y$1.chart);}this.grabStartYAxis=this.whichYAxis(Y$1,this.backOutX(m_j));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:"0" | 0;setTimeout((function(Y$I){d4o.n2i();return function(){Y$I.grabbingHand();};})(this),100);}else {this.grabbingScreen=![];if(this.insideChart && Y$1.subholder === z21.target){H4b=this.currentVectorParameters.vectorType;if(k8k.Drawing && H4b && k8k.Drawing[H4b] && new k8k.Drawing[H4b]().dragToDraw){this.userPointerDown=!!1;k8k.ChartEngine.crosshairX=m_j;k8k.ChartEngine.crosshairY=L_4;if(Y$1 && Y$1.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(m_j),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(Y$1,this.crosshairTick,this.valueFromPixel(this.backOutY(k8k.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(Y$1,this.backOutX(m_j),this.backOutY(L_4));this.headsUpHR();return;}}}if(this.touches.length == 1){if(!h0F){if(this.longHoldTime || this.longHoldTime === +"0"){this.startLongHoldTimer((o0x=>{d4o.n2i();return ()=>{return k3J(o0x,m_j,L_4);};})(this));}}else if(!H8b && Y$1.subholder === z21.target){d4o.I0Z(0);this.mousemoveinner(d4o.C6$(m_j,u_Y),d4o.C6$(L_4,a_h));}}}if(this.touches.length == 2){this.cancelLongHold=!"";this.swipe.end=!![];if(!this.displayCrosshairs && !this.touchNoPan || !this.insideChart){return;}p0T=this.touches[+"1"];a_q=p0T.clientX;W3F=p0T.clientY;for(M4O in this.panels){m3f=this.panels[M4O];if(m3f.highlighted){this.grabHandle(m3f);return;}}Y$1=this.currentPanel;d4o.f$a(167);this.gestureStartDistance=Math.sqrt(d4o.z5U(m_j,L_4,a_q,m_j,W3F,a_q,W3F,L_4));this.pt={x1:m_j,x2:a_q,y1:L_4,y2:W3F};this.grabbingScreen=!!({});if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}Y$1.chart.spanLock=!({});d4o.f$a(0);this.grabStartX=d4o.C6$(m_j,u_Y);d4o.f$a(0);this.grabStartY=d4o.C6$(L_4,a_h);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=Y$1.chart.scroll;this.grabStartScrollY=Y$1.yAxis.scroll;this.grabStartPanel=Y$1;if(this.swipeStart){this.swipeStart(Y$1.chart);}this.grabStartCandleWidth=F6J.candleWidth;this.grabStartYAxis=this.whichYAxis(Y$1,this.backOutX((m_j + a_q) / 2)) || Y$1.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1 - this.top,Y$1),y2:this.valueFromPixel(this.pt.y2 - this.top,Y$1),t1:this.tickFromPixel(this.pt.x1 - this.left,Y$1.chart),t2:this.tickFromPixel(this.pt.x2 - this.left,Y$1.chart)};this.twoFingerStart=!!"1";setTimeout((function(O1d){return function(){d4o.n2i();O1d.grabbingHand();};})(this),100);}else if(this.touches.length == 3){if(!this.displayCrosshairs){return;}O1N=this.touches[0];K$Z=O1N.clientX;this.grabStartX=K$Z;this.grabStartPeriodicity=F6J.periodicity;}this.runAppend(F7b,arguments);};function k3J(n8y,j4U,k9W){R3X5F.n2i();var a_6;if(!n8y.layout.crosshair){k8k.ChartEngine.crosshairY=0;k8k.ChartEngine.crosshairX=0;n8y.cx=n8y.backOutX(+"0");n8y.cy=n8y.backOutY(0);n8y.findHighlights(null,!!"1");k8k.ChartEngine.crosshairY=k9W;k8k.ChartEngine.crosshairX=j4U;a_6=n8y.container.getBoundingClientRect();n8y.top=a_6.top;n8y.left=a_6.left;n8y.right=n8y.left + n8y.width;n8y.bottom=n8y.top + n8y.height;n8y.cx=n8y.backOutX(j4U);n8y.cy=n8y.backOutY(k9W);if(n8y.currentPanel && n8y.currentPanel.chart.dataSet){n8y.crosshairTick=n8y.tickFromPixel(n8y.cx,n8y.currentPanel.chart);n8y.crosshairValue=n8y.adjustIfNecessary(n8y.currentPanel,n8y.crosshairTick,n8y.valueFromPixel(n8y.cy,n8y.currentPanel));}n8y.headsUpHR();}n8y.findHighlights(!![]);n8y.draw();}k8k.ChartEngine.prototype.touchend=function(o6T){var O1j=R3X5F;var t02,w2t,t7A,W7u,b5w,P51,i5g,g8r,r6q,r8$,m9H;if(k8k.ChartEngine.ignoreTouch){return;}this.swipe.end=!0;if(k8k.isSurface){}else {this.touches=o6T.touches;this.changedTouches=o6T.changedTouches;}if(this.runPrepend("touchend",arguments)){return;}var {touches:Y3q, layout:U58}=this;var {vectorType:e8_}=this.currentVectorParameters;t02=U58.crosshair && e8_ !== "" || e8_;this.cancelLongHold=!![];if(Y3q.length <= 1){if(t02){if(!Y3q.length || !this.twoFingerStart){this.grabbingScreen=!1;}}}if(Y3q.length){O1j.f$a(7);this.grabStartX=-O1j.C6$(0,"1");this.grabStartY=-1;}w2t=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!Y3q.length){this.touchingEvent=setTimeout((function(k0b){O1j.F64();return function(){k0b.touching=!!"";};})(this),500);if(k8k.ChartEngine.resizingPanel){this.releaseHandle();if(this.changedTouches.length !== 1 || this.grabStartY !== this.changedTouches[0].clientY){return;}}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=![];this.grabbingScreen=!1;this.grabMode="";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else {if(k8k.ChartEngine.resizingPanel){return;}}t7A=Y3q.length + +"1";if(this.changedTouches.length === 1){W7u=Date.now();b5w=this.changedTouches[0];P51=this.backOutY(b5w.pageY) + this.crosshairYOffset;i5g=this.backOutX(b5w.pageX) + this.crosshairXOffset;g8r=this.currentPanel;r6q=g8r && g8r.subholder === o6T.target;if(this.repositioningDrawing){this.changeOccurred("vector");k8k.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!t02){this.findHighlights(!"1",!![]);}return;}if(this.repositioningAnchorSelector){if(!this.repositioningAnchorSelector.hoverTick){this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(i5g - this.crosshairXOffset,this.chart);}r8$=this.repositioningAnchorSelector.sd;k8k.Studies.repositionAnchor(this,r8$);this.repositioningAnchorSelector=null;this.controls.anchorHandles[r8$.uniqueId].highlighted=!!"";k8k.Studies.displayAnchorHandleAndLine(this,r8$,this.chart.dataSegment);Object.values(this.controls.anchorHandles).forEach(({handle:M03})=>{return M03.classList.remove("stx-grab");});return;}if(this.openDialog === ""){m9H="u";m9H+="p";this.registerPointerEvent({x:b5w.clientX,y:b5w.clientY,time:W7u},m9H);}if(this.isDoubleClick(!0) && (r6q || this.overYAxis || this.overXAxis)){this.touchDoubleClick(t7A,this.clicks.x,this.clicks.y);this.resetClickState();}else {if(!k8k.Drawing || !e8_ || !k8k.Drawing[e8_] || !new k8k.Drawing[e8_]().dragToDraw){O1j.I0Z(114);var T3L=O1j.C6$(33,18,9);var {up:[a1D], down:[P9z]}=this.pointerEvents,e6f=T3L;if(k8k.withinRadius(P9z,a1D,e6f) && W7u - P9z.time < 750 && !this.longHoldTookEffect && (!this.hasDragged || t02)){setTimeout(this.touchSingleClick(t7A,this.clicks.x,this.clicks.y),this.doubleClickTime + 1);}}this.userPointerDown=![];if(k8k.Drawing && this.activeDrawing && this.activeDrawing.dragToDraw && r6q){this.drawingClick(g8r,i5g,P51);return;}}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity != -1 && !isNaN(this.grabEndPeriodicity)){if(k8k.ChartEngine.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}this.grabEndPeriodicity=-1;}}if(this.changedTouches.length){if(!t02 && !this.currentVectorParameters.vectorType && t7A == 1 || this.twoFingerStart && !w2t && !this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!!"",!!"1");}if(w2t && this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!!"1");}}if(!Y3q.length){this.twoFingerStart=![];}this.runAppend("touchend",arguments);};Z5K=![];k8k.ChartEngine.prototype.mousemoveinner=k8k.ChartEngine.prototype.mousemoveinner || (function(W$n,J$l){var m6_;m6_="touch feature requir";m6_+="es ac";m6_+="tivating movement feature.";if(!Z5K){console.error(m6_);}Z5K=!!({});});};A$=V8U=>{var x4V=R3X5F;x4V.F64();var p4g;p4g=typeof _CIQ !== "undefined"?_CIQ:V8U.CIQ;p4g.Visualization=p4g.Visualization || (function(W5l){var a0v;a0v="fu";a0v+="n";a0v+="ction";if(!W5l){console.log("CIQ.Visualization() missing attributes argument.");return;}if(typeof W5l.renderFunction !== a0v){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return;}this.container=null;this.attributes=W5l;this.data=null;this.object=null;});p4g.extend(p4g.Visualization.prototype,{destroy:function(w5h){var T94;T94=this.container || ({});p4g.resizeObserver(T94,null,T94.resizeHandle);if(T94.autoGenerated){T94.remove();delete this.container;}else {T94.innerHTML="";}if(w5h){return;}this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){return undefined;};},draw:function(o8l){var q$o,b20,x7Q,f5t,B9L,g3q,S2c,A24;q$o="obj";q$o+="e";q$o+="ct";if(!this.data || typeof this.data !== q$o){b20="CIQ.Visualization.draw() missin";b20+="g";b20+=" data.";console.log(b20);return;}x7Q=this.attributes || ({});f5t=x7Q.document || document;B9L=x7Q.container || this.container;if(typeof B9L === "string"){B9L=f5t.querySelector(B9L);}if(!B9L){B9L=document.createElement("div");B9L.style.height=B9L.style.width="300px";f5t.body.appendChild(B9L);B9L.autoGenerated=!!({});}if(x7Q.stx){g3q=x7Q.stx.chart.canvasShim;if(x7Q.useCanvasShim && g3q && g3q !== B9L && g3q !== B9L.parentNode){if(!B9L.autoGenerated){B9L=B9L.cloneNode();B9L.id="";B9L.autoGenerated=!![];}g3q.appendChild(B9L);}}if(this.container && this.container !== B9L){this.destroy(!![]);}if(!B9L.resizeHandle){S2c=function(P5B){return function(){x4V.n2i();if(P5B.data && P5B.container && f5t.body.contains(P5B.container)){P5B.draw.call(P5B,!!({}));}};};B9L.resizeHandle=p4g.resizeObserver(B9L,S2c(this));}this.container=B9L;this.attributes=x7Q;x7Q=p4g.ensureDefaults({container:this.container},this.attributes);A24=x7Q.renderFunction(Object.values(this.data).sort(A89),x7Q);function A89(b1t,a7h){return b1t.index < a7h.index?-1:b1t.index > a7h.index?1:0;}if(A24){if(x7Q.id){A24.id=x7Q.id;}if(o8l || x7Q.forceReplace){this.container.innerHTML="";this.container.appendChild(A24);}}this.attributes=x7Q;this.object=A24;},setAttributes:function(U2i,t_k){var Z_8,t7T,Q0T,A6u,T$j,e6z,Q_j;Z_8="s";Z_8+="tri";x4V.F64();Z_8+="ng";t7T="f";t7T+="orceRe";t7T+="place";Q0T="s";Q0T+="t";Q0T+="x";A6u="rend";A6u+="erFunction";T$j=[A6u,"container",Q0T,"useCanvasShim","id",t7T];e6z=![];Q_j=U2i;if(typeof U2i == Z_8){Q_j={};Q_j[U2i]=t_k;}if(typeof Q_j == "object"){for(var r24 in Q_j){if(this.attributes[r24] !== Q_j[r24] && T$j.indexOf(r24) !== -1){e6z=!0;}this.attributes[r24]=Q_j[r24];}}this.draw(e6z);},updateData:function(o$X,N8Y){var C3z,B9F,N1r,Q3M,Y4v,t_3,s7d,m8y;C3z="a";C3z+="dd";B9F="u";B9F+="pdat";x4V.n2i();B9F+="e";N1r="replac";N1r+="e";Q3M="r";Q3M+="ep";Q3M+="la";Q3M+="ce";s7d=Array.isArray(o$X)?o$X.reduce(function(F9b,Y9U){F9b[Y9U.name]=Y9U;return F9b;},{}):p4g.shallowClone(o$X);for(Y4v in s7d){m8y="[obj";m8y+="ect O";m8y+="b";m8y+="ject]";t_3=s7d[Y4v];if(Object.prototype.toString.call(t_3) !== m8y){s7d[Y4v]={value:t_3};}if(!s7d[Y4v].name){s7d[Y4v].name=Y4v;}if(!s7d[Y4v].value){s7d[Y4v].value=0;}}if(!N8Y){N8Y=Q3M;}switch(N8Y.toLowerCase()){case "delete":for(Y4v in s7d){delete this.data[Y4v];}break;case N1r:this.data={};case B9F:case C3z:for(Y4v in s7d){if(!this.data[Y4v]){this.data[Y4v]={name:Y4v};}t_3=s7d[Y4v].value;if(Object.prototype.toString.call(t_3) == "[object Number]"){if(!this.data[Y4v].value || N8Y == "update"){this.data[Y4v].value=0;}this.data[Y4v].value+=t_3;}else {this.data[Y4v].value=t_3;}for(var f$O in s7d[Y4v]){if(f$O !== "value"){this.data[Y4v][f$O]=s7d[Y4v][f$O];}}}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.");}this.draw(this.attributes.forceReplace);return this;}});p4g.ChartEngine.prototype.embedVisualization=function(F$A){if(!F$A){F$A={};}F$A.stx=this;F$A.useCanvasShim=!!({});F$A.translator=function(d2C){return F$A.stx.translateIf(d2C);};F$A.document=this.container.ownerDocument;return new p4g.Visualization(F$A);};};v4=V6e=>{var o3r=R3X5F;o3r.F64();var D0U,A8I,G5c;D0U="u";D0U+="n";D0U+="defin";D0U+="ed";A8I=typeof _CIQ !== D0U?_CIQ:V6e.CIQ;if(!A8I.Studies){G5c="medianPrice feature requires f";G5c+="irst activa";G5c+="ting studies f";G5c+="eature.";console.error(G5c);}else {A8I.Studies.calculateTypicalPrice=function(R3j,d2x){var z1M,T4w,i4G,x02,l2D,T7P;z1M="M";z1M+="e";z1M+="d Price";T4w=d2x.chart.scrubbed;i4G=d2x.days;if(T4w.length < i4G + 1){if(!d2x.overlay){d2x.error=!!({});}return;}x02=d2x.name;for(var i9e in d2x.outputs){o3r.I0Z(15);x02=o3r.z5U(x02,i9e,(5271,432.43) === +"40.05"?("2572" ^ 0,43) != (186,2439)?903 <= (92.3,3210)?"C":(!!({}),304.98):!!"":" ");}l2D="hlc/3";if(d2x.type == z1M){l2D="hl/2";}else if(d2x.type == "Weighted Close"){l2D="hlcc/4";}T7P=0;if(d2x.startFrom <= i4G){d2x.startFrom=0;}for(var h6v=d2x.startFrom;h6v < T4w.length;h6v++){if(h6v && T4w[h6v - 1][x02]){T7P=T4w[h6v - ("1" ^ 0)][x02] * i4G;}T7P+=T4w[h6v][l2D];if(h6v >= i4G){o3r.I0Z(7);T7P-=T4w[o3r.z5U(i4G,h6v)][l2D];o3r.I0Z(8);T4w[h6v][x02]=o3r.C6$(T7P,i4G);}}};A8I.Studies.studyLibrary=A8I.extend(A8I.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:A8I.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};F4=m4z=>{var i$l=R3X5F;var g1t,R6h;g1t=typeof _CIQ !== "undefined"?_CIQ:m4z.CIQ;i$l.n2i();if(!g1t.Studies){R6h="momentum feature requires first activating studie";R6h+="s feature.";console.error(R6h);}else {g1t.Studies.calculateRateOfChange=function(T2w,s_X){var U0V,O$$,L8U,B8F,C5m,Q_U,h0g,U5q;U0V="Cl";U0V+="o";U0V+="se";O$$=s_X.chart.scrubbed;if(O$$.length < s_X.days + ("1" - 0)){s_X.error=!![];return;}L8U=s_X.inputs.Field;if(!L8U || L8U == "field"){L8U=U0V;}if(s_X.parameters.isVolume){L8U="Volume";}B8F=s_X.name;for(var M38 in s_X.outputs){i$l.I0Z(15);B8F=i$l.z5U(B8F,M38,(8811,7834) >= 3824?" ":![]);}C5m=s_X.inputs["Center Line"];if(!C5m){C5m=0;}else {C5m=parseInt(C5m,10);}for(var y1R=Math.max(s_X.startFrom,s_X.days);y1R < O$$.length;y1R++){Q_U=g1t.Studies.getQuoteFieldValue(O$$[y1R],L8U,s_X.subField);h0g=g1t.Studies.getQuoteFieldValue(O$$[y1R - s_X.days],L8U,s_X.subField);if(s_X.type == "Momentum"){i$l.I0Z(11);O$$[y1R][B8F]=i$l.z5U(h0g,C5m,Q_U);}else {U5q=h0g;if(U5q){i$l.f$a(169);O$$[y1R][B8F]=i$l.C6$(U5q,Q_U,C5m,1,"100");}}}};g1t.Studies.studyLibrary=g1t.extend(g1t.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:g1t.Studies.calculateRateOfChange,inputs:{Period:+"14",Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:g1t.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}});}};D_=d25=>{var I$j=R3X5F;I$j.n2i();var t5N,u4O,l4e;t5N="und";t5N+="efi";t5N+="ned";u4O=typeof _CIQ !== t5N?_CIQ:d25.CIQ;if(!u4O.Studies){console.error("priceRelative feature requires first activating studies feature.");}else {l4e="S";l4e+="P";l4e+="Y";u4O.Studies.initPriceRelative=function(o8G,U8B,r8P,j_y,V$s,z8m){var W2T,o0J;W2T=u4O.Studies.initializeFN(o8G,U8B,r8P,j_y,V$s,z8m);o0J=[W2T.inputs["Comparison Symbol"].toUpperCase()];I$j.F64();u4O.Studies.fetchAdditionalInstruments(o8G,W2T,o0J);return W2T;};u4O.Studies.calculatePriceRelative=function(f0j,N$_){var Z_m,Y3o,W0i,p$n,z1R,d0s,I51;Z_m="]";Z_m+="/";Z_m+="[";Y3o=N$_.chart.scrubbed;W0i=N$_.inputs["Comparison Symbol"].toUpperCase();if(!W0i){W0i=N$_.study.inputs["Comparison Symbol"];}p$n={};z1R=f0j.chart.symbol || "";z1R=z1R.replace(/[=+\-*\\%]/g,"");p$n[z1R]=Y3o.slice(N$_.startFrom);if(!p$n[z1R].length){return;}if(z1R != W0i){p$n[W0i]=null;}I$j.I0Z(100);d0s=u4O.computeEquationChart(I$j.z5U(z1R,(1616,+"1320") >= (9735,"9240" << 32)?(885.07,!1):356.1 == (328.68,+"2555")?"V":"[",Z_m,W0i,5489 < 3534?(248.99,647.18):578.57 == (135,778.41)?(0xd00,!({})):2460 >= (455,1161)?"]":122.61),p$n);I51=0;for(var Y8t=N$_.startFrom;Y8t < Y3o.length && I51 < d0s.length;Y8t++){while(I51 < d0s.length && Y3o[Y8t].DT.getTime() > d0s[I51].DT.getTime()){I51++;}if(Y3o[Y8t].DT.getTime() < d0s[I51].DT.getTime())continue;Y3o[Y8t]["Result " + N$_.name]=d0s[I51].Close;I51++;}};u4O.Studies.displayVsComparisonSymbol=function(k6k,v5_,g6J){var t3D,j7i,M0q,U89,z9o,R3t,m$X;t3D="R";t3D+="esult";t3D+=" ";j7i="Comparison";j7i+=" Symbol";I$j.F64();M0q=v5_.inputs[j7i].toUpperCase();if(!k6k.getSeries({symbol:M0q,chart:v5_.chart}).length){U89="Not ";U89+="Available";k6k.displayErrorAsWatermark(v5_.panel,k6k.translateIf(v5_.study.name) + ": " + k6k.translateIf(U89));return;}z9o={skipTransform:k6k.panels[v5_.panel].name != v5_.chart.name,panelName:v5_.panel,band:t3D + v5_.name,threshold:v5_.study.centerline,yAxis:v5_.getYAxis(k6k),gapDisplayStyle:!!({})};R3t=z9o.yAxis?z9o.yAxis.flipped:k6k.panels[v5_.panel].yAxis.flipped;m$X=0.3;if(!v5_.highlight && k6k.highlightedDraggable){m$X*=0.3;}for(var C3$=g6J.length - 1;C3$ >= 0;C3$--){if(g6J[C3$] && g6J[C3$][M0q]){u4O.Studies.displaySeriesAsLine(k6k,v5_,g6J);if(v5_.study.centerline || v5_.study.centerline === +"0"){if(v5_.outputs.Gain){u4O.preparePeakValleyFill(k6k,u4O.extend(z9o,{direction:R3t?-1:1,color:u4O.Studies.determineColor(v5_.outputs.Gain),opacity:m$X}));}if(v5_.outputs.Loss){u4O.preparePeakValleyFill(k6k,u4O.extend(z9o,{direction:R3t?1:-1,color:u4O.Studies.determineColor(v5_.outputs.Loss),opacity:m$X}));}}return;}}};u4O.Studies.fetchAdditionalInstruments=function(o8i,w8E,F3_,P4T){var m2n,W7h,z5Z,Y2B,O9i,y48;if(!o8i.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");return;}m2n=o8i.panels[w8E.panel].chart;w8E.symbols=F3_;for(W7h=0;W7h < F3_.length;W7h++){z5Z=Y2B=F3_[W7h];if(typeof Y2B == "object"){z5Z=Y2B.symbol;}else {Y2B={symbol:z5Z};}O9i={symbol:z5Z,symbolObject:Y2B,bucket:"study",studyName:w8E.name,chartName:m2n.name,action:"add-study"};u4O.extend(O9i,P4T);y48=O9i.loadData;if(o8i.currentlyImporting){O9i.loadData=!({});}if(!w8E.series){w8E.series={};}w8E.series[z5Z]=o8i.addSeries(null,O9i,q_w);w8E.series[z5Z].parameters.loadData=y48;}I$j.n2i();function q_w(){o8i.createDataSet();o8i.draw();}};u4O.Studies.studyLibrary=u4O.extend(u4O.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:u4O.Studies.initPriceRelative,seriesFN:u4O.Studies.displayVsComparisonSymbol,calculateFN:u4O.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":l4e},deferUpdate:!0}});}};j6=O1x=>{var H4p=R3X5F;var A33,e3R,G2J,d2a,Y0y,k5D;A33="u";A33+="nd";A33+="efine";H4p.F64();A33+="d";e3R=typeof _CIQ !== "undefined"?_CIQ:O1x.CIQ;G2J=typeof _timezoneJS !== A33?_timezoneJS:O1x.timezoneJS;if(!e3R.Studies){console.error("vwap feature requires first activating studies feature.");}else {d2a="#";d2a+="fff69e";Y0y="V";Y0y+="W";Y0y+="AP";k5D="Anchored";k5D+=" ";k5D+="VW";k5D+="AP";e3R.Studies.calculateVWAP=function(Z0r,w4Q){var Y0_,n1I,O2K,e4k,E06,a84,l0s,o8E,C5W,Q2Q,C19,p6K,F3F,g$g,A$b,B2K,F2f,s7B,J1i,g_3,l0f,J32,e$S,o0j,I5K,q8F,B$a,t3P;if((w4Q.parameters.state || ({})).interactiveAdd){return;}var {inputs:t9$, name:f1T, chart:u71}=w4Q;var {market:K_I}=u71;Y0_=w4Q.type === "AVWAP";n1I=u71.scrubbed;if(!n1I.length){return;}if(!Y0_ && e3R.ChartEngine.isDailyInterval(Z0r.layout.interval)){O2K="VW";O2K+="AP is Intr";O2K+="ad";O2K+="ay Only";w4Q.error=O2K;return;}e4k="hlc/3";if(Y0_){e4k=t9$.Field;if(!e4k || e4k == "field"){E06="l";E06+="ayou";E06+="t";e4k=t9$.Field="hlc/3";Z0r.changeOccurred(E06);}}a84=null;l0s=0;o8E=0;C5W=0;Q2Q=!!0;if(w4Q.startFrom > 1){C19="_";C19+="Vx";C19+="P";C19+=" ";p6K="_";p6K+="V";p6K+=" ";l0s=n1I[w4Q.startFrom - 1][p6K + f1T] || 0;o8E=n1I[w4Q.startFrom - 1][C19 + f1T] || 0;C5W=n1I[w4Q.startFrom - ("1" << 32)]["_VxP2 " + f1T] || +"0";}if(Y0_){F3F="A";F3F+="ncho";F3F+="r Time";var {market_tz:p8o}=K_I.market_def || ({});var [,x3m,d1b,K0W]=(t9$["Anchor Date"] || "").match(/^(\d{4})-?(\d{2})-?(\d{2})$/) || [];var [,P8S = 0,Y93 = 0,w0P = 0]=(t9$[F3F] || "").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/) || [];if(![x3m,d1b,K0W].every(u7O=>{H4p.F64();return u7O || u7O === 0;})){w4Q.error="Invalid Anchor Date";return;}H4p.f$a(7);g$g=new G2J.Date(x3m,H4p.z5U(1,d1b),K0W,P8S,Y93,w0P,p8o || "");if(!w4Q.startFrom && g$g >= n1I[0].DT){w4Q.startFrom=Z0r.tickFromDate(g$g,Z0r.chart,null,!!({}));}if(t9$["Anchor Selector"]){e3R.Studies.initAnchorHandle(Z0r,w4Q);}else {e3R.Studies.removeAnchorHandle(Z0r,w4Q);}}for(var p7s=w4Q.startFrom;p7s < n1I.length;p7s++){A$b="_";A$b+="V";A$b+=" ";if(!Y0_){if(a84 === null){a84=e3R.Studies.getMarketOffset({stx:Z0r,localQuoteDate:n1I[p7s].DT,shiftToDateBoundary:!!({})});}if(n1I[p7s - 1] && n1I[p7s - 1].DT){B2K=new Date(new Date(+n1I[p7s].DT).setMilliseconds(n1I[p7s].DT.getMilliseconds() + a84));F2f=new Date(new Date(+n1I[p7s - 1].DT).setMilliseconds(n1I[p7s - 1].DT.getMilliseconds() + a84));if(F2f.getDate() !== B2K.getDate() && Z0r.chart.market.isMarketDate(B2K)){a84=null;l0s=o8E=C5W=0;}}}s7B=n1I[p7s][e4k];J1i=n1I[p7s].Volume;if(Y0_ && !J1i){J1i=1;}l0s+=J1i;H4p.I0Z(1);o8E+=H4p.C6$(s7B,J1i);H4p.f$a(170);C5W+=H4p.z5U(J1i,s7B,s7B);if(!Y0_ && !l0s)continue;H4p.I0Z(0);n1I[p7s][H4p.C6$(A$b,f1T)]=l0s;H4p.f$a(0);n1I[p7s][H4p.z5U("_VxP ",f1T)]=o8E;H4p.I0Z(0);n1I[p7s][H4p.z5U("_VxP2 ",f1T)]=C5W;H4p.I0Z(0);g_3=n1I[p7s][H4p.z5U("_SDVWAP ",f1T)]=Math.sqrt(Math.max(0,C5W / l0s - Math.pow(o8E / l0s,2)));H4p.I0Z(0);l0f=n1I[p7s][H4p.C6$("VWAP ",f1T)]=H4p.z5U(o8E,l0s,H4p.f$a(8));for(var D2o=1;D2o <= +"3";D2o++){J32="S";J32+="DVW";J32+="A";J32+="P";H4p.I0Z(42);n1I[p7s][H4p.z5U("+ ","SDVWAP",f1T,D2o)]=H4p.C6$(g_3,l0f,D2o,H4p.I0Z(57));H4p.f$a(42);n1I[p7s][H4p.C6$("- ",J32,f1T,D2o)]=H4p.C6$(D2o,l0f,g_3,H4p.I0Z(171));}Q2Q=!0;}for(var l32 in w4Q.outputMap){e$S="VW";e$S+="AP";if(l32.indexOf(e$S) !== 0){delete w4Q.outputMap[l32];}}for(var g98=1;g98 <= 3;g98++){o0j="\u03C3";o0j+=")";I5K=" St";I5K+="andar";I5K+="d Deviation (";if(t9$["Display " + g98 + I5K + g98 + o0j]){q8F=" St";q8F+="andard Devia";q8F+="tion (";B$a="S";B$a+="DVW";B$a+="AP";H4p.I0Z(42);w4Q.outputMap[H4p.z5U("+ ","SDVWAP",f1T,g98)]=H4p.z5U(g98,g98,"\u03C3)"," Standard Deviation (");H4p.I0Z(42);w4Q.outputMap[H4p.z5U("- ",B$a,f1T,g98)]=H4p.C6$(g98,g98,"\u03C3)",q8F);}}if(!Y0_ && !Q2Q){t3P="VWAP Requires";t3P+=" ";t3P+="Volume";w4Q.error=t3P;}};e3R.Studies.initAnchoredVWAP=function(Y8e,B5Z,J6T,i_2,q5A,H9z){var U_O,A2Z,O30,R0D;U_O="Anchor T";U_O+="i";H4p.F64();U_O+="me";if(!q5A.state){q5A.state={};}var {interactiveAdd:W03, interactiveAddCB:Z36, state:x6p}=q5A;A2Z=!(J6T["Anchor Date"] || J6T[U_O]);if(A2Z && (x6p.interactiveAdd || Y8e.repositioningAnchorSelector)){return "abort";}var {dataSegment:R8K}=Y8e.chart;if(R8K && A2Z && !W03){for(var A1G=0;A1G < R8K.length;A1G++){if(R8K[A1G]){var {DT:Y_o}=R8K[A1G];J6T["Anchor Date"]=e3R.dateToStr(Y_o,"YYYY-MM-dd");J6T["Anchor Time"]=e3R.dateToStr(Y_o,"HH:mm:ss");break;}}}if(A2Z && W03){x6p.interactiveAdd=!0;}else {delete x6p.interactiveAdd;delete q5A.interactiveAdd;if(Z36){setTimeout(Z36);}}O30=e3R.Studies.initializeFN(Y8e,B5Z,J6T,i_2,q5A,H9z);if(x6p.interactiveAdd){Y8e.repositioningAnchorSelector={sd:O30,tapToAdd:!![]};Y8e.dispatch("notification","addAVWAP");}else {R0D="removeAV";R0D+="W";R0D+="AP";Y8e.dispatch("notification",R0D);}return O30;};e3R.Studies.displayVWAP=function(I3Y,B4l,L5S){var I5X,g5f,M85,J8x,H7d,h3G,u8Q,j2D,q9V,S5Y,L1P,q6K;I5X="Dis";I5X+="play 2 Standard Devia";I5X+="tion (2\u03C3)";if(!L5S || !L5S[0]){e3R.Studies.removeAnchoredVWAP(I3Y,B4l);return;}e3R.Studies.displaySeriesAsLine(I3Y,B4l,L5S);g5f=B4l.inputs["Display 1 Standard Deviation (1\u03C3)"];M85=B4l.inputs[I5X];J8x=B4l.inputs["Display 3 Standard Deviation (3\u03C3)"];if((g5f || M85 || J8x) && B4l.inputs.Shading){H7d=I3Y.panels[B4l.panel];h3G={opacity:B4l.parameters.opacity?B4l.parameters.opacity:+"0.2",skipTransform:H7d.name != B4l.chart.name,yAxis:B4l.getYAxis(I3Y)};if(!B4l.highlight && I3Y.highlightedDraggable){h3G.opacity*=0.3;}u8Q="VWAP " + B4l.name;j2D="VWAP " + B4l.name;if(g5f){q9V="SDVW";q9V+="AP";q9V+="1-";q9V+=" ";S5Y="S";S5Y+="DV";S5Y+="WAP1";S5Y+="+ ";e3R.prepareChannelFill(I3Y,e3R.extend({panelName:B4l.panel,topBand:"SDVWAP1+ " + B4l.name,bottomBand:u8Q,color:e3R.Studies.determineColor(B4l.outputs[B4l.outputMap[S5Y + B4l.name]])},h3G));e3R.prepareChannelFill(I3Y,e3R.extend({panelName:B4l.panel,topBand:"SDVWAP1- " + B4l.name,bottomBand:j2D,color:e3R.Studies.determineColor(B4l.outputs[B4l.outputMap["SDVWAP1- " + B4l.name]])},h3G));u8Q="SDVWAP1+ " + B4l.name;j2D=q9V + B4l.name;}if(M85){L1P="SDVWAP";L1P+="2- ";e3R.prepareChannelFill(I3Y,e3R.extend({panelName:B4l.panel,topBand:"SDVWAP2+ " + B4l.name,bottomBand:u8Q,color:e3R.Studies.determineColor(B4l.outputs[B4l.outputMap["SDVWAP2+ " + B4l.name]])},h3G));e3R.prepareChannelFill(I3Y,e3R.extend({panelName:B4l.panel,topBand:L1P + B4l.name,bottomBand:j2D,color:e3R.Studies.determineColor(B4l.outputs[B4l.outputMap["SDVWAP2- " + B4l.name]])},h3G));u8Q="SDVWAP2+ " + B4l.name;j2D="SDVWAP2- " + B4l.name;}if(J8x){q6K="SDVWA";q6K+="P3- ";e3R.prepareChannelFill(I3Y,e3R.extend({panelName:B4l.panel,topBand:"SDVWAP3+ " + B4l.name,bottomBand:u8Q,color:e3R.Studies.determineColor(B4l.outputs[B4l.outputMap["SDVWAP3+ " + B4l.name]])},h3G));e3R.prepareChannelFill(I3Y,e3R.extend({panelName:B4l.panel,topBand:q6K + B4l.name,bottomBand:j2D,color:e3R.Studies.determineColor(B4l.outputs[B4l.outputMap["SDVWAP3- " + B4l.name]])},h3G));}}if(B4l.anchorHandle || (B4l.parameters.state || ({})).interactiveAdd){e3R.Studies.displayAnchorHandleAndLine(I3Y,B4l,L5S);}};e3R.Studies.removeAnchoredVWAP=function(Y6i,j68){var x7G;x7G="re";H4p.n2i();x7G+="moveA";x7G+="VWAP";Y6i.dispatch("notification",x7G);e3R.Studies.removeAnchorHandle(Y6i,j68);};e3R.Studies.studyLibrary=e3R.extend(e3R.Studies.studyLibrary,{AVWAP:{name:k5D,overlay:!!({}),calculateFN:e3R.Studies.calculateVWAP,seriesFN:e3R.Studies.displayVWAP,initializeFN:e3R.Studies.initAnchoredVWAP,removeFN:e3R.Studies.removeAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":!({}),"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!!"",Shading:!"1","Anchor Selector":!!"1"},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2,interactiveAdd:!!1}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:Y0y,overlay:!!({}),calculateFN:e3R.Studies.calculateVWAP,seriesFN:e3R.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":!({}),"Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!1,Shading:![]},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":d2a},parameters:{init:{opacity:0.2}}}});}};x5=W94=>{var V75,d5m;V75="und";V75+="e";V75+="fin";V75+="ed";d5m=typeof _CIQ !== V75?_CIQ:W94.CIQ;if(!d5m.Studies){console.error("zigzag feature requires first activating studies feature.");}else {d5m.Studies.calculateZigZag=function(R5D,O5h){var t2q=R3X5F;var v0e,z1W,J8X,C7u,C4D,o0W,v7_,Y0M,N5y,U1Q,r3y,y4K,T0v,i0r,K86,Z5T,O6I,u2_,M_A,l$N,y7H,B$J,f61;v0e="Cl";v0e+="o";v0e+="se";z1W="Resul";z1W+="t";z1W+=" ";J8X=O5h.chart.scrubbed;if(!J8X || !J8X.length){return;}C7u=O5h.highLowChart;C4D=null;o0W=null;v7_=O5h.inputs["Distance(%)"];Y0M=0;function r2U(O7t,K8$){t2q.F64();for(var S9x=O7t + +"1";S9x < K8$;S9x++){J8X[S9x]["ShadowResult " + O5h.name]=(J8X[K8$]["Result " + O5h.name] - J8X[O7t]["Result " + O5h.name]) * (S9x - O7t) / (K8$ - O7t) + J8X[O7t]["Result " + O5h.name];delete J8X[S9x]["Result " + O5h.name];}}t2q.f$a(7);N5y=t2q.C6$(0,"0");U1Q=0;r3y=null;y4K=null;T0v=+"0";for(var t9r=Math.min(J8X.length - 1,O5h.startFrom);t9r >= ("0" | 0);t9r--){T0v=t9r;if(J8X[t9r]["_state " + O5h.name]){i0r=J8X[t9r]["_state " + O5h.name];C4D=i0r[0];o0W=i0r[1];Y0M=i0r[2];N5y=i0r[3];U1Q=i0r[4];r3y=i0r[5];y4K=i0r[6];break;}}for(var i71=T0v;i71 < J8X.length;i71++){K86=J8X[i71][C7u?"High":"Close"];Z5T=J8X[i71][C7u?"Low":"Close"];if(o0W === null || o0W < K86){o0W=K86;if(Y0M < 0){C4D=Z5T;}t2q.f$a(172);r3y=t2q.z5U(o0W,1,100,v7_);if(Y0M > -1){if(y4K !== null && o0W > y4K){O6I="R";O6I+="es";O6I+="ult";O6I+=" ";J8X[N5y][O6I + O5h.name]=J8X[N5y][C7u?"Low":"Close"];r2U(U1Q,N5y);Y0M=-1;C4D=Z5T;U1Q=N5y;N5y=i71;continue;}}else {N5y=i71;}}if(C4D === null || C4D > Z5T){C4D=Z5T;if(Y0M > 0){o0W=K86;}t2q.f$a(173);y4K=t2q.C6$(1,100,v7_,C4D);if(Y0M < "1" >> 0){if(r3y !== null && C4D < r3y){J8X[N5y]["Result " + O5h.name]=J8X[N5y][C7u?"High":"Close"];r2U(U1Q,N5y);Y0M=1;o0W=K86;U1Q=N5y;N5y=i71;continue;}}else {N5y=i71;}}}J8X[N5y][z1W + O5h.name]=J8X[N5y][C7u?Y0M == +"1"?"Low":"High":v0e];u2_=-329904693;M_A=1662387395;l$N=2;for(var Z4m=1;t2q.W7K(Z4m.toString(),Z4m.toString().length,"24652" - 0) !== u2_;Z4m++){J8X[N5y]["" % O5h.name]=[C4D,o0W,Y0M,N5y,U1Q,r3y,y4K];r2U(U1Q,N5y);l$N+=2;}if(t2q.W7K(l$N.toString(),l$N.toString().length,6938) !== M_A){J8X[N5y]["_state " + O5h.name]=[C4D,o0W,Y0M,N5y,U1Q,r3y,y4K];r2U(U1Q,N5y);}t2q.I0Z(32);var w22=t2q.z5U(7,18,18,8);y7H=J8X.length - w22;while(y7H > N5y){if(J8X[y7H].Close || J8X[y7H].Close === 0){B$J="Clo";B$J+="s";B$J+="e";f61="H";f61+="ig";f61+="h";J8X[y7H]["Result " + O5h.name]=J8X[y7H][C7u?Y0M == 1?f61:"Low":B$J];break;}y7H--;}r2U(N5y,y7H);};d5m.Studies.displayZigZag=function(r84,p4W,C9d){var w8H,a8l,u8q,n5Y,w2H,m30,q0E,O4Y,a56,e8o,c$Z,s1N,Q$o;w8H="S";w8H+="hadow";w8H+="Resu";w8H+="lt ";a8l=r84.chart.highLowBars;if(p4W.highLowChart != a8l){p4W.highLowChart=a8l;p4W.startFrom=0;p4W.study.calculateFN(r84,p4W);}u8q=r84.chart;for(var I66=0;I66 < C9d.length;I66++){n5Y=C9d[I66];if(n5Y){w2H="R";w2H+="e";w2H+="s";w2H+="ult ";m30="_s";m30+="hadowC";m30+="opy ";if(n5Y[m30 + p4W.name]){q0E="R";q0E+="e";q0E+="sult ";delete n5Y[q0E + p4W.name];delete n5Y["_shadowCopy " + p4W.name];}if(!n5Y[w2H + p4W.name]){if(n5Y.transform){delete n5Y.transform["Result " + p4W.name];}}}}O4Y=C9d[0];R3X5F.I0Z(174);var a1M=R3X5F.z5U(35,18,3,13,6);a56=C9d[C9d.length - a1M];if(O4Y && O4Y[w8H + p4W.name]){e8o="_shado";e8o+="wC";e8o+="opy ";c$Z="Sh";c$Z+="adow";c$Z+="Res";c$Z+="ult ";O4Y["Result " + p4W.name]=O4Y[c$Z + p4W.name];if(O4Y.transform){O4Y.transform["Result " + p4W.name]=u8q.transformFunc(r84,u8q,O4Y["ShadowResult " + p4W.name]);}O4Y[e8o + p4W.name]=+"1";}R3X5F.F64();if(a56 && a56["ShadowResult " + p4W.name]){s1N="Result";s1N+=" ";Q$o="Shado";Q$o+="wR";Q$o+="esult ";a56["Result " + p4W.name]=a56[Q$o + p4W.name];if(a56.transform){a56.transform[s1N + p4W.name]=u8q.transformFunc(r84,u8q,a56["ShadowResult " + p4W.name]);}a56["_shadowCopy " + p4W.name]=1;}d5m.Studies.displaySeriesAsLine(r84,p4W,C9d);};d5m.Studies.studyLibrary=d5m.extend(d5m.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!!({}),seriesFN:d5m.Studies.displayZigZag,calculateFN:d5m.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!!0}},attributes:{"Distance(%)":{min:+"0.1",step:0.1}}}});}};V3={CIQ:w2,SplinePlotter:n5,timezoneJS:L8,$$:h1,$$$:y4};export {b8 as createEngine};export {N2 as customCharts};export {I8 as drawing};export {f3 as easeMachine};export {y$ as equations};export {W7 as events};export {P9 as i18n};export {W5 as interaction};export {N9 as markers};export {Y3 as market};export {K8 as movement};function t_dlI(){return "m%1F%02%0E)7I%15#50$P(=%13(?%5C%25:%0E!8M9'57%08J$%3C$%1A:V(/$-9W%15,9%17'L*%3C5%09#U?%10%1D%05%0Ef%18%0F%16%01%09p%05%1A%15%03%13k%15%225*1M#%10$!%25M%15%107!%22u%22-5*%25%5C%00+)%1A?W(%22%25%203J%15&?7%22W*#5%1Axg/+6-8%5C%1B%3C?43K?7%0E7&U%22:%0E%07%06%7Czy%60p%02r%18%104+;X%22%20#%1A5Q*%3C%13+2%5C%0A:%0E(9%5E%15=%20(?M%15tp%1A7W(+#09K%04%3C9#?W8%10%3E+!ge%102-8%5D%15(9(3J2=$!;g)'$%0E9P%25%10%22!2L(+%0E09j?%3C9*1g.%201&:%5C/%10%22!2L(+%0E%22$X&+%1C+5R%22%207%1A&U%3E)9*%25g8!=!%08U$)%1D!%22K%22-#%1A2V(;=!8M%15+%3E0$P.=%0Ei%08Z''5*%22p/%10%201%25Q%15%3C5%223K9+%22%1A:V,%10%1C-5%5C%25=5j%22X&%3E56%05%5C*%22%0E&?j:;163t%3E%22$%1A%3EK.(%0E%254J%15+%3E0$P.=%0E!.I%22%3C57%08I*%3C#!%08f,+$%1A%22V%18:%22-8%5E%15-8%25$z$*5%05%22";}export {v9 as nameValueStore};export {A5 as quoteFeed};export {q3 as series};export {H0 as share};export {M9 as span};export {I0 as storage};export {F_ as studies};export {D2 as symbolLookupBase};export {o$ as theme};export {m7 as timezone};export {m3 as touch};export {A$ as visualization};export {v4 as medianPrice};export {F4 as momentum};export {D_ as priceRelative};export {j6 as vwap};export {x5 as zigzag};export {w2 as CIQ, n5 as SplinePlotter, L8 as timezoneJS, h1 as $$, y4 as $$$};if(typeof __TREE_SHAKE__ === f_iDFp || !__TREE_SHAKE__){V3.CIQ.activateImports(b8,N2,I8,f3,y$,W7,P9,W5,N9,Y3,K8,v9,A5,q3,H0,M9,I0,F_,D2,o$,m7,m3,A$,v4,F4,D_,j6,x5,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
