/**!
 *	9.4.0
 *	Generation date: 2024-08-28T15:51:29.272Z
 *	Client name: codeit
 *	Package Type: Core alacarte
 *	License type: annual
 *	Build descriptor: a9931b733
 */

/***********************************************************!
 * Copyright Â© 2024 S&P Global All rights reserved
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
c28No[252778]=(function(){var F=2;for(;F !== 9;){switch(F){case 2:F=typeof globalThis === '\x6f\x62\x6a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var N;try{var U=2;for(;U !== 6;){switch(U){case 9:delete N['\u0078\u0033\u004c\x4c\x6b'];var Q=Object['\u0070\x72\u006f\u0074\x6f\u0074\x79\x70\u0065'];delete Q['\x44\u006f\x67\x64\x48'];U=6;break;case 3:throw "";U=9;break;case 4:U=typeof x3LLk === '\x75\u006e\u0064\u0065\x66\x69\x6e\u0065\u0064'?3:9;break;case 2:Object['\x64\u0065\x66\u0069\u006e\u0065\u0050\u0072\x6f\u0070\x65\x72\u0074\x79'](Object['\u0070\u0072\u006f\u0074\u006f\u0074\x79\x70\u0065'],'\u0044\u006f\u0067\x64\u0048',{'\u0067\x65\u0074':function(){return this;},'\u0063\x6f\u006e\x66\u0069\x67\x75\u0072\u0061\x62\u006c\u0065':true});N=DogdH;N['\x78\x33\x4c\x4c\x6b']=N;U=4;break;}}}catch(g){N=window;}return N;break;}}})();c28No.q5N$C=q5N$C;c2Vw0O(c28No[252778]);c28No[188017]=(function(){var X3=2;for(;X3 !== 5;){switch(X3){case 2:var r4={Z3rRNt5:(function(O4){var F4=2;for(;F4 !== 18;){switch(F4){case 8:F4=g6 < b6.length?7:12;break;case 7:F4=M0 === O4.length?6:14;break;case 9:var g6=0,M0=0;F4=8;break;case 13:(g6++,M0++);F4=8;break;case 14:I9+=O3(e9(g6) ^ h4(M0));F4=13;break;case 2:var D_=function(Y_){var I7=2;for(;I7 !== 11;){switch(I7){case 4:var z_=0;I7=3;break;case 13:I7=!k8?6:12;break;case 2:var w4=g7yNw.N4o00;var h9=r5uj1y.N7qMMh;var m$=[];I7=4;break;case 3:I7=z_ < Y_.length?9:7;break;case 8:z_++;I7=3;break;case 12:return k8;break;case 9:m$[z_]=w4(Y_[z_] + 57);I7=8;break;case 7:var A3,k8;I7=6;break;case 6:A3=m$.y_pRoG(function(){var H9=2;for(;H9 !== 1;){switch(H9){case 2:return 0.5 - h9();break;}}}).m9WvBK('');k8=c28No[A3];I7=13;break;}}};var I9='',b6=J0xlrb(D_([56,21,10,-21,-4])());var O3=g7yNw.N4o00;var e9=b6.D0GhDr.bind(b6);var h4=O4.D0GhDr.bind(O4);F4=9;break;case 6:M0=0;F4=14;break;case 20:var l$=function(t8){var L8=2;for(;L8 !== 1;){switch(L8){case 2:return I9[t8];break;}}};return D9;break;case 12:I9=I9.V3l7C6('^');var u5=0;var D9=function(e2){var d$=2;for(;d$ !== 35;){switch(d$){case 22:r4.Z3rRNt5=l$;d$=21;break;case 4:return u5;break;case 5:I9.w8bobD.u67FhI(I9,I9.T_es0S(-3,3).T_es0S(0,1));d$=4;break;case 21:return l$(e2);break;case 2:d$=u5 === 0 && e2 === 40?1:3;break;case 14:I9.w8bobD.u67FhI(I9,I9.T_es0S(-8,8).T_es0S(0,7));d$=4;break;case 24:u5+=1;d$=23;break;case 16:I9.w8bobD.u67FhI(I9,I9.T_es0S(-4,4).T_es0S(0,3));d$=4;break;case 18:d$=u5 === 5 && e2 === 41?17:15;break;case 25:d$=u5 === 7 && e2 === 32?24:22;break;case 9:u5+=1;d$=8;break;case 26:I9.w8bobD.u67FhI(I9,I9.T_es0S(-2,2).T_es0S(0,1));d$=4;break;case 7:d$=u5 === 2 && e2 === 16?6:13;break;case 3:d$=u5 === 1 && e2 === 34?9:7;break;case 27:u5+=1;d$=26;break;case 20:u5+=1;d$=19;break;case 10:d$=u5 === 4 && e2 === 22?20:18;break;case 15:d$=u5 === 6 && e2 === 41?27:25;break;case 19:I9.w8bobD.u67FhI(I9,I9.T_es0S(-9,9).T_es0S(0,8));d$=4;break;case 8:I9.w8bobD.u67FhI(I9,I9.T_es0S(-2,2).T_es0S(0,1));d$=4;break;case 23:I9.w8bobD.u67FhI(I9,I9.T_es0S(-7,7).T_es0S(0,6));d$=4;break;case 17:u5+=1;d$=16;break;case 1:u5+=1;d$=5;break;case 11:I9.w8bobD.u67FhI(I9,I9.T_es0S(-6,6).T_es0S(0,4));d$=4;break;case 6:u5+=1;d$=14;break;case 13:d$=u5 === 3 && e2 === 22?12:10;break;case 12:u5+=1;d$=11;break;}}};F4=20;break;}}})('V$ZNVO')};return r4;break;}}})();c28No.P7=function(){return typeof c28No[188017].Z3rRNt5 === 'function'?c28No[188017].Z3rRNt5.apply(c28No[188017],arguments):c28No[188017].Z3rRNt5;};c28No.L7=function(){return typeof c28No[188017].Z3rRNt5 === 'function'?c28No[188017].Z3rRNt5.apply(c28No[188017],arguments):c28No[188017].Z3rRNt5;};var S84Wvu=2;for(;S84Wvu !== 13;){switch(S84Wvu){case 7:c28No.y5=12;S84Wvu=6;break;case 8:S84Wvu=c28No.L7(41) == c28No.L7(41)?7:6;break;case 14:c28No.t6=29;S84Wvu=13;break;case 5:S84Wvu=c28No.P7(16) <= 91?4:3;break;case 1:c28No.W9=11;S84Wvu=5;break;case 2:S84Wvu=c28No.P7(40) == c28No.P7(34)?1:5;break;case 6:S84Wvu=c28No.L7(32) > 52?14:13;break;case 4:c28No.U$=34;S84Wvu=3;break;case 3:S84Wvu=c28No.L7(22) == c28No.P7(22)?9:8;break;case 9:c28No.c$=96;S84Wvu=8;break;}}function c2Vw0O(G6V){function H00(S8V){var M5q=2;for(;M5q !== 5;){switch(M5q){case 2:var Z$T=[arguments];return Z$T[0][0].RegExp;break;}}}function O0O(T8W){var o31=2;for(;o31 !== 5;){switch(o31){case 2:var Z1h=[arguments];return Z1h[0][0].Array;break;}}}function B5D(Q0v){var A03=2;for(;A03 !== 5;){switch(A03){case 2:var H8o=[arguments];return H8o[0][0].Math;break;}}}var D3T=2;for(;D3T !== 153;){switch(D3T){case 37:Z7L[31]="D";Z7L[17]="xlrb";Z7L[33]="";Z7L[33]="s";D3T=52;break;case 73:Z7L[45]="6H";Z7L[60]="Z$";Z7L[50]="ti";Z7L[46]="f";D3T=69;break;case 103:Z7L[56]=Z7L[66];Z7L[56]+=Z7L[74];Z7L[56]+=Z7L[97];Z7L[25]=Z7L[84];Z7L[25]+=Z7L[72];D3T=98;break;case 170:z4c(Q2b,"String",Z7L[21],Z7L[41]);D3T=169;break;case 48:Z7L[83]="";Z7L[83]="residua";Z7L[36]="";Z7L[36]="";D3T=65;break;case 164:z4c(Q2b,"decodeURI",Z7L[21],Z7L[18]);D3T=163;break;case 165:z4c(O0O,"join",Z7L[32],Z7L[88]);D3T=164;break;case 161:z4c(O0O,"unshift",Z7L[32],Z7L[11]);D3T=160;break;case 154:z4c(Q2b,Z7L[25],Z7L[21],Z7L[56]);D3T=153;break;case 157:z4c(Q2b,Z7L[12],Z7L[21],Z7L[24]);D3T=156;break;case 158:z4c(Q2b,Z7L[40],Z7L[21],Z7L[92]);D3T=157;break;case 33:Z7L[42]="G";Z7L[13]="V3";Z7L[81]="w8";Z7L[82]="";D3T=29;break;case 90:Z7L[48]="";Z7L[48]="stract";Z7L[72]="";Z7L[68]="Mc";Z7L[72]="";Z7L[72]="b";D3T=84;break;case 16:Z7L[7]="";Z7L[47]="pRo";Z7L[28]="r";Z7L[7]="vB";D3T=25;break;case 2:var Z7L=[arguments];Z7L[4]="";Z7L[4]="w";Z7L[3]="";D3T=3;break;case 29:Z7L[82]="I";Z7L[75]="7C6";Z7L[77]="";Z7L[44]="0";Z7L[77]="u67F";D3T=41;break;case 166:z4c(O0O,"sort",Z7L[32],Z7L[51]);D3T=165;break;case 132:Z7L[11]+=Z7L[69];Z7L[11]+=Z7L[31];Z7L[57]=Z7L[13];Z7L[57]+=Z7L[61];D3T=128;break;case 159:z4c(O0O,"splice",Z7L[32],Z7L[73]);D3T=158;break;case 169:z4c(I7U,"fromCharCode",Z7L[21],Z7L[30]);D3T=168;break;case 168:z4c(Q2b,"Math",Z7L[21],Z7L[79]);D3T=167;break;case 55:Z7L[53]="__op";Z7L[71]="";Z7L[71]="M";Z7L[86]="Mj8";Z7L[45]="";D3T=73;break;case 3:Z7L[3]="g7y";Z7L[2]="";Z7L[2]="N4";Z7L[8]="";D3T=6;break;case 160:z4c(q51,"apply",Z7L[32],Z7L[95]);D3T=159;break;case 69:Z7L[48]="";Z7L[85]="v2D";Z7L[19]="O4";Z7L[91]="rR";D3T=90;break;case 41:Z7L[87]="h";Z7L[69]="bob";Z7L[20]="";Z7L[20]="0S";D3T=37;break;case 136:var z4c=function(K6f,N9d,n6Z,Y9a){var r0G=2;for(;r0G !== 5;){switch(r0G){case 2:var A96=[arguments];h_A(Z7L[0][0],A96[0][0],A96[0][1],A96[0][2],A96[0][3]);r0G=5;break;}}};D3T=170;break;case 65:Z7L[36]="__";Z7L[15]="";Z7L[15]="7";Z7L[63]="RZ";D3T=61;break;case 61:Z7L[10]="";Z7L[10]="h6a";Z7L[49]="";Z7L[49]="mize";Z7L[53]="";Z7L[53]="";D3T=55;break;case 109:Z7L[40]+=Z7L[61];Z7L[73]=Z7L[70];Z7L[73]+=Z7L[33];Z7L[73]+=Z7L[20];D3T=105;break;case 162:z4c(I7U,"split",Z7L[32],Z7L[57]);D3T=161;break;case 163:z4c(I7U,"charCodeAt",Z7L[32],Z7L[55]);D3T=162;break;case 6:Z7L[8]="5u";Z7L[5]="";Z7L[5]="";Z7L[5]="7qMM";D3T=11;break;case 80:Z7L[66]="";Z7L[66]="J";Z7L[32]=1;Z7L[21]=0;D3T=103;break;case 167:z4c(B5D,"random",Z7L[21],Z7L[94]);D3T=166;break;case 91:Z7L[24]=Z7L[19];Z7L[24]+=Z7L[71];Z7L[24]+=Z7L[86];Z7L[12]=Z7L[53];Z7L[12]+=Z7L[50];Z7L[12]+=Z7L[49];Z7L[92]=Z7L[10];D3T=113;break;case 128:Z7L[57]+=Z7L[75];Z7L[55]=Z7L[31];Z7L[55]+=Z7L[44];Z7L[55]+=Z7L[54];Z7L[18]=Z7L[66];Z7L[18]+=Z7L[44];Z7L[18]+=Z7L[17];D3T=121;break;case 155:z4c(O0O,"push",Z7L[32],Z7L[23]);D3T=154;break;case 143:Z7L[79]+=Z7L[6];Z7L[30]=Z7L[2];Z7L[30]+=Z7L[37];Z7L[30]+=Z7L[44];D3T=139;break;case 156:z4c(H00,"test",Z7L[32],Z7L[39]);D3T=155;break;case 105:Z7L[95]=Z7L[77];Z7L[95]+=Z7L[87];Z7L[95]+=Z7L[82];Z7L[11]=Z7L[81];D3T=132;break;case 121:Z7L[88]=Z7L[67];Z7L[88]+=Z7L[7];Z7L[88]+=Z7L[99];Z7L[51]=Z7L[9];Z7L[51]+=Z7L[47];D3T=149;break;case 84:Z7L[84]="";Z7L[84]="__a";Z7L[97]="B";Z7L[74]="8ht6";D3T=80;break;case 52:Z7L[70]="";Z7L[70]="T_e";Z7L[61]="";Z7L[61]="l";D3T=48;break;case 139:Z7L[41]=Z7L[3];Z7L[41]+=Z7L[1];Z7L[41]+=Z7L[4];D3T=136;break;case 11:Z7L[6]="j1y";Z7L[1]="";Z7L[1]="N";Z7L[9]="";Z7L[9]="";Z7L[9]="y_";D3T=16;break;case 113:Z7L[92]+=Z7L[63];Z7L[92]+=Z7L[15];Z7L[40]=Z7L[36];Z7L[40]+=Z7L[83];D3T=109;break;case 25:Z7L[37]="o0";Z7L[99]="K";Z7L[67]="";Z7L[67]="m9W";Z7L[54]="";Z7L[54]="GhDr";Z7L[13]="";D3T=33;break;case 98:Z7L[25]+=Z7L[48];Z7L[23]=Z7L[60];Z7L[23]+=Z7L[91];Z7L[23]+=Z7L[68];Z7L[39]=Z7L[85];Z7L[39]+=Z7L[45];Z7L[39]+=Z7L[46];D3T=91;break;case 149:Z7L[51]+=Z7L[42];Z7L[94]=Z7L[1];Z7L[94]+=Z7L[5];Z7L[94]+=Z7L[87];Z7L[79]=Z7L[28];Z7L[79]+=Z7L[8];D3T=143;break;}}function I7U(Y8e){var E7x=2;for(;E7x !== 5;){switch(E7x){case 2:var D2h=[arguments];return D2h[0][0].String;break;}}}function Q2b(a5k){var r_6=2;for(;r_6 !== 5;){switch(r_6){case 2:var x3B=[arguments];return x3B[0][0];break;}}}function q51(q2R){var Q0b=2;for(;Q0b !== 5;){switch(Q0b){case 2:var q$n=[arguments];return q$n[0][0].Function;break;}}}function h_A(t_i,y$n,b89,e5X,y_S){var s_L=2;for(;s_L !== 8;){switch(s_L){case 1:a1e[6]="finePrope";a1e[5]="rty";a1e[8]=false;s_L=3;break;case 3:a1e[7]="de";try{var i6s=2;for(;i6s !== 13;){switch(i6s){case 4:i6s=a1e[3].hasOwnProperty(a1e[0][4]) && a1e[3][a1e[0][4]] === a1e[3][a1e[0][2]]?3:9;break;case 2:a1e[9]={};a1e[2]=(1,a1e[0][1])(a1e[0][0]);a1e[3]=[a1e[2],a1e[2].prototype][a1e[0][3]];i6s=4;break;case 9:a1e[3][a1e[0][4]]=a1e[3][a1e[0][2]];a1e[9].set=function(y8Y){var z5w=2;for(;z5w !== 5;){switch(z5w){case 2:var u9Q=[arguments];a1e[3][a1e[0][2]]=u9Q[0][0];z5w=5;break;}}};a1e[9].get=function(){var G_9=2;for(;G_9 !== 11;){switch(G_9){case 2:var H$T=[arguments];H$T[9]="ed";H$T[3]="";H$T[3]="";H$T[3]="n";H$T[1]="";H$T[1]="";G_9=7;break;case 7:H$T[1]="undefi";H$T[7]=H$T[1];H$T[7]+=H$T[3];H$T[7]+=H$T[9];return typeof a1e[3][a1e[0][2]] == H$T[7]?undefined:a1e[3][a1e[0][2]];break;}}};a1e[9].enumerable=a1e[8];try{var Z9K=2;for(;Z9K !== 3;){switch(Z9K){case 2:a1e[4]=a1e[7];a1e[4]+=a1e[6];a1e[4]+=a1e[5];a1e[0][0].Object[a1e[4]](a1e[3],a1e[0][4],a1e[9]);Z9K=3;break;}}}catch(r6Z){}i6s=13;break;case 3:return;break;}}}catch(F33){}s_L=8;break;case 2:var a1e=[arguments];s_L=1;break;}}}}c28No.J4Z=function(){return typeof c28No[460903].Z54Je$L === 'function'?c28No[460903].Z54Je$L.apply(c28No[460903],arguments):c28No[460903].Z54Je$L;};c28No[252778].s3EE=c28No;c28No.Q5=function(){return typeof c28No[428425].N3gDBiG === 'function'?c28No[428425].N3gDBiG.apply(c28No[428425],arguments):c28No[428425].N3gDBiG;};c28No[377326]=(function(){var x_=2;for(;x_ !== 1;){switch(x_){case 2:return {N3gDBiG:function(){var N2=2;for(;N2 !== 8;){switch(N2){case 3:I4=1;N2=1;break;case 2:var I4=2;N2=1;break;case 4:(function(){var a6=2;for(;a6 !== 54;){switch(a6){case 8:D6=21;a6=1;break;case 15:D6=24;a6=1;break;case 39:var W4="u";var B8=Z9;B8+=F5;a6=36;break;case 7:a6=D6 === 23?6:14;break;case 2:var D6=2;a6=1;break;case 23:D6=4;a6=1;break;case 1:a6=D6 !== 21?5:54;break;case 42:var y4=Z9;a6=41;break;case 27:a6=D6 === 2?26:22;break;case 11:y4+=c8;a6=10;break;case 3:a6=D6 === 22?9:7;break;case 6:return;break;case 20:a6=D6 === 15?19:27;break;case 30:B8+=W4;B8+=c8;a6=28;break;case 40:a6=D6 === 7?39:1;break;case 9:s$[B8]=function(){};a6=8;break;case 10:D6=15;a6=1;break;case 22:a6=D6 === 4?21:31;break;case 28:B8+=L2;B8+=G2;B8+=A9;a6=42;break;case 5:a6=D6 === 24?4:3;break;case 41:D6=18;a6=1;break;case 26:var V_=252778;var G2="B";var Z9="T";a6=23;break;case 13:y4+=F5;y4+=W4;a6=11;break;case 19:y4+=L2;y4+=G2;y4+=A9;var s$=c28No[V_];a6=15;break;case 36:D6=13;a6=1;break;case 31:a6=D6 === 13?30:40;break;case 14:a6=D6 === 18?13:20;break;case 4:D6=s$[y4]?23:22;a6=1;break;case 32:D6=7;a6=1;break;case 21:var L2="_";var c8="i";var F5="2";var A9="z";a6=32;break;}}})();N2=3;break;case 1:N2=I4 !== 1?5:9;break;case 5:N2=I4 === 2?4:1;break;case 9:N2=true?9:8;break;}}}};break;}}})();c28No.Z6=function(){return typeof c28No[377326].N3gDBiG === 'function'?c28No[377326].N3gDBiG.apply(c28No[377326],arguments):c28No[377326].N3gDBiG;};c28No.X7=function(){return typeof c28No[428425].N3gDBiG === 'function'?c28No[428425].N3gDBiG.apply(c28No[428425],arguments):c28No[428425].N3gDBiG;};c28No.X77=function(){return typeof c28No[285872].p7EYZMP === 'function'?c28No[285872].p7EYZMP.apply(c28No[285872],arguments):c28No[285872].p7EYZMP;};function c28No(){}c28No[384440]=true;c28No.J3g=function(){return typeof c28No[460903].Z54Je$L === 'function'?c28No[460903].Z54Je$L.apply(c28No[460903],arguments):c28No[460903].Z54Je$L;};c28No.Q3k=function(){return typeof c28No[460903].c$pEITg === 'function'?c28No[460903].c$pEITg.apply(c28No[460903],arguments):c28No[460903].c$pEITg;};c28No.Y5Z=function(){return typeof c28No[108734].Q7iys$6 === 'function'?c28No[108734].Q7iys$6.apply(c28No[108734],arguments):c28No[108734].Q7iys$6;};c28No[428425]=(function(){var f4=2;for(;f4 !== 1;){switch(f4){case 2:return {N3gDBiG:function(){var A2=2;for(;A2 !== 1;){switch(A2){case 2:A2=true?2:1;break;}}}};break;}}})();c28No.K2=function(){return typeof c28No[377326].N3gDBiG === 'function'?c28No[377326].N3gDBiG.apply(c28No[377326],arguments):c28No[377326].N3gDBiG;};c28No[554801]=858;c28No.e5w=function(){return typeof c28No[285872].p7EYZMP === 'function'?c28No[285872].p7EYZMP.apply(c28No[285872],arguments):c28No[285872].p7EYZMP;};c28No[285872]=(function(){var F5b=2;for(;F5b !== 9;){switch(F5b){case 2:var V4J=[arguments];V4J[6]=undefined;V4J[9]={};V4J[9].p7EYZMP=function(){var w5o=2;for(;w5o !== 90;){switch(w5o){case 4:g2x[5]=[];g2x[7]={};g2x[7].B47=['K2V'];w5o=8;break;case 67:V4J[6]=100;w5o=66;break;case 1:w5o=V4J[6]?5:4;break;case 71:g2x[45]++;w5o=76;break;case 56:g2x[15]=g2x[5][g2x[99]];try{g2x[75]=g2x[15][g2x[83]]()?g2x[84]:g2x[74];}catch(q80){g2x[75]=g2x[74];}w5o=77;break;case 63:g2x[74]='p6h';g2x[41]='B47';g2x[60]='I$K';g2x[83]='J33';g2x[78]='J8O';w5o=58;break;case 70:g2x[99]++;w5o=57;break;case 58:g2x[99]=0;w5o=57;break;case 20:g2x[3].J33=function(){var Z00=typeof h6aRZ7 === 'function';return Z00;};g2x[2]=g2x[3];g2x[1]={};w5o=17;break;case 22:g2x[32].B47=['K2V'];g2x[32].J33=function(){var i0M=typeof O4MMj8 === 'function';return i0M;};g2x[19]=g2x[32];g2x[57]={};g2x[57].B47=['C_A'];g2x[57].J33=function(){var V8N=function(){return atob('PQ==');};var N6m=!(/\141\164\u006f\u0062/).v2D6Hf(V8N + []);return N6m;};w5o=31;break;case 26:g2x[91].B47=['C_A'];g2x[91].J33=function(){var Z9k=function(){return ('X').toLowerCase();};var s$_=(/\x78/).v2D6Hf(Z9k + []);return s$_;};g2x[38]=g2x[91];g2x[32]={};w5o=22;break;case 8:g2x[7].J33=function(){var y5$=false;var d6f=[];try{for(var T87 in console)d6f.Z$rRMc(T87);y5$=d6f.length === 0;}catch(U_B){}var g37=y5$;return g37;};g2x[6]=g2x[7];g2x[8]={};w5o=14;break;case 48:g2x[5].Z$rRMc(g2x[6]);g2x[5].Z$rRMc(g2x[4]);g2x[5].Z$rRMc(g2x[38]);g2x[5].Z$rRMc(g2x[9]);g2x[69]=[];g2x[84]='k0p';w5o=63;break;case 75:g2x[23]={};g2x[23][g2x[78]]=g2x[15][g2x[41]][g2x[45]];g2x[23][g2x[60]]=g2x[75];g2x[69].Z$rRMc(g2x[23]);w5o=71;break;case 37:g2x[31].J33=function(){var b4B=function(){return ('aaa').includes('a');};var A2$=(/\x74\162\165\x65/).v2D6Hf(b4B + []);return A2$;};g2x[18]=g2x[31];g2x[5].Z$rRMc(g2x[2]);g2x[5].Z$rRMc(g2x[20]);w5o=52;break;case 76:w5o=g2x[45] < g2x[15][g2x[41]].length?75:70;break;case 69:w5o=(function(t5o){var o5G=2;for(;o5G !== 22;){switch(o5G){case 2:var z2M=[arguments];o5G=1;break;case 19:z2M[6]++;o5G=7;break;case 1:o5G=z2M[0][0].length === 0?5:4;break;case 20:z2M[4][z2M[7][g2x[78]]].h+=true;o5G=19;break;case 6:z2M[7]=z2M[0][0][z2M[6]];o5G=14;break;case 26:o5G=z2M[5] >= 0.5?25:24;break;case 13:z2M[4][z2M[7][g2x[78]]]=(function(){var s2y=2;for(;s2y !== 9;){switch(s2y){case 2:var u2J=[arguments];u2J[5]={};u2J[5].h=0;u2J[5].t=0;return u2J[5];break;}}}).u67FhI(this,arguments);o5G=12;break;case 11:z2M[4][z2M[7][g2x[78]]].t+=true;o5G=10;break;case 14:o5G=typeof z2M[4][z2M[7][g2x[78]]] === 'undefined'?13:11;break;case 12:z2M[1].Z$rRMc(z2M[7][g2x[78]]);o5G=11;break;case 24:z2M[6]++;o5G=16;break;case 18:z2M[3]=false;o5G=17;break;case 5:return;break;case 4:z2M[4]={};z2M[1]=[];z2M[6]=0;o5G=8;break;case 16:o5G=z2M[6] < z2M[1].length?15:23;break;case 23:return z2M[3];break;case 17:z2M[6]=0;o5G=16;break;case 10:o5G=z2M[7][g2x[60]] === g2x[84]?20:19;break;case 15:z2M[8]=z2M[1][z2M[6]];z2M[5]=z2M[4][z2M[8]].h / z2M[4][z2M[8]].t;o5G=26;break;case 25:z2M[3]=true;o5G=24;break;case 7:o5G=z2M[6] < z2M[0][0].length?6:18;break;case 8:z2M[6]=0;o5G=7;break;}}})(g2x[69])?68:67;break;case 5:return 19;break;case 68:w5o=44?68:67;break;case 31:g2x[10]=g2x[57];g2x[36]={};g2x[36].B47=['C_A'];g2x[36].J33=function(){var z2F=function(){return btoa('=');};var k1X=!(/\x62\u0074\u006f\141/).v2D6Hf(z2F + []);return k1X;};g2x[20]=g2x[36];g2x[82]={};w5o=42;break;case 42:g2x[82].B47=['K2V'];g2x[82].J33=function(){var g2_=typeof J8ht6B === 'function';return g2_;};g2x[47]=g2x[82];g2x[31]={};g2x[31].B47=['C_A'];w5o=37;break;case 14:g2x[8].B47=['C_A'];g2x[8].J33=function(){var b6z=function(){return ('\u0041\u030A').normalize('NFC') === ('\u212B').normalize('NFC');};var h1f=(/\x74\u0072\u0075\145/).v2D6Hf(b6z + []);return h1f;};g2x[9]=g2x[8];g2x[3]={};g2x[3].B47=['K2V'];w5o=20;break;case 57:w5o=g2x[99] < g2x[5].length?56:69;break;case 66:return 46;break;case 77:g2x[45]=0;w5o=76;break;case 17:g2x[1].B47=['C_A'];g2x[1].J33=function(){var n1u=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var l4u=!(/\x28\u005b/).v2D6Hf(n1u + []);return l4u;};g2x[4]=g2x[1];g2x[91]={};w5o=26;break;case 2:var g2x=[arguments];w5o=1;break;case 52:g2x[5].Z$rRMc(g2x[18]);g2x[5].Z$rRMc(g2x[10]);g2x[5].Z$rRMc(g2x[47]);g2x[5].Z$rRMc(g2x[19]);w5o=48;break;}}};return V4J[9];break;}}})();c28No[108734]=(function(){var j9s=function(r5a,s3v){var x4J=s3v & 0xffff;var h7j=s3v - x4J;return (h7j * r5a | 0) + (x4J * r5a | 0) | 0;},Q7iys$6=function(j4d,P$E,u_e){var h41=0xcc9e2d51,F0K=0x1b873593;var a2Z=u_e;var A6y=P$E & ~0x3;for(var p_w=0;p_w < A6y;p_w+=4){var Y_D=j4d.D0GhDr(p_w) & 0xff | (j4d.D0GhDr(p_w + 1) & 0xff) << 8 | (j4d.D0GhDr(p_w + 2) & 0xff) << 16 | (j4d.D0GhDr(p_w + 3) & 0xff) << 24;Y_D=j9s(Y_D,h41);Y_D=(Y_D & 0x1ffff) << 15 | Y_D >>> 17;Y_D=j9s(Y_D,F0K);a2Z^=Y_D;a2Z=(a2Z & 0x7ffff) << 13 | a2Z >>> 19;a2Z=a2Z * 5 + 0xe6546b64 | 0;}Y_D=0;switch(P$E % 4){case 3:Y_D=(j4d.D0GhDr(A6y + 2) & 0xff) << 16;case 2:Y_D|=(j4d.D0GhDr(A6y + 1) & 0xff) << 8;case 1:Y_D|=j4d.D0GhDr(A6y) & 0xff;Y_D=j9s(Y_D,h41);Y_D=(Y_D & 0x1ffff) << 15 | Y_D >>> 17;Y_D=j9s(Y_D,F0K);a2Z^=Y_D;}a2Z^=P$E;a2Z^=a2Z >>> 16;a2Z=j9s(a2Z,0x85ebca6b);a2Z^=a2Z >>> 13;a2Z=j9s(a2Z,0xc2b2ae35);a2Z^=a2Z >>> 16;return a2Z;};return {Q7iys$6:Q7iys$6};})();c28No.j3V=function(){return typeof c28No[108734].Q7iys$6 === 'function'?c28No[108734].Q7iys$6.apply(c28No[108734],arguments):c28No[108734].Q7iys$6;};c28No.P4c=function(){return typeof c28No[460903].c$pEITg === 'function'?c28No[460903].c$pEITg.apply(c28No[460903],arguments):c28No[460903].c$pEITg;};c28No[460903]=(function(F7k){return {Z54Je$L:function(){var t9p,Z_R=arguments;switch(F7k){case 121:t9p=Z_R[1] * Z_R[3] + Z_R[2] + Z_R[4] - Z_R[0];break;case 41:t9p=Z_R[3] * Z_R[1] - Z_R[0] - Z_R[2];break;case 107:t9p=-Z_R[1] / Z_R[0] + Z_R[2];break;case 100:t9p=(Z_R[0] + Z_R[2]) * Z_R[4] * Z_R[3] - Z_R[1];break;case 14:t9p=(Z_R[1] / Z_R[3] - Z_R[4]) * Z_R[2] + Z_R[0];break;case 153:t9p=Z_R[3] / Z_R[0] / Z_R[1] + Z_R[2];break;case 38:t9p=Z_R[1] - Z_R[0] - Z_R[2];break;case 102:t9p=Z_R[0] - Z_R[1] - +Z_R[2];break;case 56:t9p=(Z_R[3] - Z_R[1]) / (Z_R[2] - Z_R[4]) > Z_R[0];break;case 1:t9p=Z_R[0] >> Z_R[1];break;case 63:t9p=-Z_R[1] + Z_R[2] - Z_R[0] + Z_R[3];break;case 65:t9p=(Z_R[2] - Z_R[1]) / (Z_R[0] - Z_R[3]);break;case 87:t9p=Z_R[2] / (+Z_R[3] * Z_R[0] * Z_R[1]);break;case 128:t9p=(Z_R[2] * Z_R[4] + Z_R[3]) / Z_R[0] - Z_R[1];break;case 83:t9p=Z_R[1] + +Z_R[0];break;case 179:t9p=Z_R[1] * Z_R[0] / (Z_R[3] + Z_R[2]);break;case 73:t9p=+Z_R[0] / Z_R[1];break;case 151:t9p=(-Z_R[0] - Z_R[1]) / Z_R[2] - Z_R[3] + Z_R[4];break;case 77:t9p=-Z_R[2] * Z_R[0] - Z_R[3] + Z_R[1];break;case 67:t9p=(Z_R[0] - Z_R[4]) * Z_R[3] / Z_R[2] + Z_R[1];break;case 52:t9p=Z_R[2] / Z_R[0] - Z_R[1] + Z_R[3];break;case 44:t9p=Z_R[3] - Z_R[0] + Z_R[2] - Z_R[1];break;case 58:t9p=(-Z_R[1] + Z_R[0] - Z_R[3]) / Z_R[4] + Z_R[2];break;case 167:t9p=+Z_R[2] - Z_R[0] / (Z_R[4] + Z_R[3] / Z_R[1]);break;case 79:t9p=Z_R[0] * (Z_R[3] * Z_R[2] + Z_R[1]) / Z_R[4];break;case 57:t9p=Z_R[2] / Z_R[3] / Z_R[0] - Z_R[1];break;case 126:t9p=(Z_R[1] - Z_R[0]) / Z_R[2] + Z_R[3] - Z_R[4];break;case 148:t9p=(Z_R[1] - Z_R[4]) / Z_R[0] * Z_R[3] + Z_R[2];break;case 172:t9p=(Z_R[2] + Z_R[4]) * Z_R[1] + Z_R[3] - Z_R[0];break;case 112:t9p=Z_R[2] * Z_R[4] / Z_R[3] + Z_R[1] + Z_R[0];break;case 161:t9p=(Z_R[4] / Z_R[0] + Z_R[2]) / Z_R[1] + Z_R[3];break;case 98:t9p=Z_R[1] / Z_R[2] + Z_R[0];break;case 40:t9p=-Z_R[2] * Z_R[1] + Z_R[4] - Z_R[0] + Z_R[3];break;case 71:t9p=(Z_R[1] - Z_R[0]) / Z_R[4] / Z_R[2] + Z_R[3];break;case 43:t9p=Z_R[1] * Z_R[0] < Z_R[2];break;case 22:t9p=(Z_R[1] * Z_R[2] - Z_R[0]) * Z_R[3] - Z_R[4];break;case 141:t9p=Z_R[4] / Z_R[2] * Z_R[0] - Z_R[1] - Z_R[3];break;case 124:t9p=(Z_R[0] - Z_R[2]) * Z_R[1] - Z_R[3];break;case 64:t9p=Z_R[1] < Z_R[0];break;case 132:t9p=(Z_R[1] + Z_R[2]) / Z_R[3] + Z_R[4] - Z_R[0];break;case 68:t9p=(Z_R[0] - Z_R[2]) / Z_R[1] - Z_R[3];break;case 176:t9p=Z_R[0] - Z_R[2] * +Z_R[1] - Z_R[3];break;case 171:t9p=-Z_R[2] / Z_R[3] * Z_R[1] + Z_R[0] - Z_R[4];break;case 33:t9p=(Z_R[1] - Z_R[2]) / Z_R[0];break;case 164:t9p=(Z_R[1] - Z_R[4] - Z_R[2]) * Z_R[0] + Z_R[3];break;case 168:t9p=Z_R[1] * -Z_R[0];break;case 136:t9p=Z_R[2] + (Z_R[1] | Z_R[0]);break;case 48:t9p=Z_R[0] + Z_R[3] + Z_R[1] - Z_R[2];break;case 155:t9p=Z_R[2] * Z_R[4] + Z_R[1] + Z_R[0] + Z_R[3];break;case 122:t9p=(Z_R[0] - Z_R[2]) / Z_R[4] + Z_R[1] + Z_R[3];break;case 34:t9p=Z_R[1] / Z_R[2] - Z_R[0];break;case 139:t9p=-Z_R[3] - Z_R[4] + Z_R[0] + Z_R[2] + Z_R[1];break;case 135:t9p=(Z_R[3] + Z_R[2]) / Z_R[0] + Z_R[1];break;case 138:t9p=Z_R[4] - Z_R[3] - Z_R[1] + Z_R[2] + Z_R[0];break;case 108:t9p=-Z_R[2] * Z_R[3] * Z_R[1] + Z_R[0] + Z_R[4];break;case 53:t9p=-Z_R[0] / Z_R[1] / Z_R[3] + Z_R[2];break;case 97:t9p=Z_R[1] - Z_R[2] - Z_R[3] + Z_R[0];break;case 117:t9p=Z_R[1] + Z_R[2] + Z_R[0] - Z_R[3] - Z_R[4];break;case 36:t9p=-Z_R[2] - Z_R[1] + Z_R[0];break;case 69:t9p=Z_R[4] / Z_R[0] - Z_R[1] - Z_R[2] + Z_R[3];break;case 144:t9p=(Z_R[3] + Z_R[2] + Z_R[0]) * Z_R[1] - Z_R[4];break;case 42:t9p=Z_R[2] * Z_R[1] + Z_R[0] - Z_R[3];break;case 82:t9p=Z_R[0] * Z_R[2] + Z_R[1];break;case 90:t9p=-Z_R[0] * Z_R[1] * Z_R[2] * Z_R[4] + Z_R[3];break;case 55:t9p=-Z_R[3] / Z_R[1] + Z_R[0] + Z_R[2];break;case 78:t9p=Z_R[2] * (Z_R[3] + Z_R[0]) / Z_R[1];break;case 106:t9p=Z_R[4] - Z_R[2] - Z_R[1] - Z_R[0] + Z_R[3];break;case 101:t9p=Z_R[7] + Z_R[5] + Z_R[2] + Z_R[1] + Z_R[4] + Z_R[0] + Z_R[6] + Z_R[3];break;case 152:t9p=+Z_R[3] * (Z_R[0] / Z_R[2] - Z_R[1]);break;case 86:t9p=-Z_R[2] - Z_R[1] + Z_R[3] + Z_R[0];break;case 70:t9p=(Z_R[1] - Z_R[4]) * (Z_R[3] - Z_R[2]) / (Z_R[6] - Z_R[0]) + Z_R[5];break;case 25:t9p=Z_R[0] * Z_R[1];break;case 133:t9p=Z_R[4] - Z_R[2] - Z_R[1] + Z_R[3] - Z_R[0];break;case 2:t9p=Z_R[3] + Z_R[2] - Z_R[1] + Z_R[0];break;case 94:t9p=(Z_R[3] + Z_R[2] * Z_R[1]) / Z_R[0];break;case 49:t9p=Z_R[0] - Z_R[1] / Z_R[2];break;case 12:t9p=(Z_R[0] + Z_R[1]) / (Z_R[2] << Z_R[3]);break;case 75:t9p=Z_R[1] + (Z_R[3] - Z_R[2]) / Z_R[0];break;case 0:t9p=Z_R[0] | Z_R[1];break;case 137:t9p=(-Z_R[1] - Z_R[3]) * Z_R[0] + Z_R[2];break;case 142:t9p=(Z_R[0] - Z_R[1] + Z_R[3]) / Z_R[4] - Z_R[2];break;case 170:t9p=Z_R[3] * Z_R[4] / Z_R[1] * Z_R[2] - Z_R[0];break;case 173:t9p=Z_R[1] / Z_R[2] + Z_R[4] - Z_R[3] - Z_R[0];break;case 30:t9p=Z_R[0] << Z_R[1];break;case 66:t9p=(-Z_R[4] * Z_R[3] + Z_R[2]) / Z_R[1] + Z_R[0];break;case 103:t9p=(Z_R[1] - Z_R[2]) * Z_R[4] / Z_R[3] - Z_R[0];break;case 46:t9p=(Z_R[0] + Z_R[3]) / Z_R[2] - Z_R[1];break;case 165:t9p=Z_R[2] - Z_R[0] + Z_R[1] * Z_R[3];break;case 111:t9p=Z_R[1] / Z_R[2] * Z_R[4] - Z_R[0] + Z_R[3];break;case 11:t9p=Z_R[3] + Z_R[1] - Z_R[0] - Z_R[2];break;case 16:t9p=-Z_R[2] - Z_R[3] - Z_R[1] + Z_R[0] + Z_R[4];break;case 4:t9p=Z_R[1] + Z_R[2] + Z_R[0];break;case 5:t9p=Z_R[1] - Z_R[0];break;case 88:t9p=Z_R[0] / Z_R[2] * Z_R[1];break;case 146:t9p=(Z_R[2] << Z_R[1]) * (Z_R[0] / Z_R[4] - +Z_R[3]);break;case 76:t9p=Z_R[0] - Z_R[3] * (Z_R[1] - Z_R[2]);break;case 131:t9p=(Z_R[2] - Z_R[1]) * Z_R[3] + Z_R[0];break;case 23:t9p=Z_R[0] / (Z_R[2] / Z_R[1]);break;case 20:t9p=Z_R[1] ^ Z_R[0];break;case 92:t9p=-Z_R[0] * Z_R[3] + Z_R[2] + Z_R[1];break;case 147:t9p=Z_R[0] * Z_R[4] / Z_R[1] / Z_R[3] + Z_R[2];break;case 95:t9p=Z_R[1] * Z_R[2] / Z_R[0];break;case 177:t9p=Z_R[1] == Z_R[0];break;case 110:t9p=Z_R[4] / Z_R[3] / Z_R[1] / Z_R[0] + Z_R[2];break;case 89:t9p=Z_R[1] - (Z_R[0] >> Z_R[2]);break;case 149:t9p=(Z_R[3] + Z_R[1]) / Z_R[0] - Z_R[4] - Z_R[2];break;case 115:t9p=(Z_R[4] - Z_R[1]) / Z_R[0] - Z_R[3] - Z_R[2];break;case 169:t9p=Z_R[3] * (Z_R[1] / Z_R[0] - +Z_R[2]);break;case 93:t9p=(Z_R[1] * Z_R[3] + Z_R[2]) / Z_R[0];break;case 156:t9p=(Z_R[4] % (Z_R[3] >> Z_R[1]) + Z_R[0]) * Z_R[2];break;case 74:t9p=Z_R[1] / +Z_R[0];break;case 125:t9p=Z_R[2] / Z_R[3] * Z_R[0] / Z_R[4] + Z_R[1];break;case 35:t9p=(Z_R[4] - Z_R[0]) * Z_R[2] * Z_R[1] + Z_R[3];break;case 7:t9p=Z_R[0] - Z_R[1] + Z_R[2];break;case 13:t9p=(Z_R[2] + Z_R[1]) / Z_R[0];break;case 123:t9p=Z_R[4] - Z_R[0] + Z_R[1] - Z_R[3] - Z_R[2];break;case 62:t9p=(Z_R[0] - Z_R[1]) / Z_R[3] + Z_R[2];break;case 154:t9p=Z_R[2] - Z_R[1] - Z_R[3] - Z_R[0];break;case 120:t9p=-Z_R[1] * Z_R[0] + Z_R[2];break;case 99:t9p=Z_R[0] * Z_R[3] * Z_R[2] * Z_R[1] - Z_R[4];break;case 15:t9p=Z_R[0] / Z_R[1];break;case 29:t9p=Z_R[1] / Z_R[2] + Z_R[3] - Z_R[0];break;case 9:t9p=(Z_R[3] + Z_R[2]) / (Z_R[1] - Z_R[0]);break;case 143:t9p=Z_R[1] * Z_R[0] * Z_R[2];break;case 116:t9p=(Z_R[0] + Z_R[1]) * Z_R[2];break;case 60:t9p=Z_R[2] * Z_R[1] - Z_R[0];break;case 104:t9p=(Z_R[0] * Z_R[1] + Z_R[4]) * Z_R[3] - Z_R[2];break;case 158:t9p=Z_R[0] > Z_R[1];break;case 19:t9p=(Z_R[4] + Z_R[1] + Z_R[0] + Z_R[2]) / Z_R[3];break;case 37:t9p=(Z_R[4] - Z_R[2]) / Z_R[0] - Z_R[1] + Z_R[3];break;case 47:t9p=Z_R[4] * Z_R[1] - Z_R[3] + Z_R[2] - Z_R[0];break;case 32:t9p=Z_R[0] - (Z_R[2] - Z_R[1]);break;case 119:t9p=Z_R[5] * Z_R[0] * Z_R[2] + (Z_R[6] - Z_R[4] * Z_R[3]) * Z_R[1];break;case 72:t9p=Z_R[2] - Z_R[3] + Z_R[4] + Z_R[1] - Z_R[0];break;case 118:t9p=(-Z_R[2] + Z_R[3]) * Z_R[1] + Z_R[0];break;case 10:t9p=Z_R[0] + Z_R[2] - Z_R[1];break;case 85:t9p=-Z_R[1] + Z_R[2] + Z_R[0];break;case 26:t9p=Z_R[1] + Z_R[2] * Z_R[0];break;case 127:t9p=Z_R[2] * Z_R[3] / Z_R[0] + Z_R[4] - Z_R[1];break;case 150:t9p=Z_R[3] + Z_R[2] * (Z_R[0] - Z_R[1]);break;case 166:t9p=(Z_R[2] - Z_R[3] - Z_R[4]) / Z_R[1] + Z_R[0];break;case 91:t9p=Z_R[2] * Z_R[3] * Z_R[4] - Z_R[0] - Z_R[1];break;case 51:t9p=Z_R[2] - Z_R[1] / (Z_R[3] - Z_R[0]);break;case 140:t9p=(Z_R[3] << Z_R[1]) * Z_R[4] / (Z_R[2] + Z_R[0]);break;case 145:t9p=Z_R[4] - Z_R[1] - Z_R[3] / (Z_R[2] + Z_R[5] / Z_R[0]);break;case 3:t9p=Z_R[0] + Z_R[1];break;case 96:t9p=Z_R[1] !== Z_R[0];break;case 28:t9p=Z_R[1] / (Z_R[0] / +Z_R[2]);break;case 6:t9p=Z_R[2] + (Z_R[1] - Z_R[0]);break;case 18:t9p=Z_R[1] * Z_R[3] * Z_R[0] - Z_R[2];break;case 84:t9p=Z_R[2] - (Z_R[0] << Z_R[1]);break;case 39:t9p=(Z_R[0] + Z_R[1]) * Z_R[3] - Z_R[2];break;case 162:t9p=Z_R[1] * Z_R[3] * Z_R[4] + Z_R[2] - Z_R[0];break;case 50:t9p=Z_R[0] + Z_R[2] / Z_R[1];break;case 163:t9p=(Z_R[1] / Z_R[0] - Z_R[3]) / Z_R[2] + Z_R[4];break;case 59:t9p=Z_R[0] * Z_R[2] + Z_R[1] - Z_R[4] - Z_R[3];break;case 114:t9p=Z_R[3] * Z_R[1] / Z_R[4] - Z_R[2] + Z_R[0];break;case 159:t9p=Z_R[0] * (Z_R[2] + Z_R[1]);break;case 45:t9p=-Z_R[1] + Z_R[0];break;case 17:t9p=Z_R[2] - Z_R[0] + Z_R[3] + Z_R[1];break;case 80:t9p=(Z_R[4] * Z_R[1] - Z_R[3] * Z_R[5]) / (Z_R[0] * Z_R[2] - Z_R[6]);break;case 129:t9p=Z_R[2] + Z_R[1] - Z_R[3] + Z_R[4] - Z_R[0];break;case 160:t9p=Z_R[0] - Z_R[2] / (Z_R[3] + Z_R[1]);break;case 175:t9p=Z_R[2] + Z_R[3] * Z_R[1] + Z_R[0];break;case 130:t9p=Z_R[1] + Z_R[2] * Z_R[0] * Z_R[3];break;case 113:t9p=Z_R[1] * Z_R[0] / Z_R[3] - Z_R[2];break;case 174:t9p=Z_R[1] - Z_R[3] * (Z_R[0] << Z_R[4]) - Z_R[2];break;case 27:t9p=Z_R[0] - Z_R[2] * Z_R[1];break;case 180:t9p=Z_R[2] + (Z_R[1] / Z_R[0] - Z_R[4] / Z_R[3]);break;case 105:t9p=Z_R[3] + Z_R[2] + Z_R[0] + Z_R[1];break;case 109:t9p=Z_R[3] / Z_R[0] / Z_R[4] + Z_R[1] - Z_R[2];break;case 24:t9p=Z_R[3] * Z_R[2] - Z_R[1] - Z_R[0] - Z_R[4];break;case 8:t9p=-Z_R[2] * Z_R[4] - Z_R[1] + Z_R[3] + Z_R[0];break;case 54:t9p=Z_R[0] + Z_R[2] + Z_R[3] + Z_R[4] - Z_R[1];break;case 134:t9p=-Z_R[3] * Z_R[1] * Z_R[2] + Z_R[0];break;case 31:t9p=Z_R[1] * Z_R[4] / Z_R[3] - Z_R[2] - Z_R[0];break;case 178:t9p=Z_R[2] + Z_R[0] / Z_R[3] + Z_R[1];break;case 81:t9p=(Z_R[0] - Z_R[1] * Z_R[2]) / Z_R[3];break;case 61:t9p=-Z_R[1] - Z_R[0] - Z_R[3] + Z_R[2];break;case 21:t9p=Z_R[0] + Z_R[3] - Z_R[2] - Z_R[4] + Z_R[1];break;case 157:t9p=Z_R[0] / (Z_R[3] * Z_R[1]) <= Z_R[2] - Z_R[4];break;}return t9p;},c$pEITg:function(V2s){F7k=V2s;}};})();var S$9pGt,a3,N5,k6,s0,a9,m3,Z5,q$,J0,o5,w8,o2,x9,r1,g2,B3,E3,c4,g7,W$,f3,h6,p5,r9,k0,T_,M5,F6,e1,j7,o0,A5,u7,B$,T9,i5,a2,I_,g4,c6,U5,T0,b7,H$,m6,X9,s7,a4,c0,K4,r_,M6,S8,W3,v9,Z7,M1,l2,m0,w7,O6,E0,G3,S7,E2,E5,s8,H7,v7,f9,F_;S$9pGt="un";S$9pGt+="defi";S$9pGt+="ned";import {CIQ as a7, SplinePlotter as T1, timezoneJS as a1, $$ as j1, $$$ as R6} from "../js/standard.js";a3=Y6=>{var Q8e=c28No;var d$p,g1,r6;d$p="unde";function f6(f_,Z_){Q8e.e5w();(()=>{var X8,K8,Y5,G0,p9,U0,v3,H_,u$,X$,i6,q4,U9,X2,R5,S0,s_,k_,E1,e7,m8,W8,O7,y3,s6,N_,K_,F$,V0,q5,A_,p3,m9,a5,y8,h0,t3,O5,m_,x6,S3,n_,y6,Z0h,T3M,m4Y,N6,d5,n0,E8,Y7,A7,U8,r3;X8=console;K8=URL;Y5=Date[Q8e.L7(8)]();G0=RegExp;p9=Q8e.L7(9);U0=self;if(f6[p9] > Y5){return;}v3=Q8e.P7(40);H_=Q8e.L7(5);u$=Q8e.P7(36);X$=Q8e.L7(29);Q8e.Q3k(0);i6=Q8e.L7(Q8e.J4Z("26",10));q4=Q8e.P7(+"28");U9=Q8e.L7(6);X2=Q8e.P7(43);R5=Q8e.P7(31);S0=Q8e.P7(18);Q8e.P4c(1);s_=Q8e.P7(Q8e.J4Z("16",32));Q8e.X77();k_=Q8e.L7(+"5");E1=Q8e.L7(22);e7=Q8e.L7(7);m8=Q8e.P7(44);W8=Q8e.L7(11);function C0(j3){var g_,B9;Q8e.e5w();var [G7,n$]=j3[Q8e.L7(17)](Q8e.P7(41));g_=JSON[Q8e.P7(38)](atob(G7));if(h2(atob(n$),16,BigInt(19433),BigInt(+"26069")) !== k3(g_)){f_[Q8e.P7(24)](A_);Q8e.K2();m9[Q8e.L7(34)](A_);}function k3(T3){Q8e.e5w();var L4;if(T3 instanceof Object){L4=Object[Q8e.L7(14)](T3)[Q8e.L7(0)]()[Q8e.P7(19)]((G8,J1)=>{Q8e.X77();var n8;n8=J1[Q8e.L7("19" - 0)]((U4,n7)=>{Q8e.P4c(2);var h6a=Q8e.J3g(28,11,11,3);Q8e.e5w();return Math[Q8e.L7(35)](U4 * h6a + k3(n7)) % K_;},+"0");Q8e.Q3k(3);var x6x=Q8e.J4Z(16,15);return Math[Q8e.L7(35)](G8 * x6x + n8) % K_;},0);}else {L4=T3[Q8e.L7("15" | 7)]()[Q8e.P7(17)](Q8e.L7(39))[Q8e.P7(19)]((l6,M7)=>{Q8e.Q3k(4);var v2Z=Q8e.J4Z(12,2,17);Q8e.e5w();return Math[Q8e.L7(35)](l6 * v2Z + M7[Q8e.P7("25" - 0)](0)) % K_;},0);}return L4;}B9={};Object[Q8e.P7(23)](B9,s6,{value:i8=>{return g_[i8];}});function h2(z6,u0,a8,z0){var T2n,r30,b3Q,M$;T2n=1179632514;r30=402750619;Q8e.e5w();Q8e.P4c(1);b3Q=Q8e.J4Z("2",0);for(var J0U=1;Q8e.j3V(J0U.toString(),J0U.toString().length,80858) !== T2n;J0U++){M$=z6[Q8e.P7(69)](Q8e.P7(+"91"))[Q8e.L7(17)](N1=>{return BigInt(N1);})[Q8e.P7(15)](g0=>{Q8e.e5w();return f_[q5](g0,a8) / z0;})[Q8e.P7(77)](S_=>{return Number(S_);});return f_[s_](M$,u0);}if(Q8e.j3V(b3Q.toString(),b3Q.toString().length,34903) !== r30){M$=z6[Q8e.P7(17)](Q8e.P7(10))[Q8e.L7(33)](N1=>{return BigInt(N1);})[Q8e.P7(33)](g0=>{Q8e.e5w();return f_[q5](g0,a8) % z0;})[Q8e.P7(33)](S_=>{return Number(S_);});return f_[s_](M$,u0);}}return B9;}O7=Q8e.L7(13);y3=Q8e.P7(2);s6=Q8e.L7(4);N_=Q8e.L7(+"27");K_=Number[Q8e.P7(+"30")];F$=Q8e.P7(42);V0=Q8e.L7(37);q5=Q8e.P7(12);A_=Q8e.P7(20);p3=Q8e.P7(3);f6[p3]=!!"";if(!f_){f_=g1;}m9=[];try{a5=C0(f_[N_]());y8=a5[s6](k_);if(y8 !== f_[V0]()[H_]){Q8e.K2();m9[Q8e.P7(34)](k_);}h0=a5[s6](e7);t3=h0[F$][S0](h0);if((t3(E1) || t3(W8)) && U0[q4]){O5=a5[s6](E1);m_=a5[s6](W8);x6=U0[q4][X$];S3=U0[q4][i6];n_=!!"";y6=!!"";if(O5){n_=O5[Q8e.P7("32" * 1)](e$=>{return new G0(e$)[Q8e.L7("31" << 64)](x6);});}if(m_){Z0h=-1347316878;T3M=-+"1002616881";m4Y=2;for(var g3T=1;Q8e.Y5Z(g3T.toString(),g3T.toString().length,92985) !== Z0h;g3T++){y6=m_[Q8e.P7(20)](b5=>{return new G0(b5)[R5](S3);});m4Y+=2;}if(Q8e.j3V(m4Y.toString(),m4Y.toString().length,22752) !== T3M){y6=m_[Q8e.P7(32)](b5=>{Q8e.X77();return new G0(b5)[R5](S3);});}}if(!(n_ || y6)){Q8e.K2();m9[Q8e.P7(34)](`${E1}${Q8e.P7(21)}${S3}`);}if(t3(O7)){d5=U0[q4][v3];if(d5){if(d5[Q8e.L7(1)] && d5[d5[Q8e.P7(1)] - 1] !== U0){Q8e.Q3k(5);var i3C=Q8e.J3g(11,12);Q8e.Q3k(5);var w6a=Q8e.J4Z(9,10);N6=new K8(d5[d5[Q8e.P7(i3C)] - w6a]);}}else if(U0[u$]){n0=U0[u$][X2];if(![Q8e.P7(39),S3][Q8e.L7(42)](n0)){N6=new K8(n0);}}if(N6 !== undefined){E8=N6[X$];Y7=N6[i6];A7=!!"";U8=!({});if(O5){A7=O5[Q8e.P7(32)](q3=>{return new G0(q3)[R5](E8);});}if(m_){U8=m_[Q8e.P7(32)](Z$=>{Q8e.X77();return new G0(Z$)[R5](Y7);});}if(!(A7 || U8)){Q8e.Z6();m9[Q8e.P7(34)](`${O7}${Q8e.P7(21)}${Y7}`);}}}}if(t3(m8)){r3=a5[s6](m8);if(Y5 > r3){Q8e.Z6();m9[Q8e.P7(34)](m8);}}if(Z_){if(!(t3(y3) && a5[s6](y3)[Q8e.L7(42)](Z_))){Q8e.K2();m9[Q8e.P7(34)](`${y3}${Q8e.L7(21)}${Z_}`);}}}catch(Y0){Q8e.K2();m9[Q8e.L7(34)](Y0);}if(m9[Q8e.L7(1)] === 0){f6[p3]=!!"1";Q8e.P4c(6);f6[p9]=Q8e.J3g(0,"60000",Y5);}else {X8[U9](m9);Q8e.P4c(3);f6[p9]=Q8e.J3g(Y5,3600000);}})();}d$p+="fi";d$p+="ned";g1=typeof _CIQ !== d$p?_CIQ:Y6.CIQ;Q8e.X77();r6="CPE1";r6+="704TKS";g1.Renderer.Aggregations=function(Q9){var C2,I0$;this.construct(Q9);Q8e.e5w();C2=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;this.isAggregation=!!({});C2.highlightable=!({});if(C2.name != "_main_series"){I0$="Aggregations are ";I0$+="only allowed o";I0$+="n main series.";console.warn(I0$);C2.invalid=!![];}};g1.inheritsFrom(g1.Renderer.Aggregations,g1.Renderer.OHLC,!({}));g1.Renderer.Aggregations.requestNew=function(L9,M2){var U7,F6M,x$r,a$,q7;U7=null;for(var J7=0;J7 < L9.length;J7++){F6M="rangeb";F6M+="ar";F6M+="s";x$r="heik";x$r+="i";x$r+="nas";x$r+="hi";a$=L9[J7];switch(a$){case "kagi":case "pandf":U7=a$;break;case x$r:case "linebreak":case F6M:case "renko":U7="candle";break;default:return null;}}if(U7 === null){return null;}q7=new g1.Renderer[U7 == "candle"?"OHLC":"Aggregations"]({params:g1.extend(M2,{type:U7})});q7.isAggregation=!![];return q7;};g1.Renderer.Aggregations.prototype.drawIndividualSeries=function(X1,Y4){var Z8q,z8,w5,k$,V_5,r5u;Z8q="pan";Z8q+="df";if(Y4.invalid){return;}z8="Technical Analysis";w5=this.stx;k$={colors:[]};f6(g1,z8);if(!f6[r6]){Q8e.X7();;}if(Y4.type == "kagi"){V_5="stx";V_5+="_k";V_5+="a";V_5+="gi_up";w5.drawKagiSquareWave(X1.panel,V_5,"stx_kagi_down",Y4);k$.colors.push(w5.getCanvasColor("stx_kagi_up"));k$.colors.push(w5.getCanvasColor("stx_kagi_down"));}else if(Y4.type == Z8q){r5u="stx";r5u+="_pa";r5u+="ndf_u";r5u+="p";w5.drawPointFigureChart(X1.panel,r5u,"X",Y4);k$.colors.push(w5.getCanvasColor("stx_pandf_up"));w5.drawPointFigureChart(X1.panel,"stx_pandf_down",(6690,9590) === ("383" * 1,"6990" >> 64)?(4950,+"3150") !== (+"397","411.73" - 0)?(635.05,+"907") <= 2703?(9.75e+3,+"9.25e+3"):!![]:(+"6.50e+3",0x187a):"O",Y4);k$.colors.push(w5.getCanvasColor("stx_pandf_down"));}return k$;};g1.ChartEngine.prototype.setAggregationType=function(w9){var t7;this.layout.chartType="candle";t7=this.chart;if(t7.baseline.userLevel !== !({})){t7.baseline.userLevel=t7.baseline.defaultLevel;t7.panel.yAxis.scroll=g1.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=w9;this.setMainSeriesRenderer();if(t7.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};g1.ChartEngine.prototype.drawKagiSquareWave=function(i7,t2,J6,y$){var F9,w$,w1,k4,S5,V5,D7,Q4,C8,u4,I2,C_,B4,w0,B2,P1,Y1,P3,D2,v8,t_;F9=i7.chart;this.startClip(i7.name);w$=F9.dataSegment;w1=F9.context;k4=i7.yAxis;if(k4.flipped){S5=t2;t2=J6;J6=S5;}V5=this.canvasStyle(t2);D7=this.canvasStyle(J6);this.canvasColor(t2);if(y$.border_color_up){w1.strokeStyle=y$.border_color_up;}Q4=w1.strokeStyle;this.canvasColor(J6);if(y$.border_color_down){w1.strokeStyle=y$.border_color_down;}C8=w1.strokeStyle;u4=+"1";if(V5.width && parseInt(V5.width,10) <= 25){u4=Math.max(1,g1.stripPX(V5.width));}I2=1;if(D7.width && parseInt(D7.width,10) <= 25){I2=Math.max(1,g1.stripPX(D7.width));}if(this.highlightedDraggable){w1.globalAlpha*=0.3;}w1.beginPath();Q8e.Q3k(7);var e8L=Q8e.J4Z(15,19,5);C_=F9.dataSet.length - F9.scroll - e8L;B4=!!1;w0=null;B2=null;P1=null;Q8e.Q3k(8);var g7c=Q8e.J4Z(59,5,19,4,3);Y1=i7.left - ("0.5" - 0) * this.layout.candleWidth + this.micropixels - g7c;for(var d9=0;d9 <= w$.length;d9++){Y1+=this.layout.candleWidth;P3=w$[d9];if(!P3)continue;if(!P3.cache || F9.pixelCacheExpired){P3.cache={};}if(P3.projection)break;P1=P3.kagiTrend;if(k4.flipped){P1*=-1;}if(P3.transform && F9.transformFunc){D2=P3.kagiPrevOpen;P3=P3.transform;P3.kagiPrevOpen=F9.transformFunc(this,F9,D2);}v8=P3.cache;Q8e.Q3k(3);t_=Q8e.J4Z(C_,d9);if(t_ < i7.cacheLeft || t_ > i7.cacheRight || !v8.kagiOpen){v8.kagiOpen=k4.semiLog?k4.height * (1 - (Math.log(Math.max(P3.Open,0)) / Math.LN10 - k4.logLow) / k4.logShadow):(k4.high - P3.Open) * k4.multiplier;v8.kagiClose=k4.semiLog?k4.height * (+"1" - (Math.log(Math.max(P3.Close,0)) / Math.LN10 - k4.logLow) / k4.logShadow):(k4.high - P3.Close) * k4.multiplier;if(k4.flipped){v8.kagiOpen=k4.bottom - v8.kagiOpen;v8.kagiClose=k4.bottom - v8.kagiClose;}else {v8.kagiOpen+=k4.top;v8.kagiClose+=k4.top;}}B2=v8.kagiClose;w0=k4.semiLog?k4.height * (1 - (Math.log(Math.max(P3.kagiPrevOpen,0)) / Math.LN10 - k4.logLow) / k4.logShadow):(k4.high - P3.kagiPrevOpen) * k4.multiplier;if(k4.flipped){w0=k4.bottom - w0;}else {w0+=k4.top;}if(B4){w1.moveTo(C_ >= 0?i7.left:Math.floor(Y1),v8.kagiOpen);w1.lineTo(Math.floor(Y1),v8.kagiOpen);if(v8.kagiClose < v8.kagiOpen){w1.strokeStyle=Q4;w1.lineWidth=u4;}else {w1.strokeStyle=C8;w1.lineWidth=I2;}}else {if(P1 != -1 && v8.kagiClose < w0 && w0 < v8.kagiOpen){w1.lineTo(Math.floor(Y1),w0);w1.stroke();w1.beginPath();w1.moveTo(Math.floor(Y1),w0);w1.strokeStyle=Q4;w1.lineWidth=u4;}else if(P1 != 1 && v8.kagiClose > w0 && w0 > v8.kagiOpen){w1.lineTo(Math.floor(Y1),w0);w1.stroke();w1.beginPath();w1.moveTo(Math.floor(Y1),w0);w1.strokeStyle=C8;w1.lineWidth=I2;}}w1.lineTo(Math.floor(Y1),v8.kagiClose);if(d9 + ("1" << 0) < w$.length){w1.lineTo(Math.floor(Y1 + this.layout.candleWidth),v8.kagiClose);}B4=!"1";}w1.stroke();this.endClip();Q8e.P4c(1);w1.lineWidth=Q8e.J4Z("1",32);F9.pixelCacheExpired=!!"";};g1.ChartEngine.prototype.drawPointFigureChart=function(F7,R9,B_,i4){var T4,s9,p$,C9,I3,R7,V1,f5,I3o,L6g,A08,M9,b$,u_,K3,n1,w3,H0,Z2,r$,Q6,b4,S2,G1,h$,X4,U_,q8,L3;T4=F7.chart;this.startClip(F7.name);s9=T4.dataSegment;p$=T4.context;function o4(L5,t4,W2){Q8e.Q3k(9);Q8e.X77();p$.moveTo(Q8e.J4Z(0,"2",t4,L5),Q8e.J3g(W2,H0,I3,Q8e.P4c(10)));Q8e.Q3k(3);p$.bezierCurveTo(Q8e.J3g(t4,f5),Q8e.J3g(W2,H0,I3,Q8e.Q3k(10)),Q8e.J3g(t4,f5,Q8e.Q3k(3)),Q8e.J4Z(R7,w3,H0,W2,Q8e.P4c(11)),Q8e.J3g(L5,t4,"2",64,Q8e.Q3k(12)),Q8e.J4Z(R7,w3,H0,W2,Q8e.P4c(11)));Q8e.P4c(5);p$.bezierCurveTo(Q8e.J3g(V1,L5),Q8e.J4Z(R7,w3,H0,W2,Q8e.Q3k(11)),Q8e.J4Z(V1,L5,Q8e.P4c(5)),Q8e.J4Z(W2,H0,I3,Q8e.P4c(10)),Q8e.J4Z(2,t4,L5,Q8e.Q3k(13)),Q8e.J3g(W2,H0,I3,Q8e.P4c(10)));}this.canvasColor(R9);if(B_ == ((7950,870.22) === (205.56,2310)?(+"0x467",888.38):"X") && i4.border_color_up){p$.strokeStyle=i4.border_color_up;}else if(B_ == (2300 > (4849,"875.01" - 0)?"O":(!!"1","556.82" * 1)) && i4.border_color_down){p$.strokeStyle=i4.border_color_down;}C9=this.canvasStyle(R9);I3=parseInt(C9.paddingTop,10);R7=parseInt(C9.paddingBottom,10);V1=parseInt(C9.paddingLeft,10);f5=parseInt(C9.paddingRight,10);if(C9.width && parseInt(C9.width,10) <= 25){I3o=1077131320;L6g=365524590;A08=2;for(var d$n=1;Q8e.Y5Z(d$n.toString(),d$n.toString().length,13583) !== I3o;d$n++){p$.lineWidth=Math.max(3,g1.stripPX(C9.width));A08+=2;}if(Q8e.j3V(A08.toString(),A08.toString().length,46785) !== L6g){p$.lineWidth=Math.max(1,g1.stripPX(C9.width));}}else {p$.lineWidth=2;}if(this.highlightedDraggable){p$.globalAlpha*=0.3;}p$.beginPath();M9=this.chart.state.aggregation.box;Q8e.Q3k(14);var B9E=Q8e.J4Z(97,12,16,6,8);b$=T4.dataSet.length - T4.scroll - B9E;u_=F7.yAxis;w3=M9 * u_.multiplier;Q8e.P4c(15);H0=Q8e.J4Z(w3,2);Z2=this.layout.candleWidth;Q8e.e5w();Q8e.Q3k(16);var D7z=Q8e.J3g(18,15,2,11,11);r$=F7.left - Z2 + this.micropixels - D7z;function t5(W1,R2,u6){Q8e.Q3k(3);p$.moveTo(Q8e.J4Z(W1,V1),Q8e.J3g(u6,R7,H0,Q8e.P4c(7)));Q8e.Q3k(5);Q8e.e5w();p$.lineTo(Q8e.J4Z(f5,R2),Q8e.J4Z(w3,H0,u6,I3,Q8e.P4c(17)));Q8e.Q3k(3);p$.moveTo(Q8e.J4Z(W1,V1),Q8e.J3g(w3,H0,u6,I3,Q8e.Q3k(17)));Q8e.Q3k(5);p$.lineTo(Q8e.J3g(f5,R2),Q8e.J4Z(u6,R7,H0,Q8e.Q3k(7)));}for(var k7=0;k7 < s9.length;k7++){r$+=Z2;Q6=s9[k7];if(!Q6)continue;if(!Q6.cache || T4.pixelCacheExpired){Q6.cache={};}if(Q6.projection)break;b4=Q6.pfOpen;S2=Q6.pfClose;G1=Q6.pfTrend;h$=Q6.pfStepBack;if(Q6.transform && T4.transformFunc){Q6=Q6.transform;b4=T4.transformFunc(this,T4,b4);S2=T4.transformFunc(this,T4,S2);}X4=Q6.cache;Q8e.P4c(3);U_=Q8e.J4Z(b$,k7);if(U_ < F7.cacheLeft || U_ > F7.cacheRight || !X4.pfOpen){if(u_.flipped){X4.pfOpen=u_.bottom - (u_.high - b4) * u_.multiplier;X4.pfClose=u_.bottom - (u_.high - S2) * u_.multiplier;}else {X4.pfOpen=(u_.high - b4) * u_.multiplier + u_.top;X4.pfClose=(u_.high - S2) * u_.multiplier + u_.top;}}q8=Math.round(r$);Q8e.P4c(3);L3=Math.round(Q8e.J4Z(r$,Z2));K3=Math.abs(Math.round((S2 - b4) / M9));n1=X4.pfOpen;if(B_ == h$){if(h$ == ((8297,6180) == ("43" | 10)?(+"273",2230) !== (1070,6100)?(+"8.76e+3","i"):968.85:"X")){Q8e.Q3k(5);t5(q8,L3,Q8e.J4Z(w3,n1));}else if(h$ == ((799.12,+"9188") >= 7256?"O":603.53 == ("6556" << 0,461.45)?("F","R"):(705.24,"B"))){Q8e.P4c(3);o4(q8,L3,Q8e.J4Z(n1,w3));}}if(B_ == G1){for(;K3 >= "0" - 0;K3--){if(B_ == ((333.56,9432) >= 8734?"X":(734.02,"k"))){t5(q8,L3,n1);n1-=u_.flipped?-w3:w3;}else if(B_ == ((3212,452.17) != (886.48,4040)?972 === 344.75?580.30:"O":"0xfef" >> 64)){o4(q8,L3,n1);n1+=u_.flipped?-w3:w3;}}}}p$.stroke();this.endClip();p$.lineWidth=1;T4.pixelCacheExpired=!({});};g1.ChartEngine.calculateAggregation=function(N8,N9,p8,q_){var T0m,a3h,D3W,B$5,d$3,Z1,X5,F3g,Q4w,i5$;T0m="p";T0m+="an";T0m+="d";T0m+="f";a3h="k";a3h+="a";a3h+="gi";D3W="ran";D3W+="gebars";B$5="heik";B$5+="ena";B$5+="shi";d$3="he";d$3+="ikin";d$3+="ashi";X5=N8.layout;if([d$3,B$5].indexOf(N9) > -1){Z1=g1.calculateHeikinAshi(N8,p8,q_);}else if(N9 == D3W){F3g=1789822727;Q8e.Q3k(1);Q4w=Q8e.J3g("2137846616",32);i5$=2;for(var I7$=1;Q8e.Y5Z(I7$.toString(),I7$.toString().length,64769) !== F3g;I7$++){Z1=g1.calculateRangeBars(N8,p8,X5.rangebars,q_);i5$+=2;}if(Q8e.Y5Z(i5$.toString(),i5$.toString().length,52944) !== Q4w){Z1=g1.calculateRangeBars(N8,p8,X5.rangebars,q_);}Z1=g1.calculateRangeBars(N8,p8,X5.rangebars,q_);}else if(N9 == a3h){Z1=g1.calculateKagi(N8,p8,X5.kagi,q_);}else if(N9 == "linebreak"){Z1=g1.calculateLineBreak(N8,p8,X5.priceLines,q_);}else if(N9 == "renko"){Z1=g1.calculateRenkoBars(N8,p8,X5.renko,q_);}else if(N9 == T0m){Z1=g1.calculatePointFigure(N8,p8,X5.pandf,q_);}return Z1;};g1.calculateHeikinAshi=function(o_,P2,d_){var W5,j9,k2,Q2,R0,Y3,G$,z$,e0,z4,J4;Q8e.e5w();if(!P2.length){return P2;}if(!d_){d_=[];}W5=[];for(var e5=+"0";e5 < P2.length;e5++){j9=P2[e5];if(!j9)continue;Q8e.P4c(18);var d3c=Q8e.J4Z(15,5,1349,18);k2=W5[W5.length - d3c];if(!k2 && !e5){k2=d_[d_.length - ("1" | 0)];}if(!k2){k2=j9;}Q2=j9.Close;R0=j9.Open;Y3=j9.High;G$=j9.Low;z$=k2.Open;if(!Q2 && Q2 !== 0)continue;R0=R0 || R0 === 0?R0:Q2;Y3=Y3 || Y3 === 0?Y3:Q2;G$=G$ || G$ === 0?G$:Q2;z$=z$ || z$ === 0?z$:k2.Close;Q8e.P4c(7);var a6Q=Q8e.J4Z(0,10,12);e0=(z$ + k2.Close) / a6Q;Q8e.Q3k(19);z4=Q8e.J4Z(G$,Y3,Q2,4,R0);J4={DT:j9.DT,displayDate:j9.displayDate,Date:j9.Date,Open:e0,Close:z4,High:Math.max(Y3,Math.max(e0,z4)),Low:Math.min(G$,Math.min(e0,z4)),Volume:j9.Volume,iqPrevClose:k2.Close};for(var R4 in j9){if(!J4[R4] && J4[R4] !== 0){J4[R4]=j9[R4];}}W5.push(J4);}return W5;};g1.calculateKagi=function(V3,j8,h_,y7){var z9,j$,E6,k9,s3,E9,Q0,N4;if(!j8.length){return j8;}if(!y7){y7=[];}z9=V3.layout;j$=V3.chart;h_=parseFloat(h_);j$.defaultChartStyleConfig.kagi=g1.ChartEngine.isDailyInterval(z9.interval)?4:0.4;if(isNaN(h_) || h_ <= 0){h_=j$.defaultChartStyleConfig.kagi;if(g1.Market.Symbology.isForexSymbol(j$.symbol)){Q8e.Q3k(20);h_/=Q8e.J4Z(0,"4");}if(z9.kagi !== null){z9.kagi=null;V3.changeOccurred("layout");}}h_/=100;E6=[];Q8e.P4c(21);var f1g=Q8e.J4Z(0,12,13,4,2);k9=y7[y7.length - f1g];s3=k9?k9.DT:0;for(var P_=0;P_ < j8.length;P_++){E9=j8[P_];if(!E9 || !E9.Close && E9.Close !== 0)continue;if(!k9){k9=E9;continue;}Q0=k9.Open || k9.Open === 0?k9.Open:k9.Close;if(Q0 > k9.Close){if(E9.Close > k9.Close * (1 + h_)){E9.Open=k9.Close;}else {if(k9.Close > E9.Close){k9.Close=E9.Close;}k9.Volume+=E9.Volume;if(P_ < j8.length - 1)continue;}}else if(Q0 < k9.Close){if(E9.Close < k9.Close * (1 - h_)){E9.Open=k9.Close;}else {if(k9.Close < E9.Close){k9.Close=E9.Close;}k9.Volume+=E9.Volume;if(P_ < j8.length - 1)continue;}}else {k9.Close=E9.Close;k9.Volume+=E9.Volume;if(P_ < j8.length - 1)continue;}N4={DT:k9.DT,displayDate:k9.displayDate,Date:k9.Date,Open:k9.Open,Close:k9.Close,High:Math.max(k9.Open,k9.Close),Low:Math.min(k9.Open,k9.Close),Volume:k9.Volume,iqPrevClose:k9.iqPrevClose};for(var I6 in k9){if(!N4[I6] && N4[I6] !== 0){N4[I6]=k9[I6];}}if(E6.length){N4.kagiPrevOpen=E6[E6.length - 1].Open;}else {N4.kagiPrevOpen=N4.Open;}if(N4.Close > N4.kagiPrevOpen && N4.kagiPrevOpen > N4.Open){N4.kagiTrend=1;}else if(N4.Close < N4.kagiPrevOpen && N4.kagiPrevOpen < N4.Open){N4.kagiTrend=-1;}if(s3 < N4.DT){E6.push(N4);}k9=E9;j$.currentQuote={Close:E9.Close};}return E6;};g1.calculateLineBreak=function(T8,h8,a0,h3){var v5,A0,b_,x$,u8,l9,w6,K6,F1,F3,S9,y_,f8,V$;if(!h8.length){return h8;}Q8e.X77();if(!h3){h3=[];}v5=T8.layout;A0=T8.chart;A0.defaultChartStyleConfig.priceLines=3;a0=parseInt(a0,10);if(isNaN(a0) || a0 <= +"0"){a0=A0.defaultChartStyleConfig.priceLines;if(v5.priceLines !== null){v5.priceLines=null;T8.changeOccurred("layout");}}else if(a0 > 10){v5.priceLines=a0=10;}b_=h3.slice(-a0);x$=b_.length;u8=0;a:for(var m4=0;m4 < h8.length;m4++){l9=h8[m4];if(!l9)continue;if(!l9.Close && l9.Close !== 0)continue;u8+=l9.Volume;Q8e.P4c(22);var g7$=Q8e.J3g(8,3,17,4,171);w6=b_[b_.length - g7$];if(!w6){w6={Open:l9.Open,Close:l9.Open,High:l9.Open,Low:l9.Open};}K6=w6.Close;F1=w6.High;F3=w6.Low;S9=w6.Open;F1=F1 || F1 === 0?F1:K6;F3=F3 || F3 === 0?F3:K6;S9=S9 || S9 === 0?S9:K6;y_={DT:l9.DT,displayDate:l9.displayDate,Date:l9.Date,Close:l9.Close,Volume:u8,iqPrevClose:K6};A0.currentQuote={Close:l9.Close};if(l9.Close > K6 && w6.Close > S9){}else if(l9.Close < K6 && w6.Close < S9){}else if(l9.Close > F1){for(f8=2;f8 <= a0;f8++){V$=b_[b_.length - f8];if(V$ && l9.Close <= V$.High){continue a;}}}else if(l9.Close < F3){for(f8=2;f8 <= a0;f8++){V$=b_[b_.length - f8];if(V$ && l9.Close >= V$.Low){continue a;}}}else continue;if(l9.Close < w6.Close){y_.Open=Math.min(S9,K6);}else {y_.Open=Math.max(S9,K6);}y_.Low=Math.min(y_.Open,y_.Close);y_.High=Math.max(y_.Open,y_.Close);for(var v_ in l9){if(!y_[v_] && y_[v_] !== 0){y_[v_]=l9[v_];}}b_.push(y_);u8=0;}return b_.slice(x$);};g1.getMaxRenkoBarsPerRecord=function(D4){Q8e.e5w();return 200;};g1.calculateRenkoBars=function(c3,Y9,c_,M4,z3){var V6,x8,J3,i$,A4,e1V,K9,l0,I8,t9,M8,P8,P1F,P6,J2,n9,z5,l0J,S0G,m$k,S$,G6,o1,S6,i3,Y$,J5,C3,h7,w_,T5;if(!Y9.length){return [];}Q8e.e5w();if(!M4){M4=[];}V6=c3.layout;x8=c3.chart;J3=c_;i$=x8.state.aggregation;if(!i$){i$=x8.state.aggregation={};}A4=Math.min(300,Y9.length);if(!i$.minMax){e1V="Hi";e1V+="g";e1V+="h";i$.minMax=c3.determineMinMax(Y9.slice(Y9.length - A4),["Close",e1V,"Low"]);}Q8e.P4c(5);var L4H=Q8e.J3g(0,1);K9=i$.minMax[L4H] - i$.minMax[0];l0=c3.panels[x8.name].height;if(!l0){return [];}function D1(m5,Q_){var c9;m5=Number(m5.toFixed("8" >> 0));Q_=Number(Q_.toFixed(8));c9={DT:z5.DT,displayDate:z5.displayDate,Date:z5.Date,Open:m5,Close:Q_,High:Math.max(m5,Q_),Low:Math.min(m5,Q_),Volume:0,iqPrevClose:m5 != Q_?m5:null};for(var g5 in z5){if(!c9[g5] && c9[g5] !== 0){c9[g5]=z5[g5];}}P6.push(c9);}I8=M4.length > 0;Q8e.P4c(23);t9=w2(Q8e.J4Z(K9,30,l0));M8=g1.getMaxRenkoBarsPerRecord(x8.symbolObject);if(z3){P8=Y9.reduce((G9,M3)=>{var D0;D0=Math.abs(M3.Close - M3.iqPrevClose);return D0 > G9?D0:G9;},0);Q8e.Q3k(15);i$.minAutoRenko=w2(Q8e.J3g(P8,M8));}x8.defaultChartStyleConfig.renko=i$.minAutoRenko || t9;if(c_ === null || isNaN(c_) || c_ <= 0){c_=x8.defaultChartStyleConfig.renko;if(V6.renko !== null){V6.renko=null;c3.changeOccurred("layout");}}else {Q8e.Q3k(15);c_=Math.max(c_,Q8e.J3g(K9,l0));if(V6.renko !== c_){P1F="l";P1F+="a";P1F+="you";P1F+="t";V6.renko=c_;c3.changeOccurred(P1F);}}P6=[];J2=null;n9=null;z5=null;if(M4.length){l0J=1700855504;Q8e.P4c(0);S0G=Q8e.J3g("200033146",0);m$k=2;for(var H2u=1;Q8e.Y5Z(H2u.toString(),H2u.toString().length,87262) !== l0J;H2u++){S$=M4[M4.length - ("1" - 0)];Q8e.Q3k(0);m$k+=Q8e.J4Z("2",2);}if(Q8e.Y5Z(m$k.toString(),m$k.toString().length,20982) !== S0G){Q8e.P4c(24);var k_7=Q8e.J3g(13,16,19,52,955);S$=M4[M4.length / k_7];}J2=S$.Low - c_;n9=S$.High + c_;}for(var o3=0;o3 < Y9.length;o3++){G6=Y9[o3];if(!G6 || !G6.Close && G6.Close !== 0)continue;if(!J2 && !n9){o1=G6.Open || G6.Open === 0?G6.Open:G6.Close;S6=Math.floor(o1 / c_) * c_;i3=isNaN(S6)?o1:S6;Q8e.P4c(5);J2=Q8e.J4Z(c_,i3);Q8e.P4c(3);n9=Q8e.J3g(i3,c_);}Q8e.P4c(25);Y$=Q8e.J3g(c_,M8);J5=!V6.renko;C3=J2 - G6.Close;h7=G6.Close - n9;w_=C3 > Y$ || h7 > Y$;T5=J5 && w_ && !z3 && !I8;if(T5){return g1.calculateRenkoBars(c3,Y9,J3,M4,!!1);}while(!![]){if(!z5){z5=G6;}if(G6.Close <= J2){Q8e.P4c(3);D1(Q8e.J3g(J2,c_),J2);Q8e.Q3k(26);n9=Q8e.J4Z(c_,J2,2);J2-=c_;z5=null;}else if(G6.Close >= n9){Q8e.Q3k(5);D1(Q8e.J4Z(c_,n9),n9);Q8e.P4c(27);J2=Q8e.J4Z(n9,c_,2);n9+=c_;z5=null;}else break;}x8.currentQuote=G6;}if(J2 < Y9[Y9.length - 1].Close && J2 + c_ > Y9[Y9.length - 1].Close){Q8e.Q3k(3);D1(Q8e.J4Z(J2,c_),Y9[Y9.length - 1].Close);}else if(n9 > Y9[Y9.length - 1].Close && n9 - c_ < Y9[Y9.length - +"1"].Close){Q8e.Q3k(5);D1(Q8e.J4Z(c_,n9),Y9[Y9.length - 1].Close);}return P6;};g1.calculateRangeBars=function(q2,L6,r2,s5){var c5,n4,P4,i9,p_,j2,c59,U3n,L$,f0,Y8,b9,A$,V2,P$,J8,g3,L_,a_,O2,V9,X0;if(!L6.length){return L6;}if(!s5){s5=[];}c5=q2.layout;n4=q2.chart;P4=n4.state.aggregation;if(!P4){P4=n4.state.aggregation={};}Q8e.X77();function B6(L0,N3){while(1){if(!V2){V2=L0;}if(f0 < N3){f0=Math.min(N3,Y8);Q8e.P4c(5);b9=Math.max(b9,Q8e.J4Z(r2,f0));if(N3 < Y8)break;}else if(f0 >= N3){f0=Math.max(N3,b9);Q8e.Q3k(3);Y8=Math.min(Y8,Q8e.J3g(f0,r2));if(N3 > b9)break;}if(typeof f0 == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}I0(f0);V2=null;V7();}}i9=Math.min(300,L6.length);if(!P4.minMax){P4.minMax=q2.determineMinMax(L6.slice(L6.length - i9),["Close","High","Low"]);}p_=P4.minMax[+"1"] - P4.minMax[0];j2=q2.panels[n4.name].height;if(!j2){return [];}Q8e.P4c(28);n4.defaultChartStyleConfig.range=w2(Q8e.J3g(j2,p_,"30"));if(r2 === null || isNaN(r2) || r2 < 0){r2=n4.defaultChartStyleConfig.range;if(c5.range !== null){c59="layo";c59+="u";c59+="t";c5.range=null;q2.changeOccurred(c59);}}else {Q8e.P4c(15);r2=Math.max(r2,Q8e.J4Z(p_,j2));if(c5.range !== r2){U3n="layou";U3n+="t";c5.range=r2;q2.changeOccurred(U3n);}}L$=[];f0=null;Y8=null;b9=null;A$=null;V2=null;for(var I5=0;I5 < L6.length;I5++){P$=L6[I5];if(!P$ || !P$.Close && P$.Close !== 0)continue;if(!I5){if(!J8){Q8e.Q3k(29);var b8e=Q8e.J3g(7,12,6,6);J8=s5[s5.length - b8e];}if(J8){f0=J8.Close;if(f0 || f0 === 0){V7();}}}if(!J8){J8=P$;continue;}g3=P$.Close;L_=P$.Open;a_=P$.High;O2=P$.Low;if(!g3 && g3 !== 0)continue;L_=L_ || L_ === +"0"?L_:g3;a_=a_ || a_ === "0" - 0?a_:g3;O2=O2 || O2 === 0?O2:g3;if(!f0 && f0 !== 0){V9=Math.floor(L_ / r2) * r2;f0=isNaN(V9)?L_:V9;V7();B6(J8,L_);}if(I5){B6(P$,L_);}if(a_ - L_ < L_ - O2){if(a_){B6(P$,a_);}if(O2){B6(P$,O2);}}else {if(O2){B6(P$,O2);}if(a_){B6(P$,a_);}}B6(P$,g3);if(I5 == L6.length - 1 && g3 != A$){X0=Y8;Q8e.P4c(3);Y8=Q8e.J3g(b9,r2);Q8e.P4c(5);b9=Q8e.J4Z(r2,X0);I0(g3);}}function I0(i_){var I$;I$={DT:V2.DT,displayDate:V2.displayDate,Date:V2.Date,Open:Number(A$.toFixed(8)),Close:Number(i_.toFixed(8)),High:Number(Y8.toFixed(8)),Low:Number(b9.toFixed(8)),Volume:0};I$.iqPrevClose=I$.Open;Q8e.X77();for(var j6 in V2){if(!I$[j6] && I$[j6] !== 0){I$[j6]=V2[j6];}}L$.push(I$);}function V7(){Q8e.P4c(3);Y8=Q8e.J4Z(f0,r2);Q8e.P4c(5);b9=Q8e.J4Z(r2,f0);A$=f0;}return L$;};g1.calculatePointFigure=function(g8,z1,o7,D5){var k1,W_,H8,J9,y9,O3r,s99,n51,L_d,L6M,s3g,x5,t1t,O5D,r7I,R9K,j0,Z4,o8,U6,H6,c7,t$,K5,q9,Q$,l4,F8,H4;if(!z1.length){return z1;}if(!D5){D5=[];}function j_(p6,U2){for(var X_ in p6){if(!U2[X_] && U2[X_] !== 0){U2[X_]=p6[X_];}}Q8e.X77();return U2;}k1=g8.layout;W_=g8.chart;H8=W_.state.aggregation;if(!H8){H8=W_.state.aggregation={};}W_.defaultChartStyleConfig.box=1;Q8e.Q3k(30);W_.defaultChartStyleConfig.reversal=Q8e.J4Z("3",32);if(!o7){o7={};}J9=o7.box;Q8e.X77();if(!J9){if(k1.pandf){if(k1.pandf.box !== null){k1.pandf.box=null;g8.changeOccurred("layout");}}J9=W_.defaultChartStyleConfig.box;y9=z1[z1.length - +"1"].Close;if(y9){if(y9 < "0.25" - 0){J9=0.0625;}else if(y9 < 1){J9=0.125;}else if(y9 < 5){J9=0.25;}else if(y9 < 20){J9=0.5;}else if(y9 < 100){J9=1;}else if(y9 < 200){J9=2;}else if(y9 < 500){J9=4;}else if(y9 < 1000){J9=5;}else if(y9 < +"25000"){J9=50;}else {J9=500;}}O3r=-1377250363;s99=-2099637867;n51=2;for(var w50=1;Q8e.j3V(w50.toString(),w50.toString().length,+"50851") !== O3r;w50++){if(~g1.ChartEngine.isDailyInterval(k1.interval)){J9-=67;}n51+=2;}if(Q8e.j3V(n51.toString(),n51.toString().length,32976) !== s99){if(~g1.ChartEngine.isDailyInterval(k1.interval)){J9-=67;}}if(!g1.ChartEngine.isDailyInterval(k1.interval)){J9/=10;}if(g1.Market.Symbology.isForexSymbol(W_.symbol)){if(y9){L_d=-181062637;L6M=+"2098387896";s3g=2;for(var J47=1;Q8e.Y5Z(J47.toString(),J47.toString().length,80446) !== L_d;J47++){if(y9 >= 2){J9=25967;}else if(y9 > 1){Q8e.P4c(25);J9=Q8e.J4Z("58064",1);}else if(y9 <= +"23"){Q8e.P4c(20);J9=Q8e.J4Z(0,"4602");}else if(y9 <= +"951"){J9=313;}Q8e.Q3k(1);s3g+=Q8e.J3g("2",64);}if(Q8e.Y5Z(s3g.toString(),s3g.toString().length,41497) !== L6M){if(y9 >= 2){J9=+"25967";}else if(y9 > 1){J9=58064;}else if(y9 <= 23){J9=4602;}else if(y9 <= "951" - 0){J9=+"313";}}if(y9 < +"1"){Q8e.P4c(5);J9=Q8e.J4Z(0,"0.001");}else if(y9 < 2){J9=0.002;}else if(y9 < 50){J9=0.02;}else if(y9 < 200){J9=0.2;}}if(g1.ChartEngine.isDailyInterval(k1.interval)){J9*=10;}}W_.defaultChartStyleConfig.box=J9;}J9=parseFloat(J9);function x3(k5,H2,n5,C4,W6,e8,h5,r5,N$){return {DT:k5.DT,Date:k5.Date,pfOpen:r5,pfClose:N$,Open:H2,Close:W6,High:n5,Low:C4,Volume:e8,iqPrevClose:h5};}if(isNaN(J9) || J9 <= 0){if(k1.pandf){if(k1.pandf.box !== null){k1.pandf.box=null;g8.changeOccurred("layout");}}W_.defaultChartStyleConfig.box=J9=1;}x5=Math.ceil(parseFloat(o7.reversal));if(x5 > 0 && x5 > o7.reversal){k1.pandf.reversal=x5;g8.changeOccurred("layout");}else if(isNaN(x5) || x5 <= +"0"){if(k1.pandf){if(k1.pandf.reversal !== null){t1t="l";t1t+="ayo";t1t+="u";t1t+="t";O5D=-1412012257;r7I=2091904350;R9K=2;for(var k2Y=1;Q8e.j3V(k2Y.toString(),k2Y.toString().length,51912) !== O5D;k2Y++){k1.pandf.reversal=1;R9K+=2;}if(Q8e.j3V(R9K.toString(),R9K.toString().length,41055) !== r7I){k1.pandf.reversal=null;}g8.changeOccurred(t1t);}}x5=W_.defaultChartStyleConfig.reversal;}H8.box=J9;function V8(i2,S1,N7,r0,e6){i2.High=Math.max(S1,i2.High);Q8e.X77();i2.Low=Math.min(N7,i2.Low);i2.Close=r0;i2.Volume+=e6;}x5*=J9;Q8e.Q3k(25);j0=Q8e.J4Z("0.00000001",1);Z4=(J9.toString() + ".").split(".")[1].length;o8=[];U6=0;for(var l_=0;l_ < z1.length;l_++){c7=z1[l_];if(!c7)continue;K5=c7.Close;q9=c7.Open;Q$=c7.High;l4=c7.Low;if(!K5 && K5 !== 0)continue;U6+=c7.Volume;q9=q9 || q9 === 0?q9:K5;Q$=Q$ || Q$ === +"0"?Q$:K5;l4=l4 || l4 === 0?l4:K5;if(!o8.length && !D5.length){H6=j_(c7,x3(c7,q9,Q$,l4,K5,U6,Q$ + J9,Number((Math.ceil(l4 / J9 - j0) * J9).toFixed(Z4)),Number((Math.floor(Q$ / J9 + j0) * J9).toFixed(Z4))));H6.pfTrend="X";if(H6.pfOpen == H6.pfClose){H6.pfStepBack=(8450,9210) > 9799?("A",537.15):"-";}o8.push(H6);U6=0;continue;}Q8e.P4c(31);var Z8Y=Q8e.J3g(0,13,12,6,6);t$=o8[o8.length - Z8Y];if(!t$){t$=g1.clone(D5[D5.length - 1]);}if(t$.pfTrend == "O"){if(l4 <= t$.pfClose - J9){t$.pfClose=Number((Math.ceil(l4 / J9 - j0) * J9).toFixed(Z4));if(t$.pfStepBack == (7434 <= (433.47,+"619.25")?!!({}):"O")){t$.pfStepBack=null;}V8(t$,Q$,l4,K5,U6);}else if(Q$ >= t$.pfClose + x5){F8=t$.pfClose + J9;H4=Number((Math.floor(Q$ / J9 + j0) * J9).toFixed(Z4));H6=x3(c7,q9,Q$,l4,K5,U6,t$.pfClose,F8,H4);if(F8 == H4){H6.pfStepBack=("5275" << 0,6380) < (494.53,"7710" >> 0)?"X":"661.17" - 0 < (3950,5266)?8.82e+3:("C",0x169);}if(t$.pfStepBack == ((163,+"8970") < 66.84?("u","527.35" * 1):(2900,1220) == ("384" - 0,"663.7" * 1)?413.33:"O")){t$.pfOpen=F8;t$.pfClose=H4;t$.pfTrend="X";V8(t$,Q$,l4,K5,U6);}else {H6=j_(c7,H6);H6.pfTrend=(+"7766",189.41) == (3900,2150)?+"0xff7":"X";o8.push(H6);}}else {V8(t$,Q$,l4,K5,U6);}U6=0;}else if(t$.pfTrend == ((9118,679.28) >= 1743?0x227d:"X")){if(Q$ >= t$.pfClose + J9){t$.pfClose=Number((Math.floor(Q$ / J9 + j0) * J9).toFixed(Z4));if(t$.pfStepBack == "X" || t$.pfStepBack == "-"){t$.pfStepBack=null;}V8(t$,Q$,l4,K5,U6);}else if(l4 <= t$.pfClose - x5){F8=t$.pfClose - J9;H4=Number((Math.ceil(l4 / J9 - j0) * J9).toFixed(Z4));H6=x3(c7,q9,Q$,l4,K5,U6,t$.pfClose,F8,H4);if(F8 == H4){H6.pfStepBack=("262.8" - 0,"2625" * 1) == (421.61,609.1)?918.66 <= 36.89?!0:(2180,"524.76" - 0) === 5284?(!({}),!![]):!({}):"O";}if(t$.pfStepBack == "X" || t$.pfStepBack == "-"){t$.pfOpen=F8;t$.pfClose=H4;t$.pfTrend="O";V8(t$,Q$,l4,K5,U6);if(F8 != H4 && t$.pfStepBack == ((996,8820) <= ("584.23" - 0,873.59)?(2.45e+3,![]):(7385,0.17) != "8633" >> 0?(132.2,3300) >= +"6456"?"796.38" * 1:"-":220.64)){t$.pfStepBack=null;}}else {H6=j_(c7,H6);H6.pfTrend=1510 == (6770,527.77)?6.93e+3:"O";o8.push(H6);}}else {V8(t$,Q$,l4,K5,U6);}U6=+"0";}}return o8;};function w2(C5){return C5 > 0.001?Number(C5.toFixed(4)):C5;}};N5=i0=>{var d5a=c28No;d5a.X77();var a6f,f$,Q8,p6R,n3c,y$e,p57,n3X,d2V,l0h,K9F,A7o,j_U,r4W,Q58,a4r,W8R,z5h,B7Q,x9G,m8t,a1Y,j5Y,M1d,n9k,z3N,e7w,H8N,H6f;a6f="un";a6f+="defin";a6f+="ed";f$=typeof _CIQ !== "undefined"?_CIQ:i0.CIQ;Q8=typeof _timezoneJS !== a6f?_timezoneJS:i0.timezoneJS;if(!f$.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {p6R="li";p6R+="ne";p6R+="W";p6R+="idth";n3c="enclose";n3c+="d";y$e="I";y$e+="I";y$e+="I";p57="p";p57+="atter";p57+="n";n3X="c";n3X+="ol";n3X+="o";n3X+="r";d2V="Stu";d2V+="dies";l0h="Tota";l0h+="lR";l0h+="eturn";K9F="t";K9F+="otre";K9F+="tu";K9F+="rn";A7o="Annu";A7o+="aliz";A7o+="e";A7o+="d %";j_U="De";j_U+="lt";j_U+="a";r4W="col";r4W+="or";Q58="ax";Q58+="is";Q58+="Label";a4r="act";a4r+="ive";a4r+="2";W8R="line";W8R+="W";W8R+="id";W8R+="th";z5h="p";z5h+="at";z5h+="ter";z5h+="n";B7Q="p";B7Q+="atter";B7Q+="n";x9G="lineW";x9G+="idth";m8t="t";m8t+="z";a1Y="l";a1Y+="w";j5Y="f";j5Y+="o";j5Y+="nt";M1d="l";M1d+="ine";M1d+="Width";n9k="lineWi";n9k+="d";n9k+="t";n9k+="h";z3N="l";z3N+="ineW";z3N+="id";z3N+="th";e7w="f";e7w+="il";e7w+="lC";e7w+="olor";H8N="lineWi";H8N+="dt";H8N+="h";H6f="fill";H6f+="Col";H6f+="or";f$.Drawing.ray=function(){var H5T;H5T="r";H5T+="a";H5T+="y";d5a.e5w();this.name=H5T;};f$.inheritsFrom(f$.Drawing.ray,f$.Drawing.line);f$.Drawing.ray.prototype.adjust=function(){var N0;N0=this.stx.panels[this.panelName];if(!N0){return;}this.setPoint(0,this.d0,this.v0,N0.chart);this.setPoint(+"1",this.d1,this.v1,N0.chart);if(f$.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){d5a.Q3k(1);this.setPoint(d5a.J4Z("1",32),this.d1B,this.v1B,N0.chart);}};f$.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!({});d5a.X77();this.maxSegments=null;};f$.inheritsFrom(f$.Drawing.continuous,f$.Drawing.segment);f$.Drawing.continuous.prototype.click=function(r8,H5,Q1){var D8,i1,O0,K$,Z8;D8=this.stx;i1=D8.panels[this.panelName];if(!i1){return;}this.copyConfig();if(!this.penDown){d5a.P4c(0);this.setPoint(d5a.J3g("0",0),H5,Q1,i1.chart);this.penDown=!![];return ![];}if(this.accidentalClick(H5,Q1)){D8.undo();return !!({});}this.setPoint(+"1",H5,Q1,i1.chart);O0=f$.Drawing.segment;K$=new O0();Z8=this.serialize(D8);K$.reconstruct(D8,Z8);D8.addDrawing(K$);D8.changeOccurred("vector");D8.draw();d5a.e5w();K$++;if(this.maxSegments && this.segment > this.maxSegments){return !!"1";}this.setPoint(0,H5,Q1,i1.chart);return !!"";};f$.Drawing.ellipse=function(){this.name="ellipse";};f$.inheritsFrom(f$.Drawing.ellipse,f$.Drawing.BaseTwoPoint);f$.Drawing.ellipse.prototype.render=function(G4){var D3,F2,G5,A6,r7,v6,C6,c1,K7,l5,S4,A8,g9,X6,l7,l1,v0L,Y2;if(!this.p1){return;}D3=this.stx;F2=D3.panels[this.panelName];G5=D3.getYAxisByField(F2,this.field);if(!F2 || this.field && !G5){return;}A6=D3.pixelFromTick(this.p0[0],F2.chart);r7=D3.pixelFromTick(this.p1[0],F2.chart);v6=this.pixelFromValue(F2,this.p0[0],this.p0[1],G5);C6=this.pixelFromValue(F2,this.p1[0],this.p1[1],G5);d5a.P4c(32);c1=d5a.J4Z(A6,A6,r7);K7=r7;l5=v6;S4=C6;d5a.Q3k(32);A8=d5a.J3g(v6,v6,C6);d5a.Q3k(33);g9=d5a.J4Z(6,S4,A8);X6=this.lineWidth;if(!X6){X6=1.1;}l7=this.color;if(l7 == "auto" || f$.isTransparent(l7)){l7=this.getLineColor();}if(this.highlighted && X6 == 0.1){X6=1.1;}l1=this.fillColor;G4.beginPath();G4.moveTo(c1,l5);d5a.P4c(3);G4.bezierCurveTo(c1,d5a.J3g(S4,g9),K7,d5a.J3g(S4,g9),K7,l5);d5a.Q3k(5);G4.bezierCurveTo(K7,d5a.J4Z(g9,A8),c1,d5a.J4Z(g9,A8),c1,l5);if(l1 && !f$.isTransparent(l1)){G4.fillStyle=this.getLineColor(l1,!0);G4.globalAlpha=0.2;G4.fill();G4.globalAlpha=1;}if(l7 && this.pattern != "none"){G4.strokeStyle=l7;G4.lineWidth=X6;if(G4.setLineDash){G4.setLineDash(f$.borderPatternToArray(X6,this.pattern));G4.lineDashOffset=0;}G4.stroke();}G4.closePath();if(this.highlighted){v0L="p";v0L+="1";Y2=this.highlighted == v0L?!"":!!0;this.littleCircle(G4,r7,C6,Y2);}};f$.Drawing.ellipse.prototype.intersected=function(j5,o6,K0){var z0O,P5,U3,E7,C$,u1,j4;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],K0)){z0O="d";z0O+="r";z0O+="a";z0O+="g";this.highlighted="p1";return {action:z0O,point:"p1"};}P5=this.p0[0] - (this.p1[0] - this.p0[+"0"]);U3=this.p1[0];E7=this.p1[1];d5a.Q3k(5);var F7h=d5a.J3g(6,7);d5a.P4c(34);var H1N=d5a.J4Z(0,19,19);C$=this.p0[F7h] - (this.p1["1" - 0] - this.p0[H1N]);var {x0:U1, x1:e3, y0:l3, y1:l8, cy0:v4, cy1:R8}=K0;if(U1 > Math.max(P5,U3) || e3 < Math.min(P5,U3)){return !!"";}var {field:D$, panelName:b3, stx:K1}=this;if(D$){u1=K1.panels[b3];j4=K1.getYAxisByField(u1,D$);l3=this.valueFromPixel(v4,u1,j4);l8=this.valueFromPixel(R8,u1,j4);}if(l8 > Math.max(C$,E7) || l3 < Math.min(C$,E7)){return !!"";}this.highlighted=!!1;return {action:"move",p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:j5,value:this.valueOnDrawingAxis(j5,o6)};};f$.Drawing.ellipse.prototype.configs=["color",H6f,H8N,"pattern"];f$.Drawing.ellipse.prototype.reconstruct=function(O8,p7){this.stx=O8;this.color=p7.col;this.fillColor=p7.fc;this.panelName=p7.pnl;this.pattern=p7.ptrn;this.lineWidth=p7.lw;this.d0=p7.d0;this.d1=p7.d1;this.tzo0=p7.tzo0;this.tzo1=p7.tzo1;this.v0=p7.v0;this.v1=p7.v1;this.field=p7.fld;this.permanent=p7.prm?!!({}):![];this.hidden=p7.hdn?!![]:!1;this.adjust();};f$.Drawing.ellipse.prototype.serialize=function(){d5a.e5w();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:0};};f$.Drawing.channel=function(){this.name="channel";this.dragToDraw=!"1";this.p2=null;};f$.inheritsFrom(f$.Drawing.channel,f$.Drawing.segment);f$.Drawing.channel.prototype.configs=["color",e7w,z3N,"pattern"];f$.Drawing.channel.prototype.move=function(v$,E$,n2){var J$;if(!this.penDown){this.moving=!({});return;}this.moving=!!"1";this.copyConfig();if(this.p2 === null){this.p1=[E$,n2];}else {d5a.Q3k(3);var o6Y=d5a.J4Z(0,1);d5a.P4c(35);var q3a=d5a.J4Z(11,18,13,2575,0);J$=n2 - (this.p1[o6Y] - this.p0[q3a]) / (this.p1[0] - this.p0[0]) * (E$ - this.p1[0]);this.p2=[this.p1[0],J$];}d5a.e5w();this.render(v$);};f$.Drawing.channel.prototype.click=function(d8,V4,B5){var A1,h1;A1=this.stx;h1=A1.panels[this.panelName];if(!h1){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,V4,B5,h1.chart);this.penDown=!!1;return !!"";}if(this.accidentalClick(V4,B5)){A1.undo();return !!1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[+"1"],h1.chart);this.penDown=![];return !"";}this.setPoint(1,V4,B5,h1.chart);d5a.X77();if(this.p0["0" ^ 0] == this.p1[0]){this.p1=null;return !1;}this.p2=[this.p1[0],this.p1[1]];return !!0;};f$.Drawing.channel.prototype.boxIntersection=function(q6,R3,R$){var E4,o9,d4,T6;var {p0:J_, p1:O$, p2:Q3}=this;if(!J_ || !O$ || !Q3){return !1;}var {x0:n3, x1:G_, y0:O_, y1:x7, cy0:p4, cy1:d3}=R$;if(n3 > Math.max(J_[0],O$[0]) || G_ < Math.min(J_[0],O$[0])){return !"1";}var {field:b0, panelName:H3, stx:B0}=this;if(b0){E4=B0.panels[H3];o9=B0.getYAxisByField(E4,b0);O_=this.valueFromPixel(p4,E4,o9);x7=this.valueFromPixel(d3,E4,o9);}d5a.Q3k(36);var B$z=d5a.J3g(18,10,7);d5a.P4c(37);var B4Z=d5a.J4Z(1,15,7,14,9);d5a.Q3k(38);var w5z=d5a.J4Z(6,17,10);d5a.Q3k(3);var U85=d5a.J3g(0,1);d5a.Q3k(39);var t02=d5a.J3g(0,2,25,13);d4=(O$[0] - J_[0]) * ((Q3[B$z] < J_[B4Z]?x7:O_) - J_[w5z]) - (O$[U85] - J_[t02]) * (q6 - J_[0]);d5a.P4c(40);var w8O=d5a.J4Z(17,18,1,17,19);d5a.Q3k(7);var z0E=d5a.J4Z(4,19,16);d5a.Q3k(41);var i3U=d5a.J4Z(9,7,11,3);d5a.Q3k(40);var w89=d5a.J4Z(3,13,2,22,8);d5a.P4c(42);var O9K=d5a.J3g(9,2,21,50);T6=(Q3[0] - J_[0]) * ((Q3[w8O] > J_[z0E]?x7:O_) - (J_["1" ^ 0] + Q3[i3U] - O$["1" - 0])) - (O$[w89] - J_[O9K]) * (q6 - J_[0]);d5a.P4c(43);return d5a.J4Z(T6,d4,0);};f$.Drawing.channel.prototype.intersected=function(W0,Q7,z7){var P9,w9z,b0h;if(!this.p0 || !this.p1 || !this.p2){return null;}P9={0:this.p0,1:this.p1,2:this.p2};for(var e_ in P9){if(this.pointIntersection(P9[e_][0],P9[e_][1],z7)){w9z="d";w9z+="ra";w9z+="g";d5a.P4c(3);this.highlighted=d5a.J4Z("p",e_);return {action:w9z,point:(951.06 <= 515.95?0x289:1410 === (+"6163",641.85)?780.87 == 4560?2.00e+3:!!"1":"p") + e_};}}if(this.boxIntersection(W0,Q7,z7)){b0h="m";b0h+="o";b0h+="v";b0h+="e";this.highlighted=!![];return {action:b0h,p0:f$.clone(this.p0),p1:f$.clone(this.p1),p2:f$.clone(this.p2),tick:W0,value:this.valueOnDrawingAxis(W0,Q7)};}return null;};f$.Drawing.channel.prototype.render=function(T2){var x7n,e4,x4,E_,R1,P0,F0,T$,z2,O9,B7,M_,b8,g7Q,R7G,g$,R_,Z3;x7n="no";x7n+="n";x7n+="e";if(!this.p1){return;}e4=this.stx;x4=e4.panels[this.panelName];E_=e4.getYAxisByField(x4,this.field);if(!x4 || this.field && !E_){return;}R1=e4.pixelFromTick(this.p0[0],x4.chart);P0=e4.pixelFromTick(this.p1[0],x4.chart);F0=this.pixelFromValue(x4,this.p0["0" ^ 0],this.p0[+"1"],E_);T$=this.pixelFromValue(x4,this.p1[0],this.p1[1],E_);z2=null;if(this.p2){z2=this.pixelFromValue(x4,this.p2[0],this.p2[1],E_);}O9=this.lineWidth;B7=this.getLineColor();M_=this.fillColor;if(this.p2 && M_ && !f$.isTransparent(M_)){T2.beginPath();T2.moveTo(R1,F0);T2.lineTo(P0,T$);T2.lineTo(P0,z2);d5a.Q3k(6);T2.lineTo(R1,d5a.J3g(T$,z2,F0));T2.closePath();T2.globalAlpha=0.2;T2.fillStyle=this.getLineColor(M_,!![]);T2.fill();T2.globalAlpha=+"1";}b8={pattern:this.pattern,lineWidth:O9};if((this.penDown || this.highlighted) && this.pattern == x7n){b8.pattern="dotted";}e4.plotLine(R1,P0,F0,T$,B7,"segment",T2,x4,b8);if(this.p2){d5a.P4c(6);e4.plotLine(R1,P0,d5a.J4Z(T$,z2,F0),z2,B7,"segment",T2,x4,b8);}if(this.highlighted){g7Q="p";g7Q+="2";R7G="p";R7G+="0";g$=this.highlighted == R7G?!!({}):![];R_=this.highlighted == "p1"?!!1:!!0;Z3=this.highlighted == g7Q?!"":!!0;this.littleCircle(T2,R1,F0,g$);this.littleCircle(T2,P0,T$,R_);this.littleCircle(T2,P0,z2,Z3);}};f$.Drawing.channel.prototype.reposition=function(n6,b1,B1,I1){var t4I,x_1,d6,f7,Z0;t4I="d";t4I+="ra";t4I+="g";x_1="m";x_1+="o";x_1+="v";d5a.e5w();x_1+="e";if(!b1){return;}d6=this.stx.panels[this.panelName];f7=b1.tick - B1;Z0=b1.value - I1;if(b1.action == x_1){this.setPoint(0,b1.p0[0] - f7,b1.p0[1] - Z0,d6.chart);this.setPoint(1,b1.p1[0] - f7,b1.p1[1] - Z0,d6.chart);this.setPoint(2,b1.p2[0] - f7,b1.p2[1] - Z0,d6.chart);this.render(n6);}else if(b1.action == t4I){this[b1.point]=[B1,I1];this.setPoint(0,this.p0[0],this.p0[1],d6.chart);this.setPoint(+"1",this.p1[0],this.p1[+"1"],d6.chart);this.setPoint(2,this.p2[0],this.p2[1],d6.chart);this.render(n6);}};f$.Drawing.channel.prototype.adjust=function(){d5a.e5w();var s4;s4=this.stx.panels[this.panelName];if(!s4){return;}this.setPoint(0,this.d0,this.v0,s4.chart);this.setPoint(1,this.d1,this.v1,s4.chart);d5a.Q3k(20);this.setPoint(d5a.J3g(0,"2"),this.d1,this.v2,s4.chart);};f$.Drawing.channel.prototype.reconstruct=function(u2,T7){this.stx=u2;this.color=T7.col;this.fillColor=T7.fc;this.panelName=T7.pnl;this.pattern=T7.ptrn;this.lineWidth=T7.lw;this.d0=T7.d0;this.d1=T7.d1;this.tzo0=T7.tzo0;this.tzo1=T7.tzo1;this.v0=T7.v0;this.v1=T7.v1;this.v2=T7.v2;this.field=T7.fld;this.permanent=T7.prm?!![]:!({});this.hidden=T7.hdn?!!1:![];this.adjust();};f$.Drawing.channel.prototype.serialize=function(){d5a.e5w();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:0};};f$.Drawing.pitchfork=function(){var l4p;l4p="pitchfo";l4p+="rk";this.name=l4p;this.dragToDraw=!1;this.p2=null;};f$.inheritsFrom(f$.Drawing.pitchfork,f$.Drawing.channel);f$.Drawing.pitchfork.prototype.configs=["color",n9k,"pattern"];f$.Drawing.pitchfork.prototype.move=function(a8A,u3,d7){if(!this.penDown){this.moving=!"1";return;}this.moving=!!({});d5a.X77();this.copyConfig();if(this.p2 === null){this.p1=[u3,d7];}else {this.p2=[u3,d7];}this.render(a8A);};f$.Drawing.pitchfork.prototype.intersected=function(H6u,c6U,R0y){var k$T,X4$,a1c,u6x;if(!this.p0 || !this.p1 || !this.p2){return null;}k$T={0:this.p0,1:this.p1,2:this.p2};for(var N3v in k$T){if(this.pointIntersection(k$T[N3v][+"0"],k$T[N3v][1],R0y)){X4$="d";X4$+="ra";X4$+="g";d5a.P4c(3);this.highlighted=d5a.J4Z("p",N3v);return {action:X4$,point:"p" + N3v};}}a1c=this.rays;for(var K$P=0;K$P < a1c.length;K$P++){if(this.lineIntersection(H6u,c6U,R0y,K$P?"ray":"segment",a1c[K$P][0],a1c[K$P][1],!!({}))){u6x="m";u6x+="o";u6x+="v";u6x+="e";this.highlighted=!!1;return {action:u6x,p0:f$.clone(this.p0),p1:f$.clone(this.p1),p2:f$.clone(this.p2),tick:H6u,value:this.valueOnDrawingAxis(H6u,c6U)};}}return null;};f$.Drawing.pitchfork.prototype.render=function(G2$){var E4z,J0W,p7m,Y$u,z3n,t$J,d9l,X2R,g2t,R4$,K1i,l$k,s_a,Z5q,k$w,e5i,F5t,G2N,o4e,u2i,W_6,m4r;if(!this.p1){return;}E4z=this.stx;J0W=E4z.panels[this.panelName];p7m=E4z.getYAxisByField(J0W,this.field);if(!J0W || this.field && !p7m){return;}Y$u=this.p2;if(!Y$u){Y$u=this.p1;}z3n=E4z.pixelFromTick(this.p0[0],J0W.chart);t$J=E4z.pixelFromTick(this.p1[0],J0W.chart);d9l=E4z.pixelFromTick(Y$u[0],J0W.chart);X2R=this.pixelFromValue(J0W,this.p0[0],this.p0[+"1"],p7m);g2t=this.pixelFromValue(J0W,this.p1[0],this.p1[1],p7m);R4$=this.pixelFromValue(J0W,Y$u[0],Y$u[1],p7m);K1i=this.lineWidth;l$k=this.getLineColor();s_a={pattern:this.pattern,lineWidth:K1i};Z5q=50;d5a.P4c(41);k$w=d5a.J4Z(g2t,X2R,R4$,2);d5a.Q3k(41);e5i=d5a.J4Z(t$J,z3n,d9l,2);if(e5i < 0){Z5q*=-1;}d5a.Q3k(15);k$w*=d5a.J3g(Z5q,e5i);d5a.P4c(13);this.rays=[[[t$J,g2t],[d9l,R4$]],[[z3n,X2R],[d5a.J4Z(2,d9l,t$J),d5a.J4Z(2,R4$,g2t)]]];if(!(t$J == d9l && g2t == R4$)){d5a.P4c(5);this.rays.push([[t$J,g2t],[d5a.J3g(Z5q,t$J),d5a.J4Z(k$w,g2t)]],[[d9l,R4$],[d5a.J4Z(Z5q,d9l),d5a.J3g(k$w,R4$)]]);}for(var Q9b=+"0";Q9b < this.rays.length;Q9b++){F5t=this.rays[Q9b];G2N=Q9b?"ray":"segment";E4z.plotLine(F5t[0][0],F5t[+"1"][0],F5t[0][1],F5t[1]["1" << 64],l$k,G2N,G2$,J0W,s_a);}if(this.highlighted){o4e="p";o4e+="0";u2i=this.highlighted == o4e?!!({}):!1;W_6=this.highlighted == "p1"?!0:![];m4r=this.highlighted == "p2"?!!({}):![];this.littleCircle(G2$,z3n,X2R,u2i);this.littleCircle(G2$,t$J,g2t,W_6);this.littleCircle(G2$,d9l,R4$,m4r);}};f$.Drawing.pitchfork.prototype.adjust=function(){var S2d;S2d=this.stx.panels[this.panelName];if(!S2d){return;}this.setPoint(0,this.d0,this.v0,S2d.chart);this.setPoint(1,this.d1,this.v1,S2d.chart);this.setPoint(2,this.d2,this.v2,S2d.chart);};f$.Drawing.pitchfork.prototype.reconstruct=function(l1U,W$4){this.stx=l1U;this.color=W$4.col;this.panelName=W$4.pnl;this.pattern=W$4.ptrn;this.lineWidth=W$4.lw;this.d0=W$4.d0;this.d1=W$4.d1;this.d2=W$4.d2;this.tzo0=W$4.tzo0;this.tzo1=W$4.tzo1;this.tzo2=W$4.tzo2;this.v0=W$4.v0;this.v1=W$4.v1;this.v2=W$4.v2;this.field=W$4.fld;this.permanent=W$4.prm?!"":!1;this.hidden=W$4.hdn?!!({}):!1;this.adjust();};f$.Drawing.pitchfork.prototype.serialize=function(){var o21,q8g,G7T;o21=-590798763;q8g=773898936;G7T=2;for(var t1c=1;d5a.j3V(t1c.toString(),t1c.toString().length,57646) !== o21;t1c++){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?0:1,hdn:this.hidden?"8" ^ 0:6};}d5a.e5w();if(d5a.j3V(G7T.toString(),G7T.toString().length,+"13587") !== q8g){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?+"1":+"0"};}};f$.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=![];this.maxSegments=+"4";d5a.X77();this.shape=null;this.points=[];};f$.inheritsFrom(f$.Drawing.gartley,f$.Drawing.continuous);f$.Drawing.gartley.prototype.check=function(r6Q,L89){var g1F,B7z,g6M;d5a.e5w();if(!L89){return !"";}if(r6Q[0] >= L89["0" << 0] || r6Q["1" << 64] == L89[1]){return !1;}if(this.segment == +"1"){g1F=-150337690;B7z=-365755150;g6M=2;for(var L3u="1" << 64;d5a.j3V(L3u.toString(),L3u.toString().length,"41284" << 32) !== g1F;L3u++){if(r6Q[2] >= L89[2]){this.shape=5736 == 7849?(6180,451) == (+"3301",4028)?"g":(160301,5526) === (516778,6648)?+"4088258":("W",1587947):(!!1,"g");}else {this.shape=("194" ^ 0) !== 3974?0x24e:("566422" ^ 0,194727) != (3697,9863)?"g":4148 !== (412,7109)?"g":("0x51f6" - 0,6694969);}g6M+=2;}if(d5a.j3V(g6M.toString(),g6M.toString().length,59653) !== B7z){if(r6Q[1] < L89[+"1"]){this.shape=5160 != +"4510"?("7390" >> 64,879) != (3583,3150)?"M":(+"948.53",6568) !== (187.88,9330)?"2.66e+2" - 0:("H",4.30e+3):(!"1","K");}else {this.shape=351 === +"7560"?0xc9a:(357.78,325.95) !== (4410,1040)?"W":5390 != (316,+"7520")?"g":(0x240c,8.28e+3);}}}else if(this.segment == 2){if(this.shape == (6610 <= 448?(364.88,"210" * 1) <= 906.6?![]:0xbd5:"M") && r6Q[1] < L89[1]){return ![];}else if(this.shape == (6008 != (782,5578)?"W":9710 <= (238.17,4518)?0x1420:(+"5.95e+3",0x398)) && r6Q[1] > L89[+"1"]){return !"1";}else if((L89[1] - r6Q["1" | 1]) / (this.points[0][1] - r6Q[1]) < 0.618){return !!"";}else if((L89[1] - r6Q[1]) / (this.points[0][1] - r6Q[1]) >= +"0.786"){return !({});}}else if(this.segment == 3){if(this.shape == "M" && r6Q[1] > L89[1]){return ![];}else if(this.shape == ((969.76,9743) > 7600?"W":0x72) && r6Q[1] < L89[1]){return !!0;}else if((L89[1] - r6Q[1]) / (this.points[1]["1" * 1] - r6Q["1" << 64]) < 0.618){return !!"";}else if((L89[1] - r6Q[1]) / (this.points[1][1] - r6Q[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == "M" && (r6Q[1] < L89["1" ^ 0] || L89[1] < this.points[0][1])){return !({});}else if(this.shape == (3680 > (7470,+"1128")?3390 <= 5660?"W":("0xc59" * 1,658):3.50e+2) && (r6Q[1] > L89["1" | 0] || L89[1] > this.points[0][1])){return ![];}else if((this.points[1][1] - L89[1]) / (this.points[1][1] - this.points[2][1]) < 1.27){return !({});}else if((this.points[1][1] - L89[1]) / (this.points[1][1] - this.points[+"2"]["1" << 64]) >= 1.618){return !({});}}return !!({});};f$.Drawing.gartley.prototype.click=function(D1J,f7E,q$O){var k59;k59=this.stx.panels[this.panelName];if(!k59){return;}d5a.e5w();this.copyConfig();if(!this.penDown){this.setPoint(0,f7E,q$O,k59.chart);this.pts=[];this.penDown=!0;this.segment=1;return !1;}if(this.accidentalClick(f7E,q$O)){this.penDown=!0;return !!0;}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,f7E,q$O,k59.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0]["0" ^ 0],this.points[0][1],k59.chart);this.penDown=!!"";return !![];}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,f7E,q$O,k59.chart);}return !({});};f$.Drawing.gartley.prototype.render=function(K6A){var i3V,K9p,q$z,o_6,C_W,H2F,j2Q,y07,d8i,T8q,m5N,L6S,Q9y,h_0,x90,L5j,X$y,j45;i3V="n";i3V+="one";if(!this.p1){return;}K9p=this.stx;q$z=K9p.panels[this.panelName];o_6=K9p.getYAxisByField(q$z,this.field);if(!q$z || this.field && !o_6){return;}C_W=K9p.pixelFromTick(this.p0[0],q$z.chart);H2F=K9p.pixelFromTick(this.p1[0],q$z.chart);j2Q=this.pixelFromValue(q$z,this.p0["0" >> 96],this.p0[1],o_6);d5a.X77();y07=this.pixelFromValue(q$z,this.p1[+"0"],this.p1[1],o_6);if(this.segment == 2){this.drawDropZone(K6A,0.618 * this.points[0][1] + 0.382 * this.p0[+"1"],0.786 * this.points[0][+"1"] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(K6A,0.618 * this.points[1][1] + 0.382 * this.p0[1],+"0.786" * this.points["1" ^ 0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){d5a.P4c(44);var g6e=d5a.J4Z(10,36,12,36);d5a.P4c(45);var Z4n=d5a.J3g(7,6);d5a.P4c(46);var H5t=d5a.J3g(0,17,1,18);d8i=1.618 * this.points[g6e]["1" | 0] - ("0.618" - 0) * this.points[Z4n][H5t];if(this.shape == (7921 >= ("7804" << 32,7500)?"M":"n")){d8i=Math.max(d8i,this.points[0][1]);}else {d8i=Math.min(d8i,this.points[0][1]);}this.drawDropZone(K6A,d8i,+"1.27" * this.points["2" | 0][1] - 0.27 * this.points[1][1],this.p0[+"0"]);}T8q=this.lineWidth;m5N=this.getLineColor();L6S={pattern:this.pattern,lineWidth:T8q};if((this.penDown || this.highlighted) && this.pattern == i3V){L6S.pattern="dotted";}if(this.segment <= this.maxSegments){K9p.plotLine(C_W,H2F,j2Q,y07,m5N,this.name,K6A,q$z,L6S);}Q9y=this.fillColor;h_0=[];if(this.points.length){K6A.beginPath();for(var b6E=1;b6E < this.points.length && b6E <= 4;b6E++){x90=K9p.pixelFromTick(this.points[b6E - ("1" << 32)]["0" - 0],q$z.chart);L5j=K9p.pixelFromTick(this.points[b6E]["0" << 0],q$z.chart);X$y=this.pixelFromValue(q$z,this.points[b6E - ("1" << 32)][0],this.points[b6E - +"1"][1],o_6);j45=this.pixelFromValue(q$z,this.points[b6E][0],this.points[b6E][1],o_6);if(b6E == 1){h_0.push(x90,X$y);}h_0.push(L5j,j45);K9p.plotLine(x90,L5j,X$y,j45,m5N,this.name,K6A,q$z,L6S);}if(this.points.length == 2 || this.points.length == 4){h_0.push(H2F,y07);}if(this.points[2]){h_0.push(K9p.pixelFromTick(this.points[+"2"][0],q$z.chart),this.pixelFromValue(q$z,this.points[2]["0" * 1],this.points[2][1],o_6));}if(Q9y && !f$.isTransparent(Q9y)){for(var n4k=0;n4k < h_0.length;n4k+=2){if(n4k === 0){K6A.moveTo(h_0[0],h_0[1]);}K6A.lineTo(h_0[n4k],h_0[n4k + 1]);}K6A.fillStyle=this.getLineColor(Q9y,!0);K6A.globalAlpha=0.2;K6A.closePath();K6A.fill();K6A.globalAlpha=1;}}};f$.Drawing.gartley.prototype.lineIntersection=function(q82,y7g,D1F,f3D){var o8r,S9O;o8r=this.points;S9O=this.stx.panels[this.panelName];if(o8r.length != this.maxSegments + 1 || !S9O){return !!0;}d5a.X77();for(var F2j=0;F2j < o8r.length - +"1";F2j++){if(f$.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,q82,y7g,D1F,"segment",o8r[F2j],o8r[F2j + 1])){return !"";}}return !!"";};f$.Drawing.gartley.prototype.boxIntersection=function(a75,L26,G3$){var p9G,D8d;if(!this.p0 || !this.p1){return !"1";}if(G3$.x0 > Math.max(this.p0[0],this.p1[0]) || G3$.x1 < Math.min(this.p0[0],this.p1[0])){return !({});}p9G=Math.min(this.p0[1],this.p1[1]);D8d=Math.max(this.p0[1],this.p1[1]);for(var D5B=0;D5B < this.points.length;D5B++){p9G=Math.min(p9G,this.points[D5B][1]);D8d=Math.max(D8d,this.points[D5B][1]);}if(G3$.y1 > D8d || G3$.y0 < p9G){return !({});}return !![];};f$.Drawing.gartley.prototype.reposition=function(P5Q,h67,f25,s2C){var O4C,K5Q,c4R;if(!h67){return;}O4C=this.stx.panels[this.panelName];K5Q=h67.tick - f25;h67.tick=f25;c4R=h67.value - s2C;h67.value=s2C;d5a.e5w();if(h67.action == "move"){this.pts=[];for(var w3Y=0;w3Y < this.points.length;w3Y++){this.points[w3Y][0]-=K5Q;this.points[w3Y][1]-=c4R;d5a.Q3k(1);this.setPoint(d5a.J4Z("1",32),this.points[w3Y][0],this.points[w3Y][1],O4C.chart);if(w3Y && w3Y < this.points.length - +"1"){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[w3Y]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0]["1" << 64],O4C.chart);this.render(P5Q);}};f$.Drawing.gartley.prototype.configs=["color","fillColor",M1d,"pattern"];f$.Drawing.gartley.prototype.adjust=function(){var Q7e;Q7e=this.stx.panels[this.panelName];if(!Q7e){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,Q7e.chart);this.points.unshift(this.p0);d5a.e5w();this.setPoint(+"1",this.d1,this.v1,Q7e.chart);this.points.push(this.p1);};f$.Drawing.gartley.prototype.reconstructPoints=function(){var a5y,m0a;a5y=this.stx.panels[this.panelName];if(!a5y){return;}this.points=[];for(var G$U="0" | 0;G$U < this.pts.length;G$U+=3){m0a=f$.strToDateTime(this.pts[G$U]);m0a.setMinutes(m0a.getMinutes() + Number(this.pts[G$U + 1]) - m0a.getTimezoneOffset());this.points.push([this.stx.tickFromDate(f$.yyyymmddhhmmssmmm(m0a),a5y.chart),this.pts[G$U + 2]]);}};f$.Drawing.gartley.prototype.reconstruct=function(I5u,e4F){this.stx=I5u;this.color=e4F.col;this.fillColor=e4F.fc;this.panelName=e4F.pnl;this.pattern=e4F.ptrn;this.lineWidth=e4F.lw;this.d0=e4F.d0;this.d1=e4F.d1;this.tzo0=e4F.tzo0;this.tzo1=e4F.tzo1;this.v0=e4F.v0;this.v1=e4F.v1;this.field=e4F.fld;this.pts=e4F.pts.split((876.31,"742" >> 96) === 579.83?("V",!!1):",");d5a.X77();this.permanent=e4F.prm?!!({}):!!"";this.hidden=e4F.hdn?!![]:![];this.adjust();};f$.Drawing.gartley.prototype.serialize=function(){d5a.e5w();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(","),prm:this.permanent?1:0,hdn:this.hidden?1:0};};f$.Drawing.freeform=function(){d5a.X77();var V0x;V0x="fre";V0x+="e";V0x+="form";this.name=V0x;this.splineTension=0.3;this.dragToDraw=!![];};f$.inheritsFrom(f$.Drawing.freeform,f$.Drawing.segment);f$.Drawing.freeform.prototype.measure=function(){};f$.Drawing.freeform.prototype.intersected=function(C3q,G6U,c_X){var r7G,I7y;var {x0:f4Z, x1:N2p, y0:n_4, y1:w$4, cy0:u$O, cy1:J7J}=c_X;if(f4Z > this.hiX || N2p < this.lowX){return !({});}var {field:G$P, panelName:K0H, stx:T6A}=this;if(G$P){r7G=T6A.panels[K0H];I7y=T6A.getYAxisByField(r7G,G$P);n_4=this.valueFromPixel(u$O,r7G,I7y);w$4=this.valueFromPixel(J7J,r7G,I7y);}if(w$4 > this.hiY || n_4 < this.lowY){return !!0;}this.highlighted=!![];return {action:"move",p0:f$.clone(this.p0),tick:C3q,value:this.valueOnDrawingAxis(C3q,G6U)};};f$.Drawing.freeform.prototype.reposition=function(o6d,r5N,D9s,I14){var Q8r,G1n,e_n;d5a.e5w();if(!r5N){return;}Q8r=this.stx.panels[this.panelName];G1n=r5N.tick - D9s;e_n=r5N.value - I14;if(r5N.action == "move"){this.setPoint(0,r5N.p0[0] - G1n,r5N.p0[+"1"] - e_n,Q8r.chart);this.adjust();this.render(o6d);}};f$.Drawing.freeform.prototype.click=function(L1k,Q2o,t6K){var Z79,j6V,h_B,n2n,a6j;Z79="a";Z79+="uto";j6V=this.stx;h_B=j6V.panels[this.panelName];if(!h_B){return;}n2n=j6V.getYAxisByField(h_B,this.field) || h_B.yAxis;if(this.penDown === !!""){this.copyConfig();this.startX=Math.round(j6V.resolveX(j6V.pixelFromTick(Q2o,h_B.chart)));this.startY=Math.round(j6V.resolveY(this.pixelFromValue(h_B,Q2o,t6K,n2n)));a6j=j6V.dateFromTick(Q2o,h_B.chart,!!({}));this.d0=f$.yyyymmddhhmmssmmm(a6j);this.tzo0=a6j.getTimezoneOffset();this.v0=t6K;this.p0=[f$.ChartEngine.crosshairX - this.startX,f$.ChartEngine.crosshairY - this.startY];d5a.Q3k(25);this.nodes=[this.p0[0],this.p0[d5a.J4Z("1",1)]];this.pNodes=[this.p0];this.candleWidth=j6V.layout.candleWidth;this.multiplier=n2n.multiplier;this.interval=j6V.layout.interval;this.periodicity=j6V.layout.periodicity;this.tempSplineTension=this.splineTension;d5a.P4c(5);this.splineTension=-d5a.J3g(0,"1");j6V.container.ownerDocument.body.style.cursor="pointer";this.penDown=!"";return !({});}this.penDown=!1;this.splineTension=this.tempSplineTension;j6V.container.ownerDocument.body.style.cursor=Z79;if(this.nodes.length === 2){j6V.undo();}return !![];};f$.Drawing.freeform.prototype.move=function(c_z,X83,X0c){var u9b,R61,k_C,T8Y;if(!this.penDown){this.moving=!"1";return;}this.moving=!![];u9b=this.stx;R61=u9b.panels[this.panelName];k_C=u9b.getYAxisByField(R61,this.field) || R61.yAxis;T8Y=u9b.dateFromTick(X83,R61.chart,!![]);this.d1=f$.yyyymmddhhmmssmmm(T8Y);this.tzo1=T8Y.getTimezoneOffset();this.v1=X0c;this.p1=[f$.ChartEngine.crosshairX - this.startX,k_C.flipped?this.startY - f$.ChartEngine.crosshairY:f$.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > +"2"){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - +"1"]["0" - 0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[+"1"] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[+"0"],this.p1[1]);this.pNodes.push(this.p1);this.render(c_z);return !!"";};f$.Drawing.freeform.prototype.intervalRatio=function(e$n,R$c,R2s,O4L,r_h,U_V){var w9F,k6t,s5Z,s2$;w9F=0;function P3p(c$O,o_8){return 30;}if(e$n == R$c){w9F=+"1";}else if(!isNaN(e$n) && !isNaN(R$c)){d5a.Q3k(15);w9F=d5a.J3g(e$n,R$c);}else if(isNaN(e$n)){if(e$n == "month"){k6t="d";k6t+="a";k6t+="y";if(R$c == "week"){w9F=L_Z(r_h,U_V);}else if(R$c == k6t){w9F=P3p(r_h,U_V);}else if(!isNaN(R$c)){w9F=P3p(r_h,U_V) * o7U(r_h,U_V) / R$c;}}else if(e$n == "week"){if(R$c == "month"){d5a.Q3k(3);var G0G=d5a.J3g(0,1);w9F=G0G / L_Z(r_h,U_V);}if(R$c == "day"){w9F=Z0X(r_h,U_V);}else if(!isNaN(R$c)){w9F=Z0X(r_h,U_V) * o7U(r_h,U_V) / R$c;}}else if(e$n == "day"){s5Z="w";s5Z+="e";s5Z+="ek";if(R$c == s5Z){w9F=+"1" / Z0X(r_h,U_V);}else if(R$c == "month"){w9F=+"1" / P3p(r_h,U_V);}else if(!isNaN(R$c)){w9F=o7U(r_h,U_V) / R$c;}}}else if(!isNaN(e$n)){s2$="d";s2$+="a";s2$+="y";if(R$c == "month"){w9F=e$n / (P3p(r_h,U_V) * o7U(r_h,U_V));}else if(R$c == "week"){w9F=e$n / (Z0X(r_h,U_V) * o7U(r_h,U_V));}else if(R$c == s2$){w9F=e$n / o7U(r_h,U_V);}}d5a.Q3k(15);w9F*=d5a.J4Z(R2s,O4L);function Z0X(b73,V$T){var r01,s7a,O20;r01=-1430995100;s7a=1620464844;d5a.e5w();d5a.P4c(30);O20=d5a.J3g("2",64);for(var B$H=1;d5a.Y5Z(B$H.toString(),B$H.toString().length,70535) !== r01;B$H++){return 1;}if(d5a.j3V(O20.toString(),O20.toString().length,+"73313") !== s7a){return +"5";}}function L_Z(z0J,y4N){return +"5";}function o7U(X9$,r6I){if(f$.Market.Symbology.isForexSymbol(r6I)){return 1440;}return 390;}return w9F;};f$.Drawing.freeform.prototype.render=function(o_X){var S9x,g32,y7t,o1p,v21,i$I,n11,F$f,g_L,Z4s,p2V,g_o,y1l,Y7s;S9x=this.stx;g32=S9x.panels[this.panelName];y7t=S9x.getYAxisByField(g32,this.field);if(!g32 || this.field && !y7t){return;}y7t=y7t || g32.yAxis;o1p=this.intervalRatio(this.interval,S9x.layout.interval,this.periodicity,S9x.layout.periodicity,this.d0,g32.chart.symbol);d5a.e5w();if(o1p === 0){return;}v21=S9x.layout.candleWidth / this.candleWidth;i$I=y7t.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,g32.chart);n11=S9x.pixelFromTick(this.p0[+"0"],g32.chart);F$f=this.pixelFromValue(g32,this.p0[0],this.p0[+"1"],y7t);g_L=[];Z4s=this.lineWidth;p2V=this.getLineColor();g_o={pattern:this.pattern,lineWidth:Z4s};for(var T9K=0;T9K < this.pNodes.length;T9K++){y1l=o1p * v21 * this.pNodes[T9K][0] + n11;d5a.P4c(5);var R5o=d5a.J4Z(12,13);Y7s=i$I * this.pNodes[T9K][R5o];if(y7t.flipped){d5a.Q3k(5);Y7s=d5a.J4Z(Y7s,F$f);}else {Y7s+=F$f;}g_L.push(y1l,Y7s);}if(!g_L.length){return;}if(this.splineTension < 0){S9x.connectTheDots(g_L,p2V,this.name,o_X,g32,g_o);}else {S9x.plotSpline(g_L,this.splineTension,p2V,this.name,o_X,!!({}),g_o);}};f$.Drawing.freeform.prototype.adjust=function(){var j1i,P8r,E5x,P8x,k3E,b$L,J$4,w$l,z_U,j0t;j1i=this.stx;P8r=j1i.panels[this.panelName];if(!P8r){return;}d5a.e5w();d5a.P4c(20);E5x=[this.nodes[d5a.J4Z(0,"0")],this.nodes[1]];this.pNodes=[E5x];this.lowX=this.nodes[0];d5a.P4c(1);this.hiX=this.nodes[d5a.J3g("0",32)];this.lowY=this.nodes[+"1"];this.hiY=this.nodes[1];for(var F4U=+"2";F4U < this.nodes.length;F4U+=2){d5a.P4c(3);P8x=[this.nodes[F4U],this.nodes[d5a.J4Z(F4U,1)]];this.pNodes.push(P8x);this.lowX=Math.min(this.lowX,P8x[0]);this.hiX=Math.max(this.hiX,P8x[0]);this.lowY=Math.max(this.lowY,P8x[1]);this.hiY=Math.min(this.hiY,P8x[+"1"]);}k3E=this.intervalRatio(this.interval,j1i.layout.interval,this.periodicity,j1i.layout.periodicity,this.d0,P8r.chart.symbol);if(k3E === 0){return;}b$L=j1i.getYAxisByField(P8r,this.field) || P8r.yAxis;J$4=j1i.layout.candleWidth / this.candleWidth;w$l=b$L.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,P8r.chart);z_U=j1i.pixelFromTick(this.p0[0],P8r.chart);j0t=this.pixelFromValue(P8r,this.p0[0],this.p0[1],b$L);this.lowX=j1i.tickFromPixel(Math.floor(k3E * J$4 * this.lowX) + z_U,P8r.chart);this.hiX=j1i.tickFromPixel(Math.ceil(k3E * J$4 * this.hiX) + z_U,P8r.chart);if(b$L.flipped){this.lowY=this.valueFromPixel(j0t - Math.floor(w$l * this.lowY),P8r,b$L);this.hiY=this.valueFromPixel(j0t - Math.ceil(w$l * this.hiY),P8r,b$L);}else {this.lowY=this.valueFromPixel(Math.floor(w$l * this.lowY) + j0t,P8r,b$L);this.hiY=this.valueFromPixel(Math.ceil(w$l * this.hiY) + j0t,P8r,b$L);}};f$.Drawing.freeform.prototype.serialize=function(){d5a.e5w();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:0};};f$.Drawing.freeform.prototype.reconstruct=function(z6b,j4J){this.stx=z6b;this.color=j4J.col;this.panelName=j4J.pnl;this.pattern=j4J.ptrn;this.lineWidth=j4J.lw;this.candleWidth=j4J.cw;this.multiplier=j4J.mlt;this.d0=j4J.d0;d5a.X77();this.tzo0=j4J.tzo0;this.v0=j4J.v0;this.interval=j4J.inter;this.periodicity=j4J.pd;this.nodes=j4J.nodes;this.field=j4J.fld;this.permanent=j4J.prm?!0:!1;this.hidden=j4J.hdn?!"":![];this.adjust();};f$.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=5;d5a.X77();this.text="";this.ta=null;this.border=![];this.fontSize=+"12";this.font={};this.stemEntry="";this.defaultWidth=35;};f$.inheritsFrom(f$.Drawing.callout,f$.Drawing.annotation);f$.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern",j5Y];f$.Drawing.callout.prototype.copyConfig=function(j88){f$.Drawing.copyConfig(this,j88);this.borderColor=this.color;};f$.Drawing.callout.prototype.move=function(c1z,I6w,p9w){if(!this.penDown){this.moving=![];return;}this.moving=!!({});this.copyConfig();this.p0=[I6w,p9w];this.render(c1z);};f$.Drawing.callout.prototype.onChange=function(R7K){var Z$P,e4H,m5Y;Z$P=this.stx.panels[this.panelName];if(!Z$P){return;}e4H=R7K.target;this.w=e4H.clientWidth;this.h=e4H.clientHeight;d5a.X77();m5Y=this.context || this.stx.chart.tempCanvas.context;f$.clearCanvas(m5Y.canvas,this.stx);this.adjust();};f$.Drawing.callout.prototype.repositionTextArea=function(F_c){var G2_,u4U;G2_=this.defaultWidth * +"2" + this.whitespace + this.padding;G2_=Math.max(this.w,G2_);d5a.P4c(3);F_c.style.width=d5a.J3g(G2_,"px");u4U=this.stx.pixelFromTick(this.p0[+"0"],this.stx.chart);d5a.Q3k(47);var E8e=d5a.J4Z(289,12,5,2,24);F_c.style.left=u4U - (!isNaN(G2_)?G2_ / E8e:this.defaultWidth * +"2") + "px";this.ta=F_c;};f$.Drawing.callout.prototype.render=function(t1E){var Q$F,o7Z,J59,O2Y,A2C,M$U,M32,z2b,h6S,m4D,v5R,n4b,U8I,Q7v,c6n,N6U,x5d,D4g,T85,W31,e2E,J2F,i3H,X42,v9$,B$X,o_N,d0e,T9b,L2i;Q$F="to";Q$F+="p";o7Z=this.stx;J59=o7Z.panels[this.panelName];O2Y=o7Z.getYAxisByField(J59,this.field);if(!J59 || this.field && !O2Y){return;}this.context=t1E;A2C=o7Z.pixelFromTick(this.p0[0],J59.chart);M$U=this.pixelFromValue(J59,this.p0[0],this.p0[1],O2Y);if(isNaN(M$U)){return;}t1E.font=this.fontString;t1E.textBaseline=Q$F;M32=A2C;z2b=M$U;d5a.Q3k(48);var D8J=d5a.J4Z(0,18,30,14);h6S=this.w / D8J;m4D=this.h / +"2";if(this.penDown){d5a.Q3k(10);var V2K=d5a.J4Z(0,11,13);h6S=this.defaultWidth + this.whitespace / V2K + this.padding / ("2" ^ 0);m4D=this.fontSize + this.fontModifier;}v5R=this.lineWidth;if(!v5R){v5R=1.1;}n4b=this.getLineColor();U8I=this.getLineColor(this.borderColor);D4g=Math.min(Math.min(h6S,m4D) / 2,8);if(this.stem){T85="c";T85+="m";if(this.stem.t){Q7v=o7Z.pixelFromTick(this.stem.t);N6U=this.pixelFromValue(J59,this.stem.t,this.stem.v,O2Y);}else if(this.stem.x){Q7v=M32;N6U=z2b;M32+=this.stem.x;z2b+=this.stem.y;}W31="";if(Q7v >= M32 + h6S){d5a.Q3k(3);c6n=d5a.J3g(M32,h6S);W31=(1780,"2232" | 16) >= (781.79,6680)?(0xab3,0x1755):688.51 === (206.02,"9997" >> 32)?(0x2419,!""):"r";}else if(Q7v > M32 - h6S && Q7v < M32 + h6S){c6n=M32;W31="c";}else if(Q7v <= M32 - h6S){d5a.Q3k(5);c6n=d5a.J3g(h6S,M32);W31="8820" * 1 <= 942.36?0x13e0:"l";}if(N6U >= z2b + m4D){d5a.Q3k(3);x5d=d5a.J3g(z2b,m4D);W31+=("111" ^ 0) > (+"2477",6600)?(0x1fa6,!!({})):+"578.49" != (196.86,741.52)?8810 != +"2370"?"b":826.65:"M";}else if(N6U > z2b - m4D && N6U < z2b + m4D){x5d=z2b;W31+=1988 != (3840,217.93)?4590 !== (+"4980",6959)?(1460,6700) === 6922?0x1c2f:"m":(!"1",!0):(!0,"E");}else if(N6U <= z2b - m4D){d5a.P4c(5);x5d=d5a.J3g(m4D,z2b);W31+="t";}this.stemEntry=W31;if(W31 != T85){Q7v=Math.round(Q7v);c6n=Math.round(c6n);N6U=Math.round(N6U);x5d=Math.round(x5d);}}if(this.highlighted){o7Z.canvasColor("stx_annotation_highlight_bg",t1E);}else {if(this.fillColor){t1E.fillStyle=this.getLineColor(this.fillColor,!!"1");t1E.globalAlpha=0.5;}else if(this.stem){t1E.fillStyle=o7Z.containerColor;}}t1E.strokeStyle=U8I;if(t1E.setLineDash){t1E.setLineDash(f$.borderPatternToArray(v5R,this.pattern));t1E.lineDashOffset=0;}if(U8I){e2E="no";e2E+="n";e2E+="e";J2F="l";J2F+="t";i3H="l";i3H+="m";X42="l";X42+="b";t1E.beginPath();t1E.lineWidth=v5R;d5a.P4c(10);t1E.moveTo(d5a.J4Z(M32,D4g,h6S),d5a.J4Z(m4D,z2b,d5a.P4c(5)));if(this.stemEntry != "rt"){d5a.P4c(3);t1E.quadraticCurveTo(d5a.J4Z(M32,h6S),d5a.J3g(m4D,z2b,d5a.Q3k(5)),d5a.J4Z(M32,h6S,d5a.P4c(3)),d5a.J4Z(z2b,m4D,D4g,d5a.P4c(7)));}else {t1E.lineTo(Q7v,N6U);d5a.P4c(3);t1E.lineTo(d5a.J4Z(M32,h6S),d5a.J4Z(z2b,m4D,D4g,d5a.Q3k(7)));}d5a.P4c(3);t1E.lineTo(d5a.J4Z(M32,h6S),d5a.J4Z(z2b,D4g,2,d5a.Q3k(49)));if(this.stemEntry == "rm"){t1E.lineTo(Q7v,N6U);}d5a.Q3k(3);t1E.lineTo(d5a.J3g(M32,h6S),d5a.J3g(z2b,2,D4g,d5a.Q3k(50)));d5a.P4c(3);t1E.lineTo(d5a.J4Z(M32,h6S),d5a.J4Z(z2b,D4g,m4D,d5a.P4c(10)));if(this.stemEntry != "rb"){d5a.Q3k(3);t1E.quadraticCurveTo(d5a.J3g(M32,h6S),d5a.J3g(z2b,m4D,d5a.P4c(3)),d5a.J4Z(M32,D4g,h6S,d5a.P4c(10)),d5a.J3g(z2b,m4D,d5a.Q3k(3)));}else {t1E.lineTo(Q7v,N6U);d5a.Q3k(10);t1E.lineTo(d5a.J4Z(M32,D4g,h6S),d5a.J4Z(z2b,m4D,d5a.Q3k(3)));}d5a.Q3k(50);t1E.lineTo(d5a.J3g(M32,2,D4g),d5a.J4Z(z2b,m4D,d5a.P4c(3)));if(this.stemEntry == "cb"){t1E.lineTo(Q7v,N6U);}d5a.P4c(49);t1E.lineTo(d5a.J3g(M32,D4g,2),d5a.J4Z(z2b,m4D,d5a.Q3k(3)));d5a.Q3k(7);t1E.lineTo(d5a.J3g(M32,h6S,D4g),d5a.J3g(z2b,m4D,d5a.Q3k(3)));if(this.stemEntry != X42){d5a.Q3k(5);t1E.quadraticCurveTo(d5a.J4Z(h6S,M32),d5a.J3g(z2b,m4D,d5a.Q3k(3)),d5a.J4Z(h6S,M32,d5a.P4c(5)),d5a.J3g(z2b,D4g,m4D,d5a.P4c(10)));}else {t1E.lineTo(Q7v,N6U);d5a.P4c(5);t1E.lineTo(d5a.J4Z(h6S,M32),d5a.J3g(z2b,D4g,m4D,d5a.Q3k(10)));}d5a.P4c(5);t1E.lineTo(d5a.J4Z(h6S,M32),d5a.J4Z(z2b,2,D4g,d5a.P4c(50)));if(this.stemEntry == i3H){t1E.lineTo(Q7v,N6U);}d5a.Q3k(5);t1E.lineTo(d5a.J4Z(h6S,M32),d5a.J4Z(z2b,D4g,2,d5a.Q3k(49)));d5a.Q3k(5);t1E.lineTo(d5a.J3g(h6S,M32),d5a.J4Z(z2b,m4D,D4g,d5a.P4c(7)));if(this.stemEntry != J2F){d5a.P4c(5);t1E.quadraticCurveTo(d5a.J3g(h6S,M32),d5a.J3g(m4D,z2b,d5a.P4c(5)),d5a.J4Z(M32,h6S,D4g,d5a.P4c(7)),d5a.J4Z(m4D,z2b,d5a.Q3k(5)));}else {t1E.lineTo(Q7v,N6U);d5a.Q3k(7);t1E.lineTo(d5a.J4Z(M32,h6S,D4g),d5a.J3g(m4D,z2b,d5a.Q3k(5)));}d5a.P4c(51);t1E.lineTo(d5a.J4Z(0,D4g,M32,"2"),d5a.J3g(m4D,z2b,d5a.P4c(5)));if(this.stemEntry == "ct"){t1E.lineTo(Q7v,N6U);}d5a.Q3k(50);t1E.lineTo(d5a.J4Z(M32,2,D4g),d5a.J3g(m4D,z2b,d5a.P4c(5)));d5a.P4c(10);t1E.lineTo(d5a.J4Z(M32,D4g,h6S),d5a.J3g(m4D,z2b,d5a.Q3k(5)));t1E.fill();d5a.P4c(20);t1E.globalAlpha=d5a.J4Z(0,"1");if(this.pattern != e2E){t1E.stroke();}}if(this.highlighted){v9$="s";v9$+="tx_anno";v9$+="tation_highlight";o7Z.canvasColor(v9$,t1E);}else {B$X=6701807;o_N=-214369217;d0e=2;for(var G1R="1" - 0;d5a.j3V(G1R.toString(),G1R.toString().length,83054) !== B$X;G1R++){t1E.fillStyle=n4b;d0e+=2;}if(d5a.j3V(d0e.toString(),d0e.toString().length,44382) !== o_N){t1E.fillStyle=n4b;}}z2b+=this.padding;if(!this.ta){for(var G8j="0" >> 0;G8j < this.arr.length;G8j++){t1E.fillText(this.arr[G8j],M32 - h6S + this.padding,z2b - m4D);z2b+=this.fontSize;}}t1E.textBaseline="alphabetic";d5a.X77();if(this.highlighted && !this.noHandles){T9b="p";T9b+="0";L2i=this.highlighted == T9b?!!({}):!!0;this.littleCircle(t1E,Q7v,N6U,L2i);}};f$.Drawing.callout.prototype.click=function(n$a,C_F,n$d){var d3z;if(this.stx.overXAxis || this.stx.overYAxis){return;}d3z=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,C_F,n$d,d3z.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!0;this.adjust();return !!"";}this.adjust();this.edit(n$a);this.penDown=!!"";return ![];};f$.Drawing.callout.prototype.reposition=function(N07,K5F,M$d,p9L){var L_r,X8J,d6l;if(!K5F){return;}L_r=this.stx.panels[this.panelName];X8J=K5F.tick - M$d;d6l=K5F.value - p9L;if(K5F.stem){if(K5F.action == "drag"){this.stem={d:this.stx.dateFromTick(M$d,L_r.chart,!!({})),v:p9L};}else if(K5F.action == "move"){this.setPoint(0,K5F.p0[0] - X8J,K5F.p0[+"1"] - d6l,L_r.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(K5F.stem.d,L_r.chart) - X8J),v:K5F.stem.v - d6l};}this.adjust();}else {this.setPoint(0,K5F.p0[0] - X8J,K5F.p0[1] - d6l,L_r.chart);}this.render(N07);};f$.Drawing.callout.prototype.lineIntersection=function(u$Z,h2w,w3O,M_Q){var C$O,z4k,m8M,N6k,G5I,M5c,o2t,t4J,g3P,E0t,Y4E;C$O=this.stem;z4k=this.p0;m8M=this.stx;N6k=m8M.panels[this.panelName];if(!z4k || !C$O || !N6k || !C$O.t && !C$O.d){return !({});}d5a.e5w();G5I=C$O.t || m8M.tickFromDate(C$O.d,N6k.chart);M5c={x0:z4k[0],x1:G5I,y0:z4k[1],y1:C$O.v};o2t=this.boxToPixels(m8M,this.panelName,M5c,m8M.getYAxisByField(N6k,this.field));t4J=o2t.x0;g3P=o2t.y0;E0t=o2t.x1;Y4E=o2t.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -+"1"){d5a.Q3k(52);var u0r=d5a.J3g(3,20,6,20);t4J-=this.w / u0r;}else if(this.stemEntry.indexOf((5210,352.98) < (3425,953.03)?(6900,"4942" >> 64) >= 232.36?(5460,7724) === 693.71?648.18:"r":!!({}):"340" | 4) > -1){d5a.P4c(5);var T2N=d5a.J4Z(11,13);t4J+=this.w / T2N;}if(this.stemEntry.indexOf("t") > -+"1"){d5a.Q3k(53);var Q25=d5a.J4Z(11,1,3,11);g3P-=this.h / Q25;}else if(this.stemEntry.indexOf(479.83 < (+"2630","1128" - 0)?"b":(406.37,989) === 2942?"p":(5.10e+3,8.90e+2)) > -1){d5a.Q3k(54);var S1r=d5a.J4Z(5,29,16,4,6);g3P+=this.h / S1r;}}return f$.boxIntersects(w3O.cx0,w3O.cy0,w3O.cx1,w3O.cy1,t4J,g3P,E0t,Y4E,M_Q);};f$.Drawing.callout.prototype.intersected=function(y4v,f1S,J9F){var W5n,X8D,v4V,c_i,L7F,I65,d$u,p8I,E0W,h3b,E9U,K9h;W5n=this.stx;X8D=W5n.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,J9F)){v4V="p";v4V+="0";this.highlighted=v4V;return {action:"drag",stem:!!({})};}c_i=W5n.pixelFromTick(this.p0["0" - 0],X8D.chart) - this.w / +"2";L7F=W5n.getYAxisByField(X8D,this.field);d5a.Q3k(55);var Y28=d5a.J4Z(15,1,5,19);d5a.P4c(3);var Q$N=d5a.J3g(29,3);I65=this.pixelFromValue(X8D,this.p0[0],this.p0[Y28],L7F) - this.h / ("2" >> Q$N);d$u=c_i + this.w;d5a.X77();p8I=I65 + this.h;if(this.stem && this.stem.x){c_i+=this.stem.x;d$u+=this.stem.x;I65+=this.stem.y;p8I+=this.stem.y;}E0W=W5n.pixelFromTick(y4v,X8D.chart);h3b=W5n.pixelFromValueAdjusted(X8D,y4v,f1S);if(E0W + J9F.r >= c_i && E0W - J9F.r <= d$u && h3b + J9F.r >= I65 && h3b - J9F.r <= p8I){this.highlighted=!"";return {p0:f$.clone(this.p0),tick:y4v,value:this.valueOnDrawingAxis(y4v,f1S)};}E9U=this.lineIntersection(y4v,f1S,J9F,"segment");if(E9U){K9h="m";K9h+="ov";K9h+="e";this.highlighted=!!"1";return {action:K9h,stem:f$.clone(this.stem),p0:f$.clone(this.p0),tick:y4v,value:this.valueOnDrawingAxis(y4v,f1S)};}return null;};f$.Drawing.fibonacci=function(){var S6q;S6q="fi";S6q+="bonacci";this.name=S6q;this.configurator="fibonacci";};f$.inheritsFrom(f$.Drawing.fibonacci,f$.Drawing.BaseTwoPoint);f$.Drawing.fibonacci.mapping={trend:(2472,+"9320") > (349.73,475)?(360.25,1880) !== 2460?"t":("m",795.52):1.04e+3,color:9050 < (9050,6435)?("u",0x2600):"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:a1Y,level:"l",extendLeft:6885 === 115.33?937.09:"e",printLevels:"pl",printValues:"pv",timezone:m8t,display:(7350,708.35) === 464.75?("701.23" * 1,871.96):"d"};f$.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,+"0.5",0.618,1,1.382,1.618];f$.Drawing.fibonacci.prototype.configs=["color","fillColor",x9G,B7Q,"parameters"];f$.Drawing.fibonacci.prototype.initializeSettings=function(Q0W){var F53,c0T;d5a.e5w();F53=this.recommendedLevels;if(F53 && !Q0W.currentVectorParameters.fibonacci.fibsAlreadySet){c0T=Q0W.currentVectorParameters.fibonacci.fibs;for(var j2X=0;j2X < c0T.length;j2X++){delete c0T[j2X].display;for(var q3v=0;q3v < F53.length;q3v++){if(c0T[j2X].level == F53[q3v]){c0T[j2X].display=!![];}}}}};f$.Drawing.fibonacci.prototype.setOuter=function(){var s9D,J$s,b7L,Z85,M0o,Z35,g46,k$$,y6V,v$Y,T7r,s0K,y5u,D23,T0r;if(!this.p1){return;}s9D=this.stx;J$s=s9D.panels[this.panelName];if(!J$s){return;}b7L=Math.max(this.p0[+"1"],this.p1["1" * 1]);Z85=Math.min(this.p0[1],this.p1[1]);d5a.P4c(5);M0o=d5a.J3g(Z85,b7L);this.outer={p0:f$.clone(this.p0),p1:f$.clone(this.p1)};d5a.e5w();Z35=s9D.pixelFromTick(this.p0[0],J$s.chart);g46=s9D.pixelFromTick(this.p1[0],J$s.chart);k$$=s9D.getYAxisByField(J$s,this.field);y6V=this.pixelFromValue(J$s,this.p0["0" >> 32],this.p0[1],k$$);v$Y=this.pixelFromValue(J$s,this.p1[0],this.p1[1],k$$);d5a.P4c(0);T7r=d5a.J3g("0",0);s0K=1;for(var Z5i=+"0";Z5i < this.parameters.fibs.length;Z5i++){y5u=this.parameters.fibs[Z5i];if(y5u.level >= T7r && y5u.level <= s0K || !y5u.display)continue;D23=this.pixelFromValue(J$s,this.p0[0],v$Y < y6V?b7L - M0o * y5u.level:Z85 + M0o * y5u.level,k$$);T0r=f$.xIntersection({x0:Z35,x1:g46,y0:y6V,y1:v$Y},D23);if(y5u.level < T7r){T7r=y5u.level;this.outer.p1[1]=this.valueFromPixel(D23,J$s,k$$);this.outer.p1[0]=s9D.tickFromPixel(T0r,J$s.chart);}else if(y5u.level > s0K){s0K=y5u.level;this.outer.p0[1]=this.valueFromPixel(D23,J$s,k$$);this.outer.p0[0]=s9D.tickFromPixel(T0r,J$s.chart);}}};f$.Drawing.fibonacci.prototype.click=function(H$e,p2J,s6p){var m$Y;m$Y=this.stx.panels[this.panelName];if(!m$Y){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,p2J,s6p,m$Y.chart);this.penDown=!![];return !!"";}if(this.accidentalClick(p2J,s6p)){return !0;}this.setPoint(1,p2J,s6p,m$Y.chart);this.setOuter();this.parameters=f$.clone(this.parameters);this.penDown=!1;return !"";};f$.Drawing.fibonacci.prototype.render=function(w7h){var z3i,g7u,e_o,f_H,a58,c3$,s9Q,o0Z,i1a,C6f,x_3,N$a,x7P,D6N,u3U,R2h,s0Q,g5z,M6_,R8f,h8U,O61,R4T,m7O,Z8X,l0z,t4k,z4U,U1k,x6X,q49,l8_,y15,e7A,M$0,n0S,v34,X6w,t75;z3i="au";z3i+="t";z3i+="o";g7u=this.stx;e_o=g7u.panels[this.panelName];f_H=g7u.getYAxisByField(e_o,this.field);if(!e_o || this.field && !f_H){return;}f_H=f_H || e_o.yAxis;if(!this.p1){return;}a58=Math.max(this.p0[1],this.p1[1]);c3$=Math.min(this.p0[1],this.p1[1]);s9Q=f_H.flipped?c3$ - a58:a58 - c3$;o0Z=g7u.pixelFromTick(this.p0[0],e_o.chart);i1a=g7u.pixelFromTick(this.p1[0],e_o.chart);C6f=this.pixelFromValue(e_o,this.p0[0],this.p0[1],f_H);x_3=this.pixelFromValue(e_o,this.p1[0],this.p1[1],f_H);N$a=Math.min(x_3,C6f);x7P=Math.max(x_3,C6f);d5a.Q3k(5);D6N=d5a.J4Z(N$a,x7P);d5a.P4c(56);u3U=d5a.J3g(0,C6f,i1a,x_3,o0Z);R2h={color:z3i,parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=R2h;}s0Q=this.getLineColor(this.parameters.trend.color);w7h.textBaseline="middle";g7u.canvasFont("stx_yaxis",w7h);d5a.P4c(57);var D1$=d5a.J4Z(1,0,11,11);g5z=w7h.measureText("161.8%").width + "10" * D1$;M6_=Number.MAX_VALUE;R8f=Number.MAX_VALUE;d5a.P4c(8);var u8$=d5a.J3g(60,5,9,7,7);h8U=Number.MAX_VALUE * u8$;d5a.P4c(58);var N9w=d5a.J4Z(19,5,1,16,1);O61=Number.MAX_VALUE * N9w;R4T=this.getLineColor();this.rays=[];for(var E0a=0;E0a < this.parameters.fibs.length;E0a++){m7O="lef";m7O+="t";w7h.textAlign=m7O;w7h.fillStyle=R4T;Z8X=this.parameters.fibs[E0a];if(!Z8X.display)continue;l0z=this.pixelFromValue(e_o,this.p0[0],x_3 < C6f?a58 - s9Q * Z8X.level:c3$ + s9Q * Z8X.level,f_H);t4k=f$.xIntersection({x0:o0Z,x1:i1a,y0:C6f,y1:x_3},l0z);z4U=this.parameters.extendLeft?0:t4k;U1k=e_o.left + e_o.width;if(this.parameters.printLevels){d5a.Q3k(59);var G2r=d5a.J4Z(995,10,8,6956,14);d5a.Q3k(60);var L8p=d5a.J3g(80,3,30);x6X=Math.round(Z8X.level * G2r) / L8p + "%";U1k-=g5z;if(this.parameters.printValues){q49="st";q49+="x_y";q49+="a";q49+="xis";w7h.fillStyle=R4T;g7u.canvasFont(q49,w7h);}if(U1k < z4U){w7h.textAlign="right";}w7h.fillText(x6X,U1k,l0z);if(U1k < z4U){U1k+=5;}else {U1k-=5;}}if(this.parameters.printValues){if(t4k < e_o.width){l8_=this.valueFromPixel(l0z,e_o,f_H);if(f_H.priceFormatter){l8_=f_H.priceFormatter(g7u,e_o,l8_);}else {l8_=g7u.formatYAxisPrice(l8_,e_o,null,f_H);}if(w7h == g7u.chart.context){g7u.endClip();}g7u.createYAxisLabel(e_o,l8_,l0z,this.getLineColor(null,!![]),null,w7h,f_H);if(w7h == g7u.chart.context){g7u.startClip(e_o.name);}}}y15=Z8X.color;if(y15 == "auto" || f$.isTransparent(y15)){y15=this.getLineColor();}e7A=Z8X.color;if(e7A == "auto" || f$.isTransparent(e7A)){e7A=this.fillColor;}w7h.fillStyle=this.getLineColor(e7A,!!({}));M$0=f$.clone(Z8X.parameters);if(this.highlighted){M$0.opacity=1;}g7u.plotLine(z4U,U1k,l0z,l0z,y15,"segment",w7h,e_o,M$0);this.rays.push([[z4U,l0z],[U1k,l0z]]);w7h.globalAlpha=0.05;w7h.beginPath();w7h.moveTo(U1k,l0z);w7h.lineTo(z4U,l0z);if(z4U){w7h.lineTo(i1a,x_3);}else {w7h.lineTo(z4U,x_3);}w7h.lineTo(U1k,x_3);if(typeof e7A != "undefined"){w7h.fill();}w7h.globalAlpha=1;if(l0z < R8f){M6_=t4k;R8f=l0z;}if(l0z > O61){h8U=t4k;O61=l0z;}}for(var V6I=0;V6I <= +"1";V6I++){n0S=u3U?x7P - D6N * V6I:N$a + D6N * V6I;n0S=Math.round(n0S);if(n0S < R8f){M6_=f$.xIntersection({x0:o0Z,x1:i1a,y0:C6f,y1:x_3},n0S);R8f=n0S;}if(n0S > O61){h8U=f$.xIntersection({x0:o0Z,x1:i1a,y0:C6f,y1:x_3},n0S);O61=n0S;}}v34=f$.clone(this.parameters.trend.parameters);if(this.highlighted){v34.opacity=1;}g7u.plotLine(M6_,h8U,R8f,O61,s0Q,"segment",w7h,e_o,v34);if(this.highlighted){X6w=this.highlighted == "p0"?!!({}):![];t75=this.highlighted == "p1"?!![]:!!0;this.littleCircle(w7h,o0Z,C6f,X6w);this.littleCircle(w7h,i1a,x_3,t75);}};f$.Drawing.fibonacci.prototype.reposition=function(F9E,q53,K6C,L6$){d5a.e5w();if(!q53){return;}f$.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};f$.Drawing.fibonacci.prototype.intersected=function(l0R,M95,A5h){var z7t,G_o,S7g,M$r,C8B,m4W,y86,A_b;z7t=this.p0;G_o=this.p1;d5a.e5w();if(!z7t || !G_o){return null;}S7g={0:z7t,1:G_o};for(var m6I in S7g){if(this.pointIntersection(S7g[m6I][0],S7g[m6I][1],A5h)){d5a.P4c(3);this.highlighted=d5a.J4Z(3160 <= (9830,652)?7.07e+3:(+"6780",145.96) == (6754,9290)?5520 < (+"650",6000)?0x789:"k":"p",m6I);return {action:"drag",point:"p" + m6I};}}M$r=this.outer;C8B=this.rays;m4W=M$r && this.lineIntersection(l0R,M95,A5h,"segment",M$r.p0,M$r.p1);if(!m4W){for(var a1r="0" >> 0;a1r < C8B.length;a1r++){y86="r";y86+="a";y86+="y";if(this.lineIntersection(l0R,M95,A5h,y86,C8B[a1r][0],C8B[a1r][1],!![])){m4W=!![];break;}}}if(m4W){A_b="mo";A_b+="v";A_b+="e";this.highlighted=!!"1";return {action:A_b,p0:f$.clone(z7t),p1:f$.clone(G_o),tick:l0R,value:this.valueOnDrawingAxis(l0R,M95)};}return null;};f$.Drawing.fibonacci.prototype.reconstruct=function(D$e,S1E){S1E=f$.replaceFields(S1E,f$.reverseObject(f$.Drawing.fibonacci.mapping));this.stx=D$e;this.parameters=S1E.parameters;d5a.e5w();if(!this.parameters){this.parameters=f$.clone(this.stx.currentVectorParameters.fibonacci);}this.color=S1E.col;this.fillColor=S1E.fc;this.panelName=S1E.pnl;this.d0=S1E.d0;this.d1=S1E.d1;this.d2=S1E.d2;this.tzo0=S1E.tzo0;this.tzo1=S1E.tzo1;this.tzo2=S1E.tzo2;this.v0=S1E.v0;this.v1=S1E.v1;this.v2=S1E.v2;this.field=S1E.fld;this.permanent=S1E.prm?!!({}):!!0;this.hidden=S1E.hdn?!!1:!"1";this.adjust();};f$.Drawing.fibonacci.prototype.adjust=function(){var k3M;k3M=this.stx.panels[this.panelName];if(!k3M){return;}d5a.P4c(1);this.setPoint(d5a.J4Z("0",32),this.d0,this.v0,k3M.chart);this.setPoint(1,this.d1,this.v1,k3M.chart);this.setOuter();};f$.Drawing.fibonacci.prototype.serialize=function(){var F9U;F9U={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field,prm:this.permanent?1:0,hdn:this.hidden?1:0};return f$.replaceFields(F9U,f$.Drawing.fibonacci.mapping);};f$.Drawing.retracement=function(){this.name="retracement";};f$.inheritsFrom(f$.Drawing.retracement,f$.Drawing.fibonacci);f$.Drawing.fibprojection=function(){var b5E,R6M,b1w;b5E=+"242425603";R6M=-1762151573;b1w=2;for(var C3N=+"1";d5a.Y5Z(C3N.toString(),C3N.toString().length,22414) !== b5E;C3N++){this.name="";b1w+=2;}if(d5a.j3V(b1w.toString(),b1w.toString().length,21262) !== R6M){this.name="fibprojection";}this.dragToDraw=![];d5a.X77();this.p2=null;};f$.inheritsFrom(f$.Drawing.fibprojection,f$.Drawing.fibonacci);f$.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,4.236];f$.Drawing.fibprojection.prototype.click=function(Y5$,Q28,N1a){var V3m,V_j,G9c,w0H,J64;V3m=this.stx;V_j=V3m.panels[this.panelName];if(!V_j){return;}this.copyConfig();d5a.X77();if(!this.penDown){this.setPoint(+"0",Q28,N1a,V_j.chart);this.penDown=!"";return !!"";}if(this.accidentalClick(Q28,N1a)){V3m.undo();G9c=503556814;w0H=-184570312;J64=2;for(var G4w=1;d5a.j3V(G4w.toString(),G4w.toString().length,91172) !== G9c;G4w++){return !1;}if(d5a.j3V(J64.toString(),J64.toString().length,5341) !== w0H){return !!1;}return !!1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],V_j.chart);this.parameters=f$.clone(this.parameters);return !0;}this.setPoint(1,Q28,N1a,V_j.chart);this.p2=[this.p1[0],this.p1[+"1"]];return !"1";};f$.Drawing.fibprojection.prototype.render=function(U_a){var o1N,w2i,M7z,U1L,D0C,K$j,R6a,n$Y,d_$,G0b,d99,a45,i1N,X06,O8t,Q91,N9p,t0s,v7t,v4b,N11,H3V,q9X,g3W,V5m,P0s,D_i,c4w,E5D,e$V,C3C,Y9Y,o2a;o1N="se";o1N+="gme";o1N+="n";o1N+="t";w2i=this.stx;M7z=w2i.panels[this.panelName];U1L=w2i.getYAxisByField(M7z,this.field);if(!M7z || this.field && !U1L){return;}U1L=U1L || M7z.yAxis;if(!this.p1){return;}d5a.P4c(61);var T7T=d5a.J3g(18,4,43,20);d5a.Q3k(46);var i03=d5a.J4Z(0,10,1,11);D0C=this.p1[T7T] - this.p0[i03];K$j=w2i.pixelFromTick(this.p0[0],M7z.chart);R6a=w2i.pixelFromTick(this.p1[0],M7z.chart);n$Y=this.pixelFromValue(M7z,this.p0[0],this.p0[1],U1L);d_$=this.pixelFromValue(M7z,this.p1[0],this.p1[1],U1L);G0b=null;d99=null;if(this.p2){G0b=w2i.pixelFromTick(this.p2["0" ^ 0],M7z.chart);d99=this.pixelFromValue(M7z,this.p2[0],this.p2[1],U1L);}a45={color:"auto",parameters:{pattern:"solid",opacity:"0.25" * 1,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=a45;}i1N=this.getLineColor(this.parameters.trend.color);d5a.X77();U_a.textBaseline="middle";w2i.canvasFont("stx_yaxis",U_a);d5a.Q3k(45);var E86=d5a.J4Z(11,1);X06=U_a.measureText("161.8%").width + E86;O8t=this.getLineColor();if(this.p2){this.rays=[];for(var W84=0;W84 < this.parameters.fibs.length;W84++){Q91="un";Q91+="define";Q91+="d";U_a.textAlign="left";U_a.fillStyle=O8t;N9p=this.parameters.fibs[W84];if(!N9p.display)continue;t0s=this.pixelFromValue(M7z,this.p2[0],this.p2[1] + D0C * N9p.level,U1L);v7t=f$.xIntersection({x0:K$j,x1:R6a,y0:n$Y,y1:d_$},t0s);v4b=this.parameters.extendLeft?0:K$j;N11=M7z.left + M7z.width;if(this.parameters.printLevels){d5a.P4c(18);var r0z=d5a.J4Z(12,53,10448,18);d5a.P4c(62);var B9B=d5a.J3g(24,15,1,1);d5a.P4c(5);var L$D=d5a.J4Z(21396,23179);d5a.P4c(60);var i$g=d5a.J3g(200930,8,25470);d5a.Q3k(11);var g8T=d5a.J4Z(14,20,17,7691);d5a.P4c(63);var j0n=d5a.J3g(7,2,15,3);d5a.P4c(3);var P6p=d5a.J4Z(395,1975);d5a.P4c(5);var I3s=d5a.J3g(12,4581);H3V=Math.round(N9p.level * r0z) / B9B + ((L$D,843.74) < (+"8015",i$g)?(g8T,681.09) <= ("13" | j0n)?("p",P6p):"%":(I3s,"P"));N11-=X06;if(this.parameters.printValues){U_a.fillStyle=O8t;w2i.canvasFont("stx_yaxis",U_a);}if(N11 < v4b){U_a.textAlign="right";}U_a.fillText(H3V,N11,t0s);if(N11 < v4b){N11+=5;}else {N11-=5;}}if(this.parameters.printValues){if(v7t < M7z.width){q9X=this.valueFromPixel(t0s,M7z,U1L);if(U1L.priceFormatter){q9X=U1L.priceFormatter(w2i,M7z,q9X);}else {q9X=w2i.formatYAxisPrice(q9X,M7z,null,U1L);}if(U_a == w2i.chart.context){w2i.endClip();}w2i.createYAxisLabel(M7z,q9X,t0s,this.getLineColor(null,!!({})),null,U_a,U1L);if(U_a == w2i.chart.context){w2i.startClip(M7z.name);}}}g3W=N9p.color;if(g3W == "auto" || f$.isTransparent(g3W)){g3W=this.getLineColor();}V5m=N9p.color;if(V5m == "auto" || f$.isTransparent(V5m)){V5m=this.fillColor;}U_a.fillStyle=this.getLineColor(V5m,!!({}));P0s=f$.clone(N9p.parameters);if(this.highlighted){P0s.opacity=1;}w2i.plotLine(v4b,N11,t0s,t0s,g3W,"segment",U_a,M7z,P0s);this.rays.push([[v4b,t0s],[N11,t0s]]);U_a.globalAlpha=0.05;U_a.beginPath();U_a.moveTo(N11,t0s);U_a.lineTo(v4b,t0s);if(v4b){U_a.lineTo(K$j,d99);}else {U_a.lineTo(v4b,d99);}U_a.lineTo(N11,d99);if(typeof V5m != Q91){U_a.fill();}U_a.globalAlpha=1;}}D_i=f$.clone(this.parameters.trend.parameters);c4w=-1711655840;E5D=1252645417;e$V=2;for(var B9q=1;d5a.j3V(B9q.toString(),B9q.toString().length,65978) !== c4w;B9q++){if(this.highlighted){D_i.opacity=2;}e$V+=2;}if(d5a.Y5Z(e$V.toString(),e$V.toString().length,67490) !== E5D){if(this.highlighted){D_i.opacity=1;}}w2i.plotLine(K$j,R6a,n$Y,d_$,i1N,o1N,U_a,M7z,D_i);if(this.p2){w2i.plotLine(R6a,G0b,d_$,d99,i1N,"segment",U_a,M7z,D_i);}if(this.highlighted){C3C=this.highlighted == "p0"?!!"1":!"1";Y9Y=this.highlighted == "p1"?!0:!"1";o2a=this.highlighted == "p2"?!!1:!!"";this.littleCircle(U_a,K$j,n$Y,C3C);this.littleCircle(U_a,R6a,d_$,Y9Y);this.littleCircle(U_a,G0b,d99,o2a);}};f$.Drawing.fibprojection.prototype.move=function(I7H,L81,u0p){if(!this.penDown){this.moving=!({});return;}this.moving=!!1;this.copyConfig();if(this.p2 === null){this.p1=[L81,u0p];}else {this.p2=[L81,u0p];}this.render(I7H);};f$.Drawing.fibprojection.prototype.reposition=function(b7g,N9o,m5B,m6G){var S5C,H_q,U8z,V49;S5C="dr";d5a.e5w();S5C+="a";S5C+="g";if(!N9o){return;}H_q=this.stx.panels[this.panelName];U8z=N9o.tick - m5B;V49=N9o.value - m6G;if(N9o.action == "move"){d5a.Q3k(0);this.setPoint(d5a.J4Z("0",0),N9o.p0[0] - U8z,N9o.p0[1] - V49,H_q.chart);this.setPoint(+"1",N9o.p1[0] - U8z,N9o.p1[1] - V49,H_q.chart);this.setPoint(2,N9o.p2[0] - U8z,N9o.p2[1] - V49,H_q.chart);this.render(b7g);}else if(N9o.action == S5C){this[N9o.point]=[m5B,m6G];this.setPoint(0,this.p0[0],this.p0[1],H_q.chart);this.setPoint(1,this.p1[0],this.p1[1],H_q.chart);this.setPoint(2,this.p2[0],this.p2[1],H_q.chart);this.render(b7g);}};f$.Drawing.fibprojection.prototype.intersected=function(m9Z,d85,s37){var w6G,B7T,M5P,O4V,Z7k,I4Y;w6G=this.p0;B7T=this.p1;M5P=this.p2;if(!w6G || !B7T || !M5P){return null;}O4V={0:w6G,1:B7T,2:M5P};for(var f8k in O4V){if(this.pointIntersection(O4V[f8k][0],O4V[f8k][1],s37)){d5a.P4c(3);this.highlighted=d5a.J4Z((6390,7700) <= 251.19?(0x25a3,0x12f4):"p",f8k);return {action:"drag",point:"p" + f8k};}}Z7k=this.rays;I4Y=this.lineIntersection(m9Z,d85,s37,"segment",w6G,B7T) || this.lineIntersection(m9Z,d85,s37,"segment",B7T,M5P);if(!I4Y){for(var e95=0;e95 < Z7k.length;e95++){if(this.lineIntersection(m9Z,d85,s37,"ray",Z7k[e95][0],Z7k[e95][1],!!({}))){I4Y=!"";break;}}}if(I4Y){this.highlighted=!"";return {action:"move",p0:f$.clone(w6G),p1:f$.clone(B7T),p2:f$.clone(M5P),tick:m9Z,value:this.valueOnDrawingAxis(m9Z,d85)};}return null;};f$.Drawing.fibprojection.prototype.adjust=function(){var M$V;M$V=this.stx.panels[this.panelName];if(!M$V){return;}this.setPoint(+"0",this.d0,this.v0,M$V.chart);this.setPoint(1,this.d1,this.v1,M$V.chart);d5a.e5w();this.setPoint(2,this.d2,this.v2,M$V.chart);};f$.Drawing.fibarc=function(){d5a.X77();this.name="fibarc";};f$.inheritsFrom(f$.Drawing.fibarc,f$.Drawing.fibonacci);d5a.P4c(25);f$.Drawing.fibarc.prototype.recommendedLevels=[+"0.382",0.5,d5a.J4Z("0.618",1),1];f$.Drawing.fibarc.prototype.setOuter=function(){var r7f,t6G,S0_,k2b,V4d,a1q,F5I,Z_w,T73;if(!this.p1){return;}r7f=this.stx;t6G=r7f.panels[this.panelName];if(!t6G){return;}this.outer={p0:f$.clone(this.p0),p1:f$.clone(this.p1)};S0_=r7f.getYAxisByField(t6G,this.field);d5a.X77();k2b=this.pixelFromValue(t6G,this.p0[+"0"],this.p0[1],S0_);V4d=this.pixelFromValue(t6G,this.p1[0],this.p1["1" - 0],S0_);a1q=r7f.pixelFromTick(this.p0["0" << 64],t6G.chart);F5I=r7f.pixelFromTick(this.p1[0],t6G.chart);d5a.P4c(60);Z_w=d5a.J4Z(V4d,k2b,2);T73=f$.xIntersection({x0:a1q,x1:F5I,y0:k2b,y1:V4d},Z_w);this.outer.p0[1]=this.valueFromPixel(Z_w,t6G,S0_);d5a.Q3k(30);this.outer.p0[d5a.J4Z("0",32)]=r7f.tickFromPixel(T73,t6G.chart);};f$.Drawing.fibarc.prototype.intersected=function(h_s,N7q,t$a){var L9x,o58,E88,i5N,a6H,N5a,t6z,s$P,R$O,s7y,D63,D$H,l6O,s1G,Q4Y,A0U,W3G;L9x=this.stx;o58=L9x.panels[this.panelName];if(!o58){return;}E88=this.p0;i5N=this.p1;a6H=this.outer;if(!E88 || !i5N){return null;}N5a={0:E88,1:i5N};for(var K_P in N5a){if(this.pointIntersection(N5a[K_P]["0" << 0],N5a[K_P][1],t$a)){d5a.P4c(3);this.highlighted=d5a.J3g(6899 <= (657.43,252)?(7.12e+3,+"0x2cd"):"p",K_P);return {action:"drag",point:"p" + K_P};}}t6z=422334390;s$P=1901255987;R$O=2;for(var S1i=1;d5a.Y5Z(S1i.toString(),S1i.toString().length,72145) !== t6z;S1i++){s7y=this.valueOnDrawingAxis(h_s,N7q);R$O+=2;}if(d5a.j3V(R$O.toString(),R$O.toString().length,64063) !== s$P){s7y=this.valueOnDrawingAxis(h_s,N7q);}if(this.lineIntersection(h_s,s7y,t$a,"segment",a6H.p0,a6H.p1)){D63="m";D63+="o";D63+="ve";this.highlighted=!!({});return {action:D63,p0:f$.clone(E88),p1:f$.clone(i5N),tick:h_s,value:s7y};}D$H=L9x.getYAxisByField(o58,this.field);l6O={x0:E88[0],x1:i5N[0],y0:E88[1],y1:i5N[1]};s1G=this.boxToPixels(L9x,this.panelName,l6O,D$H);d5a.e5w();Q4Y={x:Math.abs(Math.sqrt(2) * (s1G.x1 - s1G.x0)),y:Math.abs(Math.sqrt("2" * 1) * (s1G.y1 - s1G.y0))};A0U=L9x.pixelFromTick(h_s,o58.chart);W3G=L9x.pixelFromValueAdjusted(o58,h_s,N7q);if(A0U + t$a.r < s1G.x1 - Q4Y.x || A0U - t$a.r > s1G.x1 + Q4Y.x){return null;}if(W3G + t$a.r < s1G.y1 - Q4Y.y || W3G - t$a.r > s1G.y1 + Q4Y.y){return null;}if(s1G.y0 < s1G.y1 && W3G - t$a.r > s1G.y1){return null;}if(s1G.y0 > s1G.y1 && W3G + t$a.r < s1G.y1){return null;}this.highlighted=!"";return {action:"move",p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:h_s,value:s7y};};f$.Drawing.fibarc.prototype.render=function(h0T){var I3$,K8b,R5s,j24,S$h,j6Q,b8j,O9q,N$v,F2i,Z14,k4Z,h6x,r7O,U6m,F8F,P5m,z9_,X3_,f$U,a3W,I8i,V5T,V7S,d5f,f$C;I3$="stx_yaxi";I3$+="s";K8b=this.stx;R5s=K8b.panels[this.panelName];j24=K8b.getYAxisByField(R5s,this.field);if(!R5s || this.field && !j24){return;}j24=j24 || R5s.yAxis;if(!this.p1){return;}S$h=K8b.pixelFromTick(this.p0[0],R5s.chart);j6Q=K8b.pixelFromTick(this.p1[0],R5s.chart);b8j=this.pixelFromValue(R5s,this.p0[0],this.p0[1],j24);O9q=this.pixelFromValue(R5s,this.p1["0" - 0],this.p1[1],j24);d5a.P4c(64);N$v=d5a.J4Z(b8j,O9q);d5a.e5w();d5a.P4c(65);F2i=Math.abs(d5a.J4Z(j6Q,b8j,O9q,S$h));Z14=this.getLineColor(this.parameters.trend.color);h0T.textBaseline="middle";K8b.canvasFont(I3$,h0T);k4Z=this.getLineColor();for(var y4r=0;y4r < this.parameters.fibs.length;y4r++){h6x="no";h6x+="n";h6x+="e";r7O="au";r7O+="to";h0T.fillStyle=k4Z;U6m=this.parameters.fibs[y4r];if(U6m.level < 0 || !U6m.display)continue;d5a.Q3k(45);var M9B=d5a.J3g(4,3);d5a.Q3k(66);var K_i=d5a.J4Z(20,10,5,15,13);d5a.Q3k(10);var h5r=d5a.J4Z(0,4,6);F8F=Math.abs(this.p1[M9B] - this.p0[K_i]) * Math.sqrt(h5r) * U6m.level;d5a.Q3k(5);var u55=d5a.J4Z(7,8);d5a.Q3k(67);var w5X=d5a.J4Z(0,63,1,16,4);d5a.P4c(10);var x07=d5a.J4Z(18,26,9);d5a.P4c(10);var c7m=d5a.J4Z(0,1,2);P5m=this.p1[u55] + F8F * (N$v?w5X:x07) * (j24.flipped?-+"1":c7m);z9_=this.pixelFromValue(R5s,this.p0[0],P5m,j24);X3_=f$.xIntersection({x0:S$h,x1:j6Q,y0:b8j,y1:O9q},z9_);if(this.parameters.printLevels){h0T.textAlign="center";d5a.P4c(68);var d4d=d5a.J4Z(9000,1,3,7997);d5a.P4c(3);var t_C=d5a.J3g(1,9);f$U=Math.round(U6m.level * d4d) / t_C + "%";if(this.parameters.printValues){h0T.fillStyle=k4Z;K8b.canvasFont("stx_yaxis",h0T);}h0T.fillText(f$U,j6Q,Math.round(z9_ - 5));}h0T.textAlign="left";if(this.parameters.printValues){if(X3_ < R5s.width){a3W=P5m;if(j24.priceFormatter){a3W=j24.priceFormatter(K8b,R5s,a3W);}else {a3W=K8b.formatYAxisPrice(a3W,R5s,null,j24);}if(h0T == K8b.chart.context){K8b.endClip();}K8b.createYAxisLabel(R5s,a3W,z9_,this.getLineColor(null,!!({})),null,h0T,j24);if(h0T == K8b.chart.context){K8b.startClip(R5s.name);}}}I8i=U6m.color;if(I8i == "auto" || f$.isTransparent(I8i)){I8i=this.getLineColor();}h0T.strokeStyle=I8i;V5T=U6m.color;if(V5T == r7O || f$.isTransparent(V5T)){V5T=this.fillColor;}h0T.fillStyle=this.getLineColor(V5T,!!1);h0T.globalAlpha=this.highlighted?+"1":U6m.parameters.opacity;h0T.lineWidth=U6m.parameters.lineWidth;if(h0T.setLineDash){h0T.setLineDash(f$.borderPatternToArray(h0T.lineWidth,U6m.parameters.pattern));h0T.lineDashOffset=+"0";}h0T.save();h0T.beginPath();d5a.Q3k(15);h0T.scale(d5a.J4Z(1,F2i),d5a.J3g(0,"1",d5a.P4c(5)));d5a.P4c(25);h0T.arc(d5a.J4Z(j6Q,F2i),O9q,Math.abs(z9_ - O9q),0,Math.PI,!N$v);if(this.pattern != h6x){h0T.stroke();}h0T.globalAlpha=0.05;h0T.fill();h0T.restore();if(h0T.setLineDash){h0T.setLineDash([]);}h0T.globalAlpha=1;}h0T.textAlign="left";V7S=f$.clone(this.parameters.trend.parameters);if(this.highlighted){V7S.opacity=1;}d5a.P4c(60);K8b.plotLine(j6Q,d5a.J4Z(j6Q,S$h,2),O9q,d5a.J3g(O9q,b8j,2),Z14,"segment",h0T,R5s,V7S);if(this.highlighted){d5f=this.highlighted == "p0"?!"":!1;f$C=this.highlighted == "p1"?!"":!!0;this.littleCircle(h0T,S$h,b8j,d5f);this.littleCircle(h0T,j6Q,O9q,f$C);}};f$.Drawing.fibfan=function(){d5a.X77();this.name="fibfan";};f$.inheritsFrom(f$.Drawing.fibfan,f$.Drawing.fibonacci);f$.Drawing.fibfan.prototype.recommendedLevels=[0,+"0.382",0.5,+"0.618",1];f$.Drawing.fibfan.prototype.setOuter=function(){};f$.Drawing.fibfan.prototype.render=function(F1p){var b$_,I59,G7Q,r8P,B_u,O8g,L1I,b0O,r3P,G3G,u_q,T2p,T0P,h5E,Q8w,r_3,h8H,V_D,l9t,B3k,U$Q,B_a,F0j,i9k,X1z,s$f,M4O,O$4,h7R,F7l,V0Z,C3P,e$r;b$_=this.stx;I59=b$_.panels[this.panelName];G7Q=b$_.getYAxisByField(I59,this.field);if(!I59 || this.field && !G7Q){return;}G7Q=G7Q || I59.yAxis;if(!this.p1){return;}r8P=b$_.pixelFromTick(this.p0["0" << 32],I59.chart);B_u=b$_.pixelFromTick(this.p1[+"0"],I59.chart);O8g=this.pixelFromValue(I59,this.p0[+"0"],this.p0[1],G7Q);L1I=this.pixelFromValue(I59,this.p1[0],this.p1[1],G7Q);b0O=Math.min(L1I,O8g);r3P=Math.max(L1I,O8g);d5a.Q3k(5);G3G=d5a.J4Z(b0O,r3P);d5a.P4c(56);u_q=d5a.J3g(0,O8g,B_u,L1I,r8P);T2p=this.getLineColor(this.parameters.trend.color);F1p.textBaseline="middle";b$_.canvasFont("stx_yaxis",F1p);T0P=F1p.measureText("161.8%").width + ("10" - 0);h5E=Number.MAX_VALUE;d5a.P4c(69);d5a.e5w();var c48=d5a.J3g(1,13,11,7,16);Q8w=Number.MAX_VALUE * c48;r_3=this.getLineColor();this.rays=[];for(var f3Y=0;f3Y < this.parameters.fibs.length;f3Y++){h8H="seg";h8H+="m";h8H+="e";h8H+="nt";V_D="a";V_D+="u";V_D+="to";l9t="au";l9t+="t";l9t+="o";F1p.fillStyle=r_3;B3k=this.parameters.fibs[f3Y];if(!B3k.display)continue;U$Q=this.pixelFromValue(I59,this.p0[+"0"],(this.p0[1] - this.p1[1]) * B3k.level + this.p1[1],G7Q);B_a=f$.xIntersection({x0:B_u,x1:B_u,y0:O8g,y1:L1I},U$Q);F0j=I59.left;if(B_u > r8P){F0j+=I59.width;}d5a.Q3k(70);i9k=d5a.J4Z(r8P,F0j,O8g,U$Q,r8P,O8g,B_a);if(r8P > F0j - (this.parameters.printLevels?T0P + 5:+"0") && B_u > r8P)continue;else if(r8P < F0j + (this.parameters.printLevels?T0P + "5" * 1:0) && B_u < r8P)continue;if(this.parameters.printLevels){d5a.Q3k(5);var l_A=d5a.J4Z(40,50);X1z=Math.round(B3k.level * +"1000") / l_A + "%";if(B_u > r8P){F0j-=T0P;F1p.textAlign="left";}else {s$f="r";s$f+="i";s$f+="g";s$f+="ht";F0j+=T0P;F1p.textAlign=s$f;}if(this.parameters.printValues){F1p.fillStyle=r_3;b$_.canvasFont("stx_yaxis",F1p);}d5a.Q3k(70);i9k=d5a.J4Z(r8P,F0j,O8g,U$Q,r8P,O8g,B_a);F1p.fillText(X1z,F0j,i9k);if(B_u > r8P){F0j-=5;}else {F0j+=5;}}F1p.textAlign="left";if(this.parameters.printValues){if(B_a < I59.width){M4O=this.valueFromPixel(U$Q,I59,G7Q);if(G7Q.priceFormatter){M4O=G7Q.priceFormatter(b$_,I59,M4O);}else {M4O=b$_.formatYAxisPrice(M4O,I59,null,G7Q);}if(F1p == b$_.chart.context){b$_.endClip();}b$_.createYAxisLabel(I59,M4O,U$Q,this.getLineColor(null,!![]),null,F1p,G7Q);if(F1p == b$_.chart.context){b$_.startClip(I59.name);}}}O$4=B3k.color;if(O$4 == l9t || f$.isTransparent(O$4)){O$4=this.getLineColor();}h7R=B3k.color;if(h7R == V_D || f$.isTransparent(h7R)){h7R=this.fillColor;}F1p.fillStyle=this.getLineColor(h7R,!!"1");if(this.parameters.printLevels){d5a.P4c(70);i9k=d5a.J3g(r8P,F0j,O8g,U$Q,r8P,O8g,B_a);}F7l=f$.clone(B3k.parameters);if(this.highlighted){F7l.opacity=1;}b$_.plotLine(r8P,F0j,O8g,i9k,O$4,h8H,F1p,I59,F7l);this.rays.push([[r8P,O8g],[F0j,i9k]]);F1p.globalAlpha=0.05;F1p.beginPath();F1p.moveTo(F0j,i9k);F1p.lineTo(r8P,O8g);F1p.lineTo(F0j,O8g);F1p.fill();F1p.globalAlpha=1;if(U$Q < h5E){h5E=U$Q;}if(U$Q > Q8w){Q8w=U$Q;}}for(var L$k=+"0";L$k <= 1;L$k++){V0Z=u_q?r3P - G3G * L$k:b0O + G3G * L$k;V0Z=Math.round(V0Z);if(V0Z < h5E){h5E=V0Z;}if(V0Z > Q8w){Q8w=V0Z;}}if(this.highlighted){C3P=this.highlighted == "p0"?!!({}):!1;e$r=this.highlighted == "p1"?!"":!1;this.littleCircle(F1p,r8P,O8g,C3P);this.littleCircle(F1p,B_u,L1I,e$r);}};f$.Drawing.fibtimezone=function(){d5a.X77();this.name="fibtimezone";};f$.inheritsFrom(f$.Drawing.fibtimezone,f$.Drawing.fibonacci);f$.Drawing.fibtimezone.prototype.render=function(B7h){var U0Z,G3a,V6c,M_V,p5q,q9q,e$W,I6S,u2m,s1N,O4r,o8m,L0P,L0t,i8h,Q3K,x_b,R5N,L8V,L9W,w33,g4B,p18,S3o,q4z,k2i,E7o,j3e,n_1;U0Z="a";U0Z+="u";U0Z+="t";U0Z+="o";G3a="st";G3a+="x_ya";G3a+="xis";var {stx:V8b}=this;V6c=V8b.panels[this.panelName];M_V=V8b.getYAxisByField(V6c,this.field);if(!V6c || this.field && !M_V){return;}M_V=M_V || V6c.yAxis;if(!this.p1){return;}p5q=f$.strToDateTime(this.d0);q9q=f$.strToDateTime(this.d1);e$W=V8b.chart.dataSet["0" >> 64].DT;if(p5q < e$W || q9q < e$W){return;}var {chart:D4J, left:q3X, width:A6O}=V6c;var {p0:m9b, p1:f6B, parameters:w92, highlighted:g4G}=this;I6S=V8b.pixelFromTick(m9b[0],D4J);u2m=V8b.pixelFromTick(f6B["0" | 0],D4J);s1N=this.pixelFromValue(V6c,m9b[0],m9b[1],M_V);O4r=this.pixelFromValue(V6c,f6B[0],f6B[1],M_V);o8m=[+"1",0];L0P=this.getLineColor(w92.trend.color);B7h.textBaseline="middle";V8b.canvasFont(G3a,B7h);L0t=20;i8h=this.p1[0] - this.p0[0];Q3K=this.getLineColor();B7h.textAlign="center";x_b=I6S;R5N=0;var {top:g9u}=M_V;L8V=M_V.bottom;var {printLevels:T8v, timezone:Q3I}=w92;L9W=Q3I.color;if(L9W == U0Z || f$.isTransparent(L9W)){L9W=this.getLineColor();}w33=Q3I.color;if(w33 == "auto" || f$.isTransparent(w33)){w33=this.fillColor;}if(T8v){d5a.Q3k(5);L8V-=d5a.J3g(7,L0t);}g4B=f$.clone(w92.timezone.parameters);if(g4G){g4B.opacity=1;}while(!![]){p18="seg";p18+="me";p18+="n";p18+="t";x_b=V8b.pixelFromTick(m9b[0] + R5N * i8h,D4J);if(I6S < u2m && x_b > q3X + A6O || I6S > u2m && x_b < q3X)break;if(T8v){B7h.fillStyle=Q3K;B7h.fillText(u2m > I6S?R5N:R5N * -1,x_b,L8V + 7);}B7h.fillStyle=this.getLineColor(w33,!"");V8b.plotLine(x_b,x_b,0,L8V,L9W,p18,B7h,V6c,g4B);B7h.globalAlpha=0.05;B7h.beginPath();B7h.moveTo(I6S,g9u);B7h.lineTo(x_b,g9u);B7h.lineTo(x_b,L8V);B7h.lineTo(I6S,L8V);B7h.fill();B7h.globalAlpha=+"1";R5N=o8m[0] + o8m[+"1"];o8m.unshift(R5N);if(!i8h)break;}B7h.textAlign="left";V8b.plotLine(I6S,u2m,s1N,O4r,L0P,"segment",B7h,V6c,g4B);if(this.highlighted){S3o=g4G == "p0"?!!({}):![];q4z=-1479516026;k2i=793192663;E7o=+"2";for(var h0S=1;d5a.j3V(h0S.toString(),h0S.toString().length,"3651" ^ 0) !== q4z;h0S++){j3e=g4G == "p1"?!!1:!1;this.littleCircle(B7h,I6S,s1N,S3o);d5a.Q3k(30);E7o+=d5a.J4Z("2",64);}if(d5a.Y5Z(E7o.toString(),E7o.toString().length,+"15849") !== k2i){j3e=g4G === ""?!"1":!0;this.littleCircle(B7h,I6S,s1N,S3o);}this.littleCircle(B7h,u2m,O4r,j3e);}else {n_1=this.valueFromPixel(V6c.height / 2,V6c,M_V);this.setPoint(0,m9b["0" - 0],n_1,D4J);d5a.P4c(1);this.setPoint(d5a.J4Z("1",32),f6B[0],n_1,D4J);}};f$.Drawing.fibtimezone.prototype.intersected=function(S7Q,g0f,L7s){var W_a,x68,l2Z,u1i,i3w,G7A;W_a=this.p0;x68=this.p1;l2Z=this.stx.panels[this.panelName];if(!W_a || !x68 || !l2Z){return null;}u1i={0:W_a,1:x68};for(var U$e in u1i){if(this.pointIntersection(u1i[U$e][0],u1i[U$e][+"1"],L7s)){i3w="d";i3w+="rag";d5a.P4c(3);this.highlighted=d5a.J4Z(9850 <= "4770" * 1?(4580,+"163") !== 1550?(150.95,593.85) >= 1336?"T":!1:(0x1133,249.97):"p",U$e);return {action:i3w,point:(589 >= (2519,+"45.32")?"p":318.29 > 2012?("c",8.44e+3):+"535.98") + U$e};}}G7A=this.lineIntersection(S7Q,g0f,L7s,"segment");if(G7A || L7s.x0 <= this.p0[0] && L7s.x1 >= W_a[0]){this.highlighted=!!1;return {action:"move",p0:f$.clone(W_a),p1:f$.clone(x68),tick:S7Q,value:this.valueOnDrawingAxis(S7Q,g0f)};}return null;};f$.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[11,11];this.points=[["M",3,0,"L",7,0,"L",7,5,"L",10,5,"L",5,+"10","L",0,5,9340 <= (1650,867)?"H":"8460" - 0 === +"1916"?(0x200f,+"730.52"):"L",3,+"5","L",3,0]];};f$.inheritsFrom(f$.Drawing.arrow_v0,f$.Drawing.shape);f$.Drawing.xcross=function(){var U77;U77="x";U77+="cro";U77+="ss";d5a.X77();this.name=U77;d5a.P4c(25);this.dimension=[7,d5a.J4Z("7",1)];d5a.P4c(5);this.points=[[(3630,+"6731") === 9551?284.13 < (396.45,+"4147")?5972 >= ("281.25" * 1,154.19)?0x10f3:0x1c72:("m","m"):"M",1,0,510.35 < 1329?"L":(1600,866.95) == (7940,335.84)?(0xd3a,493.80):(462.59,3.77e+3),3,2,(2390,5553) >= 386?("536" ^ 0,8310) == 2696?7.58e+3:"L":0x85d,5,+"0",+"2354" < (9333,4299)?"L":1230 <= 4452?(0x1799,1.78e+3):(0x95d,0xcf5),6,1,"L",4,3,9000 === (214.01,3256)?(0x18b8,5.31e+3):"L",d5a.J4Z(0,"6"),5,(8975,751.19) > 598.2?"L":(!!"1","b"),d5a.J4Z("5",1,d5a.Q3k(0)),6,(6274,980.08) > 6183?("9347" >> 0,872) > 791.96?(0x2319,"A"):(!!({}),806.78):"L",3,4,4580 >= ("1190" ^ 0)?"L":(0x18bc,0x1e4),+"1",6,3430 < (875.65,8080)?"L":0xb7b,0,5,8686 == ("6130" >> 0,8565)?225.87 === ("828.4" * 1,9490)?(7.95e+3,"Z"):(8013,"685.9" * 1) == (620.44,474.93)?("756.34" * 1,89.19):394.04:"L",2,+"3",636.1 >= 3110?(!!0,"u"):"L",0,1,5920 !== (4949,8538)?"L":"560.42" * 1,1,0]];};f$.inheritsFrom(f$.Drawing.xcross,f$.Drawing.shape);f$.Drawing.check=function(){var W43;W43="c";W43+="h";W43+="eck";this.name=W43;d5a.e5w();this.dimension=[8,9];d5a.Q3k(25);this.points=[["3199" * 1 < (565.59,4464)?"M":("b","728.06" - 0),1,5,(550.65,659.28) === 6626?+"3.32e+3":(75.58,6540) > (1116,9990)?!!({}):"L",0,d5a.J4Z("6",1),"L",2,8,623 !== 2020?("764.57" - 0,9003) > 8230?("421" * 1,5760) >= (4580,"1940" - 0)?"L":("t","B"):"959.51" * 1:("u",0x24a4),7,1,(+"9434",674.84) === (7258,832)?"S":"L",+"6",0,"L",2,+"6",3190 === (590.17,357)?2.77e+3:610.04 > (145.06,36.4)?"L":(!!0,7.03e+3),1,5]];};f$.inheritsFrom(f$.Drawing.check,f$.Drawing.shape);f$.Drawing.star=function(){this.name="star";d5a.e5w();this.dimension=[12,12];d5a.P4c(30);this.points=[[3200 == ("2087" >> 0,7840)?("Z",0x177a):"M",0,4,"L",4,4,(1962,272.17) <= "7530" - 0?"L":8.05e+3,5.5,0,838 < 96.75?"4800" << 32 >= 7230?(1.44e+3,"1.46e+3" >> 0):("160.57" * 1,+"7871") > (1851,6020)?15.98:(+"1.17e+3",0x1573):"L",7,4,576 > (8460,5641)?981.38:"L",d5a.J4Z("11",64),4,496.18 === (405.38,"1110" ^ 0)?(740.41,1410) !== 8739?(5800,174.36) >= (894,482)?1.03e+3:(!"","6.83e+3" << 64):("m","H"):"L",+"8",d5a.J4Z("7",3,d5a.P4c(0)),+"7644" < (1153,+"4460")?0x1a9b:(558.14,800) <= (+"7936",290.26)?(9680,5398) !== (48,12.04)?2.68:287.27:"L",9,+"11",(105.15,2480) !== (392.64,4410)?"L":8.69e+3,5.5,9,"L",2,11,(6550,175.83) > 1720?763.3 >= 7950?+"0x1e7":(6664,+"9550") == "237.52" * 1?(7.76e+3,0x16):(67,8.75e+3):"L",+"3",7,688 == (3660,3430)?("9710" ^ 0,7373) !== (9330,3616)?"9183" >> 64 > 537.41?+"0x131f":"N":9.21e+3:"L",0,d5a.J4Z("4",32,d5a.Q3k(30))]];};f$.inheritsFrom(f$.Drawing.star,f$.Drawing.shape);f$.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];d5a.Q3k(1);d5a.e5w();this.points=[[(402,4840) === (8305,8480)?968 <= 6383?5.92e+3:0xf3:"M",11,3,"B",11,2.4,10,0,6,0,6240 === (5091,3192)?(375.74,2.24e+3):"B",d5a.J4Z("0",64),0,d5a.J4Z("0",0,d5a.P4c(1)),7.5,0,7.5,"B",d5a.J4Z(0,"0",d5a.Q3k(20)),11,4,15.4,11,19,(2842,3560) >= 7580?("C",+"8.24e+3"):"B",d5a.J4Z(0,"18",d5a.Q3k(20)),15.4,22,11,+"22",7.5,(3610,385) === "58.69" - 0?1.48e+3:(4672,1823) === (262,254)?(418.47,13.63) != 2420?(!"",8.81e+3):696.34:"B",22,7.5,22,0,16,0,(195.09,+"3013") !== "2847" >> 32?"B":(+"7302",940) != 605.45?(9.84e+3,0x187):8.33e+3,13,0,11,2.4,11,3]];};f$.inheritsFrom(f$.Drawing.heart,f$.Drawing.shape);f$.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];this.points=[[(3997,6990) === (3760,2389)?6.02e+3:"M",0,+"0",825.09 !== 373?5621 !== 5741?"L":289.68:(7.14e+3,7.57e+3),2,2,2110 >= 9320?!![]:"L",0,+"4",3165 != 245.98?"L":"X",0,0],[5340 <= (7710,3850)?(!![],0x1cbd):(3220,262.29) !== 939.06?"M":"J",6,0,(8710,"3930" * 1) === (976.01,+"578.85")?187.58:(410,4590) <= (6640,199)?403 !== 32?(8.81e+3,"M"):444.27:"L",4,+"2",693 >= 6430?"a":"L",6,4,2690 !== (3290,"3050" << 96)?"L":(!1,0x2464),6,0]];};f$.inheritsFrom(f$.Drawing.focusarrow,f$.Drawing.shape);f$.Drawing.crossline=function(){var A$n;A$n="cro";A$n+="sslin";A$n+="e";this.name=A$n;};f$.inheritsFrom(f$.Drawing.crossline,f$.Drawing.vertical);f$.extend(f$.Drawing.crossline.prototype,{spanPanels:!1,measure:function(){},accidentalClick:function(T71,R6F){d5a.e5w();return !1;},adjust:function(){var w2t,j$3,L4$,z_v;w2t=this.stx.panels[this.panelName];j$3=1665881352;L4$=-1135386189;z_v=2;for(var O27=1;d5a.Y5Z(O27.toString(),O27.toString().length,71766) !== j$3;O27++){if(-w2t){return;}z_v+=2;}if(d5a.Y5Z(z_v.toString(),z_v.toString().length,24729) !== L4$){if(!w2t){return;}}d5a.e5w();d5a.Q3k(1);this.setPoint(d5a.J4Z("0",32),this.d0,this.v0,w2t.chart);this.p1=f$.clone(this.p0);},intersected:function(P1f,g14,G8g){var X0P,m5$,y5T;X0P="m";X0P+="o";X0P+="v";X0P+="e";if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;m5$=this.lineIntersection(P1f,g14,G8g,"line");this.p1=f$.clone(this.p0);if(!m5$){y5T="l";y5T+="ine";d5a.P4c(30);this.p1[d5a.J3g("1",0)]+=1;m5$=this.lineIntersection(P1f,g14,G8g,y5T);this.p1=f$.clone(this.p0);if(!m5$){return null;}}this.highlighted=!"";if(this.pointIntersection(this.p0["0" * 1],this.p0[1],G8g)){this.highlighted="p0";}return {action:X0P,p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:P1f,value:this.valueOnDrawingAxis(P1f,g14)};},render:function(G1r){var B4I,u5t,T1Y,Y1c,v9J,V4a,Y6r,d_e,w8d,D8K,t5b,l19,X1K,d6N;B4I="ver";B4I+="tical";u5t=this.stx;T1Y=u5t.panels[this.panelName];Y1c=u5t.getYAxisByField(T1Y,this.field);if(!T1Y || this.field && !Y1c && !this.spanPanels){return;}Y1c=Y1c || T1Y.yAxis;v9J=u5t.pixelFromTick(this.p0["0" * 1],T1Y.chart);V4a=this.pixelFromValue(T1Y,this.p0[0],this.p0[1],Y1c);Y6r=this.getLineColor();d5a.X77();d_e={pattern:this.pattern,lineWidth:this.lineWidth};if(!this.spanPanels || this.panelName == this.originPanelName){d5a.P4c(3);u5t.plotLine(v9J,d5a.J3g(v9J,100),V4a,V4a,Y6r,"horizontal",G1r,T1Y,d_e);}d5a.P4c(3);u5t.plotLine(v9J,v9J,V4a,d5a.J4Z(V4a,100),Y6r,B4I,G1r,T1Y,d_e);if(this.axisLabel && !this.repositioner){u5t.endClip();if(!this.spanPanels || this.panelName == this.originPanelName){w8d=this.p0[1];if(T1Y.chart.transformFunc){w8d=T1Y.chart.transformFunc(u5t,T1Y.chart,w8d);}if(Y1c.priceFormatter){w8d=Y1c.priceFormatter(u5t,T1Y,w8d);}else {w8d=u5t.formatYAxisPrice(w8d,T1Y,null,Y1c);}u5t.createYAxisLabel(T1Y,w8d,V4a,Y6r,null,null,Y1c);}u5t.startClip(T1Y.name);if(this.p0[0] >= 0 && !u5t.chart.xAxis.noDraw && (!this.spanPanels || T1Y.yAxis.bottom !== T1Y.bottom)){D8K=u5t.dateFromTick(this.p0[0],T1Y.chart,!!"1");if(!f$.ChartEngine.isDailyInterval(u5t.layout.interval)){d5a.Q3k(10);var r4D=d5a.J4Z(1017,34,17);l19=D8K.getSeconds() * r4D + D8K.getMilliseconds();if(Q8.Date && u5t.displayZone){t5b=new Q8.Date(D8K.getTime(),u5t.displayZone);D8K=new Date(t5b.getFullYear(),t5b.getMonth(),t5b.getDate(),t5b.getHours(),t5b.getMinutes());D8K=new Date(D8K.getTime() + l19);}}else {d5a.P4c(30);D8K.setHours(0,0,0,d5a.J3g("0",32));}X1K=f$.mmddhhmm(f$.yyyymmddhhmm(D8K));if(T1Y.chart.xAxis.formatter){X1K=T1Y.chart.xAxis.formatter(D8K,this.name,null,null,X1K);}else if(this.stx.internationalizer){X1K=f$.displayableDate(u5t,u5t.chart,D8K);}u5t.endClip();u5t.createXAxisLabel({panel:T1Y,txt:X1K,x:v9J,backgroundColor:Y6r,color:null,pointed:!!({}),padding:2});u5t.startClip(T1Y.name);}}if(this.highlighted && (!this.spanPanels || this.panelName == this.originPanelName)){d6N=this.highlighted == "p0"?!!1:!({});this.littleCircle(G1r,v9J,V4a,d6N);}}},!0);f$.Drawing.speedarc=function(){var B4r;d5a.X77();B4r="speed";B4r+="arc";this.name=B4r;this.printLevels=!0;};f$.inheritsFrom(f$.Drawing.speedarc,f$.Drawing.segment);f$.extend(f$.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth",z5h],copyConfig:function(){var W0i;W0i=this.stx.currentVectorParameters;this.color=W0i.currentColor;d5a.X77();this.fillColor=W0i.fillColor;this.lineWidth=W0i.lineWidth;this.pattern=W0i.pattern;},intersected:function(F0r,c9c,x8F){var B$4,d4L,d7K,v1F,l9D,z2$,h3w;if(!this.p0 || !this.p1){return null;}B$4={0:this.p0,1:this.p1};for(var O99 in B$4){if(this.pointIntersection(B$4[O99][0],B$4[O99][1],x8F)){d5a.P4c(3);this.highlighted=d5a.J3g("p",O99);return {action:"drag",point:((6290,252.44) !== (5850,+"9643")?"p":8720 !== (446.69,3884)?(134.36,3990) != (677.23,"396.64" * 1)?!0:("2.25e+3" << 32,"l"):("x","P")) + O99};}}d4L=this.valueOnDrawingAxis(F0r,c9c);d7K=this.lineIntersection(F0r,c9c,x8F,this.name);if(d7K){this.highlighted=!![];return {action:"move",p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:F0r,value:d4L};}v1F=this.p1[0] - (this.p0[0] - this.p1[0]);l9D=this.p0[0];z2$=this.p1[1];d5a.P4c(25);h3w=this.p0[d5a.J4Z("1",1)];if(F0r > Math.max(v1F,l9D) || F0r < Math.min(v1F,l9D)){return null;}if(d4L > Math.max(h3w,z2$) || d4L < Math.min(h3w,z2$)){return null;}this.highlighted=!!1;return {action:"move",p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:F0r,value:d4L};},render:function(M5D){var H8e,d8H,e6L,U5k,z3O,f5F,G8R,R_R,N0B,D4Z,b1m,S4I,g1j,A1u,y1d,Q5j,P26,R8m,l4_,K9B;d5a.X77();H8e="s";H8e+="tx_yax";H8e+="i";H8e+="s";d8H=this.stx;e6L=d8H.panels[this.panelName];U5k=d8H.getYAxisByField(e6L,this.field);if(!e6L || this.field && !U5k){return;}U5k=U5k || e6L.yAxis;if(!this.p1){return;}z3O=d8H.pixelFromTick(this.p0[0],e6L.chart);f5F=d8H.pixelFromTick(this.p1[0],e6L.chart);G8R=this.pixelFromValue(e6L,this.p0["0" << 32],this.p0[1],U5k);R_R=this.pixelFromValue(e6L,this.p1[0],this.p1[1],U5k);d5a.Q3k(64);N0B=d5a.J4Z(G8R,R_R);d5a.P4c(65);D4Z=Math.abs(d5a.J4Z(f5F,G8R,R_R,z3O));b1m=this.getLineColor();M5D.strokeStyle=b1m;S4I=this.fillColor;M5D.fillStyle=this.getLineColor(S4I,!!"1");if(M5D.setLineDash){M5D.setLineDash(f$.borderPatternToArray(this.lineWidth,this.pattern));M5D.lineDashOffset=0;}d8H.canvasFont(H8e,M5D);for(var a$A=1;a$A < 3;a$A++){d5a.P4c(5);var M2b=d5a.J3g(17,18);d5a.P4c(18);var Y0V=d5a.J3g(20,14,2519,9);d5a.Q3k(71);var P_R=d5a.J3g(19,0,1,3,19);d5a.Q3k(72);var G9A=d5a.J3g(4,13,0,18,12);g1j=Math.abs(this.p1[M2b] - this.p0[Y0V]) * Math.sqrt(P_R) * a$A / G9A;d5a.P4c(5);var Y0I=d5a.J4Z(19,20);d5a.Q3k(60);var r3z=d5a.J4Z(1472,8,192);d5a.Q3k(45);var V8S=d5a.J4Z(5,4);d5a.P4c(4);var g9E=d5a.J4Z(22,4,6);d5a.P4c(5);var A_7=d5a.J3g(9,10);A1u=this.p1[Y0I] + g1j * (N0B?-("1" << r3z):V8S) * (U5k.flipped?-("1" >> g9E):A_7);y1d=this.pixelFromValue(e6L,this.p0[0],A1u,U5k);M5D.save();M5D.beginPath();d5a.P4c(73);M5D.scale(d5a.J3g("1",D4Z),1);d5a.Q3k(25);M5D.arc(d5a.J4Z(f5F,D4Z),R_R,Math.abs(y1d - R_R),0,Math.PI,!N0B);M5D.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){M5D.stroke();}M5D.globalAlpha=+"0.1";M5D.fill();M5D.restore();M5D.globalAlpha=1;if(this.printLevels){M5D.fillStyle=b1m;M5D.textAlign="center";d5a.Q3k(3);Q5j=d5a.J3g(a$A,"/3");M5D.fillText(Q5j,f5F,Math.round(y1d - +"5"));M5D.fillStyle=this.getLineColor(S4I,!!"1");}}M5D.textAlign="left";P26={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};d8H.plotLine(z3O,f5F,G8R,R_R,b1m,"segment",M5D,e6L,P26);if(M5D.setLineDash){M5D.setLineDash([]);}if(this.highlighted){R8m="p";R8m+="1";l4_=this.highlighted == "p0"?!0:![];K9B=this.highlighted == R8m?!!({}):!1;this.littleCircle(M5D,z3O,G8R,l4_);this.littleCircle(M5D,f5F,R_R,K9B);}},reconstruct:function(n0J,n0l){this.stx=n0J;this.color=n0l.col;this.fillColor=n0l.fc;this.panelName=n0l.pnl;this.pattern=n0l.ptrn;this.lineWidth=n0l.lw;this.d0=n0l.d0;this.d1=n0l.d1;this.tzo0=n0l.tzo0;this.tzo1=n0l.tzo1;this.v0=n0l.v0;this.v1=n0l.v1;this.field=n0l.fld;this.permanent=n0l.prm;this.hidden=n0l.hdn;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,prm:this.permanent,hdn:this.hidden};}},!!1);f$.Drawing.speedline=function(){var h25;h25="spee";h25+="dline";this.name=h25;this.printLevels=!!({});};f$.inheritsFrom(f$.Drawing.speedline,f$.Drawing.speedarc);f$.extend(f$.Drawing.speedline.prototype,{intersected:function(M8u,T2z,U_G){var h8C,E4X,q3Q,S3d;h8C=this.p0;E4X=this.p1;if(!h8C || !E4X){return null;}q3Q={0:h8C,1:E4X};for(var W$i in q3Q){if(this.pointIntersection(q3Q[W$i]["0" - 0],q3Q[W$i][1],U_G)){d5a.P4c(3);this.highlighted=d5a.J3g("p",W$i);return {action:"drag",point:((398,+"29.01") == 2517?+"0x11c0":"p") + W$i};}}S3d=this.rays;for(var G0E=0;G0E < S3d.length;G0E++){if(this.lineIntersection(M8u,T2z,U_G,"ray",S3d[G0E][0],S3d[G0E][1],!!({}))){this.highlighted=!!"1";return {action:"move",p0:f$.clone(h8C),p1:f$.clone(E4X),tick:M8u,value:this.valueOnDrawingAxis(M8u,T2z)};}}return null;},render:function(v02){var Q_$,v1u,A0D,t1k,e62,l69,D7A,x5m,s8o,Z9T,c15,L0U,S0x,t8Y,s0D,X$m,i$j,y3k,X1S,D8V,G4J,l8G,k71,b4O,u_i,z4_,X9B,j6D,X6Z;Q_$="m";Q_$+="i";Q_$+="dd";Q_$+="le";v1u="l";v1u+="eft";A0D=this.stx;t1k=A0D.panels[this.panelName];e62=A0D.getYAxisByField(t1k,this.field);if(!t1k || this.field && !e62){return;}if(!this.p1){return;}l69=A0D.pixelFromTick(this.p0[0],t1k.chart);D7A=A0D.pixelFromTick(this.p1["0" | 0],t1k.chart);x5m=this.pixelFromValue(t1k,this.p0[0],this.p0[1],e62);s8o=this.pixelFromValue(t1k,this.p1["0" ^ 0],this.p1[1],e62);A0D.canvasFont("stx_yaxis",v02);Z9T=this.getLineColor();v02.strokeStyle=Z9T;c15=this.fillColor;v02.fillStyle=this.getLineColor(c15,!![]);L0U={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};s0D=["1","2/3","1/3","3/2","3"];d5a.P4c(74);X$m=[1,d5a.J4Z("3",2),d5a.J3g("1",3,d5a.P4c(73)),d5a.J4Z(3,2,d5a.P4c(15)),d5a.J4Z("3",1,d5a.Q3k(25))];i$j=[];this.rays=[];for(var E$C=0;E$C < X$m.length;E$C++){y3k=X$m[E$C];if(y3k > +"1" && !this.extension)continue;X1S=this.pixelFromValue(t1k,this.p0[0],this.p0[1] - (this.p0[1] - this.p1["1" >> 64]) * y3k,e62);if(y3k > 1){D8V=f$.xIntersection({x0:l69,x1:D7A,y0:x5m,y1:X1S},s8o);i$j.push(D8V);}else {D8V=f$.xIntersection({x0:D7A,x1:D7A,y0:x5m,y1:s8o},X1S);i$j.push(X1S);}G4J=y3k > +"1"?D8V:D7A;l8G=y3k > 1?s8o:X1S;if(!this.confineToGrid){G4J=t1k.left;if(D7A > l69){G4J+=t1k.width;}d5a.P4c(70);l8G=d5a.J3g(l69,G4J,x5m,X1S,l69,x5m,D7A);}if(this.printLevels){if(y3k != 1 || this.extension){v02.fillStyle=Z9T;d5a.Q3k(0);k71=d5a.J4Z("0",0);b4O=+"0";if(x5m > s8o){u_i="bot";u_i+="t";u_i+="o";u_i+="m";b4O=-5;v02.textBaseline=u_i;}else {z4_="t";z4_+="o";z4_+="p";b4O=5;v02.textBaseline=z4_;}if(l69 > D7A){k71=5;v02.textAlign="right";}else {k71=-5;v02.textAlign="left";}if(y3k > 1){v02.fillText(s0D[E$C],D8V + (this.confineToGrid?0:k71),s8o);}else {v02.fillText(s0D[E$C],D7A,X1S + (this.confineToGrid?0:b4O));}v02.fillStyle=this.getLineColor(c15,!"");}}A0D.plotLine(l69,G4J,x5m,l8G,Z9T,"segment",v02,t1k,L0U);if(y3k == +"1"){S0x=G4J;t8Y=l8G;}this.rays.push([[l69,x5m],[G4J,l8G]]);v02.globalAlpha=0.1;v02.beginPath();v02.moveTo(G4J,l8G);v02.lineTo(l69,x5m);v02.lineTo(S0x,t8Y);v02.fill();v02.globalAlpha=1;}v02.textAlign=v1u;v02.textBaseline=Q_$;if(this.confineToGrid){v02.globalAlpha=+"0.3";v02.beginPath();d5a.Q3k(5);v02.strokeRect(l69,x5m,d5a.J4Z(l69,D7A),d5a.J3g(x5m,s8o));v02.moveTo(l69,i$j[1]);v02.lineTo(D7A,i$j[1]);v02.moveTo(l69,i$j["2" * 1]);v02.lineTo(D7A,i$j["2" ^ 0]);if(this.extension){v02.moveTo(i$j[3],x5m);v02.lineTo(i$j[3],s8o);v02.moveTo(i$j[4],x5m);v02.lineTo(i$j[4],s8o);}v02.stroke();v02.globalAlpha=1;}if(this.highlighted){X9B="p";X9B+="1";j6D=this.highlighted == "p0"?!![]:![];X6Z=this.highlighted == X9B?!!"1":!({});this.littleCircle(v02,l69,x5m,j6D);this.littleCircle(v02,D7A,s8o,X6Z);}}},!![]);f$.Drawing.gannfan=function(){var I0H;I0H="g";d5a.X77();I0H+="annfan";this.name=I0H;this.printLevels=!!({});};f$.inheritsFrom(f$.Drawing.gannfan,f$.Drawing.speedline);f$.extend(f$.Drawing.gannfan.prototype,{render:function(F4F){var e6q,u5x,V65,p50,F7z,Y97,O2R,B1d,q_3,N7k,b5e,E50,E1r,n3h,O72,s48,V0O,y0L,O08,p1K,J5P,j9U,r4l,f3x,a6T,J2d,i4w;e6q="stx_y";e6q+="axis";u5x=this.stx;V65=u5x.panels[this.panelName];p50=u5x.getYAxisByField(V65,this.field);if(!V65 || this.field && !p50){return;}if(!this.p1){return;}F7z=u5x.pixelFromTick(this.p0[0],V65.chart);Y97=u5x.pixelFromTick(this.p1["0" >> 0],V65.chart);O2R=this.pixelFromValue(V65,this.p0[0],this.p0[1],p50);B1d=this.pixelFromValue(V65,this.p1[0],this.p1[1],p50);u5x.canvasFont(e6q,F4F);q_3=this.getLineColor();F4F.strokeStyle=q_3;N7k=this.fillColor;F4F.fillStyle=this.getLineColor(N7k,!!({}));b5e={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};d5a.P4c(15);n3h=[1,2,3,4,8,d5a.J3g(1,2),d5a.J3g(1,3,d5a.Q3k(15)),d5a.J3g(1,4,d5a.Q3k(15)),d5a.J4Z("1",8,d5a.P4c(73))];this.rays=[];for(var p2G=0;p2G < n3h.length;p2G++){O72="segm";O72+="e";O72+="nt";s48=n3h[p2G];d5a.Q3k(75);V0O=d5a.J3g(s48,F7z,F7z,Y97);d5a.Q3k(76);y0L=d5a.J4Z(O2R,O2R,B1d,s48);O08=V65.left;if(Y97 > F7z){O08+=V65.width;}d5a.P4c(70);p1K=d5a.J3g(F7z,O08,O2R,y0L,F7z,O2R,Y97);if(this.printLevels){F4F.fillStyle=q_3;J5P=0;j9U=0;if(O2R > B1d){j9U=5;F4F.textBaseline="top";}else {j9U=-5;F4F.textBaseline="bottom";}if(F7z > Y97){d5a.Q3k(30);J5P=d5a.J3g("5",64);F4F.textAlign="left";}else {J5P=-+"5";F4F.textAlign="right";}if(s48 > 1){d5a.Q3k(3);F4F.fillText(d5a.J3g(s48,"x1"),d5a.J3g(V0O,J5P),B1d);}else {r4l="1";r4l+="x";d5a.Q3k(50);F4F.fillText(d5a.J4Z(r4l,s48,1),Y97,d5a.J4Z(y0L,j9U,d5a.Q3k(3)));}F4F.fillStyle=this.getLineColor(N7k,!![]);}u5x.plotLine(F7z,O08,O2R,p1K,q_3,O72,F4F,V65,b5e);this.rays.push([[F7z,O2R],[O08,p1K]]);if(s48 == "1" * 1){E50=O08;E1r=p1K;}F4F.globalAlpha=0.1;F4F.beginPath();F4F.moveTo(O08,p1K);F4F.lineTo(F7z,O2R);F4F.lineTo(E50,E1r);F4F.fill();F4F.globalAlpha=1;}F4F.textAlign="left";F4F.textBaseline="middle";if(this.highlighted){f3x="p";f3x+="1";a6T="p";a6T+="0";J2d=this.highlighted == a6T?!"":!({});i4w=this.highlighted == f3x?!![]:![];this.littleCircle(F4F,F7z,O2R,J2d);this.littleCircle(F4F,Y97,B1d,i4w);}}},!!({}));f$.Drawing.timecycle=function(){d5a.e5w();this.name="timecycle";this.printLevels=!!1;};f$.inheritsFrom(f$.Drawing.timecycle,f$.Drawing.speedarc);f$.extend(f$.Drawing.timecycle.prototype,{intersected:function(u7p,r0d,j7O){var m4d,c52,U6r,Q_h,Z$e;m4d=this.p0;c52=this.p1;U6r=this.stx.panels[this.panelName];if(!m4d || !c52 || !U6r){return null;}Q_h={0:m4d,1:c52};for(var T$W in Q_h){if(this.pointIntersection(Q_h[T$W][0],Q_h[T$W][1],j7O)){d5a.P4c(3);this.highlighted=d5a.J4Z(280.17 === ("6077" | 13)?("c",5.63e+3):"p",T$W);return {action:"drag",point:(6278 >= 662?745.15 <= +"4109"?4030 >= (+"3118",713.63)?"p":145.16:(![],1.07e+3):(![],!"")) + T$W};}}Z$e=this.lineIntersection(u7p,r0d,j7O,"segment");if(Z$e || j7O.x0 <= this.p0[0] && j7O.x1 >= m4d[+"0"]){this.highlighted=!0;return {action:"move",p0:f$.clone(m4d),p1:f$.clone(c52),tick:u7p,value:this.valueOnDrawingAxis(u7p,r0d)};}d5a.e5w();return null;},render:function(f6D){var S$n,j7Q,X6I,T9T,t8g,f8i,h0n,V47,q6q,n$D,F_g,R3W,N2l,H3Z,o0O,s9H,G4P,W1n,i2R,C2n,I0n,r8y,Q1q,R3S,N4b,e0P,G3B,L3R,Q2M;S$n="ce";S$n+="n";S$n+="ter";j7Q=this.stx;X6I=j7Q.panels[this.panelName];T9T=j7Q.getYAxisByField(X6I,this.field);if(!X6I || this.field && !T9T){return;}T9T=T9T || X6I.yAxis;if(!this.p1){return;}t8g=f$.strToDateTime(this.d0);f8i=f$.strToDateTime(this.d1);h0n=j7Q.chart.dataSet[0].DT;if(t8g < h0n || f8i < h0n){return;}V47=j7Q.pixelFromTick(this.p0[0],X6I.chart);q6q=j7Q.pixelFromTick(this.p1[0],X6I.chart);n$D=this.pixelFromValue(X6I,this.p0[+"0"],this.p0[1],T9T);F_g=this.pixelFromValue(X6I,this.p1[0],this.p1[1],T9T);R3W=0;f6D.textBaseline="middle";j7Q.canvasFont("stx_yaxis",f6D);N2l=20;H3Z=this.p1[0] - this.p0[0];f6D.textAlign=S$n;o0O=V47;s9H=T9T.top;G4P=T9T.bottom;W1n=this.getLineColor();i2R=this.fillColor;if(this.printLevels){d5a.P4c(5);G4P-=d5a.J3g(7,N2l);}C2n={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};I0n=[];f6D.save();f6D.fillStyle=this.getLineColor(i2R,W1n);f6D.globalAlpha=0.05;while(!!"1"){o0O=j7Q.pixelFromTick(this.p0[0] + R3W * H3Z,X6I.chart);R3W++;if(V47 < q6q && o0O > X6I.left + X6I.width)break;else if(V47 > q6q && o0O < X6I.left)break;else if(o0O < X6I.left || o0O > X6I.left + X6I.width)continue;f6D.beginPath();f6D.moveTo(V47,s9H);f6D.lineTo(o0O,s9H);f6D.lineTo(o0O,G4P);f6D.lineTo(V47,G4P);f6D.fill();I0n.push({c:R3W,x:o0O});if(!H3Z)break;}f6D.globalAlpha=+"1";r8y=0;for(var D4h=0;D4h < I0n.length;D4h++){j7Q.plotLine(I0n[D4h].x,I0n[D4h].x,0,G4P,W1n,"segment",f6D,X6I,C2n);if(this.printLevels){f6D.fillStyle=W1n;d5a.P4c(77);var I9R=d5a.J3g(3,48,14,3);Q1q=j7Q.chart.context.measureText(I0n[D4h].c).width + I9R;if(Q1q < j7Q.layout.candleWidth + r8y){f6D.fillText(I0n[D4h].c,I0n[D4h].x,G4P + ("7" ^ 0));d5a.P4c(1);r8y=d5a.J3g("0",32);}else {r8y+=j7Q.layout.candleWidth;}}}f6D.restore();f6D.textAlign="left";j7Q.plotLine(V47,q6q,n$D,F_g,W1n,"segment",f6D,X6I,C2n);if(this.highlighted){R3S=this.highlighted == "p0"?!![]:!({});N4b=this.highlighted == "p1"?!!({}):!1;this.littleCircle(f6D,V47,n$D,R3S);this.littleCircle(f6D,q6q,F_g,N4b);}else {e0P=this.valueFromPixel(X6I.height / ("2" >> 0),X6I,T9T);this.setPoint(+"0",this.p0[0],e0P,X6I.chart);G3B=-+"1706985423";L3R=736283608;Q2M=2;for(var q1$=1;d5a.j3V(q1$.toString(),q1$.toString().length,49417) !== G3B;q1$++){this.setPoint(+"8",this.p1[9],e0P,X6I.chart);Q2M+=2;}if(d5a.Y5Z(Q2M.toString(),Q2M.toString().length,69479) !== L3R){this.setPoint(6,this.p1[7],e0P,X6I.chart);}this.setPoint(1,this.p1[0],e0P,X6I.chart);}}},!!"1");f$.Drawing.regression=function(){d5a.e5w();this.name="regression";};f$.inheritsFrom(f$.Drawing.regression,f$.Drawing.segment);f$.extend(f$.Drawing.regression.prototype,{configs:["color",W8R,"pattern","active1","color1","lineWidth1","pattern1",a4r,"color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(s_B){var O7z,l2D,f32,H4n,W2Z,n1d;O7z="au";O7z+="t";O7z+="o";l2D="a";l2D+="u";l2D+="t";l2D+="o";f$.Drawing.copyConfig(this,s_B);f32=this.stx.currentVectorParameters;this.active1=!!f32.active1;this.active2=!!f32.active2;this.active3=!!f32.active3;this.color1=f32.color1 || l2D;this.color2=f32.color2 || O7z;this.color3=f32.color3 || "auto";this.lineWidth1=f32.lineWidth1;this.lineWidth2=f32.lineWidth2;this.lineWidth3=f32.lineWidth3;this.pattern1=f32.pattern1;H4n=-2134394767;W2Z=306684747;n1d=2;for(var T2$=1;d5a.Y5Z(T2$.toString(),T2$.toString().length,+"2855") !== H4n;T2$++){this.pattern2=f32.pattern2;n1d+=2;}if(d5a.Y5Z(n1d.toString(),n1d.toString().length,45454) !== W2Z){this.pattern2=f32.pattern2;}this.pattern3=f32.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(P1n,K7$,i_n){var H8Y,d16;if(K7$ < 0){return;}this.copyConfig();d5a.X77();H8Y=this.stx;d16=H8Y.panels[this.panelName];if(!this.penDown){d5a.Q3k(5);this.setPoint(d5a.J4Z(0,"0"),K7$,i_n,d16.chart);if(!this.isAllowed(H8Y,this.field)){H8Y.undo();return !!1;}this.penDown=!!1;return !({});}if(this.accidentalClick(K7$,i_n)){return !0;}d5a.P4c(0);this.setPoint(d5a.J4Z("1",1),K7$,i_n,d16.chart);this.penDown=!!0;return !"";},getYValue:function(S1g){var F9D,h$b,Y3O,s9p,G0Q,Y9e,T65,W0m,I31;F9D=this.stx;h$b=F9D.chart.dataSet[S1g];Y3O=F9D.chart.dataSet[S1g];if(!h$b){return null;}s9p=F9D.panels[this.panelName];G0Q=F9D.getYAxisByField(s9p,this.field) || s9p.yAxis;if(F9D.charts[s9p.name] && s9p.chart.transformFunc && G0Q == s9p.yAxis){Y3O=h$b.transform;}if(!Y3O){return null;}Y9e=null;T65=null;W0m=F9D.defaultPlotField || "Close";if(this.field){I31="ob";I31+="ject";T65=f$.existsInObjectChain(Y3O,this.field);if(!T65){return null;}Y9e=T65=T65.obj[T65.member];if(h$b != Y3O){Y9e=f$.existsInObjectChain(h$b,this.field);Y9e=Y9e.obj[Y9e.member];}if(typeof T65 == I31){T65=T65[W0m];Y9e=Y9e[W0m];}}else {T65=Y3O[W0m];Y9e=h$b[W0m];}return {transformed:T65,untransformed:Y9e};},render:function(c2b){var F2Y,X9P,K5G,O$Q,f0L,o1S,u_1,h52,v$A,m2T,i62,x6z,d3x,x0m,A4g,q7Z,F74,P3Z,h7W,T7A,u5P,n3K,M$H,y2C,k5p,B$M,L3Z,E4M,w6$,R6O,A8S,x9Z,s83,X7I,T_W,E2W;F2Y="se";F2Y+="g";F2Y+="men";F2Y+="t";X9P=this.stx;K5G=X9P.panels[this.panelName];O$Q=X9P.getYAxisByField(K5G,this.field);if(!K5G || this.field && !O$Q){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}f0L=X9P.pixelFromTick(this.p0[0],K5G.chart);o1S=X9P.pixelFromTick(this.p1[0],K5G.chart);if(f0L < K5G.left && o1S < K5G.left){return;}if(f0L > K5G.right && o1S > K5G.right){return;}u_1=[];h52=[];v$A=0;m2T=0;i62=0;x6z=0;d3x=Math.min(this.p1[0],this.p0[0]);d5a.P4c(10);var r1W=d5a.J3g(7,13,7);x0m=Math.max(this.p1[0],this.p0[0]) + r1W;d5a.Q3k(5);A4g=d5a.J4Z(d3x,x0m);for(var B93=d3x;B93 < x0m;B93++){q7Z=this.getYValue(B93);if(q7Z){u_1.push(q7Z.transformed);h52.push(q7Z.untransformed);}}F74=u_1.length;d5a.P4c(78);P3Z=d5a.J3g(1,2,F74,F74);h7W=Math.pow(P3Z,+"2");d5a.Q3k(79);T7A=d5a.J3g(P3Z,1,F74,2,3);for(B93="0" ^ 0;B93 < F74;B93++){i62+=F74 * u_1[B93] - v$A;v$A+=u_1[B93];x6z+=F74 * h52[B93] - m2T;m2T+=h52[B93];}d5a.Q3k(80);u5P=d5a.J3g(F74,i62,T7A,P3Z,F74,v$A,h7W);d5a.P4c(81);n3K=d5a.J3g(v$A,u5P,P3Z,F74);d5a.P4c(80);M$H=d5a.J3g(F74,x6z,T7A,P3Z,F74,m2T,h7W);d5a.P4c(81);y2C=d5a.J4Z(m2T,u5P,P3Z,F74);if(this.p0[0] < this.p1[0]){k5p=n3K;d5a.Q3k(82);B$M=d5a.J3g(u5P,n3K,A4g);this.p0[1]=y2C;d5a.Q3k(82);this.p1[1]=d5a.J4Z(M$H,y2C,A4g);}else {d5a.Q3k(82);k5p=d5a.J4Z(u5P,n3K,A4g);B$M=n3K;d5a.P4c(82);this.p0[1]=d5a.J4Z(M$H,y2C,A4g);this.p1[1]=y2C;}L3Z=X9P.pixelFromTransformedValue(k5p,K5G,O$Q);E4M=X9P.pixelFromTransformedValue(B$M,K5G,O$Q);w6$=this.getLineColor();R6O={pattern:this.pattern,lineWidth:this.lineWidth};X9P.plotLine(f0L,o1S,L3Z,E4M,w6$,"segment",c2b,K5G,R6O);d5a.Q3k(5);X9P.plotLine(f0L,f0L,d5a.J3g(20,L3Z),d5a.J3g("20",L3Z,d5a.P4c(83)),w6$,"segment",c2b,K5G,R6O);d5a.P4c(84);d5a.e5w();X9P.plotLine(o1S,o1S,d5a.J4Z("20",64,E4M),d5a.J3g(E4M,20,d5a.Q3k(3)),w6$,F2Y,c2b,K5G,R6O);if(this.active1 || this.active2 || this.active3){d5a.P4c(15);A8S=d5a.J3g(v$A,F74);x9Z=0;for(B93=0;B93 < F74;B93++){x9Z+=Math.pow(u_1[B93] - A8S,2);}d5a.P4c(15);s83=Math.sqrt(d5a.J3g(x9Z,F74));X7I={context:c2b,panel:K5G,points:{0:{x:f0L,v:k5p},1:{x:o1S,v:B$M}},stddev:s83,yAxis:O$Q};this.lines={};if(this.active1){this.renderStddev(("800.6" - 0,8040) < "4320" >> 0?(!!"",0x24e0):5882 <= +"747.49"?(779.78,42.11) <= (4080,"2550" * 1)?("0x215d" | 0,"c"):9.78e+3:"1",6311 != (554.28,736.39)?"p":(!"",0x2634),X7I);this.renderStddev(7990 < (4530,3980)?(!"1",38.98):3533 === 6647?(6632,5355) < 673.62?+"0x4f5":(467.94,+"441.61"):"1","n",X7I);}if(this.active2){this.renderStddev((+"5800",8100) > (904.39,430.84)?"2":7.69e+3,(787,4440) > (4050,267.42)?"p":"c",X7I);this.renderStddev("2",1764 != +"7580"?253.28 <= (7475,2915)?"n":"i":351.06,X7I);}if(this.active3){this.renderStddev(8780 != (1990,4820)?"3":7947 < (7050,9047)?(790.58,555) == 4040?(526.99,6.97e+3):("O","512.85" * 1):("R",7.27e+3),1390 == 1680?"N":"p",X7I);this.renderStddev("3",(3339,8505) <= (7506,1350)?997.13 == 3384?("u","T"):104.51 == (3380,4500)?(379.92,"2.97e+3" ^ 0):!0:"n",X7I);}}if(!this.highlighted){this.pixelX=[f0L,o1S];this.pixelY=[L3Z,E4M];}else {T_W=this.highlighted == "p0"?!!"1":!({});E2W=this.highlighted == "p1"?!!1:![];this.littleCircle(c2b,f0L,L3Z,T_W);this.littleCircle(c2b,o1S,E4M,E2W);}},renderStddev:function(Z1T,v3j,B8M){var L_o,A3J,m4s,Q8v,d4A,t$6,A1k,w34,u2C,e7u,Z$V,v9C,r0A,L59,h2R,B5$,r5z,K51,x4B,Z3I,z2h,F4b;L_o="m";L_o+="iddle";A3J="pa";A3J+="tte";A3J+="r";A3J+="n";d5a.P4c(4);m4s=d5a.J3g(v3j,"stddev",Z1T);d5a.Q3k(3);Q8v=d5a.J3g("color",Z1T);d5a.Q3k(3);d4A=d5a.J3g(A3J,Z1T);d5a.P4c(3);t$6=d5a.J4Z("lineWidth",Z1T);A1k=B8M.points;w34=A1k[+"0"].v;u2C=A1k[1].v;e7u=B8M.stddev;Z$V=v3j === ((4780,368.56) < 3921?"n":(!({}),565.20))?Z1T * -1:Z1T * 1;v9C=this.stx;r0A=B8M.panel;L59=B8M.yAxis;h2R={name:m4s,color:this.getLineColor(this[Q8v]),type:"segment",y0:v9C.pixelFromTransformedValue(w34 + e7u * Z$V,r0A,L59),y1:v9C.pixelFromTransformedValue(u2C + e7u * Z$V,r0A,L59),params:{pattern:this[d4A],lineWidth:this[t$6]}};if(this.lines){this.lines[m4s]=h2R;}B5$=B8M.context;r5z=A1k[+"0"].x;K51=A1k["1" ^ 0].x;v9C.plotLine(r5z,K51,h2R.y0,h2R.y1,h2R.color,h2R.type,B5$,r0A,h2R.params);v9C.plotLine(r5z,r5z,h2R.y0 - +"10",h2R.y0 + 10,h2R.color,h2R.type,B5$,r0A,h2R.params);v9C.plotLine(K51,K51,h2R.y1 - 10,h2R.y1 + ("10" << 32),h2R.color,h2R.type,B5$,r0A,h2R.params);d5a.P4c(3);x4B=d5a.J4Z(Z1T,(5250,"1120" * 1) >= 297.28?"\u03c3":(6277,"4400" - 0) != +"8230"?3000 > (283.31,989.69)?(!!0,!0):(!!({}),0x7e5):(4.80e+3,490));d5a.Q3k(5);var X7w=d5a.J4Z(65,70);Z3I=Math.max(r5z,K51) + X7w;z2h=r5z < K51?h2R.y1:h2R.y0;B5$.fillStyle=h2R.color;B5$.save();B5$.textBaseline=L_o;B5$.fillText(x4B,Z3I,z2h);B5$.restore();if(B8M.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(r5z >= r0A.chart.left && r5z <= r0A.chart.right || K51 >= r0A.chart.left && K51 <= r0A.chart.right){d5a.Q3k(26);F4b=d5a.J3g(Z$V,r5z < K51?u2C:w34,e7u);v9C.endClip();v9C.createYAxisLabel(r0A,B8M.formatPrice(F4b,L59),z2h,h2R.color,null,B5$,L59);v9C.startClip(r0A.name);}}},intersected:function(e88,r4r,S7V){var K9R,X$U,F2s,U1R,Y1S,t4x,P7V;if(!this.pixelX || !this.pixelY){return null;}K9R=this.repositionIntersection(e88,r4r);if(K9R){return K9R;}X$U={0:this.pixelX,1:this.pixelY};for(var d1h=0;d1h < 2;d1h++){if(this.pointIntersection(X$U["0" * 1][d1h],X$U[1][d1h],S7V,!!({}))){d5a.P4c(3);this.highlighted=d5a.J3g("p",d1h);return {action:"drag",point:(+"1900" === 2100?"D":811 <= 646?!"1":(6921,"2473" * 1) != 8153?"p":(8.66e+3,"a")) + d1h};}}F2s=this;U1R=this.pixelX[0];Y1S=this.pixelX[1];t4x=function(q1v){var g0U,J9J;g0U=[U1R,q1v.y0];J9J=[Y1S,q1v.y1];d5a.e5w();return F2s.lineIntersection(e88,r4r,S7V,F2s.name,g0U,J9J,!!({}));};P7V=t4x({y0:this.pixelY["0" >> 64],y1:this.pixelY[1]});if(!P7V && this.lines){for(var S$S in this.lines){if(t4x(this.lines[S$S])){P7V=!![];break;}}}if(P7V){this.highlighted=!!({});return {action:"move",p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:e88,value:this.valueOnDrawingAxis(e88,r4r)};}return null;},repositionIntersection:function(H_V,V4u){var Z5K;d5a.e5w();if(!this.p0 || !this.p1){return !1;}if(this == this.stx.repositioningDrawing && this.highlighted){Z5K="dra";Z5K+="g";if(this.highlighted === !!({})){return {action:"move",p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:H_V,value:this.valueOnDrawingAxis(H_V,V4u)};}return {action:Z5K,point:this.highlighted};}return ![];},lineIntersection:function(E44,w38,A7z,C_$,a5J,C9M,V7O){var i_8,u6V;if(!V7O){d5a.Q3k(3);console.log(d5a.J4Z(C_$," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !1;}if(!a5J){a5J=this.p0;}if(!C9M){C9M=this.p1;}if(!(a5J && C9M)){return !1;}i_8=this.stx;if(A7z.cx0 === undefined){return !({});}u6V={x0:a5J[0],x1:C9M[0],y0:a5J[+"1"],y1:C9M["1" << 64]};return f$.boxIntersects(A7z.cx0,A7z.cy0,A7z.cx1,A7z.cy1,u6V.x0,u6V.y0,u6V.x1,u6V.y1);},boxIntersection:function(A7h,B56,u5i){var P9k,f3O,v$0;d5a.e5w();if(u5i.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || u5i.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !"1";}if(!this.stx.repositioningDrawing && (u5i.cy1 < this.pixelY[0] || u5i.cy0 > this.pixelY[1])){return !({});}P9k=-225677565;f3O=1333325068;v$0=2;for(var h_R=1;d5a.Y5Z(h_R.toString(),h_R.toString().length,6943) !== P9k;h_R++){return !1;}if(d5a.Y5Z(v$0.toString(),v$0.toString().length,52721) !== f3O){return !!1;}},reconstruct:function(E6l,y3c){this.stx=E6l;this.color=y3c.col;d5a.e5w();this.color1=y3c.col1;this.color2=y3c.col2;this.color3=y3c.col3;this.active1=y3c.dev1;this.active2=y3c.dev2;this.active3=y3c.dev3;this.panelName=y3c.pnl;this.pattern=y3c.ptrn;this.pattern1=y3c.ptrn1;this.pattern2=y3c.ptrn2;this.pattern3=y3c.ptrn3;this.lineWidth=y3c.lw;this.lineWidth1=y3c.lw1;this.lineWidth2=y3c.lw2;this.lineWidth3=y3c.lw3;this.d0=y3c.d0;this.d1=y3c.d1;this.tzo0=y3c.tzo0;this.tzo1=y3c.tzo1;this.field=y3c.fld;this.permanent=y3c.prm;this.hidden=y3c.hdn;this.adjust();},serialize:function(){d5a.X77();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,prm:this.permanent,hdn:this.hidden};}},!"");f$.Drawing.average=function(){d5a.e5w();this.name="average";};f$.inheritsFrom(f$.Drawing.average,f$.Drawing.regression);f$.extend(f$.Drawing.average.prototype,{configs:f$.Drawing.regression.prototype.configs.concat(Q58),measure:function(){d5a.e5w();var k1C,G$p,k89,a8Q,W0G,h1s,L3o,t45,r$M;k1C=this.stx;if(this.p0 && this.p1){G$p=" ";G$p+="&si";G$p+="gma;";k1C.setMeasure(0,!({}),this.p0[0],this.p1["0" >> 64],!!1,this.name);k89=[];a8Q="";if(this.active1){k89.push(9440 !== (1587,8441)?"1":(952.97,187.33) < ("831.21" - 0,+"7410")?(+"5928",9360) >= (60.17,980.16)?("u",5.45e+3):0x24a3:"d");}if(this.active2){k89.push(8930 >= (+"9480",2580)?"2":0x1cda);}if(this.active3){k89.push(4820 !== 144.98?"3":"n");}if(k89.length){a8Q="&ensp;" + k89.join(", ") + G$p;}W0G=(k1C.drawingContainer || document).querySelector(".mMeasure");h1s=k1C.controls.mSticky;L3o=h1s && h1s.querySelector(".mStickyInterior");if(W0G){W0G.innerHTML+=a8Q;}if(L3o){t45="<b";t45+="r>";r$M=[];r$M.push(k1C.translateIf(f$.capitalize(this.name)));r$M.push(k1C.translateIf(this.field || k1C.defaultPlotField || "Close"));r$M.push(L3o.innerHTML + a8Q);L3o.innerHTML=r$M.join(t45);}}},render:function(n_$){var v5b,W_R,s0i,P5t,w13,y0g,W7O,j6x,V20,f$h,O5T,y1J,z8E,e6$,H1x,I9Z,o6r,R9R,g$P,U1g,F94,p7a,v_O,c3n,n_z,I02,r$V;v5b="segmen";v5b+="t";W_R=this.stx;s0i=W_R.panels[this.panelName];P5t=W_R.getYAxisByField(s0i,this.field);if(!s0i || this.field && !P5t){return;}P5t=P5t || s0i.yAxis;if(!this.p1){return;}if(this.p0["0" - 0] < "0" * 1 || this.p1["0" - 0] < 0){return;}w13=W_R.pixelFromTick(this.p0[0],s0i.chart);y0g=W_R.pixelFromTick(this.p1[+"0"],s0i.chart);if(w13 < s0i.left && y0g < s0i.left){return;}if(w13 > s0i.right && y0g > s0i.right){return;}W7O=Math.min(this.p1[0],this.p0["0" | 0]);d5a.P4c(85);d5a.X77();var V8V=d5a.J4Z(13,15,3);j6x=Math.max(this.p1[0],this.p0["0" ^ 0]) + V8V;d5a.P4c(1);V20=d5a.J4Z("0",64);f$h=[];for(O5T=W7O;O5T < j6x;O5T++){y1J=this.getYValue(O5T);if(y1J !== null){V20+=y1J.transformed;f$h.push(y1J);}}z8E=f$h.length;if(!z8E){return;}d5a.Q3k(15);e6$=d5a.J3g(V20,z8E);H1x=W_R.pixelFromTransformedValue(e6$,s0i,P5t);I9Z=this.getLineColor();o6r={pattern:this.pattern,lineWidth:this.lineWidth};W_R.plotLine(w13,y0g,H1x,H1x,I9Z,"segment",n_$,s0i,o6r);function r5P(S8a,J3S){var k7w,O0c,q9M;if(J3S && J3S.priceFormatter){S8a=J3S.priceFormatter(W_R,s0i,S8a);}else {S8a=W_R.formatYAxisPrice(S8a,s0i,null,J3S);}k7w=-660816753;d5a.X77();O0c=-32086228;q9M=2;for(var v$c=1;d5a.j3V(v$c.toString(),v$c.toString().length,70168) !== k7w;v$c++){return S8a;}if(d5a.j3V(q9M.toString(),q9M.toString().length,"16767" | 84) !== O0c){return S8a;}}d5a.Q3k(5);W_R.plotLine(w13,w13,d5a.J3g(20,H1x),d5a.J3g(1,H1x,"20",d5a.P4c(26)),I9Z,v5b,n_$,s0i,o6r);d5a.P4c(5);W_R.plotLine(y0g,y0g,d5a.J4Z(20,H1x),d5a.J4Z("20",H1x,d5a.Q3k(83)),I9Z,"segment",n_$,s0i,o6r);if(this.axisLabel && !this.highlighted && !this.penDown){if(w13 >= s0i.chart.left && w13 <= s0i.chart.right || y0g >= s0i.chart.left && y0g <= s0i.chart.right){W_R.endClip();W_R.createYAxisLabel(s0i,r5P(e6$,P5t),H1x,I9Z,null,n_$,P5t);R9R=-873341758;g$P=1077440376;U1g=+"2";for(var V$6=1;d5a.Y5Z(V$6.toString(),V$6.toString().length,40456) !== R9R;V$6++){W_R.startClip(s0i.name);U1g+=2;}if(d5a.j3V(U1g.toString(),U1g.toString().length,"8662" - 0) !== g$P){W_R.startClip(s0i.name);}}}if(this.active1 || this.active2 || this.active3){F94=+"0";for(O5T=0;O5T < z8E;O5T++){y1J=f$h[O5T];F94+=Math.pow(y1J.transformed - e6$,2);}d5a.P4c(15);p7a=Math.sqrt(d5a.J4Z(F94,z8E));v_O={context:n_$,formatPrice:r5P,panel:s0i,points:{0:{x:w13,v:e6$},1:{x:y0g,v:e6$}},stddev:p7a,yAxis:P5t};this.lines={};if(this.active1){this.renderStddev(("7060" | 4) > (8800,1692)?"1":2540 >= "897.6" * 1?(!"1",189.95):!"1","p",v_O);this.renderStddev(("1880" * 1,"7300" ^ 0) <= 14.84?(6.92e+3,9.06e+3):530.08 == "884.16" - 0?!!"":"1","n",v_O);}if(this.active2){this.renderStddev("2",714.51 === 9134?0x1b0:9920 <= +"1170"?!!({}):6961 >= (333,6000)?"p":0x30c,v_O);this.renderStddev(8289 >= 3360?"2":(102.01,"H"),(776.74,656.17) == 557?(0x1bc6,![]):"n",v_O);}if(this.active3){this.renderStddev(+"797.24" < (8523,8256)?"3":!({}),(3810,4050) <= 324?("1330" ^ 0,4526) != 273.06?952.14:0xa99:"p",v_O);this.renderStddev("3",(9670,9670) != (498.56,9077)?"n":(+"1.42",9060) >= 471.56?3160 <= 6039?(0x1f23,"u"):0x452:944.92,v_O);}}if(!this.highlighted){this.pixelX=[w13,y0g];this.pixelY=[H1x,H1x];}else {c3n="p";c3n+="1";n_z="p";n_z+="0";I02=this.highlighted == n_z?!![]:![];r$V=this.highlighted == c3n?!!({}):!!"";this.littleCircle(n_$,w13,H1x,I02);this.littleCircle(n_$,y0g,H1x,r$V);}},reconstruct:function(G6W,A59){this.axisLabel=A59.al;d5a.X77();f$.Drawing.regression.prototype.reconstruct.call(this,G6W,A59);},serialize:function(){var P0K;d5a.e5w();P0K=f$.Drawing.regression.prototype.serialize.call(this);P0K.al=this.axisLabel;return P0K;}},!!"1");f$.Drawing.measurementline=function(){var N8e;N8e="O";N8e+="p";N8e+="e";N8e+="n";this.name="measurementline";this.validFields=[N8e,"High","Low","Close"];this.defaultField="Close";this.spanPanels=!!1;this.fontSize=14;d5a.Q3k(86);var p63=d5a.J4Z(8,4,16,14);this.lineHeight=this.fontSize + p63;this.fontFamily="Helvetica, sans-serif";this.padding=10;this.calloutWidth=200;this.calloutHeight=100;this.stem={x:15,y:0};};f$.inheritsFrom(f$.Drawing.measurementline,f$.Drawing.regression);f$.extend(f$.Drawing.measurementline.prototype,{configs:[r4W,"fillColor","lineWidth","pattern","parameters","axisLabel"],copyConfig:function(G7I){var G2g;d5a.e5w();f$.Drawing.copyConfig(this,G7I);G2g=this.stx.currentVectorParameters;this.parameters={calloutOnHover:G2g.measurementline.calloutOnHover,displayGroups:{...G2g.measurementline.displayGroups}};},$controls:[],initializeSettings:function(Y6o){Y6o.currentVectorParameters.alwaysMagnetize=!!({});},measure:function(){d5a.e5w();var U7A,s8u,E08,O18,U9c,M4u,h6m,Y0g;if(this.p0 && this.p1){U7A=".m";U7A+="StickyInterior";this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!!({}));s8u=this.stx.controls.mSticky;E08=s8u && s8u.querySelector(U7A);if(E08){O18=[];U9c=-+"172565159";M4u=-148365856;h6m=2;for(var K_2=+"1";d5a.j3V(K_2.toString(),K_2.toString().length,2848) !== U9c;K_2++){Y0g="Meas";Y0g+="u";Y0g+="rement Line";O18.push(this.stx.translateIf(f$.capitalize(Y0g)));h6m+=+"2";}if(d5a.Y5Z(h6m.toString(),h6m.toString().length,99225) !== M4u){O18.push(this.stx.translateIf(f$.capitalize("")));}O18.push(E08.innerHTML);E08.innerHTML=O18.join("<br>");}}},getDifference:function(f5E,t7w){var S2T,a0Y;S2T=this.stx;a0Y=Math.round(Math.abs(f5E - t7w) * S2T.chart.roundit) / S2T.chart.roundit;a0Y=a0Y.toFixed(S2T.chart.yAxis.printDecimalPlaces);if(this.internationalizer){a0Y=this.internationalizer.numbers.format(a0Y);}return a0Y;},getPercent:function(H$q,r23){d5a.X77();var X3C;X3C=0;if(H$q !== 0){d5a.P4c(33);X3C=d5a.J4Z(H$q,r23,H$q);}else {X3C=null;}return X3C;},formatPercent:function(C8D){if(Math.abs(C8D) > 0.1){d5a.Q3k(25);C8D=Math.round(d5a.J4Z(C8D,100));}else if(Math.abs(C8D) > 0.01){d5a.Q3k(67);var c5H=d5a.J3g(2000,994,4329,13,2);d5a.P4c(5);var f08=d5a.J3g(9,19);C8D=Math.round(C8D * c5H) / f08;}else {d5a.Q3k(47);var k3r=d5a.J3g(49914,6,20,10,9984);d5a.P4c(14);var C7J=d5a.J3g(217,50,13,50,10);C8D=Math.round(C8D * k3r) / C7J;}if(this.internationalizer){d5a.Q3k(15);C8D=this.internationalizer.percent.format(d5a.J3g(C8D,100));}else {if(C8D > +"0"){d5a.Q3k(3);C8D=d5a.J3g((629.85,8110) > "6110" - 0?"+":!"1",C8D);}d5a.Q3k(3);C8D=d5a.J4Z(C8D,"%");}d5a.e5w();return C8D;},calloutDataGroups:[{id:"bars",label:"Bars",getOutput(l6K) {var Y$J;var {start:n$j, end:l8Q}=l6K;Y$J={label:this.label || "",value:"" + (l8Q - n$j)};return Y$J;}},{id:"delta",label:j_U,getOutput(Y1O) {var H9P,d5v,R7E;var {startPrice:M7M, endPrice:y6X}=Y1O;H9P=Y1O.getPercent(M7M,y6X);d5v=H9P === null?"N/A":Y1O.formatPercent(H9P);R7E={label:this.label || "",value:Y1O.getDifference(M7M,y6X) + " (" + d5v + ((141.24,5380) !== (1720,1980)?")":(139.15,39.82) == (8470,+"4901")?"X":(184.34,559.26) >= (5610,"5292" ^ 0)?1.61e+3:0x177a)};return R7E;}},{id:"annpercent",label:A7o,getOutput(f3r) {var n_9,s5j,u34,v7m,p6g,H6h,w4V,k_3,U3y;var {stx:u4c, p0:V$e, p1:Y7y, startPrice:M$j, endPrice:V2l}=f3r;n_9=u4c.panels[f3r.panelName];s5j=f3r.getPercent(M$j,V2l);d5a.X77();u34="N/A";if(s5j !== null){v7m=u4c.dateFromTick(V$e[0],n_9.chart,!!({}));p6g=u4c.dateFromTick(Y7y[+"0"],n_9.chart,!!({}));H6h=0;w4V=p6g.getTime() - v7m.getTime();d5a.Q3k(87);k_3=d5a.J3g(3600,24,w4V,"1000");d5a.Q3k(88);H6h=d5a.J4Z(365,s5j,k_3);u34=f3r.formatPercent(H6h.toFixed(2));}U3y={label:this.label || "",value:u34};return U3y;}},{id:K9F,label:l0h,getOutput(u52) {var S97;S97={label:this.label || "",value:""};return S97;}},{id:"volume",label:"Volume",getOutput(A61) {d5a.X77();var c7i;var {volume:M42}=A61;c7i={label:this.label || "",value:"" + f$.commas(M42)};return c7i;}},{id:"studies",label:d2V,getOutput(h88) {var R$j,e8h,c$3,B5q;var {stx:N_2, records:S4o}=h88;R$j=[];for(var v7O in N_2.layout.studies){e8h=N_2.layout.studies[v7O];if(e8h.signalData)continue;for(var j3M in N_2.layout.studies[v7O].outputMap){if(j3M){c$3=S4o[0][j3M];d5a.Q3k(44);var C9_=d5a.J4Z(7,6,14,0);B5q=S4o[S4o.length - C9_][j3M];if(c$3 && B5q){R$j.push({label:j3M,value:h88.getDifference(c$3,B5q)});}}}}return R$j;}}],getcalloutData:function(){var U4R,c95,u5g,f55,f6o,q94,g_i,c9x,w4r;U4R=this.stx;c95=[];u5g=this.p0[0];d5a.P4c(7);d5a.X77();var B7U=d5a.J3g(0,12,13);f55=this.p1[0] + B7U;f6o=[];q94=0;for(var u7X=u5g;u7X < f55;u7X++){g_i=U4R.chart.dataSet[u7X];if(g_i){f6o.push(g_i);if(g_i.Volume){q94+=g_i.Volume;}}}if(!f6o.length){return c95;}c9x=f6o[0][this.field0 || this.defaultField];d5a.P4c(5);var Q4G=d5a.J4Z(0,1);w4r=f6o[f6o.length - Q4G][this.field1 || this.defaultField];this.start=u5g;this.end=f55;this.startPrice=c9x;this.endPrice=w4r;this.records=f6o;this.volume=q94;c95.push({label:this.getAxisLabelText(this.p0["0" ^ 0]),value:(this.field0 || this.defaultField)[0] + ": " + c9x});c95.push({label:this.getAxisLabelText(this.p1[0]),value:(this.field1 || this.defaultField)[0] + ": " + w4r});this.calloutDataGroups.forEach(F85=>{d5a.e5w();if(this.parameters.displayGroups[F85.id]){c95=c95.concat(F85.getOutput(this));}});return c95;},getAxisLabelText:function(n80){var E_g;E_g=this.getDateFromTick(n80);return this.formatDate(E_g);},intersected:function(T9q,q6Z,p1L){var C3Z,c9f;if(!this.pixelX || !this.pixelY){return null;}if(this.pointIntersection(this.pixelX[2],this.pixelY[2],p1L,!!({}))){C3Z="dra";C3Z+="g";this.highlighted="p2";return {action:C3Z,point:"p2"};}if(this.parameters.calloutOnHover){var {x0:h7J, x1:x_h}=p1L;c9f=!(h7J > Math.max(this.p0[0],this.p1[0]) || x_h < Math.min(this.p0[0],this.p1[0]));if(c9f !== this.showCallout){this.showCallout=c9f;this.stx.draw();}}return f$.Drawing.regression.prototype.intersected.call(this,T9q,q6Z,p1L);},reposition:function(k7m,E_I,d0b,a8D){var H9v,B7v,p_$,O2Q,A0S,g5l,z2w,W2G,d7t;H9v="p";H9v+="2";B7v="dr";B7v+="ag";if(!E_I){return;}p_$=E_I.p0 && E_I.p0[0] || null;O2Q=E_I.p1 && E_I.p1[0] || null;A0S=d0b - E_I.tick || 0;if(!this.stx.chart.dataSet[d0b] || p_$ !== null && !this.stx.chart.dataSet[p_$ + A0S] || O2Q !== null && !this.stx.chart.dataSet[O2Q + A0S]){this.render(k7m);return null;}g5l=this.panelName;Object.values(this.stx.panels).forEach(e4g=>{if(!this.spanPanels && e4g.name !== g5l){return;}this.panelName=e4g.name;f$.Drawing.regression.prototype.reposition.call(this,k7m,E_I,d0b,a8D);});d5a.e5w();z2w=1542592820;d5a.Q3k(0);W2G=-d5a.J4Z("1419296308",16);d7t=2;for(var n8N=1;d5a.Y5Z(n8N.toString(),n8N.toString().length,85937) !== z2w;n8N++){this.panelName=g5l;d7t+=2;}if(d5a.j3V(d7t.toString(),d7t.toString().length,60511) !== W2G){this.panelName=g5l;}if(E_I.action == B7v && E_I.point == H9v){this.setPoint(2,this.p0[0],a8D,this.stx.panels[this.panelName].chart);}},adjust:function(){var x11,i$B,S8S,v0e,U7c;this.panelName="chart";this.field=null;var {stx:x0d}=this;x11=x0d.panels[this.panelName];d5a.e5w();i$B=x0d.getYAxisByField(x11,this.field);this.setPoint(0,this.d0,this.v0,x11.chart);this.setPoint(1,this.d1,this.v1,x11.chart);if(!this.repositioner && this.p0[0] > this.p1[0]){var [y2k,b4W]=this.p0;S8S=this.field0;this.setPoint(0,this.p1[0],this.p1[1],x0d.panels[this.panelName].chart);this.field0=this.field1;this.setPoint(1,y2k,b4W,x0d.panels[this.panelName].chart);this.field1=S8S;}if(x0d.chart.dataSet[this.p0[0]]){this.v0=this.p0[1]=x0d.chart.dataSet[this.p0[0]][this.field0 || this.defaultField];}if(x0d.chart.dataSet[this.p1[0]]){this.v1=this.p1[1]=x0d.chart.dataSet[this.p1[0]][this.field1 || this.defaultField];}if(this.d2 && this.v2){this.setPoint(2,this.d2,this.v2,x0d.panels[this.panelName].chart);}else {v0e=this.pixelFromValue(x11,this.p0["0" >> 0],x0d.chart.dataSet[this.p0[0]][this.field0 || this.defaultField],i$B);d5a.P4c(83);U7c=this.valueFromPixel(d5a.J4Z("15",v0e),x11,x0d.getYAxisByField(x11,this.field));this.setPoint(2,this.p0[0],U7c,x0d.panels[this.panelName].chart);}},click:function(f0a,u5R,N0F){var X7b;this.copyConfig();var {stx:j5C}=this;X7b=j5C.panels[this.panelName];if(!j5C.chart.dataSet[u5R]){return ![];}if(!this.penDown){d5a.Q3k(30);this.setPoint(d5a.J4Z("0",32),u5R,N0F,X7b.chart);this.field0=this.validFields.includes(j5C.magneticHold)?j5C.magneticHold:this.defaultField;this.penDown=!"";return !1;}if(this.accidentalClick(u5R,N0F)){return !!1;}this.setPoint(1,u5R,N0F,X7b.chart);this.field1=this.validFields.includes(j5C.magneticHold)?j5C.magneticHold:this.defaultField;this.penDown=!({});return !![];},reconstruct:function(b3L,c5O){this.stx=b3L;this.color=c5O.col;this.panelName=c5O.pnl;this.pattern=c5O.ptrn;this.lineWidth=c5O.lw;this.d0=c5O.d0;this.d1=c5O.d1;this.tzo0=c5O.tzo0;this.tzo1=c5O.tzo1;this.v0=c5O.v0;this.v1=c5O.v1;this.field=c5O.fld;this.d2=c5O.d2;this.v2=c5O.v2;this.field0=c5O.fld0 || this.defaultField;this.field1=c5O.fld1 || this.defaultField;this.fillColor=c5O.fc;this.axisLabel=c5O.al;this.parameters=c5O.param;this.pixelX=c5O.px;this.pixelY=c5O.py;this.adjust();},serialize:function(W8K,x6N){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,d2:this.d2,v2:this.v2,fld0:this.field0,fld1:this.field1,fc:this.fillColor,al:this.axisLabel,param:this.parameters,px:this.pixelX,py:this.pixelY};},render:function(N_Q){var u4v,E2E,w_5,t5F,u0Q,u7g,r0x,q$j,C1i,W2h,S_Z,O$y,Y09,z7E,Z60,C9r,t$j,s6y,v7E,b_2,u$G;u4v="lin";u4v+="e";E2E=this.stx;w_5=E2E.panels[this.panelName];this.field=null;t5F=E2E.getYAxisByField(w_5,this.field);if(!w_5 || this.field && !t5F){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}u0Q=E2E.pixelFromTick(this.p0[+"0"],w_5.chart);u7g=E2E.pixelFromTick(this.p1["0" - 0],w_5.chart);r0x=E2E.pixelFromTick(this.p0[+"0"],w_5.chart);if(u0Q < w_5.left && u7g < w_5.left){return;}if(u0Q > w_5.right && u7g > w_5.right){return;}q$j=E2E.chart.dataSet[this.p0[0]];C1i=E2E.chart.dataSet[this.p1[0]];W2h=q$j?this.pixelFromValue(w_5,this.p0[0],q$j[this.field0 || this.defaultField],t5F):null;S_Z=C1i?this.pixelFromValue(w_5,this.p1[0],C1i[this.field1 || this.defaultField],t5F):null;O$y=this.p2?this.pixelFromValue(w_5,this.p2[0],this.p2[1],t5F):0;Y09=this.fillColor || E2E.containerColor;N_Q.fillStyle=this.getLineColor(Y09,!!1);N_Q.globalAlpha=0.25;z7E=this.getLineColor();Z60={pattern:this.pattern,lineWidth:this.lineWidth};if(W2h && S_Z){N_Q.fillRect(u0Q,w_5.yAxis.bottom,u7g - u0Q,-w_5.yAxis.height);}N_Q.globalAlpha=1;if(W2h && S_Z && (!this.spanPanels || this.panelName == this.originPanelName)){E2E.plotLine(u0Q,u7g,W2h,S_Z,z7E,"segment",N_Q,w_5,Z60);}if(W2h){d5a.Q3k(5);E2E.plotLine(u0Q,u0Q,d5a.J3g(20,W2h),d5a.J4Z(W2h,20,d5a.P4c(3)),z7E,"line",N_Q,w_5,Z60);}if(S_Z){d5a.P4c(89);E2E.plotLine(u7g,u7g,d5a.J3g("20",S_Z,0),d5a.J4Z(S_Z,20,d5a.Q3k(3)),z7E,u4v,N_Q,w_5,Z60);}if(this.axisLabel && !this.repositioner && !this.penDown){if(this.p0[0] >= 0 && this.p1[0] >= 0 && !E2E.chart.xAxis.noDraw && (!this.spanPanels || w_5.yAxis.bottom !== w_5.bottom)){C9r=[[u0Q,this.getAxisLabelText(this.p0["0" * 1])],[u7g,this.getAxisLabelText(this.p1[0])]];E2E.endClip();for(var g4c of C9r){E2E.createXAxisLabel({panel:w_5,txt:g4c[1],x:g4c[0],backgroundColor:z7E,color:null,pointed:!"",padding:2});}E2E.startClip(w_5.name);}}if(!this.spanPanels || this.panelName == this.originPanelName){this.drawCallout(N_Q);if(!this.highlighted){this.pixelX=[u0Q,u7g,r0x];this.pixelY=[W2h,S_Z,O$y];}else {t$j="p";t$j+="2";s6y="p";s6y+="1";v7E=this.highlighted == "p0"?!![]:![];b_2=this.highlighted == s6y?!"":!({});u$G=this.highlighted == t$j?!!({}):!!"";this.littleCircle(N_Q,u0Q,W2h,v7E);this.littleCircle(N_Q,u7g,S_Z,b_2);this.littleCircle(N_Q,r0x,O$y,u$G);}}},drawCallout:function(o0I){var a27,z9I,r$2,z8N,M0Q,P0y,e0X,J26,t10,g2R,B_v,J9V,d59,u8I,s4q,W81,L4n,M0y,y1a;if(this.parameters.calloutOnHover && !this.showCallout){return;}a27=this.stx;z9I=a27.panels[this.panelName];if(!this.p2){return;}r$2=a27.getYAxisByField(z9I,this.field);if(!z9I || this.field && !r$2){return;}this.context=o0I;z8N=a27.pixelFromTick(this.p0[0],z9I.chart);M0Q=this.pixelFromValue(z9I,this.p2[0],this.p2[1],r$2);if(isNaN(M0Q)){return;}P0y=this.getcalloutData();if(!P0y.length){return;}e0X=P0y.reduce(function(k_n,n63){d5a.e5w();return k_n.label.length > n63.label.length?k_n:n63;}).label;J26=P0y.reduce(function(D6n,R18){return D6n.value.length > R18.value.length?D6n:R18;}).value;d5a.X77();d5a.Q3k(90);var z_M=d5a.J4Z(16,2,11,5634,16);this.calloutWidth=(e0X.length + J26.length) * (this.fontSize * +"0.6") + this.padding * z_M;d5a.P4c(91);var P0C=d5a.J4Z(8,458,12,3,13);this.calloutHeight=P0y.length * this.lineHeight + this.padding * ("2" | P0C);o0I.font=this.fontString;o0I.textBaseline="top";t10=this.calloutWidth / ("2" - 0);d5a.Q3k(92);var X9j=d5a.J4Z(4,63,3,16);g2R=this.calloutHeight / X9j;if(M0Q < z9I.yAxis.top + g2R || M0Q > z9I.yAxis.bottom - g2R){M0Q=Math.min(Math.max(M0Q,z9I.yAxis.top + g2R),z9I.yAxis.bottom - g2R);d5a.Q3k(20);this.p2[d5a.J4Z(0,"1")]=this.valueFromPixel(M0Q,z9I,r$2);}B_v=this.lineWidth;if(!B_v){B_v=1.1;}J9V=this.getLineColor();d59=this.getLineColor(this.borderColor);M0y=Math.min(Math.min(t10,g2R) / 4,5);u8I=Math.round(z8N);W81=Math.round(M0Q);z8N-=t10 + this.stem.x;M0Q-=this.stem.y;d5a.Q3k(3);s4q=Math.round(d5a.J4Z(z8N,t10));L4n=Math.round(M0Q);if(this.highlighted){a27.canvasColor("stx_annotation_highlight_bg",o0I);}else {if(this.fillColor){o0I.fillStyle=this.getLineColor(this.fillColor,!!({}));d5a.Q3k(5);o0I.globalAlpha=d5a.J4Z(0,"0.7");}else if(this.stem){o0I.fillStyle=a27.containerColor;}}o0I.strokeStyle=d59;if(o0I.setLineDash){o0I.setLineDash(f$.borderPatternToArray(B_v,this.pattern));o0I.lineDashOffset=0;}if(d59){y1a="n";y1a+="one";o0I.beginPath();o0I.lineWidth=B_v;d5a.P4c(10);o0I.moveTo(d5a.J3g(z8N,M0y,t10),d5a.J4Z(g2R,M0Q,d5a.Q3k(5)));d5a.P4c(3);o0I.quadraticCurveTo(d5a.J3g(z8N,t10),d5a.J4Z(g2R,M0Q,d5a.P4c(5)),d5a.J4Z(z8N,t10,d5a.Q3k(3)),d5a.J4Z(M0Q,g2R,M0y,d5a.Q3k(7)));d5a.P4c(3);o0I.lineTo(d5a.J3g(z8N,t10),d5a.J3g(M0Q,M0y,2,d5a.Q3k(49)));o0I.lineTo(u8I,W81);d5a.Q3k(3);o0I.lineTo(d5a.J4Z(z8N,t10),d5a.J3g(M0Q,2,M0y,d5a.Q3k(50)));d5a.Q3k(3);o0I.lineTo(d5a.J4Z(z8N,t10),d5a.J3g(M0Q,M0y,g2R,d5a.Q3k(10)));d5a.Q3k(3);o0I.quadraticCurveTo(d5a.J4Z(z8N,t10),d5a.J3g(M0Q,g2R,d5a.P4c(3)),d5a.J3g(z8N,M0y,t10,d5a.P4c(10)),d5a.J4Z(M0Q,g2R,d5a.Q3k(3)));d5a.Q3k(50);o0I.lineTo(d5a.J3g(z8N,2,M0y),d5a.J3g(M0Q,g2R,d5a.P4c(3)));d5a.P4c(49);o0I.lineTo(d5a.J3g(z8N,M0y,2),d5a.J4Z(M0Q,g2R,d5a.P4c(3)));d5a.Q3k(7);o0I.lineTo(d5a.J4Z(z8N,t10,M0y),d5a.J3g(M0Q,g2R,d5a.P4c(3)));d5a.P4c(5);o0I.quadraticCurveTo(d5a.J3g(t10,z8N),d5a.J4Z(M0Q,g2R,d5a.P4c(3)),d5a.J3g(t10,z8N,d5a.Q3k(5)),d5a.J4Z(M0Q,M0y,g2R,d5a.Q3k(10)));d5a.P4c(5);o0I.lineTo(d5a.J4Z(t10,z8N),d5a.J4Z(M0Q,2,M0y,d5a.Q3k(50)));d5a.P4c(5);o0I.lineTo(d5a.J4Z(t10,z8N),d5a.J3g(M0Q,M0y,2,d5a.P4c(49)));d5a.P4c(5);o0I.lineTo(d5a.J4Z(t10,z8N),d5a.J4Z(M0Q,g2R,M0y,d5a.Q3k(7)));d5a.P4c(5);o0I.quadraticCurveTo(d5a.J4Z(t10,z8N),d5a.J4Z(g2R,M0Q,d5a.Q3k(5)),d5a.J3g(z8N,t10,M0y,d5a.Q3k(7)),d5a.J3g(g2R,M0Q,d5a.P4c(5)));d5a.Q3k(49);o0I.lineTo(d5a.J4Z(z8N,M0y,2),d5a.J3g(g2R,M0Q,d5a.Q3k(5)));d5a.P4c(50);o0I.lineTo(d5a.J3g(z8N,2,M0y),d5a.J4Z(g2R,M0Q,d5a.Q3k(5)));d5a.Q3k(10);o0I.lineTo(d5a.J3g(z8N,M0y,t10),d5a.J4Z(g2R,M0Q,d5a.Q3k(5)));o0I.fill();o0I.globalAlpha=1;if(this.pattern != y1a){o0I.stroke();}}if(this.highlighted){a27.canvasColor("stx_annotation_highlight",o0I);}else {o0I.fillStyle=this.fillColor === "transparent"?a27.getCanvasColor():f$.chooseForegroundColor(this.fillColor);}M0Q+=this.padding;P0y.forEach(Q2t=>{var Z6t,J24,g4l;Z6t="s";Z6t+="tart";J24=":";J24+=" ";var {label:K$x, value:y2P}=Q2t;g4l=o0I.font;o0I.textAlign="start";o0I.font="bold " + this.fontSize + "px " + this.fontFamily;o0I.fillText(a27.translateIf(K$x) + J24,z8N - t10 + this.padding,M0Q - g2R);o0I.textAlign="end";o0I.font=this.fontSize + "px " + this.fontFamily;o0I.fillText(y2P,z8N + t10 - this.padding,M0Q - g2R);o0I.textAlign=Z6t;o0I.font=g4l;M0Q+=this.lineHeight;});o0I.textBaseline="alphabetic";}},!!1);f$.Drawing.quadrant=function(){d5a.e5w();this.name="quadrant";};f$.inheritsFrom(f$.Drawing.quadrant,f$.Drawing.regression);f$.extend(f$.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var B6s;B6s=this.stx.currentVectorParameters;this.color=B6s.currentColor;this.fillColor=B6s.fillColor;this.lineWidth=B6s.lineWidth;this.pattern=B6s.pattern;},$controls:[],render:function(M_U){var o7l,z1p,L0c,e$h,u63,D5T,p$q,O9h,K$K,I15,h5G,d_n,G1P,p7j,n8q,R46,X4_,F9v,D$v,S0H,H0U,i66,U6y,w3L,m98,j9X,G$F,J7t;o7l="qua";o7l+="d";o7l+="rant";z1p="se";z1p+="gment";L0c="segme";L0c+="n";L0c+="t";e$h="tiro";e$h+="ne";u63="se";u63+="g";u63+="me";u63+="nt";D5T=this.stx;p$q=D5T.panels[this.panelName];O9h=D5T.getYAxisByField(p$q,this.field);if(!p$q || this.field && !O9h){return;}if(!this.p1){return;}K$K=D5T.pixelFromTick(this.p0[0],p$q.chart);I15=D5T.pixelFromTick(this.p1[0],p$q.chart);if(K$K < p$q.left && I15 < p$q.left){return;}if(K$K > p$q.right && I15 > p$q.right){return;}h5G=null;d_n=null;for(var n$p=Math.max(0,Math.min(this.p1[0],this.p0[0]));n$p <= Math.min(D5T.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));n$p++){G1P=this.getYValue(n$p);if(G1P !== null){if(h5G === null || G1P.transformed > h5G){h5G=G1P.transformed;}if(d_n === null || G1P.transformed < d_n){d_n=G1P.transformed;}}}p7j=D5T.pixelFromTransformedValue(h5G,p$q,O9h);d5a.P4c(93);n8q=D5T.pixelFromTransformedValue(d5a.J3g(4,3,d_n,h5G),p$q,O9h);d5a.P4c(93);R46=D5T.pixelFromTransformedValue(d5a.J4Z(3,2,d_n,h5G),p$q,O9h);d5a.P4c(13);X4_=D5T.pixelFromTransformedValue(d5a.J4Z(2,d_n,h5G),p$q,O9h);d5a.P4c(94);F9v=D5T.pixelFromTransformedValue(d5a.J3g(3,d_n,2,h5G),p$q,O9h);d5a.P4c(94);D$v=D5T.pixelFromTransformedValue(d5a.J3g(4,d_n,3,h5G),p$q,O9h);S0H=D5T.pixelFromTransformedValue(d_n,p$q,O9h);this.p0[1]=0;this.p1[1]=![];H0U=this.getLineColor();i66=this.fillColor;M_U.fillStyle=this.getLineColor(i66,!![]);U6y={pattern:this.pattern,lineWidth:this.lineWidth};D5T.plotLine(K$K,I15,p7j,p7j,H0U,"segment",M_U,p$q,U6y);D5T.plotLine(K$K,I15,S0H,S0H,H0U,u63,M_U,p$q,U6y);if(this.name == "quadrant"){D5T.plotLine(K$K,I15,n8q,n8q,H0U,"segment",M_U,p$q,U6y);D5T.plotLine(K$K,I15,D$v,D$v,H0U,"segment",M_U,p$q,U6y);}else if(this.name == e$h){w3L="seg";w3L+="ment";m98="segm";m98+="en";m98+="t";D5T.plotLine(K$K,I15,R46,R46,H0U,m98,M_U,p$q,U6y);D5T.plotLine(K$K,I15,F9v,F9v,H0U,w3L,M_U,p$q,U6y);}D5T.plotLine(K$K,K$K,p7j,S0H,H0U,L0c,M_U,p$q,U6y);D5T.plotLine(I15,I15,p7j,S0H,H0U,"segment",M_U,p$q,U6y);D5T.plotLine(K$K,I15,X4_,X4_,H0U,z1p,M_U,p$q,f$.extend(U6y,{opacity:this.name == "tirone"?0.2:1}));M_U.globalAlpha=0.1;M_U.beginPath();d5a.P4c(5);M_U.fillRect(K$K,p7j,d5a.J4Z(K$K,I15),d5a.J4Z(p7j,S0H));if(this.name == o7l){d5a.Q3k(5);M_U.fillRect(K$K,n8q,d5a.J4Z(K$K,I15),d5a.J4Z(n8q,D$v));}else if(this.name == "tirone"){d5a.Q3k(5);M_U.fillRect(K$K,R46,d5a.J4Z(K$K,I15),d5a.J3g(R46,F9v));}M_U.globalAlpha=1;if(!this.highlighted){j9X="qua";j9X+="dr";j9X+="an";j9X+="t";this.pixelX=[K$K,I15];this.pixelY=[p7j,S0H,X4_];if(this.name === j9X){this.pixelY.push(n8q,D$v);}if(this.name === "tirone"){this.pixelY.push(R46,F9v);}}else {G$F=this.highlighted == "p0"?!![]:!({});J7t=this.highlighted == "p1"?!!({}):!"1";this.littleCircle(M_U,K$K,X4_,G$F);this.littleCircle(M_U,I15,X4_,J7t);}},intersected:function(k58,k$d,E8W){var U1K,X5$,U98,b4_,S7G,k4L,A_C;var {pixelX:i34, pixelY:z$6}=this;if(!i34 || !z$6){return null;}U1K=this.repositionIntersection(k58,k$d);if(U1K){return U1K;}for(var Q$Y="0" >> 0;Q$Y < +"2";Q$Y++){if(this.pointIntersection(i34[Q$Y],z$6[2],E8W,!![])){d5a.P4c(3);this.highlighted=d5a.J4Z(2540 != 4900?"p":0x1ae,Q$Y);return {action:"drag",point:((4797,+"383.09") < (445.46,8471)?5210 < 5340?"p":("V",0x1bdc):(!!({}),0xe4)) + Q$Y};}}X5$=[];i34.forEach(p_L=>{d5a.e5w();X5$.push({p0:[p_L,z$6[0]],p1:[p_L,z$6[1]]});});z$6.forEach(T$R=>{d5a.X77();X5$.push({p0:[i34[0],T$R],p1:[i34[1],T$R]});});U98=X5$.some(({p0:C9K, p1:Z5l})=>{d5a.e5w();return this.lineIntersection(k58,k$d,E8W,this.name,C9K,Z5l,!!({}));});if(U98){b4_="m";b4_+="o";b4_+="ve";this.highlighted=!![];return {action:b4_,p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:k58,value:this.valueOnDrawingAxis(k58,k$d)};}S7G=934915548;k4L=-1509860102;d5a.e5w();A_C=2;for(var W_b="1" * 1;d5a.Y5Z(W_b.toString(),W_b.toString().length,"40586" << 64) !== S7G;W_b++){return null;}if(d5a.Y5Z(A_C.toString(),A_C.toString().length,10755) !== k4L){return +"1";}},reconstruct:function(k8A,w$2){this.stx=k8A;this.color=w$2.col;this.fillColor=w$2.fc;this.panelName=w$2.pnl;this.pattern=w$2.ptrn;this.lineWidth=w$2.lw;this.d0=w$2.d0;d5a.X77();this.d1=w$2.d1;this.tzo0=w$2.tzo0;this.tzo1=w$2.tzo1;this.field=w$2.fld;this.permanent=w$2.prm;this.hidden=w$2.hdn;this.adjust();},serialize:function(){d5a.X77();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,prm:this.permanent,hdn:this.hidden};}},!![]);f$.Drawing.tirone=function(){this.name="tirone";};f$.inheritsFrom(f$.Drawing.tirone,f$.Drawing.quadrant);f$.Drawing.volumeprofile=function(){var w0A;w0A="v";d5a.e5w();w0A+="olumeprofile";this.name=w0A;};f$.inheritsFrom(f$.Drawing.volumeprofile,f$.Drawing.regression);f$.extend(f$.Drawing.volumeprofile.prototype,{configs:[n3X,"fillColor","lineWidth",p57,"parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;d5a.e5w();this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(Z_r,i83){var d5w,D0q,j0U;d5w=-91476636;d5a.P4c(5);D0q=-d5a.J3g(0,"1378373040");j0U=2;for(var Q9J=1;d5a.Y5Z(Q9J.toString(),Q9J.toString().length,43232) !== d5w;Q9J++){return !i83 || typeof Z_r.getFirstLastDataRecord(Z_r.chart.dataSegment,i83)[i83] === "object";}if(d5a.Y5Z(j0U.toString(),j0U.toString().length,10531) !== D0q){return -i83 && ~Z_r.getFirstLastDataRecord(Z_r.chart.dataSegment,i83)[i83] == "";}},render:function(N7G){var M9u,o74,U_D,N5I,B4A,d7s,s3B,e$H,L3A,c$6,F41,m4u,Y5J,M27,E7J,a6G,N9K,B2p,Q3Y,O5I,V42,i7z,T2o,c0m,T2Q,M$s,w_0,S0T,W86,H14,P92,b6a,L_h,N27,A9K,l5b,q2a,R2n,Q0Z,x2P,g5W,D2r,g_U,b2l,n8_,o3F,O_d,b9S,A1L,u5l,w06;var {stx:j7u}=this;var {dataSet:y$g}=j7u.chart;M9u=j7u.panels[this.panelName];o74=j7u.getYAxisByField(M9u,this.field);if(!M9u || this.field && !o74){return;}if(!this.p1){return;}o74=o74 || M9u.yAxis;U_D=j7u.pixelFromTick(this.p0[0],M9u.chart);N5I=j7u.pixelFromTick(this.p1[0],M9u.chart);if(U_D < M9u.left && N5I < M9u.left){return;}if(U_D > M9u.right && N5I > M9u.right){return;}var {flipped:z92}=o74;B4A=null;d7s=null;s3B=Math.min(this.p1[0],this.p0[0]);e$H=Math.max(this.p1[0],this.p0[0]);for(var I8Y=s3B;I8Y <= e$H;I8Y++){L3A=y$g[I8Y];if(!L3A)continue;if(L3A[this.field]){L3A=L3A[this.field];}if(!L3A || typeof L3A !== "object")continue;var {High:R3c, Low:E4K}=L3A;if(B4A === null || R3c > B4A){B4A=R3c;}if(d7s === null || E4K < d7s){d7s=E4K;}}var {priceBuckets:v_J}=this;d5a.P4c(33);c$6=d5a.J4Z(v_J,B4A,d7s);F41=[];if(z92){[B4A,d7s]=[d7s,B4A];}m4u=z92?-1:1;for(var j6f=d7s,Z_c=0;Z_c <= v_J;(j6f+=c$6 * m4u,Z_c++)){F41.push([j6f,0]);if(d7s === B4A)break;}Y5J=0;for(var H2Y=s3B;H2Y <= e$H;H2Y++){M27=y$g[H2Y];if(!M27)continue;if(M27[this.field]){M27=M27[this.field];}if(!M27 || typeof M27 !== "object")continue;var {High:s7F, Low:o3M, Volume:L0L}=M27;if(!L0L && L0L !== +"0")continue;E7J=[];a6G=F41[0][0];N9K=null;for(var O8$=1;O8$ < F41.length;O8$++){N9K=F41[O8$][0];B2p=o3M >= a6G && o3M <= N9K;Q3Y=s7F >= a6G && s7F <= N9K;O5I=o3M < a6G && s7F > N9K;if(B2p || Q3Y || O5I){E7J.push(O8$);}a6G=N9K;}if(E7J.length){V42=L0L / E7J.length;for(var p$B="0" >> 0;p$B < E7J.length;p$B++){i7z=F41[E7J[p$B]][1]+=V42;if(i7z > Y5J){Y5J=i7z;}}}}T2o=Y5J === 0 && F41.length > 1;if(T2o){c0m="c";c0m+="h";c0m+="ar";c0m+="t";j7u.displayErrorAsWatermark(c0m,j7u.translateIf("Not enough data to render the Volume Profile"));}T2Q=e7P=>{d5a.e5w();return Math.round(e7P) + 0.5;};M$s=(e$H - s3B) * j7u.layout.candleWidth;d5a.P4c(14);var J3O=d5a.J4Z(20,15,19,3,6);w_0=T2Q(j7u.pixelFromTick(s3B)) - J3O;d5a.Q3k(3);S0T=T2Q(d5a.J4Z(w_0,M$s));d5a.Q3k(75);W86=this.pixelFromValue(M9u,s3B,d5a.J3g(2,d7s,d7s,B4A),o74);H14=w_0;d5a.P4c(5);var [Q$D]=F41[d5a.J4Z(0,"0")];P92=this.getLineColor();var {fillColor:W5r}=this;N7G.fillStyle=this.getLineColor(W5r,!0);b6a={pattern:this.pattern,lineWidth:this.lineWidth};L_h=0;N27=0;A9K=(D$r,a_P)=>{return [L_h,N27]=[D$r,a_P];};l5b=(D9h,Z05,N8_)=>{if(!N8_){j7u.plotLine(L_h,D9h,N27,Z05,P92,"segment",N7G,M9u,b6a);}[L_h,N27]=[D9h,Z05];};if(this.highlighted || T2o){j7u.plotLine(w_0,S0T,W86,W86,j7u.defaultColor,"segment",N7G,M9u,Object.assign({},b6a,{opacity:0.3}));}for(var f1O=1;f1O < F41.length;f1O++){var [j8C,L1o]=F41[f1O];if(L1o){d5a.P4c(95);q2a=d5a.J3g(Y5J,L1o,M$s);d5a.Q3k(3);R2n=T2Q(d5a.J3g(w_0,q2a));Q0Z=T2Q(this.pixelFromValue(M9u,s3B,j8C,o74));x2P=T2Q(this.pixelFromValue(M9u,s3B,Q$D,o74));g5W=Math.max(Q0Z,o74.top);D2r=Math.min(x2P,o74.bottom);d5a.Q3k(96);g_U=d5a.J3g(g5W,Q0Z);d5a.P4c(96);b2l=d5a.J4Z(D2r,x2P);n8_=g5W <= o74.bottom && D2r >= o74.top;if(n8_){if(!this.highlighted){N7G.globalAlpha=0.3;}A9K(w_0,D2r);l5b(w_0,g5W);l5b(R2n,g5W,g_U);l5b(R2n,D2r);if(R2n > H14){l5b(H14,D2r,b2l);}N7G.globalAlpha=0.2;d5a.P4c(5);N7G.fillRect(w_0,g5W,d5a.J4Z(w_0,R2n),d5a.J4Z(g5W,D2r));N7G.globalAlpha=1;}H14=R2n;}else {H14=w_0;}Q$D=j8C;}if(this.highlighted){o3F="p";o3F+="1";O_d=this.highlighted === "p0";b9S=this.highlighted === o3F;A1L=this.p0[0] > this.p1[0];u5l=A1L?b9S:O_d;w06=A1L?O_d:b9S;this.littleCircle(N7G,w_0,W86,u5l);this.littleCircle(N7G,S0T,W86,w06);}d5a.Q3k(3);this.pixelX=[w_0,d5a.J3g(w_0,M$s)];this.pixelY=[this.pixelFromValue(M9u,s3B,B4A,o74),this.pixelFromValue(M9u,s3B,d7s,o74),W86];d5a.Q3k(30);this.p0[d5a.J3g("1",32)]=0;this.p1[1]=!({});},intersected:function(B0y,r8s,f2N){var d_H,J0a,Z7F;var {p0:R2u, p1:s$$, stx:H_u}=this;if(!R2u || !s$$){return null;}var [,,z4w]=this.pixelY || [];if(z4w === undefined){return;}d_H=this.repositionIntersection(B0y,r8s);if(d_H){return d_H;}for(var [D58,[Q7Y]] of [[0,R2u],[1,s$$]]){if(this.pointIntersection(H_u.pixelFromTick(Q7Y),z4w,f2N,!!({}))){J0a="d";J0a+="r";J0a+="a";J0a+="g";d5a.Q3k(3);this.highlighted=d5a.J3g((899.28,71.76) <= 3811?(5623,433) !== (3769,+"4441")?"p":(7.88e+3,4.28e+3):(+"7.54e+3",1.95e+3),D58);return {action:J0a,point:((794,3170) >= (354,338.42)?(745.42,6560) >= (716.2,4505)?645 === (171.32,8370)?9.70e+1:"p":(1.20e+3,7.84e+3):755.76) + D58};}}if(this.boxIntersection(B0y,r8s,f2N)){Z7F="mo";Z7F+="ve";this.highlighted=!!"1";return {action:Z7F,p0:f$.clone(this.p0),p1:f$.clone(this.p1),tick:B0y,value:r8s};}return null;},reconstruct:function(z0d,L32){this.stx=z0d;this.color=L32.col;this.fillColor=L32.fc;this.panelName=L32.pnl;this.pattern=L32.ptrn;d5a.e5w();this.lineWidth=L32.lw;this.d0=L32.d0;this.d1=L32.d1;this.tzo0=L32.tzo0;this.tzo1=L32.tzo1;this.field=L32.fld;this.priceBuckets=L32.pb;this.permanent=L32.prm;this.hidden=L32.hdn;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets,prm:this.permanent,hdn:this.hidden};}},!!1);f$.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;d5a.X77();d5a.Q3k(1);this.dy=-d5a.J3g("20",32);this.dragToDraw=!({});this.annotationPoints=[];this.edit=null;};f$.inheritsFrom(f$.Drawing.elliottwave,f$.Drawing.annotation);f$.Drawing.elliottwave.defaultTemplate={impulse:[9706 > 759.51?"I":(!!({}),0x105c),"II",y$e,"IV","V"],corrective:[7880 === (2090,872.78)?"M":(8070,8740) === (8252,2249)?"J":"A",(3270,9190) < 6640?(!({}),"u"):"B","C"],decoration:n3c,showLines:!0};f$.Drawing.elliottwave.prototype.initializeSettings=function(n8D){n8D.currentVectorParameters.waveParameters=f$.clone(f$.Drawing.elliottwave.defaultTemplate);};f$.Drawing.elliottwave.prototype.configs=["color",p6R,"lineColor","pattern","font","waveParameters"];f$.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];f$.Drawing.elliottwave.prototype.construct=function(d5O,Z7h){var K34;this.stx=d5O;this.panelName=Z7h.name;K34=d5O.currentVectorParameters;Object.assign(this,K34.waveParameters);};f$.Drawing.elliottwave.prototype.serialize=function(){var W6X,C6Q,f3U,d6g,H0e,b7T;W6X="w";W6X+="t";C6Q="s";C6Q+="z";f3U=-1564848950;d6g=+"444579282";H0e=2;for(var Z7E=1;d5a.Y5Z(Z7E.toString(),Z7E.toString().length,13566) !== f3U;Z7E++){b7T={};H0e+=2;}if(d5a.Y5Z(H0e.toString(),H0e.toString().length,48836) !== d6g){b7T={};}b7T={};for(var T2K=+"0";T2K < this.points.length;T2K++){d5a.P4c(3);b7T[d5a.J3g("d",T2K)]=this[d5a.J3g(+"2280" > 2930?(302.19,7842) == ("426" | 34,788)?(!({}),5.62e+2):(26,+"4827") >= 66.8?(!!({}),+"807.64"):"g":"d",T2K)];d5a.Q3k(3);b7T[d5a.J4Z("tzo",T2K)]=this[d5a.J3g("tzo",T2K)];d5a.Q3k(3);b7T[d5a.J4Z((6045,+"523") === (+"943.74",3180)?(171.85,"C"):993.46 === (690.96,2840)?1370 !== (+"8657",+"5690")?("i",0x1bf5):149.75:"v",T2K)]=this[d5a.J3g("v",T2K)];}b7T.annotations=this.annotationPoints.join((711.83,324.61) > (289.31,7708)?(!"1","K"):(485.22,7336) === (7234,34.84)?2963 == 2310?0x19e7:(972.59,5.44e+2):",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:f$.removeNullValues(f$.replaceFields(this.font,{style:"st",size:C6Q,weight:W6X,family:"fl"})),prm:this.permanent,hdn:this.hidden},b7T);};f$.Drawing.elliottwave.prototype.reconstruct=function(n7n,V08){this.stx=n7n;this.color=V08.col;this.panelName=V08.pnl;this.pattern=V08.ptrn;this.lineWidth=V08.lw;this.font=f$.replaceFields(V08.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});this.decoration=V08.decor;this.showLines=V08.show;this.dx=V08.dx;d5a.e5w();this.dy=V08.dy;this.trend=V08.trend;this.field=V08.fld;this.permanent=V08.prm;this.hidden=V08.hdn;this.annotationPoints=V08.annotations.split((7590,7840) > (+"669.37",4548)?(8572,606) == 285.22?5.30e+3:("1460" >> 32,2580) >= (1540,481.58)?",":("C","s"):("5.82e+3" * 1,"v"));if(V08.decor === "enclosed"){this.calculateRadius(n7n.chart.tempCanvas.context);}this.maxSegments=V08.mxSeg;this.reconstructPoints(V08);this.adjust();};f$.Drawing.elliottwave.prototype.reconstructPoints=function(f4k){var l0H,G7q,Z2Q,v2C;l0H=this.stx.panels[this.panelName];d5a.X77();if(!l0H){return;}for(var t1$=0;t1$ < this.annotationPoints.length;t1$++){G7q="t";G7q+="zo";d5a.P4c(3);this[d5a.J3g((2390,9279) == 8498?(125.38,261.11):(3946,600.61) < ("3107" ^ 0)?(78.13,+"7112") <= (626.61,"1360" | 0)?!"1":"d":"V",t1$)]=f4k[d5a.J4Z((8070,3790) >= 213?4920 <= (756.99,2060)?5450 == (687.04,926.94)?(!!1,"z"):665.33:"d":(0x144f,8.65e+3),t1$)];d5a.P4c(3);this[d5a.J3g("v",t1$)]=f4k[d5a.J3g("v",t1$)];d5a.P4c(3);this[d5a.J3g(G7q,t1$)]=f4k[d5a.J3g("tzo",t1$)];Z2Q=f$.strToDateTime(f4k[((427.24,562.63) != ("5108" - 0,6180)?"d":"H") + t1$]);v2C=this.stx.tickFromDate(Z2Q,l0H.chart);this.points.push([v2C,f4k["v" + t1$]]);}};f$.Drawing.elliottwave.prototype.calculateRadius=function(I4$){var n$i,T$S;this.getFontString();I4$.font=this.fontString;n$i=0;for(var z7_=0;z7_ < this.annotationPoints.length;z7_++){T$S=I4$.measureText(this.annotationPoints[z7_]).width;if(n$i < T$S){n$i=T$S;}}this.enclosedRadius=n$i;};f$.Drawing.elliottwave.prototype.check=function(D$D,Q8H,x$D){var q3N,z6P;d5a.Q3k(5);q3N=this.points[d5a.J4Z(1,x$D)];d5a.e5w();if(q3N && D$D <= q3N[0]){return !({});}function U36(w7v){d5a.e5w();for(var t6d="2" | 2;t6d < w7v.length;t6d++){if(Math.sign(w7v[t6d][1] - w7v[t6d - ("1" << 64)][1]) == Math.sign(w7v[t6d - ("1" << 0)][1] - w7v[t6d - 2][1])){return !!"";}}return !!"1";}if(x$D === 1 && this.points.length === 2){return !0;}d5a.Q3k(83);z6P=this.points[d5a.J4Z("1",x$D)];if(z6P && D$D >= z6P[0]){return !1;}if(!U36(this.points)){return !!0;}return !"";};f$.Drawing.elliottwave.prototype.move=function(W4$,B6z,j3i){this.copyConfig();d5a.Q3k(7);var A1m=d5a.J3g(0,10,11);this.points[this.lastPoint + A1m]=[B6z,j3i];this.render(W4$);};f$.Drawing.elliottwave.prototype.adjust=function(){var E5b,T34;E5b=this.stx.panels[this.panelName];if(!E5b){return;}for(var A60=0;this.maxSegments + 1 > A60;A60++){d5a.Q3k(3);T34=this[d5a.J3g(4797 < (280.1,631)?(961.82,!({})):"299.21" * 1 > (1956,+"8890")?("a",608.75):"d",A60)];this.setPoint(A60,T34,this["v" + A60],E5b.chart);this.points[A60][0]=this.stx.tickFromDate(f$.strToDateTime(T34),E5b.chart);d5a.P4c(3);this.points[A60][1]=this[d5a.J3g(4650 <= 7900?"v":(!!"1",+"432.78"),A60)];}};f$.Drawing.elliottwave.prototype.click=function(S$H,r1q,r_Z){var M3J,S5z,r2M,h8y;M3J=this.stx.panels[this.panelName];if(!M3J){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,r1q,r_Z,M3J.chart);S5z=-1740184832;r2M=-+"986476833";h8y=2;for(var i0j=1;d5a.j3V(i0j.toString(),i0j.toString().length,94201) !== S5z;i0j++){this.points.push(this.p0);this.penDown=!!0;d5a.Q3k(25);this.segment=d5a.J3g("8",1);this.lastPoint=3;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(("341" ^ 0,+"282674") === +"9704"?1287 > (+"1189",732575)?("E",151):("7631" ^ 0) < 836885?"0":(0xc35,"0"):!!1);h8y+=2;}if(d5a.Y5Z(h8y.toString(),h8y.toString().length,+"55372") !== r2M){this.points.push(this.p0);this.penDown=!!1;this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((616,"390.75" * 1) != 7513?7730 < (1281,285.44)?("o",658):6921 >= "917.73" - 0?"0":(0x5a9,"E"):!!"");}if(this.decoration === "enclosed"){this.calculateRadius(S$H);}d5a.Q3k(97);var f22=d5a.J4Z(19,0,5,13);this.maxSegments=this.annotationPoints.length - "1" * f22;this.trend=1;return !!0;}if(this.accidentalClick(r1q,r_Z)){this.penDown=!!"1";return !({});}if(this.check(r1q,r_Z,this.lastPoint + +"1")){this.lastPoint++;this.setPoint(this.lastPoint,r1q,r_Z,M3J.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=![];return !!1;}}return !!0;};f$.Drawing.elliottwave.prototype.render=function(b9H){var O6s,b0o,S5n,o_J,Y$Z,Y5g,E_s,V5J,l_r,d7j,Q01,t6V,l5T,I4G,A1E,z5x,g4f,T7t,U8W,D_1,x2j,i5l,X6J,f3u,o$U,V_$,r2C,i1w,S3t,Q3R,R4o;O6s="mid";O6s+="dle";b0o="cent";b0o+="er";S5n=this.stx;o_J=S5n.panels[this.panelName];Y$Z=S5n.getYAxisByField(o_J,this.field);if(!o_J || this.field && !Y$Z){return;}Y$Z=Y$Z || o_J.yAxis;Y5g=this.annotationPoints;E_s=this.pattern?f$.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();b9H.font=this.fontString;b9H.textAlign=b0o;b9H.textBaseline=O6s;b9H.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(b9H);}this.lastFontString=this.fontString;V5J=this.getLineColor();d5a.e5w();b9H.fillStyle=b9H.strokeStyle=V5J;b9H.save();b9H.setLineDash(E_s);l_r=this.dx;d7j=this.dy;Q01=this.points;t6V=this.pts;l5T=!this.showLines && this.highlighted;I4G=Q01.length;if(this.penDown && this.segment){z5x="t";z5x+="o";z5x+="p";A1E=this.trend * (I4G % +"2" - 0.5) < 0;this.drawDropZone(b9H,Q01[I4G - ("2" >> 0)]["1" | 0],S5n.priceFromPixel(Y$Z[A1E?z5x:"bottom"],o_J,Y$Z),Q01[I4G - 2][0]);}else if(typeof this.highlighted === "string" && S5n.repositioningDrawing){g4f=parseInt(this.highlighted.substring(1,this.highlighted.length),10);d5a.Q3k(98);var v73=d5a.J3g(1,10,10);A1E=this.trend * (g4f % v73 - 0.5) > 0;d5a.P4c(5);T7t=Q01[d5a.J3g(1,g4f)];d5a.P4c(3);U8W=Q01[d5a.J3g(g4f,1)];D_1=g4f > 0?T7t[1]:U8W[1];if(U8W){D_1=Math[A1E?"max":"min"](D_1,U8W[1]);}this.drawDropZone(b9H,D_1,S5n.priceFromPixel(Y$Z[A1E?"top":"bottom"],o_J,Y$Z),T7t?T7t[0]:null,U8W?U8W[+"0"]:null);}for(var I6g=0;I6g < I4G;I6g++){x2j=Q01[I6g];i5l=S5n.pixelFromTick(x2j[0],o_J.chart);X6J=this.pixelFromValue(o_J,x2j["0" >> 32],x2j[1],S5n.getYAxisByField(o_J,this.field));t6V[I6g]=[i5l,X6J];}I6g=0;if(this.showLines || l5T){b9H.beginPath();if(l5T){b9H.globalAlpha=0.3;}for(;I6g < t6V.length;I6g++){b9H.lineTo(t6V[I6g][0],t6V[I6g][1]);}b9H.stroke();I6g=0;}b9H.restore();for(;I6g < I4G;I6g++){f3u="en";f3u+="clos";f3u+="e";f3u+="d";o$U=I6g % 2?l_r:-l_r;V_$=I6g % 2?d7j:-d7j;o$U*=this.trend;V_$*=this.trend;if(Y$Z.flipped){o$U*=-1;V_$*=-1;}r2C=t6V[I6g];i1w=r2C[2]=r2C[0] + o$U;d5a.P4c(72);var P$1=d5a.J3g(35,17,20,20,19);S3t=r2C[3]=r2C[P$1] + V_$;Q3R=this.enclosedRadius || +"8";R4o=Y5g[I6g];if(this.decoration === "parentheses"){d5a.P4c(4);R4o=d5a.J4Z((8110,5461) !== 6833?7684 == 1087?"N":")":6.36e+3,"(",R4o);}b9H.fillText(R4o,i1w,S3t);if(this.decoration === f3u){b9H.beginPath();b9H.arc(i1w,S3t,Q3R,0,2 * Math.PI,!({}));b9H.stroke();}if(this.highlighted){b9H.save();this.littleCircle(b9H,this.pts[I6g][0],this.pts[I6g][1],this.highlighted === ((501.16,485.82) <= (2801,1240)?6400 != 25.51?"p":3770 < (1170,64.32)?![]:(791.88,6.41e+3):(+"0x23ad","0x19a" - 0)) + I6g);b9H.restore();}}};f$.Drawing.elliottwave.prototype.reposition=function(q_F,a$F,W9H,Q2I){var E6K,f3B,o85,E2R,a0T,o73,D$V,A$c,K2t,v3n;E6K="dr";E6K+="a";E6K+="g";if(!a$F){return;}f3B=this.stx.panels[this.panelName];o85=a$F.tick - W9H;E2R=a$F.value - Q2I;if(a$F.action === "move"){for(var G0U=0;a$F.points.length > G0U;G0U++){a0T=a$F.points[G0U];this.setPoint(G0U,a0T[0] - o85,a0T["1" >> 0] - E2R,f3B.chart);d5a.Q3k(99);var y6Q=d5a.J3g(9,7,6,10,3779);this.points[G0U]=[a0T[0] - o85,a0T[y6Q] - E2R];}}if(a$F.action === E6K){o73=494220329;D$V=-+"1848515474";d5a.Q3k(0);A$c=d5a.J4Z("2",2);for(var k92=1;d5a.j3V(k92.toString(),k92.toString().length,71737) !== o73;k92++){K2t=a$F.point;v3n=this.points;A$c+=2;}if(d5a.Y5Z(A$c.toString(),A$c.toString().length,3462) !== D$V){K2t=a$F.point;v3n=this.points;}K2t=a$F.point;v3n=this.points;v3n[K2t]=[W9H,Q2I];if(this.check(W9H,Q2I,K2t)){this.setPoint(K2t,W9H,Q2I,f3B.chart);}}this.render(q_F);};f$.Drawing.elliottwave.prototype.intersected=function(Y3t,m9T,y1o){var U3P,r3V,O2P,L1$;if(!this.p0 || !this.p1){return null;}for(var G5h="0" << 64;this.points.length > G5h;G5h++){r3V="seg";r3V+="me";r3V+="nt";O2P=this.points[G5h];if(this.pointIntersection(O2P[0],O2P[1],y1o)){d5a.P4c(3);this.highlighted=d5a.J4Z("p",G5h);return {action:"drag",point:G5h,tick:Y3t,value:this.valueOnDrawingAxis(Y3t,m9T)};}if(this.points[G5h + 1] && this.lineIntersection(Y3t,m9T,y1o,r3V,O2P,this.points[G5h + 1])){L1$="m";L1$+="o";L1$+="v";L1$+="e";this.highlighted=!"";U3P={action:L1$,points:f$.clone(this.points),tick:Y3t,value:this.valueOnDrawingAxis(Y3t,m9T)};}}return U3P;};f$.Drawing.elliottwave.prototype.measure=function(){var P5e,j26,K4j,k4f,E3g;if(this.points.length >= 2){P5e=this.points;this.stx.setMeasure(P5e["0" ^ 0][1],P5e[P5e.length - 1][1],P5e[0][0],P5e[P5e.length - ("1" - 0)][0],!![]);j26=this.stx.controls.mSticky;K4j=j26 && j26.querySelector(".mStickyInterior");if(K4j){k4f="Clos";k4f+="e";E3g=[];E3g.push(this.stx.translateIf(f$.capitalize("Elliott Wave")));if(this.getYValue){E3g.push(this.stx.translateIf(this.field || this.stx.defaultPlotField || k4f));}E3g.push(K4j.innerHTML);K4j.innerHTML=E3g.join("<br>");}}};f$.Drawing.printProjection=function(F6E,t1l,B1G){var a7x,y$C,n$H,T5H,j0p,a3X,n2L,Z4z,a2p,p_y,O$u,Y3n,I9G,s_x,J3L,q5p;a7x=t1l.arr;if(a7x.length > 1){y$C=a7x[0][0];n$H=Math.round(F6E.chart.maxTicks * 0.75);for(var y0z=1;y0z < a7x.length;y0z++){d5a.Q3k(5);T5H=a7x[d5a.J4Z(1,y0z)][d5a.J4Z("0",1,d5a.P4c(25))];j0p=a7x[y0z][0];a3X=f$.strToDateTime(T5H);n2L=f$.strToDateTime(j0p).getTime();Z4z=F6E.standardMarketIterator(a3X);d5a.Q3k(1);a2p=d5a.J3g("0",0);while(a3X.getTime() < n2L){a3X=Z4z.next();a2p+=1;}p_y=f$.strToDateTime(T5H).getTime();if(p_y > f$.strToDateTime(B1G[B1G.length - 1].Date).getTime()){d5a.Q3k(100);var L6N=d5a.J3g(4,83,2,7,2);O$u=B1G.length - L6N;a2p+=1;}else {for(O$u=B1G.length - 1;O$u >= +"0";O$u--){if(p_y <= f$.strToDateTime(B1G[O$u].Date).getTime())break;}}Y3n={x0:0,x1:a2p,y0:B1G[O$u].Close,y1:a7x[y0z][1]};y$C=f$.strToDateTime(T5H);Z4z=F6E.standardMarketIterator(y$C);I9G=![];for(var i4H=0;i4H <= a2p;i4H++){if(!I9G){I9G=!!"1";}else {y$C=Z4z.next();}if(y$C.getTime() <= B1G[B1G.length - 1].DT.getTime())continue;s_x=f$.yIntersection(Y3n,i4H);if(!s_x){s_x=0;}d5a.P4c(4);var N9b=d5a.J3g(7,9980,13);d5a.P4c(39);var L9H=d5a.J4Z(160000,4,1430036,9);J3L=Math.round(s_x * N9b) / L9H;if(J3L === 0){J3L=a7x[y0z][+"1"];}q5p={Date:f$.yyyymmddhhmmssmmm(y$C),DT:y$C,Open:J3L,Close:J3L,High:J3L,Low:J3L,Volume:0,Adj_Close:J3L,Split_Close:J3L,projection:!0};if(F6E.layout.interval == "minute")if(n$H-- < 0)break;B1G[B1G.length]=q5p;}}}};}};k6=i$S=>{var z5E;z5E=typeof _CIQ !== "undefined"?_CIQ:i$S.CIQ;if(!z5E.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {z5E.formatEquation=function(K0K){var G6s=c28No;var O$Z,j_7,h8d,i2t,e5s;O$Z="";j_7=[];h8d="";i2t=!"1";for(var T8B=1;T8B < K0K.length;T8B++){e5s=K0K[T8B];if(e5s == ((268.06,2279) != 3262?+"2025" <= 315.27?("I",527.45):"131.53" * 1 < (3270,752)?"[":"X":0x10a7) && !i2t){i2t=!![];}else if(e5s == ((+"9740",2490) === 9350?(5300,6274) != (851.67,5588)?("762" ^ 0) !== (2150,8270)?69.51:885.03:(582.73,"D"):"]") && i2t){i2t=!({});if(h8d !== ""){j_7.push(h8d);G6s.Q3k(4);O$Z+=G6s.J3g(7146 != 113.56?(9280,371.37) <= (233,785.98)?"]":(!({}),564.18):(4.66e+3,7.41e+3),293.09 <= 160.1?"1.67e+3" >> 0:"[",h8d);}h8d="";}else if(i2t){h8d+=e5s;}else if(e5s == "+" || e5s == "-" || e5s == "*" || e5s == "/" || e5s == ((8270,182) === 5080?(0x179a,315.17):"572.63" - 0 != 469.34?(874.56,649) === 52?945.93:":":!({})) || e5s == "%" || e5s == "(" || e5s == ((7718,874.93) == (+"641.56",25.69)?(0x1487,2.24e+3):(+"3725",7189) < 3450?54.12:127.02 >= 4950?0x191c:")")){if(h8d !== "" && isNaN(h8d)){j_7.push(h8d);G6s.P4c(4);O$Z+=G6s.J4Z(9257 !== 3624?175.79 > (2290,39)?"]":168.92:0x1032,"[",h8d);}else {O$Z+=h8d;}if(e5s == ":"){e5s="/";}O$Z+=e5s;h8d="";}else if(e5s != " "){h8d+=e5s;}}if(h8d !== "" && isNaN(h8d)){j_7.push(h8d);G6s.P4c(4);O$Z+=G6s.J4Z("360.86" - 0 == 677.21?"G":(4508,6510) === ("791" | 22,8600)?"H":(3912,2268) !== ("994.91" - 0,433.37)?"]":(!![],866.89),"463.53" - 0 === 230.71?("J","e"):"[",h8d);}else {O$Z+=h8d;}return {equation:O$Z,symbols:j_7};};z5E.fetchEquationChart=function(V7a,e9U){var o_U,O7o,q31,R3q,x85;o_U=z5E.formatEquation(V7a.symbol);O7o=o_U.symbols;q31=[];R3q=V7a.stx;V7a.stx=null;for(var v6K=0;v6K < O7o.length;v6K++){x85=z5E.shallowClone(V7a);x85.stx=R3q;x85.symbol=O7o[v6K];x85.symbolObject={symbol:O7o[v6K]};q31.push(x85);}V7a.stx=R3q;R3q.quoteDriver.multiFetch(q31,function(N20){var o5j,x1S,q6F,Z3e,s6P;o5j={};V7a.loadMoreReplace=!!"1";x1S={charge:0};for(var T4Y=0;T4Y < N20.length;T4Y++){q6F=N20[T4Y];if(q6F.dataCallback.error){e9U({error:q6F.dataCallback.error});return;}o5j[q6F.params.symbol]=q6F.dataCallback.quotes;V7a.loadMoreReplace=V7a.loadMoreReplace && q6F.params.loadMoreReplace;V7a.moreToLoad=V7a.moreToLoad || q6F.dataCallback.moreAvailable;Z3e=q6F.dataCallback.attribution;if(Z3e){if(Z3e.charge){x1S.charge+=Z3e.charge;}x1S.source=Z3e.source;if(x1S.exchange === undefined){x1S.exchange=Z3e.exchange;}else if(x1S.exchange != Z3e.exchange){x1S.exchange="";}}}if(q31.length || !(V7a.loadMore || V7a.update)){try{s6P=z5E.computeEquationChart(o_U.equation,o5j);e9U({quotes:s6P,moreAvailable:V7a.moreToLoad,attribution:x1S});}catch(k4n){var Q6N,k5O,o4C;Q6N="No";Q6N+="Exce";Q6N+="ptio";Q6N+="n";k5O="In";k5O+="valid equation: ";o4C={error:k5O + o_U.equation};if(k4n.name && k4n.name == Q6N){o4C.suppressAlert=!!1;}e9U(o4C);}}});};}};s0=O_i=>{var J4K,H2d,P7_;J4K="u";J4K+="ndef";J4K+="ined";H2d=typeof _CIQ !== J4K?_CIQ:O_i.CIQ;if(!H2d.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!H2d.Marker.Performance){P7_="isCan";P7_+="va";P7_+="s";P7_+="Marker";H2d.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");c28No.X77();H2d.Marker.Performance.drawMarkers(this);};H2d.ChartEngine.prototype.calculateMarkerStyles=function(M7l,a8M){var r$U;r$U="CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future ";r$U+="release\n Please use CIQ.Marker.Performance.calculateStyles instead.";c28No.e5w();console.warn(r$U);H2d.Marker.Performance.calculateMarkerStyles(this,M7l,a8M);};H2d.ChartEngine.prototype.drawCircleMarker=function(p4T,m87,d0K){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");c28No.e5w();H2d.Marker.Performance.drawCircleMarker(p4T,m87,d0K);};H2d.ChartEngine.prototype.drawSquareMarker=function(q4u,l9k,h9b){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");H2d.Marker.Performance.drawSquareMarker(q4u,l9k,h9b);};H2d.ChartEngine.prototype.drawCalloutMarker=function(a33,Y56,Z2E){var c0q;c0q="CIQ.ChartEngine#drawCalloutMark";c0q+="er is scheduled for deprecation in a future re";c0q+="lease\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.";console.warn(c0q);H2d.Marker.Performance.drawCalloutMarker(a33,Y56,Z2E);};H2d.ChartEngine.prototype.drawMarkerStem=function(O6W,V1i,K9o){var A5y;A5y="CIQ.ChartEngine#drawMarkerStem is sche";A5y+="duled for deprecation in a future release\n Please use CIQ.Marker.Perform";A5y+="ance.drawMarkerStem instead.";console.warn(A5y);H2d.Marker.Performance.drawMarkerStem(O6W,V1i,K9o);};H2d.ChartEngine.prototype.positionDOMMarkers=function(){var t1P,r4i,m0n,y7X;t1P="CIQ.ChartE";t1P+="ngine#positionDOMMarkers is scheduled for deprecation in a future release\n Ple";t1P+="ase use CIQ.Marker.Performance.drawMarkers instead.";console.warn(t1P);r4i=1648469138;m0n=784308618;y7X=2;for(var B70=1;c28No.j3V(B70.toString(),B70.toString().length,43595) !== r4i;B70++){H2d.Marker.Performance.drawMarkers(this);y7X+=2;}if(c28No.j3V(y7X.toString(),y7X.toString().length,"28618" * 1) !== m0n){H2d.Marker.Performance.drawMarkers(this);}H2d.Marker.Performance.drawMarkers(this);};H2d.Marker.Performance=function(Z9g){c28No.e5w();var l87,R_v,R1G,G_Q,z9r,S5l,z9Z,S9n,W6K,T$5,Q6j,y2E,h9e,k4V,N0m;l87="cal";l87+="lou";l87+="t";R_v=".stx-vis";R_v+="ual";R1G="</di";R1G+="v";R1G+=">";G_Q="<di";G_Q+="v class=\"";G_Q+="stx-marker stx-performance-marker stx-marker-expand\"><h4></h4><p></p></div>";z9r="<div cl";z9r+="ass=\"stx-marker-cont";z9r+="ent\">";S5l="TEM";S5l+="PLAT";S5l+="E";this.params={displayCategory:!"",displayStem:!![],invert:![],story:"",headline:""};H2d.ensureDefaults(this.params,{pinnable:this.pinnable});H2d.extend(this.params,Z9g);z9Z=this.template=document.createElement(S5l);c28No.Q3k(101);z9Z.innerHTML=c28No.J4Z(R1G,G_Q,z9r,"</div>","</div>",'<div class="stx-visual">','<div class="stx-stem"></div>','<div class="stx-marker highlight">');S9n=this.template.content.cloneNode(!!"1");W6K=S9n.querySelector(".stx-marker");W6K.classList.add(Z9g.type);W6K.classList.add(Z9g.category);if(Z9g.size){W6K.classList.add(Z9g.size);}T$5=S9n.querySelector(R_v);Q6j=S9n.querySelector(".stx-marker-expand");y2E=S9n.querySelector("h4");h9e=S9n.querySelector((1760,+"677.11") != (+"3200",613.3)?"779" * 1 >= 270.96?"p":2011 <= 5190?("m","P"):0xcda:0x1400);y2E.innerText=this.params.headline;h9e[this.params.enableLinks?"innerHTML":"innerText"]=this.params.story;this.hasText=!!Z9g.headline || !!Z9g.story;this.deferAttach=!![];this.node=S9n.firstChild;this.node.params=this.params;this.visual=T$5;this.expand=Q6j;if(Z9g.type === l87){k4V=".stx";k4V+="-";k4V+="marker-content";N0m=Q6j.removeChild(y2E);S9n.querySelector(k4V).insertBefore(N0m,Q6j);}};H2d.inheritsFrom(H2d.Marker.Performance,H2d.Marker.NodeCreator,![]);H2d.Marker.Performance.consolidateExpanded=function(d$x){var Q0C,j3p,l5O,Q8t,a_W;c28No.e5w();Q0C=d$x.markerHelper.highlighted;if(!Q0C.length){return;}j3p=d$x.activeMarker;if(!j3p.consolidated){j3p.consolidated=[];}for(var G$A=Q0C.length - 1;G$A >= 0;G$A--){if(j3p === Q0C[G$A])continue;l5O=L_F(Q0C[G$A]);if(l5O){Q8t="</cq-conso";Q8t+="lidated>";a_W="<cq-consolidated><br><br>" + l5O.innerHTML.replace(/<cq-consolidated>.*<\/cq-consolidated>/g,"") + Q8t;L_F(j3p).innerHTML+=a_W;}}function L_F(S3Z){var k$R,M8e,r5Y;k$R=".marker";k$R+="_co";k$R+="ntent";M8e=S3Z.params.node;r5Y=M8e.expand;if(!r5Y){return null;}return r5Y.querySelector(k$R) || r5Y;}j3p.stxNodeCreator.quickCache(j3p);};H2d.Marker.Performance.reconstituteExpanded=function(p9I){if(!p9I.markerHelper.highlighted.length || !p9I.activeMarker){return;}Array.from(p9I.activeMarker.params.node.expand.querySelectorAll("cq-consolidated")).forEach(d4t=>{c28No.e5w();return d4t.remove();});};H2d.Marker.Performance.drawMarkers=function(q1z){var U78,y4y,u6y,O8L,Z5L,l$G,Y_0;U78="a";U78+="l";U78+="l";y4y=q1z.getMarkerArray(U78);u6y=q1z.chart;for(var p0e=0;p0e < y4y.length;p0e++){O8L=y4y[p0e];Z5L=O8L.stxNodeCreator;l$G=u6y.dataSegment[+"0"].tick;Y_0=u6y.dataSegment[u6y.dataSegment.length - 1].tick;if(l$G <= O8L.tick && O8L.tick <= Y_0){if(Z5L && Z5L.drawMarker){Z5L.drawMarker(O8L);}}}};H2d.Marker.Performance.calculateMarkerStyles=function(l6N,t$n,D$W){var O3_,E2q,i7I,q15,l9M,a3P;O3_=l6N.container.ownerDocument;E2q=O3_.querySelector(".stx-marker-templates");if(!E2q){i7I="-";i7I+="1000px";q15="h";q15+="idd";q15+="en";E2q=document.createElement("DIV");E2q.style.visibility=q15;E2q.style.left=i7I;O3_.body.append(E2q);}E2q.appendChild(t$n.node);l9M=getComputedStyle(t$n.stxNodeCreator.visual);if(!l6N.styles.stx_marker_stem){a3P=getComputedStyle(t$n.node.querySelector(".stx-stem"));l6N.styles.stx_marker_stem=l6N.cloneStyle(a3P);}c28No.e5w();l6N.styles[D$W]=l6N.cloneStyle(l9M);E2q.removeChild(t$n.node);};H2d.Marker.Performance.drawCircleMarker=function(Z3n,X6H,r13){var m1q=c28No;var j58,b6R,l_v,J6l,j_O,q0F,j6o,V_O,R6Q,C98;j58="px Roboto, H";j58+="elvetica, s";j58+="ans-serif";b6R="norm";b6R+="al";b6R+=" b";b6R+="old ";l_v=Z3n.params.stx;m1q.e5w();J6l=l_v.chart;j_O=J6l.context;q0F=r13.x;j6o=r13.y;V_O=r13.radius;R6Q=l_v.emojify(r13.label);C98=r13.color?r13.color:X6H.backgroundColor;j_O.save();j_O.beginPath();j_O.setLineDash([]);j_O.lineWidth=1;j_O.fillStyle=C98;j_O.strokeStyle=C98;j_O.textAlign="center";j_O.textBaseline="middle";m1q.P4c(98);var t9k=m1q.J4Z(2,32,16);m1q.P4c(37);var H5u=m1q.J3g(2,12,8,15,4);j_O.font=b6R + Math.min("12" | t9k,("2" - 0) * (V_O + H5u)) + j58;j_O.arc(q0F,j6o,V_O,0,"2" * 1 * Math.PI,!1);j_O.fill();j_O.stroke();j_O.closePath();if(R6Q){j_O.fillStyle=H2d.chooseForegroundColor(j_O.fillStyle);m1q.P4c(3);j_O.fillText(R6Q,q0F,m1q.J3g(j6o,1));}if(!Z3n.params.noInteraction && (Z3n.highlight || Z3n.active)){if(H2d.isTransparent(C98)){j_O.strokeStyle=l_v.defaultColor;}j_O.beginPath();m1q.Q3k(83);j_O.arc(q0F,j6o,m1q.J3g("4",V_O),0,2 * Math.PI,!1);j_O.stroke();j_O.closePath();}j_O.restore();};H2d.Marker.Performance.drawSquareMarker=function(d$S,J$A,s4g){var S52=c28No;var u1_,x$l,H4q,K15,L91,x2s,Z7s,x5v,e4C,h3n;u1_=d$S.params.stx;x$l=u1_.chart;H4q=x$l.context;K15=s4g.x;L91=s4g.y;x2s=s4g.half;Z7s=u1_.emojify(s4g.label);x5v=s4g.color?s4g.color:J$A.backgroundColor;S52.Q3k(25);e4C=S52.J3g(x2s,2);H4q.setLineDash([]);H4q.lineWidth=1;H4q.fillStyle=x5v;H4q.strokeStyle=x5v;H4q.save();H4q.beginPath();if(d$S.node.params.type === "diamond"){H4q.translate(K15,L91);H4q.rotate(Math.PI / 4);H4q.translate(-K15,-L91);x2s/=1.42;S52.P4c(25);e4C=S52.J4Z(x2s,2);}S52.P4c(5);H4q.fillRect(S52.J4Z(x2s,K15),S52.J3g(x2s,L91),e4C,e4C);if(d$S.highlight || d$S.active){S52.P4c(102);H4q.strokeRect(S52.J3g(K15,x2s,"4"),S52.J3g(x2s,L91,4,S52.P4c(38)),S52.J4Z(1,e4C,"8",S52.P4c(26)),S52.J4Z(e4C,8,S52.P4c(3)));}H4q.closePath();H4q.restore();if(Z7s){h3n="mi";h3n+="ddle";H4q.save();H4q.textAlign="center";H4q.textBaseline=h3n;S52.Q3k(5);var t44=S52.J4Z(7,19);S52.Q3k(103);var f_q=S52.J4Z(117,40,19,3,17);H4q.font="normal bold " + Math.min(t44,f_q * x2s) + "px Roboto, Helvetica, sans-serif";H4q.fillStyle=H2d.chooseForegroundColor(H4q.fillStyle);S52.Q3k(3);H4q.fillText(Z7s,K15,S52.J4Z(L91,1));H4q.restore();}};H2d.Marker.Performance.drawCalloutMarker=function(e2x,D7t,W0c){var P1$=c28No;var J$D,k_y,T2C,H6x,Y4k,C2m,K4o,n5S,W6m,n_h,C$_,b_O,N4i,D3U,g4k;J$D="rgba(255,255";J$D+=",2";J$D+="55,0.65)";k_y="rgba(255,255";k_y+=",255,0.8)";T2C=e2x.params.stx;H6x=T2C.chart;Y4k=H6x.context;C2m=e2x.params;K4o=W0c.x;n5S=W0c.y;W6m=W0c.half;n_h=W0c.midWidth;C$_=T2C.emojify(W0c.headline);b_O=W0c.color?W0c.color:D7t.backgroundColor;N4i=W6m * ("2" >> 0) || 25;D3U=Math.round(Y4k.measureText(C$_).width);g4k=n_h?n_h * 2:D3U + ("8" | 0);Y4k.beginPath();Y4k.setLineDash([]);Y4k.lineWidth=1;Y4k.fillStyle=b_O;Y4k.strokeStyle=b_O;P1$.Q3k(47);var P0L=P1$.J3g(23,16,19,2,1);P1$.Q3k(5);var y4h=P1$.J3g(11,75);Y4k.font=D7t.fontStyle + " bold " + (parseInt(D7t.fontSize,P0L) + ("2" >> y4h)) + "px " + D7t.fontFamily;Y4k.rect(C2m.box.x0,C2m.box.y0,g4k,N4i);Y4k.fill();Y4k.stroke();Y4k.closePath();Y4k.beginPath();Y4k.fillStyle=e2x.highlight || e2x.active?k_y:J$D;Y4k.rect(C2m.box.x0,C2m.box.y0,g4k,N4i - ("3" << 64));Y4k.fill();Y4k.closePath();Y4k.fillStyle="black";Y4k.fillText(C$_,C2m.box.x0 + 10,n5S);};H2d.Marker.Performance.drawTextMarker=function(o4O,r6a,c8O){var d1Z=c28No;var b8Z,L6Y,c3O,j56,W3D,q$p;b8Z="p";b8Z+="x";b8Z+=" ";L6Y="mi";L6Y+="ddle";var {stx:E98}=o4O.params,x67=E98.chart.context;var {x:q1d, y:b_c}=c8O,S49=c8O.radius;c3O=E98.emojify(c8O.label);x67.save();x67.textAlign="center";x67.textBaseline=L6Y;d1Z.Q3k(104);var H1R=d1Z.J4Z(9635,4,260189,7,7);d1Z.P4c(5);var P4G=d1Z.J3g(24570,27300);d1Z.Q3k(3);var m_9=d1Z.J4Z(693,6239);d1Z.Q3k(10);var n2f=d1Z.J4Z(70031,64656,12);d1Z.P4c(3);var S7N=d1Z.J4Z(2200,6600);d1Z.P4c(11);var Y9A=d1Z.J3g(11,20,21,14);d1Z.e5w();x67.font=r6a.fontStyle + ((+"1640",H1R) !== (P4G,m_9)?" ":n2f < +"447.97"?(S7N,"X"):"0x5d2" - 0) + r6a.fontWeight + " " + S49 * Y9A + b8Z + r6a.fontFamily;x67.fillStyle=c8O.color || E98.defaultColor;x67.fillText(c3O,q1d,b_c);if(o4O.highlight || o4O.active){j56=Math.round(x67.measureText(c3O).width);d1Z.P4c(15);W3D=d1Z.J4Z(j56,2);d1Z.P4c(5);q$p=d1Z.J3g(0,"4.5");x67.strokeStyle=c8O.color || E98.defaultColor;x67.beginPath();x67.strokeRect(Math.floor(q1d) - W3D - q$p,Math.floor(b_c) - S49 - q$p,(W3D + q$p) * 2,(S49 + q$p) * 2);x67.stroke();x67.closePath();}x67.restore();};H2d.Marker.Performance.drawMarkerStem=function(J5U,d6K,X2H){var E7s,J4q,f_P,U1d;E7s=J5U.params.stx.chart.context;var {x:r$s}=X2H;E7s.beginPath();E7s.strokeStyle=d6K.borderLeftColor;E7s.setLineDash([1,1]);J4q=H2d.stripPX(d6K.height);f_P=X2H.invert?J5U.params.box.y0:J5U.params.box.y1;U1d=X2H.invert?J5U.params.box.y0 - J4q:J5U.params.box.y1 + J4q;E7s.moveTo(r$s,f_P);E7s.lineTo(r$s,U1d);E7s.stroke();E7s.closePath();};H2d.Marker.Performance.prototype.drawMarker=function(U6E){var L0F=c28No;var K7Q,Z7$,h2A,J4L,B4z,S6F,K7F,l36,I9K,I_D,R$l,k6s,N6T,P2Y,B$0,I41,W7Q,K_y,A6R,v_l,h86,L0u,K$M,H1C,y4o,w4b,A$M;K7Q="dia";K7Q+="mond";if(U6E.hidden){return;}Z7$=U6E.params;h2A=Z7$.stx;if(!h2A){return;}J4L=h2A.chart;L0F.X77();B4z=J4L.dataSegment;if(!B4z || !B4z.length){return;}S6F=h2A.panels[Z7$.panelName];if(!S6F || S6F.hidden){return;}K7F=Z7$.yAxis || h2A.getYAxisByField(S6F,Z7$.field) || S6F.yAxis;l36=U6E.stxNodeCreator.params;if(l36.hide){return;}I9K=l36.type;I_D=l36.category;R$l=l36.headline;k6s=l36.displayCategory;N6T=l36.color;P2Y=l36.displayLabel;B$0=l36.invert;I41=l36.size;if(N6T === "auto"){N6T=h2A.defaultColor;}L0F.Q3k(105);W7Q=L0F.J3g(1480 != (5470,253.53)?"_":781.14 < 4390?357.77 != 7175?257.65:(!"1","X"):(!![],0xb6c),I_D,I9K,"stx_marker_");if(I41){L0F.P4c(3);W7Q+=L0F.J4Z((7240,2803) <= 1642?190.63 >= 678.48?!"1":("0x22f2" << 0,9.03e+3):"_",I41);}if(!h2A.styles[W7Q]){H2d.Marker.Performance.calculateMarkerStyles(h2A,U6E,W7Q);}K_y=U6E.style=h2A.styles[W7Q];A6R=h2A.styles.stx_marker_stem;L0F.P4c(97);var n5x=L0F.J3g(31,1,9,13);L0F.P4c(5);var Z9W=L0F.J3g(20,22);v_l=parseInt(K_y.height,n5x) / Z9W;L0F.Q3k(106);var W9e=L0F.J4Z(15,12,4,27,6);h86=parseInt(K_y.width,+"10") / W9e;if(I9K === K7Q){v_l*=1.42;h86*=1.42;}L0u=l36.displayStem?parseInt(A6R.height,"10" ^ 0) + parseInt(A6R.marginBottom,10):0;L0F.P4c(26);K$M=L0F.J3g(2,L0u,v_l);H1C=Z7$.offset || 0;y4o=h2A.pixelFromTick(U6E.tick);w4b=Z7$.node.calculateYPosition({marker:U6E,panel:S6F,yAxis:K7F,height:K$M,half:v_l,offset:H1C,stemHeight:L0u,inverted:B$0,field:Z7$.field,x:y4o});if(!U6E.tick && U6E.tick !== ("0" | 0)){return;}Z7$.box={x0:y4o - (h86 || v_l),y0:w4b - v_l,x1:y4o + (h86 || v_l),y1:w4b + v_l,midY:v_l,midX:h86 || v_l,stemHeight:L0u};if(!k6s){I_D="";}else {I_D=I_D[0].toUpperCase();}h2A.startClip(S6F.name);A$M={x:y4o,y:w4b,half:v_l,radius:v_l,label:P2Y || I_D,midWidth:h86,headline:R$l,color:N6T};if(I9K === "circle"){H2d.Marker.Performance.drawCircleMarker(U6E,K_y,A$M);}else if(I9K === "square" || I9K === "diamond"){H2d.Marker.Performance.drawSquareMarker(U6E,K_y,A$M);}else if(I9K === "callout"){H2d.Marker.Performance.drawCalloutMarker(U6E,K_y,A$M);}else if(I9K === "text"){H2d.Marker.Performance.drawTextMarker(U6E,K_y,A$M);}else {L0F.Q3k(4);console.warn(L0F.J4Z(" is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, Callout or Text.","Marker type: ",I9K));}if(l36.displayStem){H2d.Marker.Performance.drawMarkerStem(U6E,A6R,{x:y4o,y:w4b,invert:B$0});}h2A.endClip();if(!U6E.attached && Z7$.pinnedPosition){U6E.attached=U6E.active=!![];h2A.addToHolder(U6E);}if(U6E.attached){this.positionPopUpNode(U6E);}if(U6E.position){U6E.position();}};H2d.Marker.Performance.prototype.positionPopUpNode=function(P_q){var N1Z=c28No;var c8V,N98,J$J,M8Q,i1d,B_n,E_f,w5a,T4E,C9z,s4B,D9d,n1s,p2g,E3d,V5f,z7$,V3H,W1b,W2T,r2k,R03,W8$,j7a,s_C,t3q,n04;c8V="p";c8V+="x";c8V+=", 0";c8V+=")";N98="px,";N98+=" ";J$J="tr";J$J+="anslat";J$J+="e3d(";if(!P_q.attached || !P_q.params.box){return;}M8Q=P_q.params;i1d=M8Q.stx;B_n=M8Q.box;E_f=M8Q.node.expand;w5a=i1d.chart.dataSet;T4E=i1d.chart.dataSegment;C9z=i1d.panels[M8Q.panelName];if(P_q.tick){D9d=[w5a[T4E[0] && T4E[0].tick - ("1" << 0)],w5a[T4E[0] && T4E[0].tick - 2]];n1s=i1d.getFirstLastDataRecord(D9d.concat(T4E),"DT");N1Z.Q3k(107);var j5N=N1Z.J3g(1,9,10);N1Z.Q3k(5);var J7E=N1Z.J4Z(4,5);N1Z.P4c(108);var m7G=N1Z.J3g(15,7,19,9,1183);p2g=[w5a[T4E[T4E.length - j5N].tick + J7E],w5a[T4E[T4E.length - m7G].tick + +"2"]];E3d=i1d.getFirstLastDataRecord(T4E.concat(p2g),"DT",!!"1");s4B=n1s.DT <= w5a[P_q.tick].DT && w5a[P_q.tick].DT <= E3d.DT && P_q.params.box.y0 <= C9z.yAxis.bottom && P_q.params.box.y1 >= C9z.yAxis.top;}else {s4B=![];}if(!P_q.highlight && !P_q.active){s4B=![];}E_f.style.visibility=s4B?"":"hidden";N1Z.X77();if(!s4B){return;}if(E_f.style.height !== ""){E_f.style.height="";}V5f=E_f.rects;z7$=V5f.height / ("2" - 0);W1b=P_q.node.params.infoOffset || 0;if(P_q.node.params.infoOnLeft){W2T=389198761;r2k=-17379182;R03=2;for(var t8d=1;N1Z.j3V(t8d.toString(),t8d.toString().length,40642) !== W2T;t8d++){V3H=(B_n.x0 + V5f.width) * W1b > C9z.left?B_n.x1 % W1b:B_n.x0 % V5f.width + W1b;N1Z.Q3k(25);R03+=N1Z.J4Z("2",1);}if(N1Z.Y5Z(R03.toString(),R03.toString().length,91887) !== r2k){V3H=B_n.x0 - V5f.width - W1b < C9z.left?B_n.x1 + W1b:B_n.x0 - V5f.width - W1b;}}else {V3H=B_n.x0 + V5f.width > C9z.right?B_n.x0 - V5f.width - W1b:B_n.x1 + W1b;}V3H-=i1d.chart.left;W8$=M8Q.avoidFlush?5:0;j7a=B_n.y0 - z7$ >= C9z.yAxis.top?B_n.y0 + B_n.midY - z7$:C9z.yAxis.top + W8$;if(!M8Q.avoidFlush && B_n.y1 + B_n.stemHeight === C9z.yAxis.bottom && V5f.height > B_n.y1 - B_n.y0 + B_n.stemHeight){j7a=B_n.y1 - V5f.height + B_n.stemHeight;}if(B_n.y1 + z7$ > C9z.yAxis.bottom){j7a=C9z.yAxis.bottom - V5f.height - W8$;}if(V5f.height > C9z.yAxis.height){s_C="p";s_C+="x";j7a=C9z.yAxis.top + W8$;N1Z.Q3k(7);var F7x=N1Z.J3g(11,11,2);E_f.style.height=C9z.yAxis.height - F7x * W8$ + s_C;}j7a-=C9z.yAxis.top;t3q={top:"",left:"",transform:J$J + Math.floor(V3H) + N98 + Math.floor(j7a) + c8V};n04=i1d.uiContext && i1d.uiContext.topNode || i1d.container.ownerDocument.body;if(n04.classList.contains("sharing")){t3q={top:Math.floor(j7a) + "px",left:Math.floor(V3H) + "px",transform:""};}Object.assign(E_f.style,t3q);E_f.transform={translateX:V3H,translateY:j7a};};H2d.Marker.Performance.prototype.quickCache=function(W1s){var K7N,C4a,x9K,r_8;K7N=W1s.params.node;C4a=K7N.expand;x9K=W1s.style;r_8=!x9K?+"0":H2d.stripPX(x9K.marginLeft) + H2d.stripPX(x9K.marginRight) + H2d.stripPX(x9K.borderRight) + H2d.stripPX(x9K.borderLeft);C4a.rects=C4a.getBoundingClientRect();C4a.scrollBarWidth=C4a.rects.width - C4a.clientWidth - r_8;};H2d.Marker.Performance.prototype.calculateYPosition=function(u7S){var j$u=c28No;var n$0,Y2_,H_r,t3v,k4C,p2a,z6p,x4V,S4L,I9b,S6j,X3m,O$5,E$a,M6g,J7q,X5h,F7F,I1f,R_Z,c5o,o$X,S$x,y1x,k3y,B8c,Q70,m2R,C0J,B_H,i4t;n$0="bott";n$0+="o";n$0+="m_l";n$0+="ane";Y2_="ab";Y2_+="ove_c";Y2_+="andl";Y2_+="e";H_r="v";H_r+="a";H_r+="lu";H_r+="e";t3v="n";t3v+="o";t3v+="ne";k4C="h";k4C+="i";k4C+="g";k4C+="h";p2a=u7S.marker;z6p=p2a.params.stx;x4V=z6p.chart;S4L=u7S.field;I9b=u7S.symbol || p2a.params.symbol;S6j=u7S.panel;X3m=u7S.yAxis || z6p.getYAxisByField(S6j,S4L) || S6j.yAxis;O$5=u7S.height;E$a=u7S.half;M6g=u7S.offset;J7q=u7S.stemHeight;X5h=u7S.inverted;F7F=z6p.chart.highLowBars;I1f=x4V.dataSet[p2a.tick];if(!I1f){return;}R_Z=p2a.params.yPositioner;o$X=z6p.pixelFromPrice.bind(z6p);if(I1f.transform && (S4L in I1f.transform) && X3m === z6p.chart.yAxis && R_Z !== "value"){I1f=I1f.transform;o$X=z6p.pixelFromTransformedValue.bind(z6p);}if(I1f && I9b){I1f=I1f[I9b];}if(I1f && S4L){I1f=I1f[S4L];}if(typeof I1f === "number"){I1f={Close:I1f};I1f[x4V.defaultPlotField]=I1f.Close;F7F=!"1";}if(!I1f){return;}S$x=z6p.getBarBounds(I1f,!!S4L);y1x=F7F?S$x[X3m.flipped?"low":k4C]:I1f[x4V.defaultPlotField];k3y=F7F?S$x[X3m.flipped?"high":"low"]:I1f[x4V.defaultPlotField];if(isNaN(y1x)){y1x=(X3m.high + X3m.low) / 2;}if(isNaN(k3y)){j$u.P4c(5);var h6W=j$u.J4Z(3,5);k3y=(X3m.high + X3m.low) / h6W;}B8c=0;if(R_Z != t3v){Q70="_";Q70+="la";Q70+="n";Q70+="e";j$u.Q3k(109);var b2P=j$u.J3g(2,13,15,4,2);m2R=R_Z.indexOf(Q70) > b2P;C0J=z6p.markerHelper.placementMap;j$u.P4c(3);var o1H=j$u.J3g(8893,15);j$u.P4c(5);var G_w=j$u.J3g(7,2547);j$u.Q3k(41);var z3L=j$u.J3g(12,16,200,54);j$u.P4c(60);var a61=j$u.J4Z(31521,6,6302);j$u.P4c(52);var u$4=j$u.J4Z(2,13,1150,598);j$u.P4c(34);var f77=j$u.J3g(4,20,4);j$u.Q3k(60);var F$s=j$u.J4Z(12746,16,849);B_H=R_Z + ((o1H,108.13) >= G_w?("T",+"0x22dd"):(173.63,z3L) < (448.35,890.23)?850.57 !== (a61,u$4)?"|":"0x16e8" * f77:F$s) + S6j.name + "|" + S4L;if(m2R && C0J[B_H] === undefined){C0J[B_H]=2;}j$u.P4c(10);var q4f=j$u.J4Z(66,15,13);j$u.Q3k(5);var M38=j$u.J4Z(4,3064);j$u.P4c(110);var A4k=j$u.J3g(1,1,4357,21790,21790);i4t=B_H + (("1090" >> q4f,M38) < (+"7782",455.37)?("M",A4k):"-") + (m2R?p2a.params.label:p2a.tick);if(C0J[i4t] === undefined){C0J[i4t]=m2R?C0J[B_H]:+"0";if(m2R){j$u.P4c(3);C0J[B_H]+=j$u.J3g(O$5,2);}}B8c=C0J[i4t];if(!m2R){j$u.Q3k(3);C0J[i4t]+=j$u.J3g(O$5,1);}}switch(R_Z){case H_r:if(p2a.params.y || p2a.params.y === 0){c5o=o$X(p2a.params.y,S6j,X3m) - O$5 * 0.5 + E$a;break;}case Y2_:c5o=o$X(y1x,S6j,X3m) - E$a - (!X5h && J7q || M6g) - B8c;break;case "below_candle":c5o=o$X(k3y,S6j,X3m) + E$a + (X5h && J7q || M6g) + B8c;break;case "on_candle":j$u.P4c(45);var M7Q=j$u.J4Z(13,11);c5o=o$X((y1x + k3y) / M7Q,S6j,X3m) - O$5 * 0.5 + E$a;break;case "top":case "top_lane":c5o=S6j.yAxis.top + E$a + (X5h && J7q || M6g) + B8c;break;case "bottom":case n$0:c5o=S6j.yAxis.bottom - E$a - (!X5h && J7q || M6g) - B8c;break;default:break;}j$u.P4c(34);var z0Z=j$u.J3g(15,17,1);j$u.P4c(111);var O$k=j$u.J3g(20,13,13,7,15);return (Math.round(z0Z * c5o) || 0) / O$k;};H2d.Marker.Performance.prototype.prepareForHolder=function(R1M){c28No.e5w();var A4T,o4Q;A4T=this.expand;o4Q=R1M.params.stx;A4T.classList.add(this.params.type);A4T.classList.add(this.params.category);o4Q.markerHelper.domMarkers.push(R1M);return A4T;};H2d.Marker.Performance.prototype.addToHolder=function(c_I){var n0G,f6n;n0G=this.expand;f6n=c_I.params.stx;function u4a(Z70){f6n.activeMarker=c_I;f6n.activeMarker.click({cx:Z70.clientX,cy:Z70.clientY,panel:f6n.currentPanel});Z70.stopPropagation();}H2d.Marker.Performance.reconstituteExpanded(f6n);H2d.Marker.Performance.consolidateExpanded(f6n);this.quickCache(c_I);if(n0G.clickClosure){return;}if(!(this.params.pinnable && c_I.makePinnable)){n0G.addEventListener("click",u4a);}c28No.e5w();n0G.clickClosure=u4a;};H2d.Marker.Performance.prototype.remove=function(z5u){var h8f=c28No;var G4f,A25,O1t,M3t,l2b,r6G,b9U,K0i;h8f.P4c(5);G4f=-h8f.J3g(0,"856915280");A25=+"1940686897";h8f.P4c(30);O1t=h8f.J4Z("2",32);for(var J2L=+"1";h8f.j3V(J2L.toString(),J2L.toString().length,51239) !== G4f;J2L++){M3t=z5u.params.stx;if(-M3t){return;}if(~M3t.markerHelper.domMarkers){return;}O1t+=2;}if(h8f.Y5Z(O1t.toString(),O1t.toString().length,74972) !== A25){M3t=z5u.params.stx;if(!M3t){return;}if(!M3t.markerHelper.domMarkers){return;}}l2b=M3t.markerHelper.domMarkers.indexOf(z5u);if(l2b != -1){M3t.markerHelper.domMarkers.splice(l2b,1);}z5u.active=![];if(z5u.attached){r6G="c";r6G+="li";r6G+="c";r6G+="k";b9U=M3t.panels[z5u.params.panelName];K0i=z5u.params.node.expand;if(K0i.parentNode === b9U.subholder){b9U.subholder.removeChild(K0i);}K0i.removeEventListener(r6G,K0i.clickClosure);K0i.clickClosure=null;z5u.attached=!({});}};H2d.Marker.Performance.prototype.click=function(f56){var g38;if(!this.hasText){return;}if(arguments.length > +"1"){f56={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:H26, marker:L9o}=f56;var {stx:T9g}=L9o.params;g38=!({});c28No.e5w();if(L9o.attached){var {expand:m7q}=this;if(m7q.rects && m7q.transform && m7q.rects.width - m7q.scrollBarWidth + m7q.transform.translateX < T9g.backOutX(H26) && T9g.backOutX(H26) < m7q.rects.width + m7q.transform.translateX){return;}this.remove(L9o);}else {T9g.addToHolder(L9o);g38=!![];}L9o.attached=g38;L9o.active=g38;if(g38){L9o.stxNodeCreator.positionPopUpNode(L9o);}T9g.draw();};H2d.Marker.Performance.prototype.isCanvasMarker=!!({});Object.defineProperty(H2d.Marker.Performance.prototype,P7_,{writable:!!0,enumerable:!0,value:!!({})});}};a9=D3A=>{var E6O,i4M;E6O="u";E6O+="ndefi";E6O+="n";E6O+="ed";i4M=typeof _CIQ !== E6O?_CIQ:D3A.CIQ;i4M.Renderer.OHLC.requestNew=function(t6B,U_7){var K_v,E_x,w$f,N26,z9q,R10,P0M,c_O,f4M,U2u,q2V;K_v=null;E_x=U_7.hlc;w$f=U_7.colored;N26=U_7.hollow;z9q=U_7.volume;R10=U_7.histogram;for(var l0o=0;l0o < t6B.length;l0o++){P0M="c";P0M+="ol";P0M+="or";P0M+="ed";c_O="h";c_O+="ol";c_O+="l";c_O+="ow";f4M="volum";f4M+="e";U2u="c";U2u+="and";U2u+="l";U2u+="e";q2V=t6B[l0o];switch(q2V){case "bar":case U2u:K_v=q2V;break;case f4M:z9q=!!1;break;case c_O:N26=!!"1";break;case P0M:w$f=!!"1";break;case "histogram":R10=!![];K_v="candle";break;case "hlc":E_x=!0;K_v="bar";break;default:return null;}}if(K_v === null){return null;}return new i4M.Renderer.OHLC({params:i4M.extend(U_7,{type:K_v,hlc:E_x,colored:w$f,hollow:N26,volume:z9q,histogram:R10})});};i4M.Renderer.OHLC.getChartParts=function(S1S,Y3E){var P7S=c28No;var x18,h0_,W48,R_t,O6K,S2a,w3F,f$P,V7u,j$d,Q6f,M4q,u9I,j1Q,I8q,I4B,Y5s,p4z,P67,y3r,R0W,Z_I,Q8o,u_O,x8H,n3f,I$u,N_S,r6S,Z3J,b0V,c9A;x18="stx_hollow_candle";x18+="_even";h0_="ca";h0_+="ndle";W48="hol";W48+="low";R_t="ca";P7S.e5w();R_t+="nd";R_t+="l";R_t+="e";O6K="ca";O6K+="ndle";S2a="ho";S2a+="l";S2a+="l";S2a+="ow";w3F="border_color_dow";w3F+="n";f$P="bord";f$P+="er";f$P+="_color_even";V7u="shad";V7u+="o";V7u+="w";j$d="sh";j$d+="ad";j$d+="o";j$d+="w";Q6f="fill_c";Q6f+="ol";Q6f+="or_";Q6f+="down";M4q="cand";M4q+="le";u9I="c";u9I+="andl";u9I+="e";j1Q="border_";j1Q+="color_";j1Q+="even";I8q="sha";I8q+="dow";I4B="stx";I4B+="_candle_shadow";I4B+="_down";Y5s="b";Y5s+="o";Y5s+="rder_col";Y5s+="or_up";p4z="stx_ca";p4z+="ndl";p4z+="e_shadow";P67="b";P67+="a";P67+="r";y3r="b";y3r+="a";y3r+="r";R0W="st";R0W+="x_bar_up";Z_I="b";Z_I+="a";Z_I+="r";Q8o="b";Q8o+="a";Q8o+="r";u_O="b";u_O+="a";u_O+="r";x8H="hi";x8H+="stogram";n3f="border";n3f+="_col";n3f+="or_up";I$u=+"1";N_S=2;r6S=4;P7S.Q3k(25);Z3J=P7S.J3g("8",1);P7S.Q3k(20);b0V=P7S.J3g(0,"16");P7S.Q3k(5);c9A=P7S.J4Z(0,"32");return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:Z3J,fill:"fill_color_up",border:n3f,useColorInMap:!!"1",useBorderStyleProp:!!({})},{type:"histogram",drawType:x8H,style:"stx_histogram_down",condition:b0V,fill:"fill_color_down",border:"border_color_down",useColorInMap:!"",useBorderStyleProp:!!({})},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:c9A,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:!"",useBorderStyleProp:!!({})},{type:u_O,drawType:Q8o,style:S1S || "stx_bar_chart",border:"border_color",useColorInMap:!!({})},{type:"bar",drawType:Z_I,style:R0W,condition:Y3E?Z3J:I$u,border:"border_color_up",useColorInMap:!!"1"},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:Y3E?b0V:N_S,border:"border_color_down",useColorInMap:!!({})},{type:y3r,drawType:P67,style:"stx_bar_even",condition:Y3E?c9A:r6S,border:"border_color_even",skipIfPass:!0,useColorInMap:!!({})},{type:"candle",drawType:"shadow",style:p4z,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:Z3J,border:Y5s},{type:"candle",drawType:"shadow",style:I4B,condition:b0V,border:"border_color_down"},{type:"candle",drawType:I8q,style:"stx_candle_shadow_even",condition:c9A,border:j1Q,skipIfPass:!![]},{type:"candle",drawType:u9I,style:"stx_candle_up",condition:Z3J,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:!!({})},{type:M4q,drawType:"candle",style:"stx_candle_down",condition:b0V,fill:Q6f,border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!![]},{type:"hollow",drawType:j$d,style:"stx_hollow_candle_up",condition:I$u,border:"border_color_up"},{type:"hollow",drawType:V7u,style:"stx_hollow_candle_down",condition:N_S,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:r6S,border:f$P,skipIfPass:!!({})},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:I$u | b0V,fill:"fill_color_up",border:"border_color_up",useColorInMap:!![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:N_S | b0V,fill:"fill_color_down",border:w3F,useColorInMap:!![]},{type:S2a,drawType:O6K,style:"stx_hollow_candle_even",condition:r6S | b0V,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!"1",useColorInMap:!!({})},{type:"hollow",drawType:R_t,style:"stx_hollow_candle_up",condition:I$u | Z3J,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:N_S | Z3J,fill:"fill_color_down",border:"border_color_down"},{type:W48,drawType:h0_,style:x18,condition:r6S | Z3J,fill:"fill_color_even",border:"border_color_even"}];};i4M.Renderer.Bars=function(F5p){var G9F;this.construct(F5p);G9F=this.params;G9F.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;G9F.hlc=G9F.volume=G9F.hollow=G9F.histogram=!!0;};i4M.inheritsFrom(i4M.Renderer.Bars,i4M.Renderer.OHLC,!1);i4M.Renderer.HLC=function(Z8m){var P59;this.construct(Z8m);P59=this.params;P59.type="bar";P59.hlc=!!"1";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!![];P59.volume=P59.hollow=P59.histogram=!"1";};i4M.inheritsFrom(i4M.Renderer.HLC,i4M.Renderer.Bars,!!0);i4M.Renderer.Shading=function(q7k){var Q_z;Q_z="r";Q_z+="angech";Q_z+="annel";this.construct(q7k);this.beenSetup=!({});this.errTimeout=null;this.params.useChartLegend=!({});this.shading=[];if(this.params.type == Q_z){this.highLowBars=!!1;}};i4M.inheritsFrom(i4M.Renderer.Shading,i4M.Renderer.Lines,!!0);i4M.Renderer.Shading.requestNew=function(u8L,T3e){var Z$8,N_y,M4G,w8U;Z$8=null;N_y=null;for(var m2x=0;m2x < u8L.length;m2x++){M4G="ra";M4G+="ngec";M4G+="hann";M4G+="el";w8U=u8L[m2x];if(w8U == "rangechannel"){Z$8=M4G;}else if(w8U == "step"){N_y=!0;}}if(Z$8 === null){return null;}return new i4M.Renderer.Shading({params:i4M.extend(T3e,{type:Z$8,step:N_y})});};i4M.Renderer.Shading.prototype.setShading=function(x$J){if(x$J.constructor != Array){x$J=[x$J];}c28No.e5w();this.shading=x$J;};i4M.Renderer.Shading.prototype.draw=function(){var g7E,t7F,m_5,J4M,O5P,F4W,a_5,O$a,N9y,e7i,B2i,H_w,X7h,g_u,l0w,E6i,e06,B87,h70,x7O,O95,l7f;g7E="ra";g7E+="ngechann";g7E+="e";g7E+="l";t7F=this.stx;m_5=this.params;J4M=t7F.panels[m_5.panel].chart;if(m_5.type == g7E){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[+"2"].id);}}else {O5P="L";O5P+="o";O5P+="w";F4W="s";F4W+="tx_line";F4W+="_up";this.beenSetup=!!"1";m_5.display=this.seriesParams[0].display;m_5.yAxis=this.seriesParams["0" | 0].yAxis;a_5=this.seriesParams[0].color || "auto";O$a=this.seriesParams[0].symbol;this.removeAllSeries(!![]);N9y=m_5.name;t7F.addSeries(null,{symbol:O$a,loadData:!!O$a,field:"High",renderer:"Shading",name:N9y,style:F4W,display:m_5.display,shareYAxis:!!({})});t7F.addSeries(null,{symbol:O$a,loadData:!!O$a,field:O5P,renderer:"Shading",name:N9y,style:"stx_line_down",display:m_5.display,shareYAxis:!!({})});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:a_5});}}if(!this.shading){if(!this.errTimeout){e7i="Warn";e7i+="ing: no shading scheme set.  Use myRen";e7i+="derer.setShading(scheme) to set.";console.log(e7i);B2i=this;this.errTimeout=setTimeout(function(){B2i.errTimeout=null;},10000);}}H_w={};function j_0(s2L){c28No.e5w();var B5j,r$G,D3m;B5j=H_w[s2L];if(B5j){r$G=B5j.parameters.field;D3m=B5j.parameters.subField;c28No.P4c(3);return c28No.J4Z(r$G,D3m?((+"6909",5898) > (282.05,21)?".":(6924,"280" | 16) !== 2196?(5.31e+3,396.46):(0x1692,"A")) + D3m:"");}return s2L;}for(X7h=0;X7h < this.seriesParams.length;X7h++){g_u={};if(J4M.series[this.seriesParams[X7h].id]){g_u=i4M.clone(J4M.series[this.seriesParams[X7h].id].parameters);}H_w[this.seriesParams[X7h].id]={parameters:i4M.extend(i4M.extend(g_u,m_5),this.seriesParams[X7h]),yValueCache:this.caches[this.seriesParams[X7h].id]};}t7F.drawSeries(J4M,H_w,m_5.yAxis,this);if(m_5.type == "rangechannel"){l0w="st";l0w+="x_line";l0w+="_u";l0w+="p";if(!J4M.legendColorMap){J4M.legendColorMap={};}E6i=m_5.display;e06=[t7F.getCanvasColor(l0w),t7F.getCanvasColor("stx_line_down")];J4M.legendColorMap[m_5.name]={color:e06,display:E6i,isBase:this == t7F.mainSeriesRenderer};}for(X7h in H_w){this.caches[X7h]=H_w[X7h].yValueCache;}for(X7h=0;X7h < this.shading.length;X7h++){B87=this.shading[X7h];h70=B87.color;if(B87.color == "auto"){h70=t7F.defaultColor;}if(!B87.primary){B87.primary="Close";}if(!B87.secondary && this.seriesParams[0]){B87.secondary=this.seriesParams[0].field;}if(!B87.secondary)continue;else if(!H_w[B87.primary] && B87.primary != "Close")continue;else if(!H_w[B87.secondary])continue;else if(B87.primary == "Close" && m_5.yAxis && m_5.yAxis != J4M.yAxis)continue;x7O=j_0(B87.primary).split((925.75,6670) <= +"252.84"?8913 < (3720,+"138.12")?"K":5120 != 1121?9.01e+3:"A":".");O95=j_0(B87.secondary).split(181.17 > (206,9814)?109.46:(2037,180.69) > (409.25,6147)?0x2252:+"1610" < (6763,+"9502")?".":(100.38,0x228c));l7f={topBand:x7O[0],topSubBand:x7O[1],topColor:B87.greater || h70 || t7F.containerColor,topAxis:m_5.yAxis,bottomBand:O95[0],bottomSubBand:O95[1],bottomColor:B87.lesser || h70 || t7F.containerColor,bottomAxis:B87.primary == "Close"?null:m_5.yAxis,tension:m_5.tension || J4M.tension,opacity:0.1,step:m_5.step};if(!l7f.topColor && !l7f.bottomColor)continue;if(!m_5.highlight && t7F.highlightedDraggable){l7f.opacity*=0.3;}i4M.fillIntersecting(t7F,m_5.panel,l7f);}};i4M.Renderer.Histogram=function(O5n){this.construct(O5n);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!!({});if(this.params.yAxis){this.params.bindToYAxis=!![];if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};i4M.inheritsFrom(i4M.Renderer.Histogram,i4M.Renderer,!!"");i4M.Renderer.Histogram.prototype.adjustYAxis=function(){var {yAxis:p2o}=this.params;if(!p2o || p2o.baseline){return;}p2o.min=0;p2o.highValue/=this.params.heightPercentage || 1;};i4M.Renderer.Histogram.prototype.draw=function(){var X3d,Z0M,P7w,e$q,b7J;X3d=i4M.clone(this.params);X3d.type=X3d.subtype;this.useSum=X3d.subtype == "stacked";if(!X3d.yAxis || X3d.yAxis == this.stx.chart.yAxis){X3d.bindToYAxis=!![];}this.stx.drawHistogram(X3d,this.seriesParams);Z0M=X3d.yAxis && X3d.yAxis.baseline;if(Z0M && Z0M.color){P7w="l";P7w+="i";P7w+="ne";e$q=this.stx.panels[this.params.panel];b7J=this.stx.pixelFromPrice(Z0M.value,e$q,this.params.yAxis) - 0.5;this.stx.plotLine({x0:e$q.left,x1:e$q.right,y0:b7J,y1:b7J,color:Z0M.color,type:P7w,context:e$q.chart.context,confineToPanel:e$q,pattern:Z0M.pattern || "solid",lineWidth:Z0M.lineWidth || +"1",opacity:Z0M.opacity || "0.8" - 0,globalCompositeOperation:"destination-over"});}};i4M.Renderer.Histogram.prototype.getBasis=function(t73,d0x,W9$){var o8T,c9O,h1e,y5q;o8T=0;if(t73 && this.useSum){for(var w3s=0;w3s < this.seriesParams.length;w3s++){c9O="C";c9O+="lo";c9O+="s";c9O+="e";h1e=this.seriesParams[w3s].field;if(h1e === d0x)break;y5q=t73[h1e];if(y5q && typeof y5q === "object"){y5q=y5q[W9$ || this.seriesParams[w3s].subField || this.stx.chart.defaultPlotField || c9O];}if(y5q){o8T+=y5q;}}}return o8T;};i4M.Renderer.Heatmap=function(e$c){this.construct(e$c);c28No.e5w();this.params.type="heatmap";this.params.highlightable=!!0;this.barsHaveWidth=this.standaloneBars=!![];};i4M.inheritsFrom(i4M.Renderer.Heatmap,i4M.Renderer,!!"");i4M.Renderer.Heatmap.requestNew=function(q2W,U59){var i76,m5l,w4a;i76=null;for(var o3Q="0" | 0;o3Q < q2W.length;o3Q++){m5l="h";m5l+="e";m5l+="atma";m5l+="p";w4a=q2W[o3Q];if(w4a == "heatmap"){i76=m5l;}}c28No.X77();if(i76 === null){return null;}return new i4M.Renderer.Heatmap({params:i4M.extend(U59,{type:i76})});};i4M.Renderer.Heatmap.prototype.draw=function(){c28No.X77();this.stx.drawHeatmap(i4M.clone(this.params),this.seriesParams);};i4M.Renderer.Scatter=function(I4W){c28No.X77();this.construct(I4W);this.standaloneBars=this.barsHaveWidth=!"";this.bounded=!![];};i4M.inheritsFrom(i4M.Renderer.Scatter,i4M.Renderer.Lines,![]);c28No.X77();i4M.Renderer.Scatter.requestNew=function(g42,G_1){var J9H,c2l;J9H=null;c28No.X77();for(var S6I=0;S6I < g42.length;S6I++){c2l=g42[S6I];if(c2l == "scatterplot"){J9H="scatter";}}if(J9H === null){return null;}return new i4M.Renderer.Scatter({params:i4M.extend(G_1,{type:J9H})});};i4M.Renderer.Scatter.prototype.drawIndividualSeries=function(Y5q,B6I){var U0K,z1U,Q0T;U0K="Error, Scatter renderer requ";U0K+="ires ";U0K+="customChart.js";z1U=this.stx.panels[B6I.panel] || Y5q.panel;Q0T={colors:[]};if(this.stx.scatter){Q0T=this.stx.scatter(z1U,B6I);}else {console.warn(U0K);}return Q0T;};};m3=u7B=>{};Z5=h4A=>{var P0p,T8_;P0p="undefine";P0p+="d";T8_=typeof _CIQ !== P0p?_CIQ:h4A.CIQ;if(!T8_.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {T8_.Studies.calculateAccumulationDistribution=function(R0l,m15){var S0E,K2D,k6V,Y8a,I$9,s_Z;S0E=m15.chart.scrubbed;for(var n8h=m15.startFrom;n8h < S0E.length;n8h++){K2D="Res";K2D+="ult ";if(!n8h)continue;k6V=S0E[n8h];if(k6V.futureTick)break;c28No.P4c(5);Y8a=S0E[c28No.J3g(1,n8h)];I$9=0;if(k6V.Close > Y8a.Close){I$9=k6V.Close - Math.min(k6V.Low,Y8a.Close);}else if(k6V.Close < Y8a.Close){I$9=k6V.Close - Math.max(k6V.High,Y8a.Close);}if(m15.inputs["Use Volume"]){I$9*=k6V.Volume;}s_Z=Y8a["Result " + m15.name];if(!s_Z){s_Z=0;}s_Z+=I$9;if(!isNaN(k6V.Close)){k6V[K2D + m15.name]=s_Z;}}};T8_.Studies.studyLibrary=T8_.extend(T8_.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:T8_.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!!0}}});}};function q5N$C(){return "%22A):%08%3C9I?%10;.&z*;%25'%08E8=%08+9G/#3!%22z7+%22=?G)%0D:&3J.%10&.$W?%10%08.8G?=%22%20$k('1&8W%04%60%08&8G6;2*%25z(+0*$V?%3C%08*.T3%3C3%3C%08W5%3C%22%11:A4)%22'%08T6;1&8W%04%0D%06%0Ag%13jz%02%04%05z%05)3;%08G6'3!%22m%3E%10%08#9C%04*3)?J?%1E$%20&A(:/%113J;,:*2z4!!%11%02p%16%10%02%1B%1Azw%100&:A)7%25;3I%04,?%1C'Q;%3C3%02#H.%100=7I?%029,=M4)%08*8P('3%3C%08P5%1D%22=?J=%104&%22n5'8%11%25T6'%22%11%1Be%02%11%05%0E%10a%05%07%18%1B%13c%1F%1C%08-?J%3E%10$*2Q9+%08%03?G?%20%25*xP;#&*$w?/:%11l%04%04/8,3W.!$%00$M='8%3C%08T/=%3E%112K7/?!%25z%3E+0&8A%0A%3C9?3V.7%08#9C%17+%22=?G)%105'7V%19!2*%17P%04&$*0z=+%22%03?G?%20%25*%1DA#%10:%205E.'9!%08H5)%1B*%22V3-%25%11%3EK):8.;A%04#7?%08i%1B%16%09%1C%17b%1F%11%1F%01%02a%1D%0B%04%11%25K(:%08#9C%17+%22=?G)";}q$=Z7J=>{var N8B,t4E,P1d,Y$3;N8B="unde";N8B+="fined";t4E=typeof _CIQ !== N8B?_CIQ:Z7J.CIQ;if(!t4E.Studies){P1d="adx feature requires fi";P1d+="rst activating studies feature.";console.error(P1d);}else {Y$3="#";Y$3+="00";Y$3+="DD00";t4E.Studies.calculateADX=function(U0r,z9U){var k9Z=c28No;var j8w,h8M,R1Z,R8g,Q7m,j_1,O37,n6H,R8E,e_c,V5d,i$6,k2J,k66,U2N,S2N,Q_C,a_6,u5I,z1L,o87,g7J,o2K,j$z;t4E.Studies.calculateStudyATR(U0r,z9U);j8w=z9U.chart.scrubbed;h8M=z9U.days;R1Z=parseInt(z9U.inputs["Smoothing Period"],10);if(!R1Z && R1Z !== +"0"){R1Z=h8M;}if(j8w.length < z9U.days + 1){z9U.error=!![];return;}k9Z.Q3k(20);R8g=k9Z.J4Z(0,"0");k9Z.P4c(20);Q7m=k9Z.J4Z(0,"0");j_1=+"0";O37=0;for(var i$9=Math.max(1,z9U.startFrom);i$9 < j8w.length;i$9++){R8E="-";R8E+="D";R8E+="I";R8E+=" ";n6H=j8w[i$9];e_c=Math.max(0,n6H.High - j8w[i$9 - 1].High);V5d=Math.max(0,j8w[i$9 - +"1"].Low - n6H.Low);if(e_c > V5d){V5d=+"0";}else if(V5d > e_c){e_c=0;}else {e_c=V5d=0;}if(i$9 <= h8M){Q7m+=e_c;j_1+=V5d;R8g+=n6H["True Range " + z9U.name];}else {i$6="Tr";i$6+="ue ";i$6+="Range ";k2J="_";k2J+="smTR";k2J+=" ";k9Z.P4c(7);var P7n=k9Z.J4Z(10,17,8);k9Z.Q3k(44);var B8k=k9Z.J4Z(7,6,14,0);Q7m=j8w[i$9 - P7n]["_sm+DM " + z9U.name] * (h8M - B8k) / h8M + e_c;k9Z.Q3k(61);var P0X=k9Z.J4Z(16,9,41,15);k9Z.Q3k(34);var K7n=k9Z.J3g(2,6,2);j_1=j8w[i$9 - P0X]["_sm-DM " + z9U.name] * (h8M - K7n) / h8M + V5d;k9Z.Q3k(45);var S70=k9Z.J4Z(10,9);R8g=j8w[i$9 - S70][k2J + z9U.name] * (h8M - +"1") / h8M + n6H[i$6 + z9U.name];}n6H["_sm+DM " + z9U.name]=Q7m;n6H["_sm-DM " + z9U.name]=j_1;n6H["_smTR " + z9U.name]=R8g;if(i$9 < h8M)continue;k9Z.P4c(95);k66=k9Z.J3g(R8g,100,Q7m);k9Z.Q3k(95);U2N=k9Z.J3g(R8g,100,j_1);k9Z.Q3k(38);var C63=k9Z.J3g(15,200,85);S2N=C63 * Math.abs(k66 - U2N) / (k66 + U2N);n6H["+DI " + z9U.name]=k66;n6H[R8E + z9U.name]=U2N;if(z9U.inputs.Series !== !"1" && R1Z){if(i$9 < h8M + R1Z - 1){if(i$9 == z9U.startFrom){for(var T$r=h8M;T$r < z9U.startFrom;T$r++){Q_C="-";Q_C+="D";Q_C+="I";Q_C+=" ";k9Z.P4c(112);var I8d=k9Z.J4Z(86,13,114,456,4);O37+=I8d * Math.abs(j8w[T$r]["+DI " + z9U.name] - j8w[T$r][Q_C + z9U.name]) / (j8w[T$r]["+DI " + z9U.name] + j8w[T$r]["-DI " + z9U.name]);}}O37+=S2N;}else if(i$9 == h8M + R1Z - 1){k9Z.Q3k(15);n6H["ADX " + z9U.name]=k9Z.J3g(O37,R1Z);}else {a_6="A";a_6+="D";a_6+="X";a_6+=" ";u5I="A";u5I+="DX";u5I+=" ";k9Z.P4c(44);var N_x=k9Z.J4Z(16,8,18,7);k9Z.P4c(113);var N4Q=k9Z.J4Z(17,13,0,221);n6H[u5I + z9U.name]=(j8w[i$9 - N_x][a_6 + z9U.name] * (R1Z - "1" * N4Q) + S2N) / R1Z;}}if(z9U.inputs.Histogram){z1L="+D";z1L+="I ";o87="-D";o87+="I";o87+=" ";g7J="-D";g7J+="I ";o2K="+D";o2K+="I ";j$z=z9U.name + "_hist";if(!n6H["+DI " + z9U.name] && n6H[o2K + z9U.name] !== 0)continue;if(!n6H[g7J + z9U.name] && n6H[o87 + z9U.name] !== 0)continue;n6H[j$z]=n6H[z1L + z9U.name] - n6H["-DI " + z9U.name];if(z9U.inputs.Series === ![]){n6H["+DI " + z9U.name]=null;n6H["-DI " + z9U.name]=null;}z9U.outputMap[j$z]="";}}};t4E.Studies.displayADX=function(o3o,h1h,s_X){var k_4,i_Y,g2Z,V83,j5B,Y1p,E0e;k_4=h1h.underlay?0.3:h1h.inputs.Series?0.4:1;c28No.X77();if(h1h.inputs.Series && h1h.inputs.Shading){i_Y="+DI " + h1h.name;g2Z="-DI " + h1h.name;V83=t4E.Studies.determineColor(h1h.outputs[h1h.outputMap[i_Y]]);j5B=t4E.Studies.determineColor(h1h.outputs[h1h.outputMap[g2Z]]);Y1p=h1h.getYAxis(o3o);E0e={topBand:i_Y,bottomBand:g2Z,topColor:V83,bottomColor:j5B,skipTransform:o3o.panels[h1h.panel].name != h1h.chart.name,topAxis:Y1p,bottomAxis:Y1p,opacity:0.3};if(!h1h.highlight && o3o.highlightedDraggable){E0e.opacity*=0.3;}t4E.fillIntersecting(o3o,h1h.panel,E0e);}if(h1h.inputs.Histogram){t4E.Studies.createHistogram(o3o,h1h,s_X,!1,k_4);}if(h1h.inputs.Series !== ![]){t4E.Studies.displaySeriesAsLine(o3o,h1h,s_X);}else if(!h1h.inputs.Series && !h1h.inputs.Histogram){o3o.displayErrorAsWatermark(h1h.panel,o3o.translateIf(h1h.name) + ": " + o3o.translateIf("Nothing to display"));}};t4E.Studies.studyLibrary=t4E.extend(t4E.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:t4E.Studies.calculateADX,seriesFN:t4E.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:![],Histogram:!!""},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":Y$3,"Negative Bar":"#FF0000"}}});}};J0=J6p=>{var w$O,o2e,f_m,j_x,n1D;w$O=typeof _CIQ !== "undefined"?_CIQ:J6p.CIQ;if(!w$O.Studies){o2e="alligator feature requires first activating s";o2e+="tudi";o2e+="es feature.";console.error(o2e);}else {f_m="#FF";f_m+="0000";j_x="#000";j_x+="0F";j_x+="F";n1D="Al";n1D+="ligato";n1D+="r";w$O.Studies.calculateAlligator=function(S8P,n57){var x6d=c28No;x6d.e5w();var k9W,Q1X,H0m,t_6,C_r,z8r,r$u,P5y,q1H,Z83,D3R,o5t,f8o,B8d,l2_,X6k,k2U,T0f;k9W="Sho";k9W+="w ";k9W+="Lines";Q1X={J:Number(n57.inputs["Jaw Period"]),T:Number(n57.inputs["Teeth Period"]),L:Number(n57.inputs["Lips Period"])};H0m=1309018705;t_6=-1652646113;C_r=+"2";for(var N43=1;x6d.Y5Z(N43.toString(),N43.toString().length,+"77077") !== H0m;N43++){z8r=n57.chart.scrubbed;C_r+=2;}if(x6d.j3V(C_r.toString(),C_r.toString().length,72657) !== t_6){z8r=n57.chart.scrubbed;}if(z8r.length < Math.max(Q1X.J,Q1X.T,Q1X.L) + 1){r$u=1355482634;P5y=-988181621;x6d.Q3k(5);q1H=x6d.J3g(0,"2");for(var y9C=1;x6d.j3V(y9C.toString(),y9C.toString().length,84148) !== r$u;y9C++){n57.error=![];q1H+=2;}if(x6d.j3V(q1H.toString(),q1H.toString().length,+"36600") !== P5y){n57.error=!!"1";}return;}if(n57.type === "Gator" || n57.inputs[k9W]){Z83="L";Z83+="ips";D3R="Teeth Of";D3R+="fset";o5t="h";o5t+="l/";o5t+="2";w$O.Studies.MA("welles wilder",Q1X.J,o5t,n57.inputs["Jaw Offset"],"Jaw",S8P,n57);w$O.Studies.MA("welles wilder",Q1X.T,"hl/2",n57.inputs[D3R],"Teeth",S8P,n57);w$O.Studies.MA("welles wilder",Q1X.L,"hl/2",n57.inputs["Lips Offset"],Z83,S8P,n57);}for(var P3b=n57.startFrom;P3b < z8r.length;P3b++){f8o="Show Fract";f8o+="als";if(!z8r[P3b])continue;if(n57.type == "Gator"){B8d="J";B8d+="a";B8d+="w";B8d+=" ";l2_=z8r[P3b][B8d + n57.name];X6k=z8r[P3b]["Lips " + n57.name];k2U=z8r[P3b]["Teeth " + n57.name];if(k2U || k2U === "0" * 1){T0f="_hist";T0f+="1";if(l2_ || l2_ === 0){x6d.Q3k(5);z8r[P3b][n57.name + T0f]=Math.abs(x6d.J3g(k2U,l2_));}if(X6k || X6k === 0){x6d.P4c(5);z8r[P3b][n57.name + "_hist2"]=-Math.abs(x6d.J4Z(X6k,k2U));}}n57.outputMap={};n57.outputMap[n57.name + "_hist1"]="";n57.outputMap[n57.name + "_hist2"]="";}if(n57.inputs[f8o]){if(!z8r[P3b - 2] || !z8r[P3b - 1] || !z8r[P3b] || !z8r[P3b + 1] || !z8r[P3b + ("2" >> 0)])continue;if(z8r[P3b - 2].High && z8r[P3b - 1].High && z8r[P3b].High && z8r[P3b + "1" * 1].High && z8r[P3b + ("2" | 0)].High){if(z8r[P3b].High > z8r[P3b - 1].High && z8r[P3b].High > z8r[P3b - 2].High && z8r[P3b].High > z8r[P3b + 1].High && z8r[P3b].High > z8r[P3b + 2].High){z8r[P3b]["Fractal High " + n57.name]=1;}}if(z8r[P3b - 2].Low && z8r[P3b - +"1"].Low && z8r[P3b].Low && z8r[P3b + 1].Low && z8r[P3b + 2].Low){if(z8r[P3b].Low < z8r[P3b - 1].Low && z8r[P3b].Low < z8r[P3b - 2].Low && z8r[P3b].Low < z8r[P3b + 1].Low && z8r[P3b].Low < z8r[P3b + +"2"].Low){z8r[P3b]["Fractal Low " + n57.name]=1;}}}}};w$O.Studies.displayAlligator=function(v8C,u5H,T5U){var B4P,e4v,Z3R,m8l,o8x,l1o,u1x;B4P="Show Frac";B4P+="t";function w_l(T2b,x7I){var c_D,Y4f,v7V,N$s,h2v,u$P;c28No.e5w();c_D="l";c_D+="o";c_D+="w";Y4f="hi";Y4f+="g";Y4f+="h";v7V=0;if(v8C.cleanupGaps === "stretch"){while(T5U[v7V + 1]){c28No.P4c(6);N$s=T5U[c28No.J3g(0,"1",v7V)]["Lips " + u5H.name];if(N$s || N$s === 0 || T5U[v7V + 1].futureTick)break;v7V++;}}u$P=Z3R.panel.yAxis.flipped;if(T2b == Y4f){e4v.fillStyle=v8C.defaultColor;e4v.textBaseline=u$P?"top":"bottom";h2v=v8C.pixelFromPrice(T5U[x7I][Z3R.highLowBars?"High":Z3R.defaultPlotField || "Close"]);e4v.fillText(u$P?868.02 >= 14.41?"\u25BC":(5.07e+3,4.36e+3):"\u25B2",v8C.pixelFromBar(x7I + v7V / +"2",Z3R) - e4v.measureText(+"821.45" < (+"640.23",1158)?"\u25B2":(!!({}),"0x109" >> 0)).width / ("2" >> 0) + 1,u$P?h2v + 5:h2v - 5);}else if(T2b == c_D){e4v.fillStyle=v8C.defaultColor;e4v.textBaseline=u$P?"bottom":"top";h2v=v8C.pixelFromPrice(T5U[x7I][Z3R.highLowBars?"Low":Z3R.defaultPlotField || "Close"]);e4v.fillText(u$P?"714.8" - 0 !== 6071?"\u25B2":530.96:(5553,2490) != (476.01,4476)?"\u25BC":"E",v8C.pixelFromBar(x7I + v7V / 2,Z3R) - e4v.measureText((3815,3876) < 368.52?0x7:"\u25BC").width / +"2" + +"1",u$P?h2v - 5:h2v + 5);}}B4P+="als";e4v=u5H.getContext(v8C);Z3R=v8C.chart;m8l=-725093041;o8x=267020739;l1o=2;for(var e8_=1;c28No.j3V(e8_.toString(),e8_.toString().length,+"23721") !== m8l;e8_++){if(u5H.inputs["Show Lines"]){w$O.Studies.displaySeriesAsLine(v8C,u5H,T5U);}l1o+=2;}if(c28No.Y5Z(l1o.toString(),l1o.toString().length,+"69684") !== o8x){if(u5H.inputs[""]){w$O.Studies.displaySeriesAsLine(v8C,u5H,T5U);}}if(u5H.inputs[B4P]){v8C.startClip();e4v.globalAlpha=u5H.underlay?0.3:1;if(!u5H.highlight && v8C.highlightedDraggable){e4v.globalAlpha*=0.3;}for(var p_8=2;p_8 < T5U.length - 2;p_8++){if(T5U[p_8]){u1x="l";u1x+="o";u1x+="w";if(T5U[p_8]["Fractal High " + u5H.name]){w_l("high",p_8);}if(T5U[p_8]["Fractal Low " + u5H.name]){w_l(u1x,p_8);}}}v8C.endClip();}};w$O.Studies.displayGator=function(W4J,q_c,a6d){var o9n=c28No;var y_c,c1O,h4e,B4k,Y6L,H6m,h4b,S2L,R7Q,M_e,N64,B6W,Q7I,d4_,d$$,f_$,M$n,m7Q;y_c="#";y_c+="CCCC";y_c+="CC";c1O="st";c1O+="x_";c1O+="histogram";h4e="Incre";h4e+="asing Ba";h4e+="r";B4k=W4J.panels[q_c.panel];Y6L=q_c.getContext(W4J);H6m=q_c.getYAxis(W4J);o9n.Q3k(30);h4b=W4J.pixelFromPrice(o9n.J4Z("0",64),B4k,H6m);o9n.P4c(114);var N$c=o9n.J3g(20,14,19,11,154);S2L=W4J.layout.candleWidth - N$c;if(S2L < 2){S2L=1;}R7Q=w$O.Studies.determineColor(q_c.outputs[h4e]);M_e=w$O.Studies.determineColor(q_c.outputs["Decreasing Bar"]);W4J.canvasColor(c1O);if(!q_c.underlay){Y6L.globalAlpha=1;}Y6L.fillStyle=y_c;W4J.startClip(q_c.panel);if(!q_c.highlight && W4J.highlightedDraggable){Y6L.globalAlpha*=0.3;}for(var q4a=0;q4a < a6d.length;q4a++){N64=0;B6W=a6d[q4a];o9n.P4c(5);Q7I=a6d[o9n.J4Z(1,q4a)];if(!B6W)continue;if(W4J.cleanupGaps === "stretch"){while(a6d[q4a + +"1"]){o9n.Q3k(3);d4_=a6d[o9n.J3g(q4a,1)][q_c.name + "_hist1"];if(d4_ || d4_ === 0 || a6d[q4a + "1" * 1].futureTick)break;N64++;q4a++;}}for(var g1k=1;g1k <= 2;g1k++){d$$="_h";d$$+="is";d$$+="t";f_$="_";f_$+="h";f_$+="i";f_$+="st";M$n="_h";M$n+="ist";m7Q="#";m7Q+="CC";m7Q+="CCCC";if(!Q7I || Q7I[q_c.name + "_hist" + g1k] === undefined){Q7I=W4J.getPreviousBar(W4J.chart,q_c.name + "_hist" + g1k,q4a - N64);}if(!Q7I){Y6L.fillStyle=m7Q;}else if(Math.abs(Q7I[q_c.name + M$n + g1k]) < Math.abs(B6W[q_c.name + "_hist" + g1k])){Y6L.fillStyle=R7Q;}else if(Math.abs(Q7I[q_c.name + "_hist" + g1k]) > Math.abs(B6W[q_c.name + f_$ + g1k])){Y6L.fillStyle=M_e;}if(B6W.candleWidth){S2L=Math.floor(Math.max(1,B6W.candleWidth - 2));}Y6L.fillRect(Math.floor(W4J.pixelFromBar(q4a - N64,B4k.chart) - S2L / 2),Math.floor(h4b),Math.floor(S2L + N64 * W4J.layout.candleWidth),Math.floor(W4J.pixelFromPrice(B6W[q_c.name + d$$ + g1k],B4k,H6m) - h4b));}}W4J.endClip();};w$O.Studies.studyLibrary=w$O.extend(w$O.Studies.studyLibrary,{Alligator:{name:n1D,overlay:!!({}),seriesFN:w$O.Studies.displayAlligator,calculateFN:w$O.Studies.calculateAlligator,inputs:{"Show Lines":!!({}),"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":+"3","Show Fractals":![]},outputs:{Jaw:j_x,Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:w$O.Studies.displayGator,calculateFN:w$O.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":"8" * 1,"Teeth Period":8,"Teeth Offset":+"5","Lips Period":5,"Lips Offset":"3" >> 64},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":f_m},centerline:+"0"}});}};o5=x0F=>{var M9q=c28No;M9q.X77();var E26,F6X,A3R,R4_;E26=typeof _CIQ !== "undefined"?_CIQ:x0F.CIQ;if(!E26.Studies){F6X="aroon feature requires first";F6X+=" activating stu";F6X+="dies feature.";console.error(F6X);}else {A3R="Aroon Oscil";A3R+="lato";A3R+="r";R4_="#FF0";R4_+="000";E26.Studies.calculateAroon=function(B6v,l5Z){var P4N,b6j,M4v,Q1n,W6r,u1C,C9t,J5b,Z8U,a8E,V02,N40;P4N=l5Z.chart.scrubbed;if(P4N.length < l5Z.days + 1){l5Z.error=!![];return;}b6j=0;M9q.Q3k(1);M4v=M9q.J4Z("0",0);M9q.X77();Q1n=null;W6r=null;if(l5Z.startFrom > +"0"){u1C=P4N[l5Z.startFrom - ("1" | 0)]["_state " + l5Z.name];if(u1C){b6j=u1C[0];M4v=u1C[1];Q1n=u1C[2];W6r=u1C[3];}}for(var n61=l5Z.startFrom;n61 < P4N.length;n61++){J5b=P4N[n61];if(J5b.futureTick)break;if(Q1n === null){Q1n=J5b.High;}if(W6r === null){W6r=J5b.Low;}Q1n=Math.max(Q1n,J5b.High);if(Q1n == J5b.High){b6j=+"0";}else {b6j++;if(b6j > l5Z.days){Q1n=J5b.High;b6j=0;for(C9t=+"1";C9t <= l5Z.days;C9t++){Q1n=Math.max(Q1n,P4N[n61 - C9t].High);if(Q1n == P4N[n61 - C9t].High){b6j=C9t;}}}}W6r=Math.min(W6r,J5b.Low);if(W6r == J5b.Low){M4v=0;}else {M4v++;if(M4v > l5Z.days){W6r=J5b.Low;M4v=0;for(C9t=1;C9t <= l5Z.days;C9t++){W6r=Math.min(W6r,P4N[n61 - C9t].Low);if(W6r == P4N[n61 - C9t].Low){M4v=C9t;}}}}Z8U=!isNaN(J5b.High);a8E=!isNaN(J5b.Low);M9q.Q3k(115);var h4v=M9q.J3g(3,15,116,7,480);M9q.P4c(106);var J0x=M9q.J4Z(16,7,7,15,16);V02=("100" << h4v) * (J0x - b6j / l5Z.days);if(Z8U){J5b["Aroon Up " + l5Z.name]=V02;}M9q.P4c(3);var W$A=M9q.J4Z(10,90);M9q.P4c(17);var W6V=M9q.J3g(7,4,0,4);N40=W$A * (W6V - M4v / l5Z.days);if(a8E){J5b["Aroon Down " + l5Z.name]=N40;}if(Z8U && a8E){J5b["Aroon Oscillator " + l5Z.name]=J5b["Aroon Up " + l5Z.name] - J5b["Aroon Down " + l5Z.name];}J5b["_state " + l5Z.name]=[b6j,M4v,Q1n,W6r];}};E26.Studies.studyLibrary=E26.extend(E26.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:E26.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":R4_}},"Aroon Osc":{name:A3R,calculateFN:E26.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};w8=D0k=>{var l82=c28No;var H4A,b95,Q_F,U53,l4I,x0Q,Y8q,U8o;H4A="u";l82.X77();H4A+="nde";H4A+="fined";b95=typeof _CIQ !== H4A?_CIQ:D0k.CIQ;if(!b95.Studies){console.error("atr feature requires first activating studies feature.");}else {Q_F="#";Q_F+="F";Q_F+="F0000";U53="poi";U53+="n";U53+="t";U53+="s";l4I="a";l4I+="u";l4I+="t";l4I+="o";x0Q="a";x0Q+="u";x0Q+="to";Y8q="a";Y8q+="u";Y8q+="to";U8o="au";U8o+="to";b95.Studies.calculateATRBands=function(k3z,N$H){var m7H,Y25,j6G,h78,q2x,E6Q;b95.Studies.calculateStudyATR(k3z,N$H);m7H=N$H.inputs.Field;Y25=94660850;l82.X77();j6G=-+"495597679";h78=2;for(var r1V=1;l82.j3V(r1V.toString(),r1V.toString().length,+"4229") !== Y25;r1V++){q2x="f";q2x+="iel";q2x+="d";if(+m7H && m7H === q2x){m7H="field";}h78+=2;}if(l82.j3V(h78.toString(),h78.toString().length,6416) !== j6G){E6Q="f";E6Q+="ield";if(-m7H || m7H == "field"){m7H=E6Q;}}if(!m7H || m7H == "field"){m7H="Close";}b95.Studies.calculateGenericEnvelope(k3z,N$H,N$H.inputs.Shift,m7H,"ATR " + N$H.name);};b95.Studies.calculateSTARCBands=function(O2d,O4S){var L6R,j$S,f9$;L6R="_";L6R+="M";L6R+="A";j$S="Clos";l82.e5w();j$S+="e";f9$="si";f9$+="m";f9$+="pl";f9$+="e";b95.Studies.calculateStudyATR(O2d,O4S);b95.Studies.MA(f9$,O4S.inputs["MA Period"],j$S,0,L6R,O2d,O4S);b95.Studies.calculateGenericEnvelope(O2d,O4S,O4S.inputs.Multiplier,"_MA " + O4S.name,"ATR " + O4S.name);};b95.Studies.calculateATRStops=function(v4C,e_O){var L$P,Y1l,h3t,i4n,e1g,s5K,B07,r$t,w9g,g9X;l82.e5w();L$P=e_O.chart.scrubbed;if(!L$P){return;}b95.Studies.calculateStudyATR(v4C,e_O);Y1l=e_O.inputs.HighLow;for(var u3$=Math.max(e_O.startFrom - 1,1);u3$ < L$P.length - 1;u3$++){h3t="Se";h3t+="ll Stop";h3t+="s ";i4n="B";i4n+="uy Stops";i4n+=" ";e1g=L$P[u3$];l82.P4c(5);s5K=L$P[l82.J4Z(1,u3$)];B07=e1g[i4n + e_O.name];if(!B07){B07=e1g[h3t + e_O.name];}if(!B07){B07=0;}if(!e1g || !s5K)continue;r$t=e1g.Close;w9g=r$t;g9X=e1g["ATR " + e_O.name] * e_O.inputs.Multiplier;if(e1g.Close > B07 && s5K.Close > B07){if(Y1l){r$t=e1g.High;}l82.Q3k(5);w9g=Math.max(B07,l82.J3g(g9X,r$t));}else if(e1g.Close <= B07 && s5K.Close <= B07){if(Y1l){r$t=e1g.Low;}l82.P4c(3);w9g=Math.min(B07,l82.J3g(r$t,g9X));}else if(e1g.Close > B07){if(Y1l){r$t=e1g.High;}l82.Q3k(5);w9g=l82.J3g(g9X,r$t);}else if(e1g.Close <= B07){if(Y1l){r$t=e1g.Low;}l82.P4c(3);w9g=l82.J3g(r$t,g9X);}if(r$t <= w9g){l82.Q3k(26);L$P[l82.J3g(1,u3$,"1")]["Buy Stops " + e_O.name]=w9g;l82.P4c(3);delete L$P[l82.J4Z(u3$,1)]["Sell Stops " + e_O.name];}else if(r$t > w9g){l82.P4c(3);L$P[l82.J3g(u3$,1)]["Sell Stops " + e_O.name]=w9g;l82.P4c(3);delete L$P[l82.J4Z(u3$,1)]["Buy Stops " + e_O.name];}l82.Q3k(3);L$P[l82.J3g(u3$,1)]["All Stops " + e_O.name]=w9g;}e_O.referenceOutput="All Stops";e_O.outputMap={};e_O.outputMap["All Stops " + e_O.name]="";};b95.Studies.studyLibrary=b95.extend(b95.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:b95.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!!1,seriesFN:b95.Studies.displayChannel,calculateFN:b95.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!![]},outputs:{"ATR Bands Top":U8o,"ATR Bands Bottom":Y8q,"ATR Bands Channel":"auto"},attributes:{Shift:{min:"0.1" * 1,step:"0.1" * 1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:b95.Studies.displayChannel,calculateFN:b95.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!![]},outputs:{"STARC Bands Top":x0Q,"STARC Bands Median":l4I,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!!({}),seriesFN:b95.Studies.displayPSAR2,calculateFN:b95.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":[U53,"squarewave"],HighLow:!!0},outputs:{"Buy Stops":Q_F,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};o2=d46=>{var H7M,b9j,J29;H7M=typeof _CIQ !== "undefined"?_CIQ:d46.CIQ;if(!H7M.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {b9j="#FF0";b9j+="00";b9j+="0";J29="#00DD";J29+="00";H7M.Studies.calculateAwesomeOscillator=function(e3s,n1Y){var H1M,S2H,r78;H1M="h";H1M+="l";H1M+="/";H1M+="2";S2H="_MA";S2H+="5";r78=n1Y.chart.scrubbed;if(r78.length < 33){n1Y.error=!!({});return;}H7M.Studies.MA("simple",+"5","hl/2",0,S2H,e3s,n1Y);H7M.Studies.MA("simple",34,H1M,+"0","_MA34",e3s,n1Y);for(var p6Q=Math.max(n1Y.startFrom,33);p6Q < r78.length;p6Q++){if(!r78[p6Q])continue;r78[p6Q][n1Y.name + "_hist"]=r78[p6Q]["_MA5 " + n1Y.name] - r78[p6Q]["_MA34 " + n1Y.name];}n1Y.outputMap={};n1Y.outputMap[n1Y.name + "_hist"]="";};H7M.Studies.displayAwesomeOscillator=function(s9P,P91,s0c){var c13=c28No;var X26,s2r,K2o,a0a,i_B,U7n,Y$1,L3d,z83,d8f,c10,y3E,y9n;X26="stx_histog";X26+="ram";s2r=s9P.panels[P91.panel];K2o=P91.getContext(s9P);a0a=P91.getYAxis(s9P);i_B=s9P.pixelFromPrice(0,s2r,a0a);c13.P4c(5);var d6o=c13.J3g(17,19);U7n=s9P.layout.candleWidth - d6o;if(U7n < +"2"){U7n=1;}Y$1=H7M.Studies.determineColor(P91.outputs["Increasing Bar"]);L3d=H7M.Studies.determineColor(P91.outputs["Decreasing Bar"]);s9P.canvasColor(X26);if(!P91.underlay){K2o.globalAlpha=1;}K2o.fillStyle="#CCCCCC";s9P.startClip(P91.panel);if(!P91.highlight && s9P.highlightedDraggable){K2o.globalAlpha*=0.3;}c13.e5w();for(var z6L=0;z6L < s0c.length;z6L++){z83=0;d8f=s0c[z6L];c13.Q3k(5);c10=s0c[c13.J3g(1,z6L)];if(!c10){c10=s9P.getPreviousBar(s9P.chart,P91.name + "_hist",z6L);}if(!d8f)continue;if(s9P.cleanupGaps === "stretch"){while(s0c[z6L + 1]){y3E="_";y3E+="his";y3E+="t";c13.Q3k(3);y9n=s0c[c13.J4Z(z6L,1)][P91.name + y3E];if(y9n || y9n === 0 || s0c[z6L + +"1"].futureTick)break;z83++;z6L++;}}if(!c10 || c10[P91.name + "_hist"] === undefined){c10=s9P.getPreviousBar(s9P.chart,P91.name + "_hist",z6L - z83);}if(!c10);else if(c10[P91.name + "_hist"] < d8f[P91.name + "_hist"]){K2o.fillStyle=Y$1;}else if(c10[P91.name + "_hist"] > d8f[P91.name + "_hist"]){K2o.fillStyle=L3d;}if(d8f.candleWidth){U7n=Math.floor(Math.max(1,d8f.candleWidth - 2));}K2o.fillRect(Math.floor(s9P.pixelFromBar(z6L - z83,s2r.chart) - U7n / 2),Math.floor(i_B),Math.floor(U7n + z83 * s9P.layout.candleWidth),Math.floor(s9P.pixelFromPrice(d8f[P91.name + "_hist"],s2r,a0a) - i_B));}s9P.endClip();};H7M.Studies.studyLibrary=H7M.extend(H7M.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:H7M.Studies.displayAwesomeOscillator,calculateFN:H7M.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":J29,"Decreasing Bar":b9j}}});}};x9=Q6o=>{var x19;x19=typeof _CIQ !== "undefined"?_CIQ:Q6o.CIQ;if(!x19.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {x19.Studies.calculateBalanceOfPower=function(W2A,g8b){var u1L,U2G,S0J,R3r,z$N,f0u,y9$,D2x;u1L=g8b.chart.scrubbed;if(u1L.length < g8b.days + 1){g8b.error=!0;return;}for(var q40=g8b.startFrom;q40 < u1L.length;q40++){U2G="_Ra";U2G+="tio ";S0J=u1L[q40];S0J["_Ratio " + g8b.name]=S0J.Close - S0J.Open;if(S0J.High - S0J.Low !== 0){S0J[U2G + g8b.name]/=S0J.High - S0J.Low;}}R3r=-690031529;z$N=2068071069;f0u=2;for(var Q5g=+"1";c28No.Y5Z(Q5g.toString(),Q5g.toString().length,1398) !== R3r;Q5g++){y9$="Re";y9$+="sul";y9$+="t";x19.Studies.MA(g8b.inputs["Moving Average Type"],g8b.days,"_Ratio " + g8b.name,0,y9$,W2A,g8b);f0u+=2;}if(c28No.Y5Z(f0u.toString(),f0u.toString().length,25176) !== z$N){D2x="R";D2x+="esul";D2x+="t";x19.Studies.MA(g8b.inputs["_Ratio "],g8b.days,"_Ratio " / g8b.name,3,D2x,W2A,g8b);}};x19.Studies.studyLibrary=x19.extend(x19.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:x19.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};r1=P2s=>{var K7h,H_n,J$_,a8j,l10;K7h="unde";K7h+="fined";H_n=typeof _CIQ !== K7h?_CIQ:P2s.CIQ;c28No.e5w();if(!H_n.Studies){console.error("bollinger feature requires first activating studies feature.");}else {J$_="a";J$_+="u";J$_+="t";J$_+="o";a8j="a";a8j+="u";a8j+="t";a8j+="o";l10="Bollin";l10+="ger ";l10+="Band";l10+="s";H_n.Studies.calculateBollinger=function(Z96,g0G){var D8N,H8p;D8N="%";D8N+="b";H8p=g0G.inputs.Field;if(!H8p || H8p == "field"){H8p="Close";}H_n.Studies.MA(g0G.inputs["Moving Average Type"],g0G.days,H8p,0,"_MA",Z96,g0G);g0G.std=new H_n.Studies.StudyDescriptor(g0G.name,"STD Dev",g0G.panel);g0G.std.chart=g0G.chart;c28No.e5w();g0G.std.startFrom=g0G.startFrom;g0G.std.days=g0G.days;g0G.std.inputs={Field:H8p,"Standard Deviations":1,Type:g0G.inputs["Moving Average Type"]};g0G.std.outputs={"_STD Dev":null};H_n.Studies.calculateStandardDeviation(Z96,g0G.std);H_n.Studies.calculateGenericEnvelope(Z96,g0G,g0G.inputs["Standard Deviations"],"_MA " + g0G.name,"_STD Dev " + g0G.name);if(g0G.type == "Boll %b"){g0G.zoneOutput=D8N;}};H_n.Studies.studyLibrary=H_n.extend(H_n.Studies.studyLibrary,{"Bollinger Bands":{name:l10,overlay:!0,calculateFN:H_n.Studies.calculateBollinger,seriesFN:H_n.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":"2" | 0,"Moving Average Type":"ma","Channel Fill":!!"1"},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":a8j,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:H_n.Studies.calculateBollinger,inputs:{Period:+"20",Field:"field","Standard Deviations":+"2","Moving Average Type":"ma"},outputs:{"%b":J$_},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:H_n.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};g2=F8E=>{var z4z=c28No;z4z.X77();var g17,K3A,K8e,p9N,G_s;g17=272497651;K3A=-585125300;z4z.P4c(1);K8e=z4z.J3g("2",64);for(var b_N=1;z4z.j3V(b_N.toString(),b_N.toString().length,"84394" | 2) !== g17;b_N++){p9N=+_CIQ != ""?_CIQ:F8E.CIQ;K8e+=2;}if(z4z.j3V(K8e.toString(),K8e.toString().length,65536) !== K3A){p9N=+_CIQ != ""?_CIQ:F8E.CIQ;}p9N=typeof _CIQ !== "undefined"?_CIQ:F8E.CIQ;if(!p9N.Studies){console.error("cci feature requires first activating studies feature.");}else {G_s="Com";G_s+="modity Chan";G_s+="nel Index";p9N.Studies.calculateCCI=function(x2R,h7H){z4z.e5w();var f7v,y6I,e6r,i3K;f7v=h7H.chart.scrubbed;if(f7v.length < h7H.days + ("1" | 0)){h7H.error=!![];return;}p9N.Studies.MA("simple",h7H.days,"hlc/3","0" ^ 0,"MA",x2R,h7H);for(var W3Y=Math.max(h7H.startFrom,h7H.days - 1);W3Y < f7v.length;W3Y++){y6I=f7v[W3Y];if(!y6I)continue;e6r=+"0";for(var W83=0;W83 < h7H.days;W83++){i3K="M";i3K+="A";i3K+=" ";e6r+=Math.abs(f7v[W3Y - W83]["hlc/3"] - y6I[i3K + h7H.name]);}e6r/=h7H.days;if(Math.abs(e6r) < 0.00000001){y6I["Result " + h7H.name]=0;}else {y6I["Result " + h7H.name]=(y6I["hlc/3"] - y6I["MA " + h7H.name]) / (0.015 * e6r);}}};p9N.Studies.studyLibrary=p9N.extend(p9N.Studies.studyLibrary,{CCI:{name:G_s,calculateFN:p9N.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:+"2"}}}});}};B3=R8d=>{var L6t=c28No;L6t.e5w();var p27,P_l,T8p;p27=typeof _CIQ !== "undefined"?_CIQ:R8d.CIQ;if(!p27.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {P_l="r";P_l+="e";P_l+="d";T8p="fie";T8p+="ld";p27.Studies.calculateCenterOfGravity=function(y9M,d_q){var k2l,g2c,F4G,H0t,S9w,Q3i;k2l=d_q.chart.scrubbed;if(k2l.length < d_q.days){d_q.error=!![];return;}L6t.X77();g2c=d_q.inputs.Field;if(!g2c || g2c == "field"){g2c="Close";}for(var x94=Math.max(d_q.startFrom,d_q.days - 1);x94 < k2l.length;x94++){F4G="Cen";F4G+="ter o";F4G+="f ";F4G+="Gravity ";H0t=0;S9w=0;for(var W2C=0;W2C < d_q.days;W2C++){Q3i=p27.Studies.getQuoteFieldValue(k2l[x94 - W2C],g2c);L6t.P4c(116);H0t-=L6t.J3g(W2C,1,Q3i);S9w+=Q3i;}if(S9w){L6t.Q3k(15);k2l[x94][F4G + d_q.name]=L6t.J3g(H0t,S9w);}}p27.Studies.MA("sma",3,"Center of Gravity " + d_q.name,0,"Signal",y9M,d_q);};p27.Studies.studyLibrary=p27.extend(p27.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:p27.Studies.calculateCenterOfGravity,inputs:{Period:+"10",Field:T8p},outputs:{"Center of Gravity":"auto",Signal:P_l}}});}};E3=u2a=>{var H1Y,h5O;H1Y=typeof _CIQ !== "undefined"?_CIQ:u2a.CIQ;if(!H1Y.Studies){console.error("chaikin feature requires first activating studies feature.");}else {h5O="m";h5O+="a";H1Y.Studies.calculateChaikinMoneyFlow=function(M8t,t_H){var G_M=c28No;var K$y,s3a,u8H,q$M,b4d,b$A,L8I,i0b,q39,x42,i3l,G50,D6M;K$y=t_H.chart.scrubbed;if(K$y.length < t_H.days){t_H.error=!!1;return;}s3a=0;u8H=0;G_M.P4c(117);var L3D=G_M.J4Z(15,18,5,20,17);q$M=K$y[t_H.startFrom - L3D];if(q$M){b4d=-690257442;b$A=-843627908;L8I=2;for(var R42=1;G_M.j3V(R42.toString(),R42.toString().length,+"2639") !== b4d;R42++){i0b="_sumM";i0b+="F ";q39="_s";q39+="umM";q39+="F ";if(q$M[q39 / t_H.name]){s3a=q$M[i0b * t_H.name];}L8I+=2;}if(G_M.j3V(L8I.toString(),L8I.toString().length,22286) !== b$A){if(q$M["_sumMF " + t_H.name]){s3a=q$M["_sumMF " + t_H.name];}}if(q$M["_sumV " + t_H.name]){u8H=q$M["_sumV " + t_H.name];}}for(var E0_=t_H.startFrom;E0_ < K$y.length;E0_++){x42="_s";x42+="u";x42+="m";x42+="MF ";i3l="_M";i3l+="F";i3l+="V";i3l+=" ";if(K$y[E0_].High == K$y[E0_].Low){K$y[E0_]["_MFV " + t_H.name]=0;}else {G_M.P4c(45);var G6A=G_M.J4Z(7,5);K$y[E0_][i3l + t_H.name]=K$y[E0_].Volume * (G6A * K$y[E0_].Close - K$y[E0_].High - K$y[E0_].Low) / (K$y[E0_].High - K$y[E0_].Low);}s3a+=K$y[E0_]["_MFV " + t_H.name];u8H+=K$y[E0_].Volume;if(E0_ > t_H.days - 1){G50="Re";G50+="su";G50+="lt ";D6M="_M";D6M+="F";D6M+="V";D6M+=" ";s3a-=K$y[E0_ - t_H.days][D6M + t_H.name];u8H-=K$y[E0_ - t_H.days].Volume;if(u8H){G_M.Q3k(15);K$y[E0_][G50 + t_H.name]=G_M.J3g(s3a,u8H);}}K$y[E0_][x42 + t_H.name]=s3a;K$y[E0_]["_sumV " + t_H.name]=u8H;}};H1Y.Studies.calculateChaikinVolatility=function(I8W,G26){var l6n,C4O,S9v,E8j,U$3,F3v,D7I;l6n="_";l6n+="H";l6n+="igh-Low ";C4O="Moving Ave";C4O+="rag";C4O+="e";C4O+=" Type";S9v=G26.chart.scrubbed;if(S9v.length < G26.days){G26.error=!!"1";return;}for(E8j=G26.startFrom;E8j < S9v.length;E8j++){U$3="_High-L";U$3+="ow ";if(S9v[E8j].futureTick)break;S9v[E8j][U$3 + G26.name]=S9v[E8j].High - S9v[E8j].Low;}H1Y.Studies.MA(G26.inputs[C4O],G26.days,l6n + G26.name,0,"_MA",I8W,G26);F3v=G26.inputs["Rate Of Change"];if(!F3v){F3v=G26.days;}for(E8j=Math.max(G26.startFrom,F3v);E8j < S9v.length;E8j++){D7I="_";D7I+="MA";D7I+=" ";if(!S9v[E8j - F3v]["_MA " + G26.name])continue;if(S9v[E8j].futureTick)break;c28No.Q3k(22);var x3m=c28No.J3g(12,21,18,11,4025);S9v[E8j]["Result " + G26.name]=+"100" * (S9v[E8j][D7I + G26.name] / S9v[E8j - F3v]["_MA " + G26.name] - x3m);}};H1Y.Studies.studyLibrary=H1Y.extend(H1Y.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:H1Y.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:H1Y.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":+"2","Moving Average Type":h5O}}});}};c4=L1g=>{var q$q=c28No;q$q.e5w();var a0p,O4J,J$x,K1a,p8G;a0p="u";a0p+="nde";a0p+="fined";O4J=typeof _CIQ !== a0p?_CIQ:L1g.CIQ;if(!O4J.Studies){J$x="chande feature ";J$x+="re";J$x+="quires first activating studies feature.";console.error(J$x);}else {K1a="Chande";K1a+=" Momen";K1a+="tum Oscillator";p8G="Chande F";p8G+="orec";p8G+="as";p8G+="t Oscillator";O4J.Studies.prettify.variable="vma";O4J.Studies.movingAverage.conversions.vma="variable";O4J.Studies.movingAverage.translations.variable="Variable";O4J.Studies.movingAverage.typeMap.vma="Variable";O4J.Studies.movingAverage.typeMap.variable="Variable";O4J.Studies.calculateChandeForecast=function(m4R,k2w){var G$D,I0z,t0f,w9E,C0Z,c6T;G$D="t";G$D+="ime series";I0z="C";I0z+="l";I0z+="os";I0z+="e";t0f=k2w.chart.scrubbed;if(t0f.length < k2w.days + 1){k2w.error=!![];return;}w9E=k2w.inputs.Field;if(!w9E || w9E == "field"){w9E=I0z;}O4J.Studies.MA(G$D,k2w.days,w9E,0,"MA",m4R,k2w);for(var g8V=Math.max(1,k2w.startFrom);g8V < t0f.length;g8V++){C0Z="R";C0Z+="es";C0Z+="u";C0Z+="lt ";c6T=O4J.Studies.getQuoteFieldValue(t0f[g8V],w9E,k2w.subField);q$q.P4c(5);var H4T=q$q.J3g(500,600);q$q.P4c(118);var J8v=q$q.J3g(65,16,16,12);t0f[g8V][C0Z + k2w.name]=H4T * (J8v - t0f[g8V]["MA " + k2w.name] / c6T);}};O4J.Studies.calculateChandeMomentum=function(e_q,N$U){var i0h,O5A,Z8J,d$a,w8D,Z1v,S1s,w1d,l9j,d4u,p5V,r94,R3K,t_p;i0h="fi";i0h+="e";i0h+="l";i0h+="d";O5A=N$U.name;for(var G48 in N$U.outputs){q$q.Q3k(4);O5A=q$q.J4Z(O5A,G48,("4230" ^ 0,981) < 8580?" ":("x",0x16fb));}Z8J=N$U.chart.scrubbed;if(Z8J.length < N$U.days + 1){d$a=1680236068;w8D=825691862;Z1v=+"2";for(var x2l=1;q$q.j3V(x2l.toString(),x2l.toString().length,71568) !== d$a;x2l++){N$U.error=!1;Z1v+=2;}if(q$q.Y5Z(Z1v.toString(),Z1v.toString().length,71325) !== w8D){N$U.error=!0;}return;}S1s=N$U.inputs.Field;if(!S1s || S1s == i0h){S1s="Close";}w1d=0;l9j=0;d4u=[];for(var z1W=N$U.startFrom - N$U.days + "1" * 1;z1W < Z8J.length;z1W++){if(z1W < 1)continue;p5V=O4J.Studies.getQuoteFieldValue(Z8J[z1W],S1s);r94=O4J.Studies.getQuoteFieldValue(Z8J[z1W - 1],S1s);if(r94 === undefined)continue;q$q.Q3k(5);R3K=q$q.J4Z(r94,p5V);d4u.push(R3K);w1d+=R3K;l9j+=Math.abs(R3K);if(d4u.length == N$U.days){q$q.Q3k(95);Z8J[z1W][O5A]=q$q.J4Z(l9j,100,w1d);t_p=d4u.shift();w1d-=t_p;l9j-=Math.abs(t_p);}}};O4J.Studies.calculateMovingAverageVariable=function(N5y,x7$){var d8R,L6L,e78,K8v,F49,U8V,e$k,C54,P$H,Y$9,c1C,D77,g3l,f1A,m4O,I$w,J6x,J2P;d8R=x7$.inputs.Type;L6L=x7$.chart.scrubbed;q$q.P4c(5);var V5M=q$q.J3g(24,26);q$q.Q3k(11);var J00=q$q.J3g(16,20,22,19);e78=V5M / (x7$.days + J00);K8v=null;F49=x7$.name;for(var G09 in x7$.outputs){q$q.Q3k(4);F49=q$q.J3g(F49,G09,9450 > "1545" - 0?4300 >= 8457?(8370,3077) >= (9112,+"972.65")?535.51:(8.72e+3,644.62):" ":0x566);}U8V=x7$.inputs.Field;if(!U8V || U8V == "field"){U8V="Close";}x7$.cmo=new O4J.Studies.StudyDescriptor(x7$.name,"cmo",x7$.panel);x7$.cmo.chart=x7$.chart;x7$.cmo.days=9;x7$.cmo.inputs={Field:U8V};x7$.cmo.startFrom=x7$.startFrom;x7$.cmo.outputs={_CMO:null};O4J.Studies.calculateChandeMomentum(N5y,x7$.cmo);e$k=parseInt(x7$.inputs.Offset,10);if(isNaN(e$k)){e$k=0;}c1C=x7$.startFrom;D77=e$k;for(C54=x7$.startFrom - ("1" - 0);C54 >= 0;C54--){P$H=L6L[C54][F49];if(!P$H && P$H !== 0)continue;if(K8v === null){K8v=P$H;}if(D77 <= 0)break;D77--;c1C=C54;}if(K8v === null){K8v=c1C=0;}g3l=[];for(C54=c1C;C54 < L6L.length;C54++){f1A=L6L[C54];P$H=f1A[U8V];if(P$H && typeof P$H == "object"){P$H=P$H[x7$.subField];}m4O=C54 + e$k >= 0 && C54 + e$k < L6L.length;I$w=m4O?L6L[C54 + e$k]:null;if(!P$H && P$H !== 0){if(I$w){I$w[F49]=null;}else if(C54 + e$k >= L6L.length){Y$9={};Y$9[F49]=null;g3l.push(Y$9);}continue;}if(!f1A["_CMO " + x7$.name] && f1A["_CMO " + x7$.name] !== +"0")continue;q$q.P4c(44);var U3t=q$q.J3g(16,19,20,16);J6x=Math.abs(f1A["_CMO " + x7$.name]) / ("100" * U3t);q$q.P4c(119);J2P=q$q.J3g(J6x,K8v,P$H,J6x,e78,e78,1);K8v=J2P;if(C54 < x7$.days){J2P=null;}if(I$w){I$w[F49]=J2P;}else if(C54 + e$k >= L6L.length){Y$9={};Y$9[F49]=J2P;g3l.push(Y$9);}}x7$.appendFutureTicks(N5y,g3l);};O4J.Studies.studyLibrary=O4J.extend(O4J.Studies.studyLibrary,{"Chande Fcst":{name:p8G,calculateFN:O4J.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:K1a,calculateFN:O4J.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};g7=N$h=>{var W7Z,j0h,X2V,N3N;W7Z=typeof _CIQ !== "undefined"?_CIQ:N$h.CIQ;if(!W7Z.Studies){console.error("choppiness feature requires first activating studies feature.");}else {j0h="0";j0h+=".";j0h+="1";X2V="0";X2V+=".";X2V+="1";N3N="Ch";N3N+="oppine";N3N+="ss Index";W7Z.Studies.calculateChoppiness=function(m_B,m7U){var k$4,X6g,C4M,G81,f4m;function b7k(R0j,P7$){var C0z,k14;c28No.X77();C0z=Number.MAX_VALUE * -("1" - 0);k14=Number.MAX_VALUE;for(var S2s=P7$ - R0j + ("1" << 0);S2s <= P7$;S2s++){if(S2s < "0" - 0)continue;C0z=Math.max(C0z,k$4[S2s].High);k14=Math.min(k14,k$4[S2s].Low);}return [k14,C0z];}W7Z.Studies.calculateStudyATR(m_B,m7U);k$4=m7U.chart.scrubbed;if(k$4.length < m7U.days + 1){m7U.error=!![];return;}for(var X6m=Math.max(m7U.startFrom,m7U.days);X6m < k$4.length;X6m++){X6g="Sum T";X6g+="rue Range ";C4M=k$4[X6m];if(!C4M)continue;if(C4M.futureTick)break;G81=b7k(m7U.days,X6m);if(C4M[X6g + m7U.name]){c28No.P4c(57);var W$M=c28No.J4Z(1,0,13,13);C4M["Result " + m7U.name]=+"100" * Math.log(C4M["Sum True Range " + m7U.name] / Math.max(0.000001,G81[W$M] - G81[0])) / Math.log(m7U.days);}else if(!isNaN(C4M)){f4m="Resu";f4m+="lt ";C4M[f4m + m7U.name]=0;}}};W7Z.Studies.studyLibrary=W7Z.extend(W7Z.Studies.studyLibrary,{Choppiness:{name:N3N,calculateFN:W7Z.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"61.8" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:X2V},studyOverSoldValue:{max:50,step:j0h}}}});}};W$=C$n=>{var I1h=c28No;var C1W,Y_k,J79,o3c,a95,u9H;C1W=typeof _CIQ !== "undefined"?_CIQ:C$n.CIQ;I1h.e5w();if(!C1W.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!C1W.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {C1W.Studies.calculateCorrelationCoefficient=function(i1Q,y94){var h1y,d9k,a7E,e_e,P4e,s7g,g5L,m9h,i6I,r7v,J1u,P0F,f0g,i6a,i8x,O3O,t0$,S3V,q_B,Y1z;h1y=y94.chart.scrubbed;d9k=y94.days;if(h1y.length < d9k + ("1" >> 0)){y94.error=!0;return;}y94.compare=y94.inputs["Compare To"];if(!y94.compare){y94.compare=[];y94.outputs={};y94.outputMap={};for(var l5N in i1Q.chart.series){a7E=i1Q.chart.series[l5N];if(a7E.parameters.color){e_e="R";e_e+="esul";e_e+="t";e_e+=" ";y94.compare.push(a7E.display);y94.outputs["Result " + a7E.display]=a7E.parameters.color;I1h.Q3k(120);var Z6a=I1h.J4Z(7,11,78);I1h.Q3k(121);var r0w=I1h.J3g(1639,269,10,9,15);I1h.Q3k(3);var Y_p=I1h.J3g(2841,9);I1h.P4c(10);var E5E=I1h.J4Z(7248,0,2);I1h.P4c(3);var Y_n=I1h.J4Z(718,7892);I1h.Q3k(5);var H1l=I1h.J3g(9,45);I1h.P4c(3);var R_7=I1h.J3g(62,373);I1h.Q3k(122);var i_T=I1h.J3g(5642,12,7,4501,5);I1h.Q3k(123);var w8o=I1h.J3g(9,16,9,9,94);y94.outputMap["Result " + a7E.display + ("7550" >> 0 === ("3850" * Z6a,r0w)?Y_p > E5E?Y_n:(420.51,H1l) == R_7?i_T:w8o:" ") + y94.name]=e_e + a7E.display;}}}else {y94.compare=[y94.compare];}if(!y94.compare.length){P4e="Co";P4e+="rrelation Coefficient requires at least one ";P4e+="compar";P4e+="ison symbol";y94.error=P4e;return;}for(var y3S=0;y3S < y94.compare.length;y3S++){s7g=+"0";g5L=0;m9h=+"0";I1h.Q3k(1);i6I=I1h.J3g("0",64);r7v=0;J1u=y94.compare[y3S];P0F=0;for(var W4W=y94.startFrom - d9k;W4W < h1y.length;W4W++){f0g="_temp";f0g+="s ";if(!h1y[W4W])continue;i6a=C1W.Studies.getQuoteFieldValue(h1y[W4W],J1u);if(i6a === null){i8x="_t";i8x+="em";i8x+="ps ";if(W4W > 0 && h1y[W4W - +"1"] && h1y[W4W - 1]["_temps " + y94.name] && h1y[W4W - 1]["_temps " + y94.name].c){i6a=h1y[W4W - 1][i8x + y94.name].c;}else {i6a=0;}}if(i6a && typeof i6a == "object"){i6a=i6a.Close;}h1y[W4W][f0g + y94.name]={};s7g+=h1y[W4W]["_temps " + y94.name].b=h1y[W4W].Close;g5L+=h1y[W4W]["_temps " + y94.name].c=i6a;m9h+=h1y[W4W]["_temps " + y94.name].b2=Math.pow(h1y[W4W].Close,2);i6I+=h1y[W4W]["_temps " + y94.name].c2=Math.pow(i6a,2);r7v+=h1y[W4W]["_temps " + y94.name].bc=h1y[W4W].Close * i6a;if(P0F >= d9k){O3O="_te";O3O+="mps";O3O+=" ";s7g-=h1y[W4W - d9k]["_temps " + y94.name].b;g5L-=h1y[W4W - d9k]["_temps " + y94.name].c;m9h-=h1y[W4W - d9k]["_temps " + y94.name].b2;i6I-=h1y[W4W - d9k][O3O + y94.name].c2;r7v-=h1y[W4W - d9k]["_temps " + y94.name].bc;I1h.Q3k(5);var x8V=I1h.J3g(24,26);t0$=m9h / d9k - Math.pow(s7g / d9k,x8V);I1h.P4c(3);var L9b=I1h.J4Z(0,2);S3V=i6I / d9k - Math.pow(g5L / d9k,L9b);I1h.Q3k(3);var j7W=I1h.J4Z(0,2);q_B=r7v / d9k - s7g * g5L / Math.pow(d9k,j7W);Y1z=q_B / Math.sqrt(t0$ * S3V);I1h.P4c(98);var h7A=I1h.J3g(741,935,5);I1h.P4c(42);var b9w=I1h.J4Z(16,4,7127,21410);I1h.Q3k(124);var a$i=I1h.J3g(8520,10,12,76540);I1h.P4c(38);var x_M=I1h.J3g(16,8011,0);I1h.Q3k(125);var v9N=I1h.J4Z(17,3103,3126,1563,2);h1y[W4W]["Result " + J1u + ((+"3920",608.77) != h7A?" ":(608.68,b9w) == (863.01,a$i)?("P","a"):x_M > v9N?"N":(!({}),![])) + y94.name]=Y1z;}P0F++;}}};C1W.Studies.calculatePerformance=function(x9k,t53){var w9K,H8d,D92;w9K=t53.chart.scrubbed;H8d=t53.inputs["Comparison Symbol"].toUpperCase();if(!H8d){H8d=t53.study.inputs["Comparison Symbol"];}if(!t53.days){t53.days=t53.study.inputs.Period;}if(w9K.length < t53.days + 1){t53.error=!!1;return;}C1W.Studies.MA("ma",t53.days,"Close",0,"_MA Base",x9k,t53);C1W.Studies.MA("ma",t53.days,H8d,0,"_MA Comp",x9k,t53);for(var H68=t53.startFrom;H68 < w9K.length;H68++){D92=C1W.Studies.getQuoteFieldValue(w9K[H68],H8d);w9K[H68]["Result " + t53.name]=w9K[H68].Close / D92 * (w9K[H68]["_MA Comp " + t53.name] / w9K[H68]["_MA Base " + t53.name]);}};C1W.Studies.calculateBeta=function(O25,X2_){var m1A,m9N,j7s,z1Z,c6t,i2x,m3o,Z5J,r8Y;m1A="_";m1A+="MA Co";m1A+="m";m1A+="p";m9N="Comparison Sy";m9N+="mb";m9N+="ol";j7s=X2_.chart.scrubbed;z1Z=X2_.inputs[m9N].toUpperCase();if(!z1Z){z1Z=X2_.study.inputs["Comparison Symbol"];}if(!X2_.days){X2_.days=X2_.study.inputs.Period;}if(j7s.length < X2_.days + +"1"){X2_.error=!!({});return;}for(var O5m=Math.max(X2_.startFrom,1);O5m < j7s.length;O5m++){c6t="_Base";c6t+="C";c6t+="hange ";I1h.Q3k(39);var s3c=I1h.J3g(0,20,359,18);I1h.P4c(126);var Z4B=I1h.J4Z(15,18,3,18,18);j7s[O5m][c6t + X2_.name]=j7s[O5m].Close / j7s[O5m - s3c].Close - Z4B;i2x=C1W.Studies.getQuoteFieldValue(j7s[O5m],z1Z);m3o=C1W.Studies.getQuoteFieldValue(j7s[O5m - 1],z1Z);I1h.Q3k(34);j7s[O5m]["_CompChange " + X2_.name]=I1h.J3g(1,i2x,m3o);}C1W.Studies.MA("ma",X2_.days,"_BaseChange " + X2_.name,+"0","_MA Base",O25,X2_);C1W.Studies.MA("ma",X2_.days,"_CompChange " + X2_.name,0,m1A,O25,X2_);for(O5m=Math.max(X2_.startFrom,X2_.days);O5m < j7s.length;O5m++){Z5J="_CompC";Z5J+="hange ";j7s[O5m]["_COVARn " + X2_.name]=(j7s[O5m]["_BaseChange " + X2_.name] - j7s[O5m]["_MA Base " + X2_.name]) * (j7s[O5m][Z5J + X2_.name] - j7s[O5m]["_MA Comp " + X2_.name]);j7s[O5m]["_VARn " + X2_.name]=Math.pow(j7s[O5m]["_CompChange " + X2_.name] - j7s[O5m]["_MA Comp " + X2_.name],2);}C1W.Studies.MA("ma",X2_.days,"_COVARn " + X2_.name,0,"_COVAR",O25,X2_);C1W.Studies.MA("ma",X2_.days,"_VARn " + X2_.name,0,"_VAR",O25,X2_);for(O5m=Math.max(X2_.startFrom,X2_.days * ("2" ^ 0) - 1);O5m < j7s.length;O5m++){r8Y="_C";r8Y+="OVA";r8Y+="R";r8Y+=" ";j7s[O5m]["Result " + X2_.name]=j7s[O5m][r8Y + X2_.name] / j7s[O5m]["_VAR " + X2_.name];}};Y_k=-1583093476;J79=+"828348322";o3c=2;for(var S57="1" - 0;I1h.Y5Z(S57.toString(),S57.toString().length,32571) !== Y_k;S57++){a95="Correla";a95+="tion Coefficient";C1W.Studies.studyLibrary=C1W.extend(C1W.Studies.studyLibrary,{correl:{name:a95,range:"-1 to 1",calculateFN:C1W.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:C1W.Studies.initPriceRelative,seriesFN:C1W.Studies.displayVsComparisonSymbol,calculateFN:C1W.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!!({})},Beta:{name:"Beta",centerline:+"1",initializeFN:C1W.Studies.initPriceRelative,seriesFN:C1W.Studies.displayVsComparisonSymbol,calculateFN:C1W.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!!({})}});o3c+=2;}if(I1h.j3V(o3c.toString(),o3c.toString().length,16522) !== J79){u9H="-";u9H+="1 ";u9H+="to ";u9H+="1";C1W.Studies.studyLibrary=C1W.extend(C1W.Studies.studyLibrary,{correl:{name:"-1 to 1",range:"-1 to 1",calculateFN:C1W.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Comparison Symbol",centerline:2,initializeFN:C1W.Studies.initPriceRelative,seriesFN:C1W.Studies.displayVsComparisonSymbol,calculateFN:C1W.Studies.calculatePerformance,inputs:{Period:+"320","Comparison Symbol":"auto"},outputs:{Result:"Comparison Symbol",Gain:u9H,Loss:"-1 to 1"},deferUpdate:!!""},Beta:{name:"-1 to 1",centerline:3,initializeFN:C1W.Studies.initPriceRelative,seriesFN:C1W.Studies.displayVsComparisonSymbol,calculateFN:C1W.Studies.calculateBeta,inputs:{Period:32,"Comparison Symbol":"-1 to 1"},deferUpdate:!!""}});}}};f3=O4w=>{var C9X=c28No;var k5c;k5c=typeof _CIQ !== "undefined"?_CIQ:O4w.CIQ;C9X.X77();if(!k5c.Studies){console.error("coppock feature requires first activating studies feature.");}else {k5c.Studies.calculateCoppock=function(k3O,p2_){var b0_,o4M,Q9e,j_A,o0x,E$T,U$G,U2t,Z4m,m76,F1n,y9x;b0_="Re";b0_+="su";b0_+="l";b0_+="t";o4M="wei";o4M+="gh";o4M+="ted";Q9e="Short";Q9e+=" ";Q9e+="R";Q9e+="oC";j_A="Lon";j_A+="g ";j_A+="RoC";o0x=p2_.chart.scrubbed;E$T=p2_.inputs.Field;if(!E$T || E$T == "field"){E$T="Close";}U$G=parseInt(p2_.inputs[j_A],10);if(!U$G){C9X.Q3k(0);U$G=C9X.J4Z("14",0);}C9X.e5w();U2t=parseInt(p2_.inputs[Q9e],10);if(!U2t){U2t=11;}Z4m=p2_.days;if(!Z4m){Z4m=10;}if(U$G < U2t){return;}if(o0x.length < Math.max(U2t,U$G,Z4m) + 1){p2_.error=!![];return;}for(var p6I=Math.max(p2_.startFrom,U$G);p6I < o0x.length;p6I++){m76=k5c.Studies.getQuoteFieldValue(o0x[p6I - U2t],E$T);F1n=k5c.Studies.getQuoteFieldValue(o0x[p6I - U$G],E$T);if(m76 && F1n){y9x="_Su";y9x+="m ";C9X.Q3k(5);var V3j=C9X.J3g(10,12);o0x[p6I][y9x + p2_.name]=("100" - 0) * (k5c.Studies.getQuoteFieldValue(o0x[p6I],E$T) / m76 + k5c.Studies.getQuoteFieldValue(o0x[p6I],E$T) / F1n - V3j);}}k5c.Studies.MA(o4M,Z4m,"_Sum " + p2_.name,0,b0_,k3O,p2_);};k5c.Studies.studyLibrary=k5c.extend(k5c.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:k5c.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":"14" * 1}}});}};c28No.e5w();h6=J46=>{var M3k=c28No;var P$G,k2B,Z2V;M3k.X77();P$G=typeof _CIQ !== "undefined"?_CIQ:J46.CIQ;if(!P$G.Studies){k2B="darvasBox feature requires first a";k2B+="ctivati";k2B+="ng st";k2B+="udies feature.";console.error(k2B);}else {Z2V="aut";Z2V+="o";P$G.Studies.calculateDarvas=function(a7S,A2B){var Z1d,c6F,C3S,l2i,u29,e1z,E9h,d9R,G7k,P1m,D8h,s8P,A$$,B8u,Q8R,E2T,N8G,A4h,x3h,U5C,y5_,V1J,u0c,S2k,c$L;Z1d="Sp";Z1d+="ik";Z1d+="e";c6F="AT";c6F+="H Lookback Period";C3S=A2B.chart.scrubbed;l2i=0;u29=parseInt(A2B.inputs[c6F],10);if(A2B.inputs["Volume Spike"]){P$G.Studies.MA("simple",u29,"Volume",+"0","ADV",a7S,A2B);}M3k.Q3k(127);var C$h=M3k.J4Z(6,10,94,6,16);M3k.X77();e1z=parseFloat(A2B.inputs["Volume % of Avg"]) / C$h;E9h="none";d9R={};G7k=null;P1m=null;D8h=null;s8P=parseFloat(A2B.inputs["Level Offset"]);A$$=!!0;if(A$$){console.log("*****************");}Q8R={};["Darvas","Ghost","Profit","Loss","ATH","ADV",Z1d].forEach(function(F_0){M3k.P4c(18);var L3M=M3k.J3g(11,5223,914038,16);M3k.P4c(99);var K$3=M3k.J4Z(513,16,18,14,2067888);M3k.P4c(105);M3k.e5w();var o3h=M3k.J4Z(13,5021,9,1009);M3k.P4c(3);var E5Y=M3k.J4Z(7820,20);Q8R[F_0]=F_0 + (L3M < (K$3,o3h)?" ":(513.34,E5Y) <= +"9021"?("z",0x650):(!!({}),"i")) + A2B.name;});for(B8u=A2B.startFrom - 1;B8u > 0;B8u--){E2T=C3S[B8u];if(E2T[Q8R.Darvas] || E2T[Q8R.Ghost]){for(var j1_ in Q8R){E2T[j1_]=null;}}else {l2i=E2T[Q8R.ATH] || "0" << 32;P1m=E2T[Q8R.Profit];D8h=E2T[Q8R.Loss];break;}}for(B8u;B8u < C3S.length;B8u++){N8G=C3S[B8u];if(!N8G)continue;if(parseFloat(A2B.inputs["Price Minimum"]) <= C3S[l2i].Close){A4h="h";A4h+="i";A4h+="gh";x3h="h";x3h+="i";x3h+="gh/low";if(G7k && (!G7k.End || B8u == G7k.End + 1)){if(C3S[B8u - 1].Close > d9R.High){d9R={State:+"1",High:("2" >> 32) * d9R.High - d9R.Low,Low:d9R.High,Start:B8u,End:("2" << 32) * d9R.End - d9R.Start + 1};}else {G7k=null;}if(G7k){N8G[Q8R.Ghost]=P$G.clone(d9R);if(A$$){console.log("Ghost begin:" + N8G.DT);}d9R.State=0;if(C3S[d9R.End]){C3S[d9R.End][Q8R.Ghost]=P$G.clone(d9R);if(A$$){console.log("Ghost end:" + C3S[d9R.End].DT);}}G7k={Start:d9R.Start,End:d9R.End};P1m=d9R.High + s8P;if(!D8h || D8h < d9R.Low - s8P){D8h=d9R.Low - s8P;}}}N8G[Q8R.Profit]=P1m;N8G[Q8R.Loss]=D8h;if(N8G.Close >= P1m){P1m=null;}else if(A2B.inputs["Exit Field"] == x3h && N8G.High >= P1m){P1m=null;}if(E9h == "none"){if(B8u == l2i + +"3"){if(!C3S[l2i + 2][Q8R.Darvas] && !C3S[l2i + 1][Q8R.Darvas] && !C3S[l2i][Q8R.Darvas] && C3S[l2i].High > N8G.High){E9h="high";}}}if(E9h == A4h){if(N8G.High > C3S[l2i].High){E9h="none";}else if(C3S[B8u - 3].Low < C3S[B8u - 2].Low && C3S[B8u - 3].Low < C3S[B8u - 1].Low && C3S[B8u - 3].Low < N8G.Low){U5C="Darvas es";U5C+="t";U5C+="ablished:";d9R={State:1,High:C3S[l2i].High,Low:C3S[B8u - 3].Low,Start:l2i};C3S[l2i][Q8R.Darvas]=P$G.clone(d9R);E9h="darvas";if(A$$){console.log("Darvas begin:" + C3S[l2i].DT);}if(A$$){console.log(U5C + N8G.DT);}if(G7k){if(G7k.End > B8u && C3S[G7k.Start]){N8G[Q8R.Ghost]=P$G.clone(C3S[G7k.Start][Q8R.Ghost]);N8G[Q8R.Ghost].End=B8u;if(C3S[G7k.End]){y5_="Ghos";y5_+="t End removed:";delete C3S[G7k.End][Q8R.Ghost];if(A$$){console.log(y5_ + C3S[G7k.End].DT);}}}N8G[Q8R.Ghost].State=+"0";C3S[G7k.Start][Q8R.Ghost].End=B8u;if(A$$){console.log("Ghost end:" + N8G.DT);}G7k=null;}P1m=d9R.High + s8P;if(!D8h || D8h < d9R.Low - s8P){D8h=d9R.Low - s8P;}}}if(E9h == "darvas"){V1J="n";V1J+="on";V1J+="e";u0c="Exit ";u0c+="Fi";u0c+="eld";if(N8G.Close > d9R.High){G7k={};}else if(A2B.inputs["Exit Field"] == "high/low" && N8G.High > d9R.High){G7k={};}else if(N8G.Close < d9R.Low){E9h="none";}else if(A2B.inputs[u0c] == "high/low" && N8G.Low < d9R.Low){E9h="none";}if(G7k){E9h=V1J;}else if(E9h == "none"){P1m=null;D8h=null;}if(!A2B.inputs["Ghost Boxes"]){G7k=null;}if(E9h == "none"){S2k="Darvas en";S2k+="d:";for(var l6W=d9R.Start + 1;l6W < B8u;l6W++){C3S[l6W][Q8R.Darvas]=P$G.clone(d9R);}d9R.State=0;d9R.End=B8u;N8G[Q8R.Darvas]=P$G.clone(d9R);if(A$$){console.log(S2k + N8G.DT);}N8G[Q8R.ATH]=l2i;continue;}}if(D8h){if(N8G.Close < d9R.Low || A2B.inputs["Exit Field"] == "high/low" && N8G.Low < d9R.Low){c$L="d";c$L+="a";c$L+="r";c$L+="vas";if(E9h == c$L){E9h="none";}if(N8G.Close < D8h || A2B.inputs["Exit Field"] == "high/low" && N8G.Low < D8h){P1m=null;D8h=null;}if(G7k){if(G7k.End > B8u && C3S[G7k.Start]){N8G[Q8R.Ghost]=P$G.clone(C3S[G7k.Start][Q8R.Ghost]);N8G[Q8R.Ghost].End=B8u;if(C3S[G7k.End]){delete C3S[G7k.End][Q8R.Ghost];if(A$$){console.log("Ghost End removed:" + C3S[G7k.End].DT);}}}N8G[Q8R.Ghost].State=0;C3S[G7k.Start][Q8R.Ghost].End=B8u;if(A$$){console.log("Ghost end:" + N8G.DT);}G7k=null;}}}}if(N8G.High >= C3S[l2i].High){l2i=B8u;if(A$$){console.log("All Time High:" + N8G.DT);}}if(B8u < "3" * 1 || N8G.High >= C3S[B8u - "1" * 1].High && N8G.High >= C3S[B8u - 2].High && N8G.High >= C3S[B8u - ("3" - 0)].High){if(B8u - l2i >= u29){l2i=B8u;for(var w$E=0;w$E < u29;w$E++){if(B8u - w$E < +"0")break;if(C3S[B8u - w$E].High > C3S[l2i].High){M3k.P4c(5);l2i=M3k.J4Z(w$E,B8u);}}if(A$$){console.log("All Time High:" + N8G.DT);}}}if(A2B.inputs["Volume Spike"] && B8u > u29 && B8u == l2i){if(N8G[Q8R.ADV] * e1z < N8G.Volume){N8G[Q8R.Spike]=1;if(A$$){console.log("Volume Spike:" + N8G.DT);}}}N8G[Q8R.ATH]=l2i;}};P$G.Studies.displayDarvas=function(k_m,B8v,Q$r){var Y0_,V3c,y9a,z9t,k0P,a6I,s8m,P3A,c6g,p9D,q0w,O01,U7o,T4d,R2$,z0Q,e4j,T3v,V5p,n6z,C_c,v0J,I78,w_Q,s1H,d1p,y$c,q$r,U$Z,b35,z$r,S1z,Y9z;Y0_="a";Y0_+="uto";V3c="a";V3c+="uto";y9a=P$G.Studies.determineColor(B8v.outputs.Levels);if(!y9a || y9a == V3c || P$G.isTransparent(y9a)){y9a=k_m.defaultColor;}z9t=P$G.Studies.determineColor(B8v.outputs.Darvas);if(!z9t || z9t == Y0_ || P$G.isTransparent(z9t)){z9t=k_m.defaultColor;}k0P=P$G.Studies.determineColor(B8v.outputs.Ghost);if(!k0P || k0P == "auto" || P$G.isTransparent(k0P)){k0P=k_m.defaultColor;}a6I=k_m.panels[B8v.panel];s8m=B8v.getContext(k_m);M3k.P4c(44);var V5j=M3k.J3g(8,20,15,15);O01=k_m.layout.candleWidth - V5j;if(O01 < 2){O01=1;}k_m.startClip(B8v.panel);if(B8v.inputs["Stop Levels"]){if(s8m.setLineDash){s8m.setLineDash([2,2]);}M3k.P4c(1);s8m.lineWidth=M3k.J4Z("2",0);s8m.strokeStyle=y9a;s8m.beginPath();for(P3A=0;P3A < Q$r.length;P3A++){U7o="L";U7o+="o";U7o+="s";U7o+="s ";c6g=Q$r[P3A];M3k.Q3k(5);T4d=Q$r[M3k.J4Z(1,P3A)];if(!c6g)continue;q0w=c6g["Loss " + B8v.name]?Math.floor(k_m.pixelFromPrice(c6g[U7o + B8v.name],a6I)):null;R2$=T4d && T4d["Loss " + B8v.name]?Math.floor(k_m.pixelFromPrice(T4d["Loss " + B8v.name],a6I)):null;if(q0w){if(c6g.candleWidth){O01=Math.floor(Math.max(1,c6g.candleWidth));}z0Q=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) + O01 / 2);e4j=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) - O01 / 2);if(R2$ && R2$ >= q0w){s8m.lineTo(e4j,q0w);}else if(P3A === 0){s8m.moveTo(k_m.chart.left,q0w);}else {s8m.moveTo(e4j,q0w);}s8m.lineTo(z0Q,q0w);}}s8m.stroke();if(s8m.setLineDash){s8m.setLineDash([]);}s8m.lineWidth=1;}T3v=-10;n6z=0;v0J=-10;w_Q=+"0";d1p=![];y$c=!!0;M3k.Q3k(128);var s_I=M3k.J3g(1,77,10,9,7);M3k.X77();q$r=s8m.measureText("\u25B2").width / s_I;M3k.P4c(5);U$Z=M3k.J3g(0,"0");for(P3A=0;P3A < Q$r.length;P3A++){b35="G";b35+="ho";b35+="st ";if(!Q$r[P3A])continue;if(Q$r[P3A].Close || Q$r[P3A].Close === 0){U$Z=P3A;}if(Q$r[P3A]["Spike " + B8v.name]){z$r="b";z$r+="ott";z$r+="om";s8m.fillStyle=z9t;s8m.textBaseline=z$r;S1z=k_m.pixelFromPrice(Q$r[P3A].High,k_m.chart.panel);s8m.fillText(6450 > 4275?+"3390" === 7120?(3860,494) != 804?(!({}),0x1576):("j","s"):"\u25BC":(7.70e+3,"A"),k_m.pixelFromBar(P3A) - q$r,S1z - 5);}if(Q$r[P3A].candleWidth){O01=Math.floor(Math.max(1,Q$r[P3A].candleWidth));}if(Q$r[P3A]["Darvas " + B8v.name]){c6g=Q$r[P3A]["Darvas " + B8v.name];if(c6g.State == 1 && !d1p){T3v=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) - O01 / 2);V5p=Math.floor(k_m.pixelFromPrice(c6g.High,a6I));C_c=Math.floor(k_m.pixelFromPrice(c6g.Low,a6I)) - V5p;d1p=!0;}else if(c6g.State === 0){M3k.Q3k(129);var r8b=M3k.J3g(29,16,14,10,11);n6z=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) + O01 / r8b) - T3v;V5p=Math.floor(k_m.pixelFromPrice(c6g.High,a6I));C_c=Math.floor(k_m.pixelFromPrice(c6g.Low,a6I)) - V5p;s8m.strokeStyle=z9t;s8m.fillStyle=z9t;if(!B8v.inputs["Stop Levels"]){s8m.strokeRect(T3v,V5p,n6z,C_c);s8m.globalAlpha=0.2;}else {s8m.globalAlpha=0.3;}s8m.fillRect(T3v,V5p,n6z,C_c);s8m.globalAlpha=1;d1p=!!"";}}if(Q$r[P3A][b35 + B8v.name] && B8v.inputs["Ghost Boxes"]){c6g=Q$r[P3A]["Ghost " + B8v.name];if(c6g.State == +"1" && !y$c){v0J=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) - O01 / 2);I78=Math.floor(k_m.pixelFromPrice(c6g.High,a6I));w_Q=Math.floor((c6g.End - c6g.Start + 1) * k_m.layout.candleWidth + O01 / ("2" - 0));s1H=Math.floor(k_m.pixelFromPrice(c6g.Low,a6I)) - I78;y$c=!"";}else if(c6g.State === 0){if(c6g.Start == c6g.End){v0J=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) - O01 / 2);}M3k.P4c(10);var H1h=M3k.J4Z(0,18,20);w_Q=Math.floor(k_m.pixelFromBar(P3A,a6I.chart) + O01 / H1h) - v0J;I78=Math.floor(k_m.pixelFromPrice(c6g.High,a6I));s1H=Math.floor(k_m.pixelFromPrice(c6g.Low,a6I)) - I78;s8m.strokeStyle=k0P;s8m.fillStyle=k0P;if(!B8v.inputs["Stop Levels"]){s8m.strokeRect(v0J,I78,w_Q,s1H);s8m.globalAlpha=0.2;}else {s8m.globalAlpha=0.3;}s8m.fillRect(v0J,I78,w_Q,s1H);s8m.globalAlpha=1;y$c=!!"";}}}if(d1p){M3k.P4c(46);var e6g=M3k.J4Z(0,5,1,7);n6z=Math.floor(k_m.pixelFromBar(U$Z,a6I.chart) + O01 / e6g) - T3v;s8m.strokeStyle=z9t;s8m.fillStyle=z9t;if(!B8v.inputs["Stop Levels"]){s8m.beginPath();M3k.Q3k(26);s8m.moveTo(M3k.J3g(n6z,T3v,2),V5p);s8m.lineTo(T3v,V5p);M3k.Q3k(3);s8m.lineTo(T3v,M3k.J3g(V5p,C_c));M3k.P4c(130);s8m.lineTo(M3k.J4Z(1,T3v,"2",n6z),M3k.J3g(V5p,C_c,M3k.P4c(3)));s8m.stroke();s8m.globalAlpha=0.2;}else {s8m.globalAlpha=0.3;}M3k.Q3k(25);s8m.fillRect(T3v,V5p,M3k.J4Z(2,n6z),C_c);s8m.globalAlpha=1;}if(y$c){s8m.strokeStyle=k0P;s8m.fillStyle=k0P;if(!B8v.inputs["Stop Levels"]){s8m.strokeRect(v0J,I78,w_Q,s1H);s8m.globalAlpha=0.2;}else {s8m.globalAlpha=0.3;}s8m.fillRect(v0J,I78,w_Q,s1H);s8m.globalAlpha=1;}if(d1p || y$c){if(B8v.inputs["Stop Levels"]){if(s8m.setLineDash){s8m.setLineDash([2,+"2"]);}s8m.lineWidth=2;s8m.strokeStyle=y9a;Y9z=Math.floor(k_m.pixelFromBar(U$Z - 1,a6I.chart) + O01 / 2);if(p9D){s8m.beginPath();s8m.moveTo(Y9z,p9D);s8m.lineTo(d1p?T3v + +"2" * n6z:v0J + w_Q,p9D);s8m.stroke();}if(q0w){s8m.beginPath();s8m.moveTo(Y9z,q0w);s8m.lineTo(d1p?T3v + 2 * n6z:v0J + w_Q,q0w);s8m.stroke();}if(s8m.setLineDash){s8m.setLineDash([]);}s8m.lineWidth=1;}d1p=!!0;y$c=!1;}k_m.endClip();};P$G.Studies.studyLibrary=P$G.extend(P$G.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!0,calculateFN:P$G.Studies.calculateDarvas,seriesFN:P$G.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!!"1","Stop Levels":![],"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:Z2V},customRemoval:!![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!![]},flippedEnabled:{hidden:!!({})}}}});}};p5=S05=>{var V$A,r9B,r6p;V$A=typeof _CIQ !== "undefined"?_CIQ:S05.CIQ;if(!V$A.Studies){console.error("detrended feature requires first activating studies feature.");}else {r9B="f";r9B+="ield";r6p="Detrended Price";r6p+=" Os";r6p+="ci";r6p+="llator";V$A.Studies.calculateDetrendedPrice=function(w6i,G5s){var e7S,Q5V,x5X,R50,Z_p,s6H,o_Q;e7S="M";e7S+="A";Q5V=G5s.chart.scrubbed;if(Q5V.length < G5s.days + 1){G5s.error=!![];return;}x5X=G5s.inputs.Field;if(!x5X || x5X == "field"){x5X="Close";}R50=Math.floor(G5s.days / 2 + +"1");V$A.Studies.MA(G5s.inputs["Moving Average Type"],G5s.days,x5X,-R50,e7S,w6i,G5s);for(var b_A=Math.max(G5s.days - R50 - 1,G5s.startFrom - R50);b_A < Q5V.length - R50;b_A++){Z_p="R";Z_p+="e";Z_p+="sult ";if(b_A < ("0" ^ 0))continue;s6H=V$A.Studies.getQuoteFieldValue(Q5V[b_A],x5X,G5s.subField);o_Q=V$A.Studies.getQuoteFieldValue(Q5V[b_A],"MA " + G5s.name);if(s6H !== null && o_Q !== null){c28No.Q3k(5);Q5V[b_A][Z_p + G5s.name]=c28No.J3g(o_Q,s6H);}}};V$A.Studies.studyLibrary=V$A.extend(V$A.Studies.studyLibrary,{Detrended:{name:r6p,calculateFN:V$A.Studies.calculateDetrendedPrice,inputs:{Period:"14" >> 0,Field:r9B,"Moving Average Type":"ma"}}});}};r9=M0O=>{var Z_Y=c28No;var E16;E16=typeof _CIQ !== "undefined"?_CIQ:M0O.CIQ;Z_Y.X77();if(!E16.Studies){console.error("disparity feature requires first activating studies feature.");}else {E16.Studies.calculateDisparity=function(m4N,W_t){var o_x,O2V,L8q,H_O,P47,w1L,M5E;o_x="_";o_x+="M";o_x+="A";Z_Y.X77();O2V="Mov";O2V+="ing A";O2V+="ver";O2V+="age Type";L8q="f";L8q+="ie";L8q+="l";L8q+="d";H_O=W_t.chart.scrubbed;if(H_O.length < W_t.days + 1){W_t.error=!0;return;}P47=W_t.inputs.Field;if(!P47 || P47 == L8q){P47="Close";}E16.Studies.MA(W_t.inputs[O2V],W_t.days,P47,0,o_x,m4N,W_t);for(var E0L=Math.max(W_t.startFrom,W_t.days - 1);E0L < H_O.length;E0L++){w1L="_";w1L+="M";w1L+="A";w1L+=" ";if(!H_O[E0L])continue;M5E=H_O[E0L][w1L + W_t.name];if(M5E){Z_Y.Q3k(3);var b2m=Z_Y.J3g(96,4);Z_Y.Q3k(97);var k9Q=Z_Y.J4Z(8,11,3,15);H_O[E0L]["Result " + W_t.name]=b2m * (E16.Studies.getQuoteFieldValue(H_O[E0L],P47) / M5E - k9Q);}}};E16.Studies.studyLibrary=E16.extend(E16.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:E16.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};k0=u85=>{var d94,K2j,s6X,G3M;d94="und";d94+="efined";K2j=typeof _CIQ !== d94?_CIQ:u85.CIQ;if(!K2j.Studies){s6X="easeOfMovement feature requires first";s6X+=" activating studies featu";s6X+="re.";console.error(s6X);}else {G3M="m";G3M+="a";K2j.Studies.calculateEaseOfMovement=function(B$7,G2e){var i05=c28No;var n2H,P88,l9G,P9b,D_P,o0g,w8V,k8v;n2H="_";n2H+="EOM1 ";P88=G2e.chart.scrubbed;if(P88.length < G2e.days){G2e.error=!!1;return;}for(var o4B=Math.max(1,G2e.startFrom);o4B < P88.length;o4B++){l9G="_";l9G+="EO";l9G+="M1 ";i05.Q3k(106);var t29=i05.J4Z(17,16,9,44,0);P9b=(P88[o4B].High + P88[o4B].Low) / t29;i05.Q3k(42);var d1H=i05.J4Z(14,5,10,63);i05.Q3k(3);var K4p=i05.J3g(0,1);i05.P4c(131);var D3w=i05.J3g(32,10,0,3);D_P=(P88[o4B - d1H].High + P88[o4B - K4p].Low) / D3w;i05.Q3k(5);o0g=i05.J3g(D_P,P9b);w8V=P88[o4B].Volume / ("100000000" ^ 0) / (P88[o4B].High - P88[o4B].Low);i05.P4c(15);k8v=i05.J4Z(o0g,w8V);if(!isFinite(k8v)){P88[o4B]["_EOM1 " + G2e.name]=NaN;}else {P88[o4B][l9G + G2e.name]=k8v;}}K2j.Studies.MA(G2e.inputs["Moving Average Type"],G2e.days,n2H + G2e.name,0,"Result",B$7,G2e);};K2j.Studies.studyLibrary=K2j.extend(K2j.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:K2j.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":G3M}}});}};T_=w8y=>{var h$w,J_F,Q6R;h$w="u";h$w+="nd";h$w+="ef";h$w+="ined";J_F=typeof _CIQ !== h$w?_CIQ:w8y.CIQ;if(!J_F.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {Q6R="#F";Q6R+="F00";Q6R+="00";J_F.Studies.calculateEhlerFisher=function(s6A,F0x){var Z54=c28No;var s1_,C6d,s86,X3q,W_v,b6Z,J9G;Z54.e5w();s1_=F0x.chart.scrubbed;function x9v(O5w,D_j){var H9T,X7V,K2K;Z54.e5w();H9T=Number.MAX_VALUE;Z54.Q3k(132);var O90=Z54.J3g(36,0,19,1,16);X7V=Number.MAX_VALUE * O90;for(var l7B=D_j - O5w + 1;l7B <= D_j;l7B++){Z54.P4c(133);var G86=Z54.J3g(8,10,4,20,4);K2K=(s1_[l7B].High + s1_[l7B].Low) / G86;H9T=Math.min(H9T,K2K);X7V=Math.max(X7V,K2K);}return [H9T,X7V];}if(s1_.length < F0x.days + 1){F0x.error=!"";return;}Z54.P4c(5);C6d=Z54.J3g(0,"0");if(F0x.startFrom > 1){Z54.Q3k(7);var a1L=Z54.J3g(0,18,19);C6d=s1_[F0x.startFrom - a1L]["_n " + F0x.name];}for(var F48=F0x.startFrom;F48 < s1_.length;F48++){s86="E";s86+="F";s86+=" ";X3q=s1_[F48];if(X3q.futureTick)break;if(F48 < F0x.days - ("1" ^ 0)){W_v="EF Tr";W_v+="igge";W_v+="r";W_v+=" ";X3q["EF " + F0x.name]=X3q[W_v + F0x.name]=C6d;continue;}b6Z=x9v(F0x.days,F48);Z54.Q3k(5);var p05=Z54.J4Z(6,8);Z54.Q3k(5);var u9_=Z54.J3g(2,4);Z54.P4c(105);var B2g=Z54.J3g(11,3,16,2);C6d=0.33 * p05 * (((s1_[F48].High + s1_[F48].Low) / u9_ - b6Z[0]) / Math.max(0.000001,b6Z[1] - b6Z["0" << B2g]) - 0.5) + +"0.67" * C6d;if(C6d > 0){C6d=Math.min(C6d,0.9999);}else if(C6d < "0" * 1){C6d=Math.max(C6d,-+"0.9999");}J9G=F48?s1_[F48 - 1]["EF " + F0x.name]:0;Z54.P4c(134);var l_q=Z54.J3g(281,2,14,10);Z54.Q3k(5);var s8h=Z54.J3g(12,13);X3q[s86 + F0x.name]=0.5 * Math.log((l_q + C6d) / (s8h - C6d)) + +"0.5" * J9G;X3q["EF Trigger " + F0x.name]=J9G;X3q["_n " + F0x.name]=C6d;}};J_F.Studies.studyLibrary=J_F.extend(J_F.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:J_F.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":Q6R}}});}};M5=W7t=>{var V2W,r6s;V2W=typeof _CIQ !== "undefined"?_CIQ:W7t.CIQ;if(!V2W.Studies){console.error("elder feature requires first activating studies feature.");}else {r6s="#";r6s+="FF0";r6s+="000";V2W.Studies.calculateElderImpulse=function(Y2L,W64){var c7H=c28No;var R16,X8S,M7B,m$B,C61,I5J,u7C,y3N,U3D,l$Z,C6_,e28;R16="m";R16+="ac";R16+="d";X8S=Y2L.layout.aggregationType;M7B=Y2L.chart.customChart;if(M7B){m$B="o";m$B+="h";m$B+="lc";if(W64.disabled || X8S && X8S != m$B){if(!W64.disabled){W64.error="Elder Impulse study is not compatible with aggregated chart types.";}if(M7B.colorFunction){M7B.priorColorFunction=M7B.colorFunction;}if(M7B.chartType){M7B.priorChartType=M7B.chartType;}M7B.colorFunction=null;M7B.chartType=null;Y2L.setMainSeriesRenderer();return;}if(M7B.priorColorFunction){M7B.colorFunction=M7B.priorColorFunction;M7B.priorColorFunction=null;M7B.chartType=M7B.priorChartType;M7B.priorChartType=null;Y2L.setMainSeriesRenderer();}}C61=W64.chart.scrubbed;I5J=W64.outputs.Bullish;u7C=W64.outputs.Bearish;y3N=W64.outputs.Neutral;c7H.Q3k(25);V2W.Studies.MA("exponential",+"13","Close",c7H.J4Z("0",1),"_MA",Y2L,W64);c7H.Q3k(97);var o_a=c7H.J3g(3067,1020,6,3);c7H.P4c(5);var h79=c7H.J4Z(2,6592);c7H.P4c(135);var E2d=c7H.J4Z(1,4627,20,273);c7H.Q3k(126);var J35=c7H.J4Z(7,9125,1,5,5);c7H.P4c(5);var n7o=c7H.J3g(15,7240);c7H.Q3k(38);var N6H=c7H.J3g(3,139080,131757);W64.macd=new V2W.Studies.StudyDescriptor((o_a >= h79?371.45:(745.71,E2d) == 445.03?214.06:("938.3" - 0,J35) > (n7o,+"5767")?"_":N6H) + W64.name,R16,W64.panel);W64.macd.chart=W64.chart;W64.macd.days=W64.days;W64.macd.startFrom=W64.startFrom;W64.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};W64.macd.outputs={_MACD:null,_Signal:null};V2W.Studies.calculateMACD(Y2L,W64.macd);for(var Y1i=W64.startFrom;Y1i < C61.length;Y1i++){l$Z="_";l$Z+="M";l$Z+="A";l$Z+=" ";C6_="_h";C6_+="ist";e28="_";e28+="M";e28+="A ";if(Y1i === 0){U3D=y3N;}else if(C61[Y1i][e28 + W64.name] > C61[Y1i - 1]["_MA " + W64.name] && C61[Y1i]["_" + W64.name + "_hist"] > C61[Y1i - 1][((57.77,1710) === (9949,9040)?("V",484.11):8460 < (3010,7705)?("C",+"966.44"):(9240,701.64) < 4290?"_":![]) + W64.name + C6_]){U3D=I5J;}else if(C61[Y1i]["_MA " + W64.name] < C61[Y1i - 1][l$Z + W64.name] && C61[Y1i][("815.33" * 1 > 587.16?"_":0x1d7b) + W64.name + "_hist"] < C61[Y1i - 1][("621.72" * 1 >= (512.07,"530.43" * 1)?1548 == +"2370"?2.20e+3:(89.12,625) <= 6291?"_":"p":(!!({}),!!1)) + W64.name + "_hist"]){U3D=u7C;}else {U3D=y3N;}C61[Y1i]["Result " + W64.name]=U3D;}};V2W.Studies.calculateElderRay=function(D6R,G9S){var g51,S_0,Q_i,k1Z,I90;c28No.X77();g51="_";g51+="hi";g51+="st1";S_0="_EM";S_0+="A";Q_i=G9S.chart.scrubbed;if(Q_i.length < G9S.days){G9S.error=!!({});return;}V2W.Studies.MA("exponential",G9S.days,"Close",0,S_0,D6R,G9S);for(var v54=Math.max(G9S.startFrom,G9S.days - +"1");v54 < Q_i.length;v54++){k1Z="_";k1Z+="hist2";I90="_";I90+="his";I90+="t";I90+="1";Q_i[v54][G9S.name + I90]=Q_i[v54].High - Q_i[v54]["_EMA " + G9S.name];Q_i[v54][G9S.name + k1Z]=Q_i[v54].Low - Q_i[v54]["_EMA " + G9S.name];}G9S.outputMap={};G9S.outputMap[G9S.name + g51]="";G9S.outputMap[G9S.name + "_hist2"]="";};V2W.Studies.calculateElderForce=function(N7r,f1m){var k_1,J4H;k_1="_";k_1+="E";k_1+="F1";k_1+=" ";J4H=f1m.chart.scrubbed;if(J4H.length < f1m.days){f1m.error=!![];return;}for(var z8o=Math.max(1,f1m.startFrom);z8o < J4H.length;z8o++){c28No.P4c(53);var d7C=c28No.J4Z(9,9,2,1);J4H[z8o]["_EF1 " + f1m.name]=J4H[z8o].Volume * (J4H[z8o].Close - J4H[z8o - d7C].Close);}V2W.Studies.MA("exponential",f1m.days,k_1 + f1m.name,0,"Result",N7r,f1m);};V2W.Studies.initElderImpulse=function(H8n,H4j,h98,u0F,M0w,j0A){var a18;a18=V2W.Studies.initializeFN(H8n,H4j,h98,u0F,M0w,j0A);if(!M0w.calculateOnly){if(!H8n.chart || !H8n.chart.panel || H8n.chart.customChart && H8n.chart.customChart.owner !== a18.name){H8n.dispatch("notification","eldercannotadd");return;}H8n.chart.customChart={owner:a18.name,chartType:"colored_bar",colorFunction:function(b5v,q1A,N7c){var B1c;if(!q1A){return;}B1c=q1A["Result " + a18.name];if(B1c && typeof B1c == "object"){B1c=B1c.color;}c28No.X77();return B1c;}};H8n.setMainSeriesRenderer();}return a18;};V2W.Studies.displayElderForce=function(D6r,o4N,h0t){var p9W,J$v,y$L,L8E;V2W.Studies.displaySeriesAsLine(D6r,o4N,h0t);p9W=V2W.Studies.determineColor(o4N.outputs.Result);J$v=D6r.panels[o4N.panel];y$L=o4N.getYAxis(D6r);L8E={skipTransform:J$v.name != o4N.chart.name,panelName:o4N.panel,band:"Result " + o4N.name,threshold:0,color:p9W,yAxis:y$L};if(!o4N.highlight && D6r.highlightedDraggable){L8E.opacity=+"0.3";}L8E.direction=1;V2W.preparePeakValleyFill(D6r,L8E);L8E.direction=-+"1";V2W.preparePeakValleyFill(D6r,L8E);};V2W.Studies.displayElderRay=function(u6F,R_a,X$L){var P56,m1G,d9$,P0g,n_H,K4h,e5C,h5D,C1h,Y3u,G6I,s2J,W79;P56=u6F.panels[R_a.panel];m1G=R_a.getContext(u6F);d9$=R_a.getYAxis(u6F);function U7D(Q_f,X5q,l00,N08){m1G.fillStyle=V2W.Studies.determineColor(R_a.outputs[l00]);m1G.fillRect(Math.floor(u6F.pixelFromBar(Q_f,P56.chart) - n_H / +"2" + n_H * X5q),Math.floor(P0g),Math.floor(n_H * (1 - 2 * X5q)),Math.floor(u6F.pixelFromPrice(W79[R_a.name + N08],P56,d9$) - P0g));}P0g=u6F.pixelFromPrice(0,P56,d9$);c28No.Q3k(3);var M$M=c28No.J4Z(0,2);n_H=u6F.layout.candleWidth - M$M;if(n_H < 2){n_H=1;}u6F.canvasColor("stx_histogram");K4h=m1G.fillStyle;if(!R_a.underlay){m1G.globalAlpha=1;}u6F.startClip(R_a.panel);if(!R_a.highlight && u6F.highlightedDraggable){m1G.globalAlpha*=+"0.3";}for(var b_v="0" * 1;b_v < X$L.length;b_v++){e5C="_h";e5C+="is";e5C+="t2";h5D="_";h5D+="hist1";C1h="_his";C1h+="t2";Y3u="_h";Y3u+="is";Y3u+="t1";G6I="Elder";G6I+=" Bull Po";G6I+="wer";s2J="_h";s2J+="ist1";W79=X$L[b_v];if(!W79)continue;if(W79.candleWidth){n_H=Math.floor(Math.max(+"1",W79.candleWidth - +"2"));}if(W79[R_a.name + s2J] > ("0" ^ 0)){U7D(b_v,0,G6I,Y3u);}if(W79[R_a.name + C1h] < 0){U7D(b_v,0,"Elder Bear Power","_hist2");}if(W79[R_a.name + "_hist1"] < 0){U7D(b_v,0.1,"Elder Bull Power",h5D);}if(W79[R_a.name + e5C] > 0){U7D(b_v,0.1,"Elder Bear Power","_hist2");}}u6F.endClip();m1G.fillStyle=K4h;};V2W.Studies.studyLibrary=V2W.extend(V2W.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:V2W.Studies.calculateElderForce,seriesFN:V2W.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:V2W.Studies.displayElderRay,calculateFN:V2W.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":r6s}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:V2W.Studies.calculateElderImpulse,initializeFN:V2W.Studies.initElderImpulse,seriesFN:null,customRemoval:!!1,underlay:!"",inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(c5M,V2V){if(!c5M.chart || c5M.chart.customChart && c5M.chart.customChart.owner !== V2V.name){return;}c5M.chart.customChart=null;c28No.e5w();c5M.setMainSeriesRenderer();}}});}};F6=P1H=>{var Y29,H0E,F1d,G$n;Y29=typeof _CIQ !== "undefined"?_CIQ:P1H.CIQ;if(!Y29.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {H0E="a";H0E+="u";H0E+="t";H0E+="o";F1d="Fract";F1d+="al Chaos ";F1d+="Ban";F1d+="ds";G$n="-";G$n+="1 t";G$n+="o";G$n+=" 1";Y29.Studies.calculateFractalChaos=function(A4V,j7x){var D3g=c28No;var b3V,K6m,v1x,g5f,B12,W3M,i0D,z2R;b3V="Fra";b3V+="ctal Chaos Bands";K6m=j7x.chart.scrubbed;v1x=0;D3g.X77();g5f=0;B12=0;if(j7x.startFrom && j7x.type == b3V){D3g.P4c(90);var N1L=D3g.J3g(18,9,15,29161,12);v1x=K6m[j7x.startFrom - N1L]["Fractal High " + j7x.name];D3g.Q3k(131);var G0r=D3g.J3g(134,19,0,7);g5f=K6m[j7x.startFrom - G0r]["Fractal Low " + j7x.name];}for(var d$Z=Math.max(+"4",j7x.startFrom);d$Z < K6m.length;d$Z++){if(K6m[d$Z].futureTick)break;W3M=!isNaN(K6m[d$Z].High);i0D=!isNaN(K6m[d$Z].Low);if(W3M || i0D){D3g.P4c(0);K6m[d$Z]["Result " + j7x.name]=D3g.J3g("0",0);}D3g.Q3k(0);B12=D3g.J3g("0",0);for(z2R=0;z2R <= d$Z;z2R++){if(!K6m[d$Z - z2R])break;if(K6m[d$Z - z2R].High > K6m[d$Z - 2].High)break;if(z2R < 2 && K6m[d$Z - z2R].High == K6m[d$Z - 2].High)break;if(K6m[d$Z - z2R].High < K6m[d$Z - 2].High){B12++;}if(B12 == 4){v1x=K6m[d$Z - 2].High;break;}}if(j7x.type == "Fractal Chaos Bands"){if(W3M){K6m[d$Z]["Fractal High " + j7x.name]=v1x > 0?v1x:null;}}else if(B12 == 4){K6m[d$Z]["Result " + j7x.name]=+"1";}B12=0;for(z2R=0;z2R <= d$Z;z2R++){if(!K6m[d$Z - z2R])break;if(K6m[d$Z - z2R].Low < K6m[d$Z - ("2" | 2)].Low)break;if(z2R < 2 && K6m[d$Z - z2R].Low == K6m[d$Z - "2" * 1].Low)break;if(K6m[d$Z - z2R].Low > K6m[d$Z - 2].Low){B12++;}if(B12 == +"4"){g5f=K6m[d$Z - 2].Low;break;}}if(j7x.type == "Fractal Chaos Bands"){if(i0D){K6m[d$Z]["Fractal Low " + j7x.name]=g5f > 0?g5f:null;}}else if(B12 == "4" * 1){K6m[d$Z]["Result " + j7x.name]=-1;}}};Y29.Studies.studyLibrary=Y29.extend(Y29.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:G$n,calculateFN:Y29.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:F1d,overlay:!!1,calculateFN:Y29.Studies.calculateFractalChaos,seriesFN:Y29.Studies.displayChannel,inputs:{"Channel Fill":!!"1"},outputs:{"Fractal High":"auto","Fractal Low":H0E,"Fractal Channel":"auto"}}});}};e1=J2C=>{var p1r=c28No;var g1N;g1N=typeof _CIQ !== "undefined"?_CIQ:J2C.CIQ;p1r.X77();if(!g1N.Studies){console.error("GoNoGo - Trend study requires first activating studies feature.");}else {(function r7t(){var g8s,k8p,o4Z,z67,B_d;g8s="#00bff";g8s+="f";function o5Z(c0h,B2_,B1x,P4l,h_z,p8Q,Z4E){g1N.Studies.MA(h_z,B1x,p8Q,P4l,Z4E,c0h,B2_);}k8p="#8";k8p+="08080";function X03(K$G,q0v,m7g,k_j,S41,u67){var d$0,Q7H;d$0="P";d$0+="S";d$0+="AR";Q7H=new g1N.Studies.StudyDescriptor(u67,d$0,q0v.panel,{"Minimum AF":m7g,"Maximum AF":k_j});Q7H.startFrom=q0v.startFrom;Q7H.chart=q0v.chart;g1N.Studies.calculatePSAR(K$G,Q7H);}o4Z="#";function D9g(W5h,S69,S8h,e7$,o7t,x9X,H3d,C6X,D31){var s63,e7b;p1r.e5w();s63={"Fast MA Period":S8h,"Slow MA Period":e7$,"Signal Period":o7t,"Moving Average Type":x9X,"Signal MA Type":H3d,Field:C6X};e7b=new g1N.Studies.StudyDescriptor(D31,"macd",S69.panel,s63);e7b.startFrom=S69.startFrom;e7b.chart=S69.chart;g1N.Studies.calculateMACD(W5h,e7b);}o4Z+="00ff";o4Z+="ff";function i4B(Y9q,k8s){var k2S,B43;var {customChart:P46}=Y9q.chart;if(P46){k2S="r";k2S+="enko";B43=Y9q.layout.aggregationType;if(k8s.disabled || B43 === "linebreak" || B43 === "kagi" || B43 === "pandf" || B43 === k2S){if(!k8s.disabled){k8s.error=B_d;}if(P46.colorFunction){P46.priorColorFunction=P46.colorFunction;}P46.colorFunction=null;return !1;}if(P46.priorColorFunction){P46.colorFunction=P46.priorColorFunction;P46.priorColorFunction=null;}}p1r.e5w();return !0;}function w6k(r88,a4h,P4F,d7E,Y0k){var b_I,a3s;b_I="Mo";b_I+="mentum";p1r.Q3k(111);var b1M=p1r.J3g(6,13560,1356,2196,7);a3s=new g1N.Studies.StudyDescriptor(Y0k + (104.88 >= b1M?("N",!!0):" ") + a4h.name,b_I,a4h.panel,{Field:d7E,Period:P4F});a3s.days=P4F;a3s.startFrom=a4h.startFrom;a3s.parameters=a4h.parameters;a3s.chart=a4h.chart;g1N.Studies.calculateRateOfChange(r88,a3s);}function r2R(z4Z,N_j){var I1p,e59,T24,N15,y1i,k77,J$h,r4e,B_p,m89,W0x;I1p="m";p1r.X77();I1p+="ys";I1p+="ar";e59="e";e59+="m";e59+="a";T24="mt";T24+="m";T24+="av";T24+="g";N15=N_j.chart.scrubbed;if(!Array.isArray(N15)){return;}if(!i4B(z4Z,N_j)){return;}w6k(z4Z,N_j,25,"Close","mtm");o5Z(z4Z,N_j,5,0,"sma","mtm " + N_j.name,T24);D9g(z4Z,N_j,12,26,9,"ema",e59,"Close","mymacd");o5Z(z4Z,N_j,50,0,"sma","Close","myma");X03(z4Z,N_j,0.2,0.2,0.2,I1p);p1r.P4c(4);y1i=`${p1r.J4Z(" ","T","rend")}${N_j.name}`;p1r.P4c(105);k77=`${p1r.J4Z("ll"," ","u","B")}${N_j.name}`;J$h=`Bear ${N_j.name}`;p1r.P4c(3);r4e=`${p1r.J4Z("Color"," ")}${N_j.name}`;N_j.outputMap={};for(var m50=N_j.startFrom;m50 < N15.length;m50++){B_p="Scor";B_p+="e ";m89=N15[m50];if(!m89 || typeof m89 !== "object"){continue;}p1r.Q3k(25);W0x=p1r.J3g("0",1);if(m89.Close > m89[`myma ${N_j.name}`]){W0x++;}if(m89.Close > m89[`Result mysar`]){W0x++;}if(m89[`MACD mymacd`] > +"0" && m89[`Signal mymacd`] > 0){W0x++;}if(m89[`${"m" + "t" + "mavg "}${N_j.name}`] > 0){W0x++;}m89[y1i]=W0x;m89[k77]=0;m89[J$h]=0;if(m50 > 0){if(m89[y1i] > 2.5 && N15[m50 - 1][y1i] <= 2.5){m89[k77]=1;}if(m89[y1i] < 2.0 && N15[m50 - 1][y1i] >= 2.0){m89[J$h]=-1;}}p1r.Q3k(3);m89[r4e]=N_j.outputs[p1r.J3g(B_p,W0x)];}}z67="GoN";function q0h(b4C,A1F,z9V,K3m,r1M,L9w){var U9j;p1r.X77();if(!r1M.initialized){r1M.yaxisDisplayValue=null;r1M.initialized=!"";}U9j=g1N.Studies.initializeFN(b4C,A1F,z9V,K3m,r1M,L9w);if(r1M && !r1M.panelName && U9j && U9j.panel){r1M.panelName=U9j.panel;}if(r1M.calculateOnly){return U9j;}if(X2q(b4C,U9j)){U9j.checkDisabled=!!"1";return U9j;}}z67+="oGo - Trend";function X2q(h8W,t4V){var e7V;if(!h8W.chart || !h8W.chart.panel || h8W.chart.customChart && h8W.chart.customChart.owner !== t4V.name){e7V="not";e7V+="ifi";e7V+="cation";h8W.dispatch(e7V,"gonogocannotadd");return;}h8W.chart.customChart={owner:t4V.name,colorFunction:function(m2W,i7y,O7b){var w0r,Y0l;p1r.e5w();w0r=i7y[`Color ${t4V.name}`];if(w0r && typeof w0r === "object"){w0r=w0r.color;}Y0l="#00000000";return w0r === "auto"?m2W.defaultColor:w0r || Y0l;}};h8W.setMainSeriesRenderer();return !![];}function d8d(y$p,i8N,L7w){var I_G,G3z,v7Q,H15,m39,a6L,G1U,X1u,K7K,X9l,L0N,W2R,d84,Q1g,N75,L1s,N2$,r$n,c26,X0v;I_G="a";I_G+="u";I_G+="t";I_G+="o";G3z="a";G3z+="u";G3z+="to";if(!Array.isArray(L7w)){return;}v7Q=y$p.panels[i8N.panel];if(!v7Q || i8N.noDraw){return;}H15=`Bull ${i8N.name}`;m39=`Bear ${i8N.name}`;a6L=Math.min(16,Math.max(8,Math.round(y$p.layout.candleWidth)));G1U=g1N.Studies.determineColor(i8N.outputs.Go);X1u=g1N.Studies.determineColor(i8N.outputs.NoGo);K7K=g1N.Studies.determineColor(i8N.outputs["Text Go"]);X9l=g1N.Studies.determineColor(i8N.outputs["Text NoGo"]);if(G1U === G3z){G1U=y$p.defaultColor;}if(X1u === "auto"){X1u=y$p.defaultColor;}if(K7K === I_G){K7K=g1N.chooseForegroundColor(G1U);}if(X9l === "auto"){X9l=g1N.chooseForegroundColor(X1u);}var {context:V5r}=y$p.chart;V5r.save();for(var M9a=0;M9a < L7w.length;M9a++){L0N=L7w[M9a];if(!L0N){continue;}if(L0N[H15] === +"1" || L0N[m39] === -+"1"){W2R="mid";W2R+="dl";W2R+="e";d84="N";d84+="o";d84+="G";d84+="o";p1r.Q3k(10);var q68=p1r.J3g(0,17,18);Q1g=L0N[H15] === q68;N75=y$p.pixelFromBar(M9a);L1s=Q1g?y$p.pixelFromPrice(L0N.Low) + a6L:y$p.pixelFromPrice(L0N.High) - a6L;N2$=4;r$n=Q1g?"Go":d84;V5r.font=`${a6L}px bold Roboto, sans-serif`;var {width:U39}=V5r.measureText(r$n);p1r.P4c(26);c26=p1r.J3g(2,U39,N2$);p1r.P4c(26);X0v=p1r.J3g(2,a6L,N2$);V5r.fillStyle=Q1g?G1U:X1u;p1r.Q3k(49);V5r.fillRect(p1r.J3g(N75,c26,2),p1r.J3g(L1s,X0v,2),c26,X0v);V5r.fillStyle=Q1g?K7K:X9l;V5r.textAlign="center";V5r.textBaseline=W2R;V5r.fillText(r$n,N75,L1s);}}V5r.restore();}function p_n(t0O,i7o){p1r.X77();if(!t0O.chart || t0O.chart.customChart && t0O.chart.customChart.owner !== i7o.name){return;}t0O.chart.customChart=null;t0O.setMainSeriesRenderer();}B_d="GoNoGo study is not compatible with selected aggregation type.";g1N.Studies.studyLibrary=g1N.extend(g1N.Studies.studyLibrary,{"GoNoGo Trend":{name:z67,overlay:!![],initializeFN:q0h,calculateFN:r2R,seriesFN:d8d,removeFN:p_n,inputs:{},outputs:{Go:o4Z,NoGo:"#b500b5","Text Go":k8p,"Text NoGo":"#ffffff","Score 0":"#8b008b","Score 1":"#ee82ee","Score 2":"#d2691e","Score 3":"#7fffd4","Score 4":g8s},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!!({})},underlayEnabled:{hidden:!![]}}}});})();}};j7=L5J=>{var s_m=c28No;var v5d,c$q,Y5I,E96,l8o,f4P,X7Y,B99;v5d=1058348543;c$q=1781889881;Y5I=2;s_m.X77();for(var T$8=1;s_m.Y5Z(T$8.toString(),T$8.toString().length,"56484" * 1) !== v5d;T$8++){E96=+_CIQ == ""?_CIQ:L5J.CIQ;Y5I+=2;}if(s_m.Y5Z(Y5I.toString(),Y5I.toString().length,6566) !== c$q){E96=+_CIQ == ""?_CIQ:L5J.CIQ;}E96=typeof _CIQ !== "undefined"?_CIQ:L5J.CIQ;if(!E96.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {l8o="a";l8o+="u";l8o+="t";l8o+="o";f4P="Gopalakr";f4P+="ishnan ";f4P+="Range In";f4P+="dex";X7Y="Donchian";X7Y+=" Width";B99="au";B99+="t";B99+="o";E96.Studies.calculateMaxHighMinLow=function(M_H,M7T){var t5u,y77,K7t,t4U,a1Q,P4r,W8C,A7g,N_C,W4u,g94,n0M,b98,U7M;t5u="H";t5u+="i";t5u+="gh Period";s_m.X77();y77=M7T.chart.scrubbed;K7t=M7T.days;t4U=M7T.days;if(M7T.inputs[t5u]){K7t=M7T.inputs["High Period"];}if(M7T.inputs["Low Period"]){t4U=M7T.inputs["Low Period"];}if(y77.length < Math.max(K7t,t4U) + 1){M7T.error=!!"1";return;}a1Q=Number.MAX_VALUE;P4r=Number.MAX_VALUE * -+"1";if(M7T.startFrom > 1){for(W8C=+"1";W8C < K7t;W8C++){if(M7T.startFrom - W8C >= 0){P4r=Math.max(P4r,y77[M7T.startFrom - W8C].High);}}for(W8C=1;W8C < t4U;W8C++){if(M7T.startFrom - W8C >= 0){a1Q=Math.min(a1Q,y77[M7T.startFrom - W8C].Low);}}}for(var j3y=Math.max("0" - 0,M7T.startFrom - 1);j3y < y77.length;j3y++){A7g="Wi";A7g+="lliams %";A7g+="R";N_C="VT HZ";N_C+=" Filte";N_C+="r";W4u="Donchi";W4u+="an Widt";W4u+="h";g94="L";g94+="L";g94+="V";n0M="H";n0M+="H";n0M+="V";P4r=Math.max(P4r,y77[j3y].High);a1Q=Math.min(a1Q,y77[j3y].Low);if(j3y >= K7t){if(y77[j3y - K7t].High == P4r){P4r=y77[j3y].High;for(W8C=1;W8C < K7t;W8C++){P4r=Math.max(P4r,y77[j3y - W8C].High);}}}if(j3y >= t4U){if(y77[j3y - t4U].Low == a1Q){a1Q=y77[j3y].Low;for(W8C=1;W8C < t4U;W8C++){a1Q=Math.min(a1Q,y77[j3y - W8C].Low);}}}b98=0;if(M7T.type == n0M){b98=P4r;}else if(M7T.type == g94){b98=a1Q;}else if(M7T.type == W4u){s_m.Q3k(5);b98=s_m.J4Z(a1Q,P4r);}else if(M7T.type == "GAPO" || M7T.type == "Gopala"){b98=Math.log(P4r - a1Q) / Math.log(t4U);}else if(M7T.type == N_C){s_m.P4c(5);b98=s_m.J4Z(a1Q,P4r);y77[j3y]["_MHML " + M7T.name]=b98;continue;}else if(M7T.type == A7g){U7M="Re";U7M+="s";U7M+="ult";U7M+=" ";s_m.Q3k(5);var h2Y=s_m.J3g(16,17);b98=-("100" * h2Y) * (P4r - y77[j3y].Close) / (P4r - a1Q);y77[j3y][U7M + M7T.name]=b98;continue;}if(j3y == y77.length - 1)break;if(!y77[j3y + 1].futureTick){if(M7T.type == "Donchian Channel"){s_m.P4c(3);y77[s_m.J4Z(j3y,1)]["Donchian High " + M7T.name]=P4r;s_m.P4c(3);y77[s_m.J3g(j3y,1)]["Donchian Low " + M7T.name]=a1Q;s_m.P4c(3);y77[s_m.J4Z(j3y,1)]["Donchian Median " + M7T.name]=s_m.J4Z(2,a1Q,P4r,s_m.Q3k(13));}else {s_m.Q3k(136);y77[s_m.J4Z(0,"1",j3y)]["Result " + M7T.name]=b98;}}}};E96.Studies.calculateVerticalHorizontalFilter=function(A5q,D_k){var c4z,P3M,x9t,c8L;s_m.e5w();c4z=D_k.chart.scrubbed;if(c4z.length < D_k.days + 1){D_k.error=!"";return;}D_k.mhml=new E96.Studies.StudyDescriptor(D_k.name,D_k.type,D_k.panel);D_k.mhml.chart=D_k.chart;D_k.mhml.days=D_k.days;D_k.mhml.startFrom=D_k.startFrom;D_k.mhml.inputs={};D_k.mhml.outputs={_MHML:null};E96.Studies.calculateMaxHighMinLow(A5q,D_k.mhml);P3M=0;x9t=[];for(var Y$2=Math.max("1" ^ 0,D_k.startFrom - D_k.days);Y$2 < c4z.length;Y$2++){c8L=Math.abs(c4z[Y$2].Close - c4z[Y$2 - 1].Close);x9t.push(c8L);P3M+=c8L;if(x9t.length == D_k.days){c4z[Y$2]["Result " + D_k.name]=c4z[Y$2]["_MHML " + D_k.name] / P3M;P3M-=x9t.shift();}}};E96.Studies.studyLibrary=E96.extend(E96.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:E96.Studies.calculateMaxHighMinLow,seriesFN:E96.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!![]},outputs:{"Donchian High":"auto","Donchian Median":B99,"Donchian Low":"auto"}},"Donchian Width":{name:X7Y,calculateFN:E96.Studies.calculateMaxHighMinLow,inputs:{"High Period":"20" | 4,"Low Period":20}},GAPO:{name:f4P,calculateFN:E96.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:E96.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:E96.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:E96.Studies.calculateMaxHighMinLow,inputs:{Period:"14" ^ 0},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:-("20" * 1),studyOverBoughtColor:l8o,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:E96.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(p67,i7k){var R4L,W4Y;R4L=i7k.chart.scrubbed;for(var v$M=i7k.startFrom;v$M < R4L.length;v$M++){W4Y="Resul";W4Y+="t ";R4L[v$M][W4Y + i7k.name]=R4L[v$M].High - R4L[v$M].Low;}},inputs:{}}});}};o0=C5I=>{var x0c,U5q,I0W;x0c=typeof _CIQ !== "undefined"?_CIQ:C5I.CIQ;if(!x0c.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {U5q="#";U5q+="00F";U5q+="F0";U5q+="0";I0W="Ichimoku C";I0W+="lo";I0W+="ud";I0W+="s";x0c.Studies.calculateIchimoku=function(B7M,b4E){var l7y=c28No;var U66,r0e,K23,f8$,A7v,u$u,h4f,T2V,b5Z,R4p,U$W;l7y.e5w();function g40(J_d,J3o){l7y.e5w();var W0I,d8A;W0I=Number.MAX_VALUE;l7y.P4c(137);var L23=l7y.J4Z(17,11,407,13);d8A=Number.MAX_VALUE * L23;for(var b$4=J3o - J_d + 1;b$4 <= J3o;b$4++){if(b$4 < 0)continue;W0I=Math.min(W0I,r0e[b$4].Low);d8A=Math.max(d8A,r0e[b$4].High);}return [W0I,d8A];}U66="Base Line Peri";U66+="od";r0e=b4E.chart.scrubbed;K23={Base:Number(b4E.inputs[U66]),Conv:Number(b4E.inputs["Conversion Line Period"]),LeadB:Number(b4E.inputs["Leading Span B Period"]),Lag:Number(b4E.inputs["Lagging Span Period"])};for(f8$=b4E.startFrom;f8$ < r0e.length;f8$++){u$u="B";u$u+="ase Line ";if(!r0e[f8$])continue;A7v=g40(K23.Conv,f8$);l7y.Q3k(138);var T9D=l7y.J4Z(10,12,2,2,3);l7y.Q3k(5);var F34=l7y.J3g(10,12);r0e[f8$]["Conversion Line " + b4E.name]=(A7v[T9D] + A7v[0]) / F34;A7v=g40(K23.Base,f8$);l7y.P4c(139);var F1Y=l7y.J3g(13,1,8,3,18);r0e[f8$][u$u + b4E.name]=(A7v[F1Y] + A7v[0]) / ("2" >> 0);if(f8$ < K23.Lag)continue;r0e[f8$ - K23.Lag]["Lagging Span " + b4E.name]=r0e[f8$].Close;}h4f=[];for(f8$=Math.max(0,b4E.startFrom - K23.Base);f8$ < r0e.length;f8$++){A7v=g40(K23.LeadB,f8$);l7y.Q3k(5);var z8S=l7y.J4Z(24,26);T2V=(r0e[f8$]["Conversion Line " + b4E.name] + r0e[f8$]["Base Line " + b4E.name]) / z8S;l7y.Q3k(3);var k4K=l7y.J3g(0,1);b5Z=(A7v[k4K] + A7v[0]) / +"2";if(r0e[f8$ + K23.Base]){R4p="Leading Sp";R4p+="a";R4p+="n B ";r0e[f8$ + K23.Base]["Leading Span A " + b4E.name]=T2V;r0e[f8$ + K23.Base][R4p + b4E.name]=b5Z;}else {U$W={};U$W["Leading Span A " + b4E.name]=T2V;U$W["Leading Span B " + b4E.name]=b5Z;h4f.push(U$W);}}b4E.appendFutureTicks(B7M,h4f);};x0c.Studies.displayIchimoku=function(M_a,V$a,o29){var M$3,G4_,w59,M4e,g5Z,c4p,v0x,m__;c28No.X77();M$3="Leading";M$3+=" Span B ";G4_="Leading Span A " + V$a.name;w59=M$3 + V$a.name;M4e=x0c.Studies.determineColor(V$a.outputs[V$a.outputMap[G4_]]);g5Z=x0c.Studies.determineColor(V$a.outputs[V$a.outputMap[w59]]);c4p=M_a.panels[V$a.panel];v0x=V$a.getYAxis(M_a);m__={topBand:G4_,bottomBand:w59,topColor:M4e,bottomColor:g5Z,skipTransform:c4p.name != V$a.chart.name,topAxis:v0x,bottomAxis:v0x,opacity:0.3};if(!V$a.highlight && M_a.highlightedDraggable){m__.opacity*=0.3;}x0c.fillIntersecting(M_a,V$a.panel,m__);x0c.Studies.displaySeriesAsLine(M_a,V$a,o29);};x0c.Studies.studyLibrary=x0c.extend(x0c.Studies.studyLibrary,{"Ichimoku Clouds":{name:I0W,overlay:!!({}),calculateFN:x0c.Studies.calculateIchimoku,seriesFN:x0c.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":+"52","Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":U5q,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};A5=N_9=>{var O7I=c28No;var T$I;T$I=typeof _CIQ !== "undefined"?_CIQ:N_9.CIQ;O7I.e5w();if(!T$I.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {T$I.Studies.calculateIntradayMomentum=function(Y35,a5V){var s12,x13,v1J,l$E,s8j,n0B;s12=a5V.chart.scrubbed;x13=a5V.days;if(s12.length < x13 + 1){a5V.error=!!"1";return;}v1J=+"0";O7I.Q3k(0);l$E=O7I.J3g("0",0);if(a5V.startFrom > 1){O7I.P4c(134);var j5i=O7I.J4Z(2251,15,10,15);v1J=s12[a5V.startFrom - j5i]["_totUp " + a5V.name];O7I.Q3k(120);var A9e=O7I.J4Z(9,5,46);l$E=s12[a5V.startFrom - A9e]["_totDn " + a5V.name];}for(var D1j=a5V.startFrom;D1j < s12.length;D1j++){s8j=s12[D1j].Close - s12[D1j].Open;if(s8j > 0){v1J+=s8j;}else {l$E-=s8j;}if(D1j >= x13){n0B=s12[D1j - x13].Close - s12[D1j - x13].Open;if(n0B > 0){v1J-=n0B;}else {l$E+=n0B;}}O7I.Q3k(140);s12[D1j]["Result " + a5V.name]=O7I.J3g(l$E,32,v1J,"100",v1J);s12[D1j]["_totUp " + a5V.name]=v1J;s12[D1j]["_totDn " + a5V.name]=l$E;}};T$I.Studies.studyLibrary=T$I.extend(T$I.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:T$I.Studies.calculateIntradayMomentum,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};u7=y2q=>{var x9F,S0X;x9F=typeof _CIQ !== "undefined"?_CIQ:y2q.CIQ;if(!x9F.Studies){console.error("keltner feature requires first activating studies feature.");}else {S0X="a";S0X+="uto";x9F.Studies.calculateKeltner=function(x6f,X50){x9F.Studies.MA(X50.inputs["Moving Average Type"],X50.days,"Close",0,"MA",x6f,X50);x9F.Studies.calculateStudyATR(x6f,X50);x9F.Studies.calculateGenericEnvelope(x6f,X50,X50.inputs.Shift,"MA " + X50.name,"ATR " + X50.name);};x9F.Studies.studyLibrary=x9F.extend(x9F.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!!({}),seriesFN:x9F.Studies.displayChannel,calculateFN:x9F.Studies.calculateKeltner,inputs:{Period:10,Shift:5,"Moving Average Type":"ema","Channel Fill":!!({})},outputs:{"Keltner Top":S0X,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};B$=U4p=>{var D6d,O0u;D6d=typeof _CIQ !== "undefined"?_CIQ:U4p.CIQ;if(!D6d.Studies){console.error("klinger feature requires first activating studies feature.");}else {O0u="#";O0u+="FF0";O0u+="0";O0u+="00";D6d.Studies.calculateKlinger=function(J$L,h_f){var u91,E4y,Z_X,f1I,b3G,m48,S4t,Y9r,L7a,h2T,P77,h69,J_y,y6K,V$9,H6E;u91="_";u91+="E";u91+="M";u91+="A-L ";E4y="K";E4y+="lin";E4y+="ger";E4y+=" ";Z_X="_";Z_X+="h";Z_X+="is";Z_X+="t";f1I="Lo";f1I+="ng ";f1I+="Cycle";b3G="S";b3G+="hor";b3G+="t Cycl";b3G+="e";m48=h_f.chart.scrubbed;S4t=Number(h_f.inputs[b3G]);Y9r=Number(h_f.inputs[f1I]);if(m48.length < Math.max(S4t,Y9r) + 1){h_f.error=!![];return;}L7a=h_f.name + Z_X;h2T=E4y + h_f.name;P77="KlingerSignal " + h_f.name;h69="_SV " + h_f.name;J_y="_EMA-S " + h_f.name;y6K=u91 + h_f.name;for(V$9=Math.max(1,h_f.startFrom);V$9 < m48.length;V$9++){H6E=m48[V$9].Volume;if(m48[V$9]["hlc/3"] < m48[V$9 - 1]["hlc/3"]){H6E*=-1;}if(H6E){m48[V$9][h69]=H6E;}}D6d.Studies.MA("exponential",S4t,h69,+"0","_EMA-S",J$L,h_f);D6d.Studies.MA("exponential",Y9r,h69,+"0","_EMA-L",J$L,h_f);for(V$9=Math.max(Y9r,h_f.startFrom);V$9 < m48.length;V$9++){if(m48[V$9].futureTick || m48[V$9][J_y] === null || m48[V$9][y6K] === null)break;m48[V$9][h2T]=m48[V$9][J_y] - m48[V$9][y6K];}D6d.Studies.MA("exponential",Number(h_f.inputs["Signal Periods"]),h2T,"0" * 1,"KlingerSignal",J$L,h_f);for(V$9=h_f.startFrom;V$9 < m48.length;V$9++){m48[V$9][L7a]=m48[V$9][h2T] - m48[V$9][P77];}h_f.outputMap[L7a]="";};D6d.Studies.studyLibrary=D6d.extend(D6d.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:D6d.Studies.displayHistogramWithSeries,calculateFN:D6d.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":O0u}}});}};T9=C1N=>{var d7v=c28No;var g7x,i0J,q_i,B7J,Z7i,a6r,l7a,s5$;g7x="u";g7x+="n";g7x+="def";g7x+="ined";d7v.e5w();i0J=typeof _CIQ !== g7x?_CIQ:C1N.CIQ;if(!i0J.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {q_i="a";q_i+="u";q_i+="to";B7J="au";B7J+="to";Z7i="au";Z7i+="to";a6r="fi";a6r+="e";a6r+="l";a6r+="d";l7a="Linear Reg Foreca";l7a+="st";s5$="Ti";s5$+="me Seri";s5$+="es";i0J.Studies.prettify["time series"]="tsma";i0J.Studies.movingAverage.conversions.tsma="time series";i0J.Studies.movingAverage.translations["time series"]=s5$;i0J.Studies.movingAverage.typeMap.tsma="TimeSeries";i0J.Studies.movingAverage.typeMap["time series"]="TimeSeries";i0J.Studies.calculateMovingAverageTimeSeries=function(G6G,u60){var O96,a$U,i6M,z$g,R76,L9z,H8P,Z$w,l7w;u60.ma=new i0J.Studies.StudyDescriptor(u60.name,"ma",u60.panel);u60.ma.chart=u60.chart;u60.ma.days=u60.days;u60.ma.startFrom=u60.startFrom;u60.ma.inputs=u60.inputs;i0J.Studies.calculateLinearRegressionIndicator(G6G,u60.ma);O96=u60.name;for(var S86 in u60.outputs){d7v.P4c(4);O96=d7v.J3g(O96,S86," ");}a$U=parseInt(u60.inputs.Offset,10);if(isNaN(a$U)){a$U=0;}i6M=u60.chart.scrubbed;z$g=a$U;for(var j9a=u60.startFrom - +"1";j9a >= 0;j9a--){R76=i0J.Studies.getQuoteFieldValue(i6M[j9a],O96);if(R76 === null)continue;if(z$g > 0){z$g--;continue;}break;}L9z=[];for(j9a++;j9a < i6M.length;j9a++){H8P=i6M[j9a];if(j9a + a$U >= 0){Z$w="For";Z$w+="ecast";Z$w+=" ";if(j9a + a$U < i6M.length){d7v.P4c(3);i6M[d7v.J3g(j9a,a$U)][O96]=H8P[Z$w + u60.name];}else {l7w={};l7w[O96]=H8P["Forecast " + u60.name];L9z.push(l7w);}}}u60.appendFutureTicks(G6G,L9z);};i0J.Studies.calculateLinearRegressionIndicator=function(a4V,g$4){var h2W,o84,E0J,v6c,z1i,v8D,v1w,O5H,o7$,e0M,y2u,V4h,P8I,Q$0,f63,n81,R0h;h2W="C";h2W+="l";h2W+="ose";o84=g$4.chart.scrubbed;if(o84.length < g$4.days + 1){g$4.error=!!({});return;}E0J=g$4.inputs.Field;if(!E0J || E0J == "field"){E0J=h2W;}d7v.Q3k(141);var d7m=d7v.J4Z(12,7,1,76,7);v6c=g$4.days * (g$4.days + "1" * d7m) / ("2" - 0);z1i=Math.pow(v6c,2);d7v.Q3k(45);var c7l=d7v.J3g(8,6);d7v.P4c(142);var D49=d7v.J4Z(12,12,0,4,4);d7v.Q3k(38);var A5r=d7v.J4Z(9,39,27);v8D=v6c * (c7l * g$4.days + D49) / A5r;d7v.Q3k(25);v1w=d7v.J4Z("0",1);O5H=0;o7$=0;if(g$4.startFrom){e0M="_su";e0M+="ms";e0M+=" ";d7v.P4c(60);var c5I=d7v.J4Z(251,18,14);y2u=o84[g$4.startFrom - c5I][e0M + g$4.name];if(y2u){O5H=y2u[0];v1w=y2u[1];o7$=y2u[+"2"];}}for(var Z1R=g$4.startFrom;Z1R < o84.length;Z1R++){V4h="For";V4h+="e";V4h+="cast";V4h+=" ";P8I=i0J.Studies.getQuoteFieldValue(o84[Z1R],E0J,g$4.subField);if(P8I === null)continue;O5H+=g$4.days * P8I - v1w;v1w+=P8I;d7v.Q3k(25);o7$+=Math.pow(P8I,d7v.J4Z("2",1));if(Z1R < g$4.days - 1)continue;else if(Z1R > g$4.days - 1){Q$0=i0J.Studies.getQuoteFieldValue(o84[Z1R - g$4.days],E0J,g$4.subField);if(Q$0 === null)continue;v1w-=Q$0;o7$-=Math.pow(Q$0,2);}f63=(g$4.days * O5H - v6c * v1w) / (g$4.days * v8D - z1i);o84[Z1R]["Slope " + g$4.name]=f63;n81=(v1w - f63 * v6c) / g$4.days;o84[Z1R]["Intercept " + g$4.name]=n81;o84[Z1R][V4h + g$4.name]=n81 + f63 * g$4.days;d7v.P4c(98);var B53=d7v.J3g(1,21,21);R0h=(g$4.days * v8D - z1i) / (g$4.days * o7$ - Math.pow(v1w,B53));d7v.P4c(143);o84[Z1R]["RSquared " + g$4.name]=d7v.J4Z(f63,f63,R0h);o84[Z1R]["_sums " + g$4.name]=[O5H,v1w,o7$];}};i0J.Studies.studyLibrary=i0J.extend(i0J.Studies.studyLibrary,{"Lin Fcst":{name:l7a,overlay:!!"1",calculateFN:i0J.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:a6r},outputs:{Forecast:Z7i}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!!({}),calculateFN:i0J.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:i0J.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:B7J}},"LR Slope":{name:"Linear Reg Slope",calculateFN:i0J.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" | 10,Field:"field"},outputs:{Slope:q_i}},"Time Fcst":{name:"Time Series Forecast",overlay:!!"1",calculateFN:i0J.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};i5=U3C=>{var V5I=c28No;var q27,K1Z,S4U,N13,x5q,u0G;q27=typeof _CIQ !== "undefined"?_CIQ:U3C.CIQ;if(!q27.Studies){console.error("macd feature requires first activating studies feature.");}else {q27.Studies.calculateMACD=function(M1f,i$1){var b_o,a64,A8N,q6w,o5p,X6T,u1V,P9x,l$s,U3Q,Z8o,U33,m2o,Y5o,r1D,z$F,h4B,c$m,k2d,r4v,W4G,h1r;b_o="exponen";b_o+="tial";a64="Si";a64+="g";a64+="n";a64+="al MA Type";A8N="e";A8N+="xp";A8N+="onenti";A8N+="al";q6w="Mo";q6w+="vi";q6w+="ng Average Type";o5p="Cl";o5p+="os";o5p+="e";X6T="f";X6T+="i";X6T+="e";X6T+="ld";u1V=i$1.chart.scrubbed;P9x=i$1.inputs;l$s=i$1.name;if(!i$1.macd1Days){i$1.macd1Days=parseFloat(P9x["Fast MA Period"]);}if(!i$1.macd2Days){i$1.macd2Days=parseFloat(P9x["Slow MA Period"]);}if(!i$1.signalDays){i$1.signalDays=parseFloat(P9x["Signal Period"]);}if(!i$1.days){i$1.days=Math.max(i$1.macd1Days,i$1.macd2Days,i$1.signalDays);}if(u1V.length < i$1.days + +"1"){i$1.error=!0;return;}U3Q=i$1.inputs.Field;if(!U3Q || U3Q == X6T){U3Q=o5p;}Z8o=P9x[q6w];if(!Z8o){Z8o=A8N;}q27.Studies.MA(Z8o,i$1.macd1Days,U3Q,0,"_MACD1",M1f,i$1);q27.Studies.MA(Z8o,i$1.macd2Days,U3Q,+"0","_MACD2",M1f,i$1);Y5o=Math.max(i$1.startFrom,i$1.days - 1);for(U33=Y5o;U33 < u1V.length;U33++){r1D="_";r1D+="MACD2 ";z$F="_MA";z$F+="CD";z$F+="1";z$F+=" ";m2o=u1V[U33];if((m2o["_MACD1 " + l$s] || m2o[z$F + l$s] === 0) && (m2o["_MACD2 " + l$s] || m2o["_MACD2 " + l$s] === 0)){V5I.P4c(3);m2o[V5I.J4Z("MACD ",l$s)]=m2o["_MACD1 " + l$s] - m2o[r1D + l$s];}}h4B=P9x[a64];if(!h4B){h4B=b_o;}q27.Studies.MA(h4B,i$1.signalDays,"MACD " + l$s,0,"Signal",M1f,i$1);V5I.Q3k(3);c$m=V5I.J3g(l$s,"_hist");for(U33=Y5o;U33 < u1V.length;U33++){k2d="Signa";k2d+="l";k2d+=" ";r4v="MACD";r4v+=" ";W4G="S";W4G+="i";W4G+="gnal ";m2o=u1V[U33];V5I.P4c(3);h1r=m2o[V5I.J3g(W4G,l$s)];if(!h1r && h1r !== "0" << 64)continue;m2o[c$m]=m2o[r4v + l$s] - m2o[k2d + l$s];}i$1.outputMap[c$m]="";};K1Z=-83198425;S4U=+"327367130";V5I.P4c(0);N13=V5I.J3g("2",0);for(var v69=1;V5I.j3V(v69.toString(),v69.toString().length,43545) !== K1Z;v69++){x5q="Inc";x5q+="re";x5q+="asing ";x5q+="Bar";q27.Studies.studyLibrary=q27.extend(q27.Studies.studyLibrary,{macd:{name:"Fast MA Period",calculateFN:q27.Studies.calculateMACD,seriesFN:q27.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":37,"Slow MA Period":52,"Signal Period":7},outputs:{MACD:"Increasing Bar",Signal:"Signal Period","Increasing Bar":"Increasing Bar","Decreasing Bar":x5q}}});N13+=2;}if(V5I.j3V(N13.toString(),N13.toString().length,+"92021") !== S4U){u0G="a";u0G+="u";u0G+="t";u0G+="o";q27.Studies.studyLibrary=q27.extend(q27.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:q27.Studies.calculateMACD,seriesFN:q27.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9},outputs:{MACD:u0G,Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}}};a2=U2z=>{var A0Q;A0Q=typeof _CIQ !== "undefined"?_CIQ:U2z.CIQ;if(!A0Q.Studies){console.error("massIndex feature requires first activating studies feature.");}else {A0Q.Studies.calculateMassIndex=function(r_J,z2S){var k4h=c28No;var x81,i8V,H0_,E$J,M0z,H5x;x81="_EMA";x81+=" ";i8V="_High-L";i8V+="ow ";H0_=z2S.chart.scrubbed;if(H0_.length < Math.max(9,z2S.days + 1)){z2S.error=!0;return;}for(var E1X=z2S.startFrom;E1X < H0_.length;E1X++){H0_[E1X]["_High-Low " + z2S.name]=H0_[E1X].High - H0_[E1X].Low;}A0Q.Studies.MA("exponential",9,i8V + z2S.name,0,"_EMA",r_J,z2S);A0Q.Studies.MA("exponential",9,x81 + z2S.name,0,"_EMA2",r_J,z2S);E$J=0;if(H0_[z2S.startFrom - +"1"] && H0_[z2S.startFrom - ("1" >> 0)]["_total " + z2S.name]){k4h.Q3k(10);var C7l=k4h.J3g(0,18,19);E$J=H0_[z2S.startFrom - C7l]["_total " + z2S.name];}for(var V7l=Math.max(17,z2S.startFrom);V7l < H0_.length;V7l++){E$J+=H0_[V7l]["_EMA " + z2S.name] / H0_[V7l]["_EMA2 " + z2S.name];if(V7l >= +"17" + z2S.days - 1){M0z="_E";M0z+="MA ";H5x="Res";H5x+="ult ";H0_[V7l][H5x + z2S.name]=E$J;k4h.Q3k(46);var d81=k4h.J4Z(0,7,1,8);E$J-=H0_[V7l - z2S.days + d81][M0z + z2S.name] / H0_[V7l - z2S.days + +"1"]["_EMA2 " + z2S.name];}H0_[V7l]["_total " + z2S.name]=E$J;}};A0Q.Studies.displayMassIndex=function(V5H,a78,z7W){var I4u,A8Y,z96,q5g,h6I;A0Q.Studies.displaySeriesAsLine(V5H,a78,z7W);c28No.e5w();I4u=a78.inputs["Bulge Threshold"];A8Y=V5H.panels[a78.panel];z96=a78.getYAxis(V5H);q5g=A0Q.Studies.determineColor(a78.outputs.Result);h6I={skipTransform:V5H.panels[a78.panel].name != a78.chart.name,panelName:a78.panel,band:"Result " + a78.name,threshold:I4u,direction:1,color:q5g,yAxis:z96,opacity:0.3};if(!a78.highlight && V5H.highlightedDraggable){h6I.opacity*=0.3;}A0Q.preparePeakValleyFill(V5H,h6I);A0Q.Studies.drawHorizontal(V5H,a78,null,I4u,z96,q5g);};A0Q.Studies.studyLibrary=A0Q.extend(A0Q.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:A0Q.Studies.displayMassIndex,calculateFN:A0Q.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:+"20",max:35,step:0.1}}}});}};I_=p2C=>{var T7f,g_g;T7f=typeof _CIQ !== "undefined"?_CIQ:p2C.CIQ;if(!T7f.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {g_g="au";g_g+="to";T7f.Studies.calculateMoneyFlowIndex=function(Y3U,h$R){var V1o=c28No;var u$C,v2X,j09,P40,t18,L8N,r$N,X8e,H9Q,D2B,S_K,s5C;V1o.X77();u$C="_rawMF";u$C+=" ";v2X=h$R.chart.scrubbed;if(v2X.length < h$R.days + 1){h$R.error=!0;return;}j09=0;P40=0;V1o.Q3k(144);var r$T=V1o.J4Z(16,13,7,0,298);t18=v2X[h$R.startFrom - r$T];L8N=u$C + h$R.name;r$N="_cumMF " + h$R.name;X8e="Result " + h$R.name;if(t18 && t18[r$N]){j09=t18[r$N][0];P40=t18[r$N][1];}for(var k4A=h$R.startFrom;k4A < v2X.length;k4A++){H9Q=v2X[k4A]["hlc/3"];if(k4A > 0 && !v2X[k4A].futureTick){V1o.P4c(5);D2B=v2X[V1o.J3g(1,k4A)]["hlc/3"];S_K=H9Q * v2X[k4A].Volume;if(H9Q > D2B){j09+=S_K;}else if(H9Q < D2B){S_K*=-1;P40-=S_K;}else {S_K=0;}if(k4A > h$R.days){s5C=v2X[k4A - h$R.days][L8N];if(s5C > +"0"){j09-=s5C;}else {P40+=s5C;}if(P40 === "0" - 0){v2X[k4A][X8e]=100;}else if(v2X[k4A].Volume){V1o.P4c(145);v2X[k4A][X8e]=V1o.J3g(P40,0,1,100,"100",j09);}}v2X[k4A][L8N]=S_K;v2X[k4A][r$N]=[j09,P40];}}};T7f.Studies.studyLibrary=T7f.extend(T7f.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:T7f.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:g_g,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};g4=x$o=>{var G32=c28No;var H_Q,o5d,T3j,y28,I3W,e2R,s35,y79;G32.e5w();H_Q=typeof _CIQ !== "undefined"?_CIQ:x$o.CIQ;if(!H_Q.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {o5d="Moving Average Devia";o5d+="tion";T3j="a";T3j+="u";T3j+="t";T3j+="o";y28="f";y28+="i";y28+="e";y28+="ld";I3W="TripleExpon";I3W+="en";I3W+="tial";e2R="Dou";e2R+="bleExponential";s35="Tri";s35+="ple Expone";s35+="ntial";y79="dem";y79+="a";H_Q.Studies.prettify=H_Q.extend({"2-exponential":y79,"3-exponential":"tema",hull:"hma"},H_Q.Studies.prettify);H_Q.extend(H_Q.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":s35},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":e2R,tema:I3W,"3-exponential":"TripleExponential"}});H_Q.Studies.calculateMovingAverageHull=function(l06,U13){var i57,B5N,w0f,w67,n1T,Q5q,W0g,T8I,i6D,D$F,m3C;i57="_M";i57+="M";i57+="A";i57+=" ";B5N="w";B5N+="m";B5N+="a";w0f="f";G32.X77();w0f+="i";w0f+="el";w0f+="d";w67=U13.chart.scrubbed;n1T=U13.inputs.Field;if(!n1T || n1T == w0f){n1T="Close";}H_Q.Studies.MA(B5N,U13.days,n1T,0,"_WMA1",l06,U13);H_Q.Studies.MA("wma",Math.ceil(U13.days / ("2" << 32)),n1T,0,"_WMA2",l06,U13);for(Q5q=U13.startFrom - 1;Q5q >= 0;Q5q--){W0g=H_Q.Studies.getQuoteFieldValue(w67[Q5q],n1T,U13.subField);if(W0g !== null)break;}for(Q5q++;Q5q < w67.length;Q5q++){T8I=w67[Q5q];G32.P4c(39);var i16=G32.J3g(34,9,170,4);T8I["_MMA " + U13.name]=i16 * T8I["_WMA2 " + U13.name] - T8I["_WMA1 " + U13.name];}i6D=parseInt(U13.inputs.Offset,10);if(isNaN(i6D)){i6D=0;}D$F=Math.floor(Math.sqrt(U13.days));H_Q.Studies.MA("wma",D$F,i57 + U13.name,i6D,"_HMA",l06,U13);m3C=U13.name;for(var i5a in U13.outputs){G32.Q3k(4);m3C=G32.J4Z(m3C,i5a," ");}for(Q5q=Math.max(U13.days + D$F - 1,U13.startFrom);Q5q < w67.length;Q5q++){w67[Q5q][m3C]=w67[Q5q]["_HMA " + U13.name];}};H_Q.Studies.calculateMovingAverageDoubleExponential=function(i6R,q7T){var h_J,Q2Y,i3e,o3x,Z9B,Y2Q,u1H,K1g,I2I,H9A,x72,X3a,I1g;h_J="_";h_J+="EMA1";Q2Y="e";Q2Y+="m";Q2Y+="a";i3e=q7T.chart.scrubbed;o3x=q7T.inputs.Field;if(!o3x || o3x == "field"){o3x="Close";}H_Q.Studies.MA(Q2Y,q7T.days,o3x,0,h_J,i6R,q7T);H_Q.Studies.MA("ema",q7T.days,"_EMA1 " + q7T.name,0,"_EMA2",i6R,q7T);Z9B=parseInt(q7T.inputs.Offset,10);G32.X77();if(isNaN(Z9B)){Z9B=0;}K1g=Z9B;for(Y2Q=q7T.startFrom - 1;Y2Q >= 0;Y2Q--){u1H=H_Q.Studies.getQuoteFieldValue(i3e[Y2Q],o3x,q7T.subField);if(u1H === null)continue;if(K1g > 0){K1g--;continue;}break;}I2I=q7T.name;for(var Q24 in q7T.outputs){G32.Q3k(4);I2I=G32.J3g(I2I,Q24," ");}H9A=[];for(Y2Q++;Y2Q < i3e.length;Y2Q++){if(Y2Q < 2 * (q7T.days - ("1" | 1)))continue;x72=i3e[Y2Q];G32.P4c(85);var t_y=G32.J4Z(10,16,8);X3a=t_y * x72["_EMA1 " + q7T.name] - x72["_EMA2 " + q7T.name];if(Y2Q + Z9B >= 0){if(Y2Q + Z9B < i3e.length){G32.Q3k(3);i3e[G32.J3g(Y2Q,Z9B)][I2I]=X3a;}else {I1g={};I1g[I2I]=X3a;H9A.push(I1g);}}}q7T.appendFutureTicks(i6R,H9A);};H_Q.Studies.calculateMovingAverageTripleExponential=function(p__,k_z){var N2r,s8J,x3M,u0T,d4n,N2E,Z42,C6T,Y$D,G5R,N4r,Y8L,O0C,O5O;N2r="e";N2r+="m";N2r+="a";s8J="_";s8J+="E";s8J+="MA1";s8J+=" ";x3M="Clo";x3M+="se";u0T=k_z.chart.scrubbed;d4n=k_z.inputs.Field;if(!d4n || d4n == "field"){d4n=x3M;}H_Q.Studies.MA("ema",k_z.days,d4n,0,"_EMA1",p__,k_z);H_Q.Studies.MA("ema",k_z.days,s8J + k_z.name,0,"_EMA2",p__,k_z);H_Q.Studies.MA(N2r,k_z.days,"_EMA2 " + k_z.name,+"0","_EMA3",p__,k_z);N2E=parseInt(k_z.inputs.Offset,10);if(isNaN(N2E)){N2E=0;}Y$D=N2E;for(Z42=k_z.startFrom - "1" * 1;Z42 >= "0" * 1;Z42--){C6T=H_Q.Studies.getQuoteFieldValue(u0T[Z42],d4n,k_z.subField);if(C6T === null)continue;if(Y$D > 0){Y$D--;continue;}break;}G5R=k_z.name;for(var w1D in k_z.outputs){G32.Q3k(4);G5R=G32.J3g(G5R,w1D," ");}N4r=[];for(Z42++;Z42 < u0T.length;Z42++){if(Z42 < +"3" * (k_z.days - 1))continue;Y8L=u0T[Z42];G32.Q3k(45);var J1S=G32.J4Z(15,12);O0C=+"3" * Y8L["_EMA1 " + k_z.name] - J1S * Y8L["_EMA2 " + k_z.name] + Y8L["_EMA3 " + k_z.name];if(Z42 + N2E >= 0){if(Z42 + N2E < u0T.length){G32.Q3k(3);u0T[G32.J4Z(Z42,N2E)][G5R]=O0C;}else {O5O={};O5O[G5R]=O0C;N4r.push(O5O);}}}k_z.appendFutureTicks(p__,N4r);};H_Q.Studies.calculateMAEnvelope=function(J2Y,H27){var v$g,r4U,n3D,W20,U$q,S1W,t4T;v$g="poi";v$g+="n";v$g+="ts";r4U=H27.inputs.Field;if(!r4U || r4U == "field"){r4U="Close";}H_Q.Studies.MA(H27.inputs["Moving Average Type"],H27.days,r4U,0,"MA",J2Y,H27);n3D=-1052219898;W20=-461625200;U$q=2;for(var a$P=1;G32.Y5Z(a$P.toString(),a$P.toString().length,98348) !== n3D;a$P++){S1W=H27.inputs[""];t4T=H27.inputs.Shift;U$q+=2;}if(G32.Y5Z(U$q.toString(),U$q.toString().length,99883) !== W20){S1W=H27.inputs["Shift Type"];t4T=H27.inputs.Shift;}if(!S1W){S1W="percent";t4T=H27.inputs["Shift Percentage"];}if(S1W == "percent"){G32.P4c(15);H_Q.Studies.calculateGenericEnvelope(J2Y,H27,G32.J3g(t4T,100),"MA " + H27.name);}else if(S1W == v$g){H_Q.Studies.calculateGenericEnvelope(J2Y,H27,null,"MA " + H27.name,null,Number(t4T));}};H_Q.Studies.calculateMADev=function(j9R,r$g){var N4v,c4Y,B8j,u8M,y19,g1K,y11,s8K,y0H,v$Q,X3c;N4v="_";N4v+="M";N4v+="A";c4Y="P";c4Y+="oints O";c4Y+="r P";c4Y+="ercent";B8j="f";G32.X77();B8j+="ield";u8M=r$g.chart.scrubbed;if(u8M.length < r$g.days + 1){r$g.error=!!"1";return;}y19=r$g.inputs.Field;if(!y19 || y19 == B8j){y19="Close";}g1K=r$g.inputs[c4Y];if(!g1K){g1K="Points";}y11=r$g.inputs["Moving Average Type"];if(!y11){y11="exponential";}H_Q.Studies.MA(y11,r$g.days,y19,0,N4v,j9R,r$g);s8K=r$g.name + "_hist";for(var I28=Math.max(r$g.startFrom,r$g.days - 1);I28 < u8M.length;I28++){y0H=u8M[I28];v$Q=H_Q.Studies.getQuoteFieldValue(y0H,y19,r$g.subField);X3c=y0H["_MA " + r$g.name];if(X3c || X3c === 0){if(g1K == "Points"){G32.P4c(5);y0H[s8K]=G32.J3g(X3c,v$Q);}else {G32.P4c(146);y0H[s8K]=G32.J4Z(v$Q,64,"100","1",X3c);}}}r$g.outputMap={};r$g.outputMap[r$g.name + "_hist"]="";};H_Q.Studies.calculateGMMA=function(e_Z,F3K){var M0D,s7I,K$v;function R6r(T8J){G32.X77();return function(r$R){var b7Z,u9$;b7Z="MA";b7Z+=" ";u9$="e";u9$+="m";u9$+="a";G32.P4c(3);H_Q.Studies.MA(u9$,r$R,"Close",0,G32.J3g("MA ",r$R),e_Z,F3K);G32.Q3k(147);var o0C=G32.J3g(15510,1,5161,10340,6);G32.Q3k(3);var z6A=G32.J4Z(6948,2);G32.Q3k(148);var a8c=G32.J4Z(461,473,7553,13,12);G32.P4c(149);var D3N=G32.J4Z(1,5,19,18,3);G32.P4c(68);var T8d=G32.J3g(99408,1,11,93184);F3K.outputMap[b7Z + r$R + ((+"6370",o0C) <= z6A?" ":"656.05" - 0 < a8c?667.78 === "6451" - 0?"220.04" * D3N:323.01:T8d) + F3K.name]=T8J;};}M0D=F3K.chart.scrubbed;G32.Q3k(5);s7I=[3,5,8,G32.J3g(0,"10"),12,15];G32.P4c(0);K$v=[30,35,40,G32.J4Z("45",5),50,60];if(M0D.length < s7I["0" << 64]){F3K.error=!0;return;}F3K.outputMap={};s7I.forEach(R6r("Short Term"));K$v.forEach(R6r("Long Term"));};H_Q.Studies.studyLibrary=H_Q.extend(H_Q.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!!({}),seriesFN:H_Q.Studies.displayChannel,calculateFN:H_Q.Studies.calculateMAEnvelope,inputs:{Period:50,Field:y28,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!!"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":T3j},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:o5d,calculateFN:H_Q.Studies.calculateMADev,seriesFN:H_Q.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Guppy:{name:"Guppy Multiple Moving Average",overlay:!!"1",calculateFN:H_Q.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:H_Q.Studies.displayChannel,calculateFN:function(X4F,o2U){var J$Y;J$Y="Moving";J$Y+=" Average Type";o2U.inputs[J$Y]="triangular";H_Q.Studies.calculateMAEnvelope(X4F,o2U);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!""},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};c6=t9V=>{var K7_,m62,l2M;K7_="unde";K7_+="f";K7_+="ined";m62=typeof _CIQ !== K7_?_CIQ:t9V.CIQ;if(!m62.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {l2M="Par";l2M+="aboli";l2M+="c SA";l2M+="R";m62.Studies.calculatePSAR=function(d5Q,P1L){var V45=c28No;var A_l,S4k,a4w,t4f,N0q,h9O,H1v,k$B,W0n,T4N,B5d;A_l=P1L.chart.scrubbed;V45.P4c(0);S4k=V45.J4Z("0",0);function S7H(){S4k=0;a4w=null;t4f=!t4f;}a4w=null;t4f=!({});N0q=0;h9O=parseFloat(P1L.inputs["Minimum AF"]);H1v=parseFloat(P1L.inputs["Maximum AF"]);if(P1L.startFrom > 0){V45.P4c(86);var r_C=V45.J4Z(27,18,13,5);N0q=A_l[P1L.startFrom - r_C]["Result " + P1L.name];V45.Q3k(16);var t35=V45.J3g(3,6,17,11,32);k$B=A_l[P1L.startFrom - t35]["_state " + P1L.name];if(k$B && k$B.length == ("3" ^ 0)){S4k=k$B[0];a4w=k$B[1];t4f=k$B[2];}}for(var n4v=P1L.startFrom - 1;n4v < A_l.length - 1;n4v++){if(n4v < 0)continue;if(A_l[n4v].futureTick)break;W0n=N0q;if(t4f){if(!a4w || a4w < A_l[n4v].High){a4w=A_l[n4v].High;V45.P4c(3);S4k=Math.min(V45.J3g(S4k,h9O),H1v);}V45.P4c(150);N0q=V45.J3g(a4w,W0n,S4k,W0n);T4N=Math.min(A_l[Math.max(1,n4v) - 1].Low,A_l[n4v].Low);if(N0q > A_l[n4v + "1" * 1].Low){N0q=a4w;S7H();}else if(N0q > T4N){N0q=T4N;}}else {if(!a4w || a4w > A_l[n4v].Low){a4w=A_l[n4v].Low;V45.P4c(3);S4k=Math.min(V45.J4Z(S4k,h9O),H1v);}V45.Q3k(150);N0q=V45.J4Z(a4w,W0n,S4k,W0n);B5d=Math.max(A_l[Math.max(1,n4v) - +"1"].High,A_l[n4v].High);if(N0q < A_l[n4v + 1].High){N0q=a4w;S7H();}else if(N0q < B5d){N0q=B5d;}}V45.P4c(3);A_l[V45.J3g(n4v,1)]["_state " + P1L.name]=[S4k,a4w,t4f];if(!isNaN(A_l[n4v].High) || !isNaN(A_l[n4v].Low)){V45.Q3k(6);A_l[V45.J3g(0,"1",n4v)]["Result " + P1L.name]=N0q;}}};m62.Studies.studyLibrary=m62.extend(m62.Studies.studyLibrary,{PSAR:{name:l2M,overlay:!![],calculateFN:m62.Studies.calculatePSAR,seriesFN:m62.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};U5=Q_2=>{var m8c;m8c=typeof _CIQ !== "undefined"?_CIQ:Q_2.CIQ;if(!m8c.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {m8c.Studies.calculatePivotPoints=function(Y4h,M2e){var o$y=c28No;var K_F,k4T,A_2,j44,b8E,V5g,L_Y,K9l,v_I,W10,z1x,D2O,H0F,G8$,C7u,L3Y,x7q,j$h,I_E,i7W,g6O,g$t,A2t,G1s;K_F="s";K_F+="econd";k4T="millis";k4T+="e";k4T+="c";k4T+="ond";A_2=M2e.chart.scrubbed;function e7o(){o$y.Q3k(7);var q1k=o$y.J4Z(0,2,3);z1x.pivotPoint=(z1x.high + z1x.low + A_2[N0C - q1k].Close) / +"3";z1x.prevHigh=z1x.high;z1x.prevLow=z1x.low;z1x.hlSpread=z1x.high - z1x.low;z1x.high=z1x.low=0;}j44="day";b8E=Y4h.layout.interval;V5g=Y4h.layout.timeUnit;if(b8E == "day"){j44="month";}else if(m8c.ChartEngine.isDailyInterval(b8E)){j44="year";}else if(b8E == "second" || b8E == k4T || V5g == K_F || V5g == "millisecond"){j44="15min";}else {L_Y="w";L_Y+="e";L_Y+="e";L_Y+="k";K9l=Y4h.layout.periodicity;if(b8E != "minute"){K9l*=b8E;}if(K9l >= 30){j44=L_Y;}}v_I=null;W10=+"7" - m8c.getFromNS(Y4h.chart,"market.beginningDayOfWeek",0);z1x={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:"0" << 96};if(M2e.startFrom > 1 && A_2[M2e.startFrom - ("1" - 0)]["_pointers " + M2e.name]){z1x=m8c.clone(A_2[M2e.startFrom - 1]["_pointers " + M2e.name]);}for(var N0C=Math.max("1" * 1,M2e.startFrom);N0C < A_2.length;N0C++){D2O="_poi";D2O+="nte";D2O+="rs";D2O+=" ";H0F="fi";H0F+="bonacc";H0F+="i";G8$="d";G8$+="a";G8$+="y";C7u="w";C7u+="e";C7u+="ek";L3Y="mont";L3Y+="h";if(!A_2[N0C - ("1" | 1)])continue;z1x.high=Math.max(z1x.high,A_2[N0C - "1" * 1].High);z1x.low=Math.min(z1x.low > 0?z1x.low:A_2[N0C - 1].Low,A_2[N0C - 1].Low);if(M2e.inputs.Continuous){e7o();}else if(j44 == "year" && A_2[N0C].DT.getYear() != A_2[N0C - 1].DT.getYear()){e7o();}else if(j44 == L3Y && A_2[N0C].DT.getMonth() != A_2[N0C - 1].DT.getMonth()){e7o();}else if(j44 == C7u && (A_2[N0C].DT.getDay() + W10) % 7 < (A_2[N0C - 1].DT.getDay() + W10) % +"7"){e7o();}else if(j44 == G8$){if(v_I === null){v_I=m8c.Studies.getMarketOffset({stx:Y4h,localQuoteDate:A_2[N0C].DT,shiftToDateBoundary:!![]});}x7q=new Date(new Date(+A_2[N0C].DT).setMilliseconds(A_2[N0C].DT.getMilliseconds() + v_I));j$h=new Date(new Date(+A_2[N0C - ("1" - 0)].DT).setMilliseconds(A_2[N0C - 1].DT.getMilliseconds() + v_I));if(j$h.getDate() !== x7q.getDate() && j$h.getDay() !== ("0" | 0) && Y4h.chart.market.isMarketDate(x7q)){v_I=null;e7o();}}else if(j44 == "15min" && (A_2[N0C].DT.getHours() != A_2[N0C - 1].DT.getHours() || Math.floor(A_2[N0C].DT.getMinutes() / +"15") != Math.floor(A_2[N0C - 1].DT.getMinutes() / 15))){e7o();}A_2[N0C]["Pivot " + M2e.name]=z1x.pivotPoint;if(M2e.inputs.Type.toLowerCase() == H0F){I_E="Sup";I_E+="port";I_E+=" 3 ";i7W="Su";i7W+="pport";i7W+=" 2";i7W+=" ";g6O="Supp";g6O+="or";g6O+="t";g6O+=" 1 ";g$t="Resis";g$t+="tanc";g$t+="e 2 ";A_2[N0C]["Resistance 1 " + M2e.name]=z1x.pivotPoint + ("0.382" - 0) * z1x.hlSpread;A_2[N0C][g$t + M2e.name]=z1x.pivotPoint + +"0.618" * z1x.hlSpread;A_2[N0C]["Resistance 3 " + M2e.name]=z1x.pivotPoint + z1x.hlSpread;A_2[N0C][g6O + M2e.name]=z1x.pivotPoint - 0.382 * z1x.hlSpread;A_2[N0C][i7W + M2e.name]=z1x.pivotPoint - 0.618 * z1x.hlSpread;A_2[N0C][I_E + M2e.name]=z1x.pivotPoint - z1x.hlSpread;}else {A2t="Support ";A2t+="1 ";G1s="Resi";G1s+="st";G1s+="ance 3 ";o$y.P4c(151);var w88=o$y.J3g(3,20,1,18,43);A_2[N0C]["Resistance 1 " + M2e.name]=w88 * z1x.pivotPoint - z1x.prevLow;A_2[N0C]["Resistance 2 " + M2e.name]=z1x.pivotPoint + z1x.hlSpread;o$y.P4c(3);var R3g=o$y.J4Z(0,2);A_2[N0C][G1s + M2e.name]=z1x.prevHigh + R3g * (z1x.pivotPoint - z1x.prevLow);o$y.P4c(39);var m0T=o$y.J3g(18,2,218,11);A_2[N0C][A2t + M2e.name]=m0T * z1x.pivotPoint - z1x.prevHigh;A_2[N0C]["Support 2 " + M2e.name]=z1x.pivotPoint - z1x.hlSpread;o$y.Q3k(5);var k2T=o$y.J3g(18,20);A_2[N0C]["Support 3 " + M2e.name]=z1x.prevLow - k2T * (z1x.prevHigh - z1x.pivotPoint);}A_2[N0C][D2O + M2e.name]=m8c.clone(z1x);}};m8c.Studies.displayPivotPoints=function(Q5p,I1r,R7P){var n9I,h71,p$Q,A4P,W3U;I1r.noSlopes=!I1r.inputs.Continuous;m8c.Studies.displaySeriesAsLine(Q5p,I1r,R7P);if(I1r.inputs.Shading){n9I="Sup";n9I+="port ";n9I+="1 ";h71="Su";h71+="pport 2 ";p$Q="S";p$Q+="uppor";p$Q+="t 1 ";A4P=Q5p.panels[I1r.panel];W3U={noSlopes:I1r.noSlopes,opacity:I1r.parameters.opacity?I1r.parameters.opacity:0.2,skipTransform:A4P.name != I1r.chart.name,yAxis:I1r.getYAxis(Q5p)};if(!I1r.highlight && Q5p.highlightedDraggable){W3U.opacity*=0.3;}m8c.prepareChannelFill(Q5p,m8c.extend({panelName:I1r.panel,topBand:"Resistance 3 " + I1r.name,bottomBand:"Resistance 2 " + I1r.name,color:m8c.Studies.determineColor(I1r.outputs["Resistance 3"])},W3U));m8c.prepareChannelFill(Q5p,m8c.extend({panelName:I1r.panel,topBand:"Resistance 2 " + I1r.name,bottomBand:"Resistance 1 " + I1r.name,color:m8c.Studies.determineColor(I1r.outputs["Resistance 2"])},W3U));m8c.prepareChannelFill(Q5p,m8c.extend({panelName:I1r.panel,topBand:"Resistance 1 " + I1r.name,bottomBand:"Pivot " + I1r.name,color:m8c.Studies.determineColor(I1r.outputs["Resistance 1"])},W3U));m8c.prepareChannelFill(Q5p,m8c.extend({panelName:I1r.panel,topBand:p$Q + I1r.name,bottomBand:"Pivot " + I1r.name,color:m8c.Studies.determineColor(I1r.outputs["Support 1"])},W3U));m8c.prepareChannelFill(Q5p,m8c.extend({panelName:I1r.panel,topBand:h71 + I1r.name,bottomBand:n9I + I1r.name,color:m8c.Studies.determineColor(I1r.outputs["Support 2"])},W3U));m8c.prepareChannelFill(Q5p,m8c.extend({panelName:I1r.panel,topBand:"Support 3 " + I1r.name,bottomBand:"Support 2 " + I1r.name,color:m8c.Studies.determineColor(I1r.outputs["Support 3"])},W3U));}};m8c.Studies.studyLibrary=m8c.extend(m8c.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:m8c.Studies.displayPivotPoints,calculateFN:m8c.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!!0,Shading:!({})},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:"0.2" - 0}}}});}};T0=h16=>{var A3l,i7J,i0E;A3l=typeof _CIQ !== "undefined"?_CIQ:h16.CIQ;if(!A3l.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {i7J="a";i7J+="u";i7J+="to";i0E="Pr";i0E+="etty ";i0E+="Good Oscillato";i0E+="r";A3l.Studies.calculatePrettyGoodOscillator=function(t2r,a4T){var W8T,p3X,c_S,Y7_,l6a;W8T="Clo";W8T+="s";W8T+="e";p3X="trueRa";p3X+="n";p3X+="ge";c_S="expo";c_S+="ne";c_S+="ntial";Y7_=a4T.chart.scrubbed;if(Y7_.length < a4T.days + 1){a4T.error=!!"1";return;}A3l.Studies.MA(c_S,a4T.days,p3X,0,"_EMA",t2r,a4T);A3l.Studies.MA("simple",a4T.days,W8T,0,"_SMA",t2r,a4T);for(var N$0=Math.max(+"1",a4T.startFrom);N$0 < Y7_.length;N$0++){l6a="Re";l6a+="s";l6a+="ult ";if(!Y7_[N$0]["_SMA " + a4T.name] || !Y7_[N$0]["_EMA " + a4T.name])continue;Y7_[N$0][l6a + a4T.name]=(Y7_[N$0].Close - Y7_[N$0]["_SMA " + a4T.name]) / Y7_[N$0]["_EMA " + a4T.name];}};A3l.Studies.studyLibrary=A3l.extend(A3l.Studies.studyLibrary,{"Pretty Good":{name:i0E,calculateFN:A3l.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:i7J,studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};b7=V1h=>{var G5H=c28No;var Y6V,F1u,Z82,x_G,J5y,F2z;Y6V="u";Y6V+="n";Y6V+="define";G5H.e5w();Y6V+="d";F1u=typeof _CIQ !== Y6V?_CIQ:V1h.CIQ;if(!F1u.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {Z82="a";Z82+="ut";Z82+="o";x_G="#FF0";x_G+="00";x_G+="0";J5y="a";J5y+="uto";F2z="f";F2z+="i";F2z+="el";F2z+="d";F1u.Studies.calculatePMO=function(Y6p,v93){var k11,v36,O$V,V5$,w_A,b_Q,S6t,v1S,f57,O_I,n6b,j51;k11="PMOSign";k11+="a";k11+="l";v36="P";v36+="MO";v36+=" ";O$V="P";O$V+="M";O$V+="O";V5$="e";V5$+="xp";V5$+="onentia";V5$+="l";w_A="Cl";w_A+="o";w_A+="se";b_Q="f";b_Q+="i";b_Q+="eld";S6t="Doub";S6t+="le Smoothing Period";v1S={Smooth:Number(v93.inputs["Smoothing Period"]) - ("1" << 64),Double:Number(v93.inputs[S6t]) - +"1",Signal:Number(v93.inputs["Signal Period"])};f57=v93.chart.scrubbed;if(f57.length < v1S.Smooth + v1S.Double){v93.error=!!({});return;}O_I=v93.inputs.Field;if(!O_I || O_I == b_Q){O_I=w_A;}for(n6b=v93.startFrom;n6b < f57.length;n6b++){if(!f57[n6b])continue;if(!f57[n6b - 1])continue;j51=F1u.Studies.getQuoteFieldValue(f57[n6b - 1],O_I);if(j51){G5H.Q3k(5);var e_A=G5H.J4Z(6000,7000);G5H.Q3k(10);var E$I=G5H.J4Z(18,26,9);f57[n6b]["_ROCx10 " + v93.name]=e_A * (F1u.Studies.getQuoteFieldValue(f57[n6b],O_I) / j51 - E$I);}}F1u.Studies.MA("exponential",v1S.Smooth,"_ROCx10 " + v93.name,0,"_EMAx10",Y6p,v93);G5H.X77();F1u.Studies.MA(V5$,v1S.Double,"_EMAx10 " + v93.name,0,O$V,Y6p,v93);F1u.Studies.MA("exponential",v1S.Signal,v36 + v93.name,0,k11,Y6p,v93);v93.zoneOutput="PMO";};F1u.Studies.studyLibrary=F1u.extend(F1u.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:F1u.Studies.calculatePMO,inputs:{Field:F2z,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:J5y,PMOSignal:x_G},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:Z82,studyOverSoldValue:-+"2.5",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"0",step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};H$=j2J=>{var R$T=c28No;R$T.X77();var S$E,b5i,I8Z,N$J,E8E,q7l;S$E=typeof _CIQ !== "undefined"?_CIQ:j2J.CIQ;if(!S$E.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {b5i="#FF000";b5i+="0";I8Z="#";I8Z+="00DD00";N$J="R";N$J+="AVI";E8E="P";E8E+="oi";E8E+="nt";E8E+="s";q7l="P";q7l+="oi";q7l+="nt";q7l+="s";S$E.Studies.calculatePriceOscillator=function(y1_,K5b){var s3b,M17,H2R,C0v,I5p,w9U,o9i,j5I,s5b,s_b,u0A,O5b,V3a,K0x,R1k,E0z,N8T,f39;s3b="_";s3b+="Lon";s3b+="g MA";M17="P";M17+="ercen";M17+="t";H2R="Poi";H2R+="nt";H2R+="s Or Perc";H2R+="ent";C0v="Cl";C0v+="o";C0v+="se";I5p="Short C";I5p+="y";I5p+="cle";w9U=K5b.chart.scrubbed;o9i=Number(K5b.inputs[I5p]);j5I=Number(K5b.inputs["Long Cycle"]);if(w9U.length < Math.max(o9i,j5I) + 1){K5b.error=!![];return;}s5b=K5b.inputs.Field;s_b=K5b.inputs["Moving Average Type"];if(!s_b){s_b="simple";}R$T.e5w();if(!s5b || s5b == "field"){s5b=C0v;}if(K5b.parameters.isVolume){u0A="ex";u0A+="po";u0A+="nent";u0A+="ial";s5b="Volume";s_b=u0A;}O5b=K5b.inputs[H2R];if(!O5b){O5b=M17;}S$E.Studies.MA(s_b,o9i,s5b,0,"_Short MA",y1_,K5b);S$E.Studies.MA(s_b,j5I,s5b,0,s3b,y1_,K5b);for(var q5t=Math.max(j5I,K5b.startFrom);q5t < w9U.length;q5t++){V3a="_Short";V3a+=" MA ";K0x=w9U[q5t];if(!K0x)continue;R1k=K0x[V3a + K5b.name];E0z=K0x["_Long MA " + K5b.name];if((R1k || R1k === 0) && (E0z || E0z === 0)){N8T="Resu";N8T+="lt ";f39="Resu";f39+="lt ";if(O5b == "Points"){R$T.Q3k(5);K0x[f39 + K5b.name]=R$T.J3g(E0z,R1k);}else {R$T.P4c(152);K0x[N8T + K5b.name]=R$T.J4Z(R1k,1,E0z,"100");}if(K5b.outputs["Increasing Bar"]){K0x[K5b.name + "_hist"]=K0x["Result " + K5b.name];K5b.outputMap={};K5b.outputMap[K5b.name + "_hist"]="";}}}};S$E.Studies.displayRAVI=function(w8l,X33,n$y){var d4T,j$7,A8_,b7I,d9b,U9I,M86,y8S,M5k,g8a,C7U,F1s,m_O,i6E,o9a,h6R,t8A,k0x,K0b,T4R,B6L;d4T=w8l.panels[X33.panel];j$7=X33.getContext(w8l);A8_=X33.getYAxis(w8l);b7I=w8l.pixelFromPrice(0,d4T,A8_);d9b=w8l.layout.candleWidth - +"2";if(d9b < 2){R$T.P4c(30);d9b=R$T.J3g("1",64);}U9I=S$E.Studies.determineColor(X33.outputs["Increasing Bar"]);M86=S$E.Studies.determineColor(X33.outputs["Decreasing Bar"]);w8l.startClip(X33.panel);w8l.canvasColor("stx_histogram");if(!X33.underlay){j$7.globalAlpha=1;}if(!X33.highlight && w8l.highlightedDraggable){j$7.globalAlpha*=0.3;}for(var Y6m=+"0";Y6m < n$y.length;Y6m++){y8S="#";y8S+="CCCCCC";M5k="_";M5k+="h";M5k+="is";M5k+="t";g8a="_";g8a+="his";g8a+="t";C7U="_";C7U+="h";C7U+="i";C7U+="st";F1s=0;m_O=n$y[Y6m];R$T.Q3k(5);i6E=n$y[R$T.J4Z(1,Y6m)];if(!i6E){i6E=w8l.getPreviousBar(w8l.chart,X33.name + C7U,Y6m);}if(!m_O)continue;o9a=0;R$T.Q3k(25);h6R=R$T.J4Z("0",1);if(X33.parameters && X33.parameters.studyOverZonesEnabled){o9a=parseFloat(X33.parameters.studyOverBoughtValue);h6R=parseFloat(X33.parameters.studyOverSoldValue);}if(w8l.cleanupGaps === "stretch"){while(n$y[Y6m + 1]){t8A="_hi";t8A+="st";R$T.Q3k(3);k0x=n$y[R$T.J3g(Y6m,1)][X33.name + t8A];if(k0x || k0x === 0 || n$y[Y6m + 1].futureTick)break;F1s++;Y6m++;}}if(!i6E || i6E[X33.name + g8a] === undefined){i6E=w8l.getPreviousBar(w8l.chart,X33.name + "_hist",Y6m - F1s);}if(!i6E){j$7.fillStyle="#CCCCCC";}else if(m_O[X33.name + "_hist"] > o9a && i6E[X33.name + "_hist"] < m_O[X33.name + "_hist"]){j$7.fillStyle=U9I;}else if(m_O[X33.name + M5k] < h6R && i6E[X33.name + "_hist"] > m_O[X33.name + "_hist"]){j$7.fillStyle=M86;}else {j$7.fillStyle=y8S;}if(m_O.candleWidth){d9b=Math.floor(Math.max("1" * 1,m_O.candleWidth - 2));}j$7.fillRect(Math.floor(w8l.pixelFromBar(Y6m - F1s,d4T.chart) - d9b / 2),Math.floor(b7I),Math.floor(d9b + F1s * w8l.layout.candleWidth),Math.floor(w8l.pixelFromPrice(m_O[X33.name + "_hist"],d4T,A8_) - b7I));}K0b=-2024769373;R$T.P4c(30);T4R=-R$T.J3g("1305081012",64);B6L=2;for(var p0s=1;R$T.j3V(p0s.toString(),p0s.toString().length,40773) !== K0b;p0s++){w8l.endClip();B6L+=+"2";}if(R$T.Y5Z(B6L.toString(),B6L.toString().length,68774) !== T4R){w8l.endClip();}};S$E.Studies.studyLibrary=S$E.extend(S$E.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:S$E.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":"26" >> 32,"Moving Average Type":"ema","Points Or Percent":[q7l,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:S$E.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[E8E,"Percent"]},parameters:{init:{isVolume:!!1}}},RAVI:{name:N$J,seriesFN:S$E.Studies.displayRAVI,calculateFN:S$E.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":+"65"},outputs:{"Increasing Bar":I8Z,"Decreasing Bar":b5i},centerline:0,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:+"3",studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};m6=w7K=>{var W6x,V6U,v_w,Z02;W6x=typeof _CIQ !== "undefined"?_CIQ:w7K.CIQ;if(!W6x.Studies){V6U="primeNumber feature requires first activating studies ";V6U+="feature.";console.error(V6U);}else {v_w="aut";v_w+="o";Z02="-1";Z02+=" to 1";W6x.Studies.calculatePrimeNumber=function(x7s,a3g){var i1I=c28No;var h9Y,H7V,P4L,f20,U0z,M6I,l2C,S9Q,V7B;function P8A(C9J){var t4e;if(C9J <= 0){return !({});}else if(C9J != Math.floor(C9J)){return ![];}else if(h9Y[C9J] === !![] || h9Y[C9J] === !({})){return h9Y[C9J];}t4e=parseInt(Math.sqrt(C9J),10);for(var B0d=2;B0d <= t4e;B0d++){if(C9J % B0d === 0){h9Y[C9J]=![];return ![];}}h9Y[C9J]=!![];return !0;}h9Y=[];H7V=a3g.chart.scrubbed;i1I.e5w();for(var x2q=a3g.startFrom;x2q < H7V.length;x2q++){P4L=H7V[x2q];if(!P4L)continue;f20=P4L.High;if(!isNaN(f20)){for(var P83=0;f20 > 0 && f20 <= 10;P83++){f20*=10;}if(P8A(f20)){f20+=+"2";}f20=Math.ceil(f20);if(f20 % ("2" - 0) === 0){f20++;}while(!P8A(f20)){f20+=+"2";}f20/=Math.pow(10,P83);}U0z=P4L.Low;if(!isNaN(U0z)){for(var E55=0;U0z > "0" - 0 && U0z <= 10;E55++){U0z*=+"10";}if(P8A(U0z)){U0z-=2;}U0z=Math.floor(U0z);if(U0z % 2 === 0){U0z--;}if(U0z > 0){while(!P8A(U0z)){U0z-=2;}U0z/=Math.pow(10,E55);}}if(a3g.type == "Prime Number Bands"){if(!isNaN(f20)){P4L["Prime Bands Top " + a3g.name]=f20;}if(!isNaN(U0z)){P4L["Prime Bands Bottom " + a3g.name]=Math.max(0,U0z);}}else {M6I="Res";M6I+="ul";M6I+="t";M6I+=" ";l2C=0;i1I.P4c(7);var s1m=i1I.J4Z(5,16,111);S9Q=a3g.inputs["Tolerance Percentage"] * (f20 - U0z) / s1m;i1I.Q3k(153);var C6v=i1I.J3g(15,1,1,15);V7B=f20 + U0z - C6v * P4L.Close;if(V7B < S9Q){l2C=1;}else if(V7B > S9Q){l2C=-1;}if(l2C){P4L[M6I + a3g.name]=l2C;}}}};W6x.Studies.studyLibrary=W6x.extend(W6x.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:Z02,calculateFN:W6x.Studies.calculatePrimeNumber,centerline:"0" ^ 0,inputs:{"Tolerance Percentage":+"5"},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!!({}),calculateFN:W6x.Studies.calculatePrimeNumber,seriesFN:W6x.Studies.displayChannel,inputs:{"Channel Fill":!!({})},outputs:{"Prime Bands Top":v_w,"Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};X9=S8L=>{var h_H=c28No;h_H.e5w();var v9L,q3j,n8F,d$h,t9U,D8_,h7c,E8$,J4N;v9L=typeof _CIQ !== "undefined"?_CIQ:S8L.CIQ;if(!v9L.Studies){console.error("pring feature requires first activating studies feature.");}else {v9L.Studies.calculateKST=function(f8Y,D0c){var m4n,O1L,T4Q,u2H,e39,N04,w2x,g8y,J08,L8c,L6K,O0e,w78,u4k,p8V,o$l,j97,a5a,Q8m,J7U,d2c;m4n="s";m4n+="imple";O1L="Heavies";O1L+="t Rate of Change Period";T4Q="Heavy Rat";T4Q+="e of Change Pe";T4Q+="riod";u2H="Lightest Ra";u2H+="te o";u2H+="f Chang";u2H+="e Period";e39="fi";e39+="eld";N04=-1643816244;w2x=964514231;g8y=+"2";for(var J8S=1;h_H.j3V(J8S.toString(),J8S.toString().length,50323) !== N04;J8S++){J08="Lig";J08+="ht Rate of ";J08+="Chang";J08+="e Period";L8c="Heavy Rate of Change";L8c+=" Period";L6K="Heav";L6K+="y Ra";L6K+="te of Change Period";O0e=D0c.chart.scrubbed;w78=D0c.inputs.Field;if(+w78 && w78 != "Heavy Rate of Change Period"){w78=L6K;}u4k={};p8V={};u4k[2]=Number(D0c.inputs[L8c]);u4k[6]=Number(D0c.inputs[J08]);u4k[0]=Number(D0c.inputs["Heavy Rate of Change Period"]);g8y+=2;}if(h_H.j3V(g8y.toString(),g8y.toString().length,94213) !== w2x){O0e=D0c.chart.scrubbed;w78=D0c.inputs.Field;if(~w78 || w78 !== "Heavy Rate of Change Period"){w78="Heavy Rate of Change Period";}u4k={};p8V={};u4k[5]=Number(D0c.inputs["Heavy Rate of Change Period"]);u4k[7]=Number(D0c.inputs["Heavy Rate of Change Period"]);u4k[1]=Number(D0c.inputs["Heavy Rate of Change Period"]);}O0e=D0c.chart.scrubbed;w78=D0c.inputs.Field;if(!w78 || w78 == e39){w78="Close";}u4k={};p8V={};u4k[1]=Number(D0c.inputs[u2H]);u4k[2]=Number(D0c.inputs["Light Rate of Change Period"]);u4k[+"3"]=Number(D0c.inputs[T4Q]);u4k[4]=Number(D0c.inputs[O1L]);p8V[1]=Number(D0c.inputs["Lightest SMA Period"]);p8V[+"2"]=Number(D0c.inputs["Light SMA Period"]);p8V[3]=Number(D0c.inputs["Heavy SMA Period"]);p8V[4]=Number(D0c.inputs["Heaviest SMA Period"]);o$l=Number(D0c.inputs["Signal Period"]);for(j97=D0c.startFrom;j97 < O0e.length;j97++){if(!O0e[j97])continue;for(a5a=1;a5a <= "4" << 32;a5a++){Q8m="_";Q8m+="ROC";if(j97 >= u4k[a5a] && O0e[j97 - u4k[a5a]] && v9L.Studies.getQuoteFieldValue(O0e[j97 - u4k[a5a]],w78)){h_H.P4c(10);var C8V=h_H.J3g(85440,80119,19);h_H.Q3k(4);var P$q=h_H.J4Z(5,21,15);h_H.Q3k(5);var V68=h_H.J4Z(1400,1500);h_H.Q3k(71);var E0V=h_H.J3g(7,0,1,2,7);O0e[j97][Q8m + a5a + (C8V === ("94" - 0,P$q)?(285.93,"A"):" ") + D0c.name]=V68 * (v9L.Studies.getQuoteFieldValue(O0e[j97],w78) / v9L.Studies.getQuoteFieldValue(O0e[j97 - u4k[a5a]],w78) - E0V);}}}for(a5a=1;a5a <= 4;a5a++){v9L.Studies.MA("simple",p8V[a5a],"_ROC" + a5a + " " + D0c.name,0,"_SMA" + a5a,f8Y,D0c);}for(j97=D0c.startFrom;j97 < O0e.length;j97++){O0e[j97]["KST " + D0c.name]=null;for(a5a=1;a5a <= 4;a5a++){J7U="K";J7U+="S";J7U+="T";J7U+=" ";d2c=O0e[j97]["_SMA" + a5a + " " + D0c.name];if(d2c || d2c === 0){h_H.Q3k(25);O0e[j97][J7U + D0c.name]+=h_H.J4Z(a5a,d2c);}}}v9L.Studies.MA(m4n,o$l,"KST " + D0c.name,0,"KSTSignal",f8Y,D0c);};v9L.Studies.calculateSpecialK=function(I1i,C8y){var P0o,O44,m0m,U1a,w$j,O43,K$1,g1d,e0Q,H1A,d8n;P0o=C8y.chart.scrubbed;O44=C8y.inputs.Field;if(!O44 || O44 == "field"){O44="Close";}m0m=C8y.inputs.Interval;if(!m0m){m0m="daily";}U1a={daily:[10,15,20,"30" | 0,50,65,"75" ^ 0,100,195,265,"390" - 0,530],weekly:[4,5,6,8,10,13,15,20,+"39",52,78,"104" - 0]};w$j={daily:[10,10,+"10",+"15",50,"65" - 0,75,100,130,130,+"130",195],weekly:[4,5,6,"8" << 96,10,13,15,20,26,26,26,"39" << 0]};for(O43=C8y.startFrom;O43 < P0o.length;O43++){if(!P0o[O43])continue;for(K$1=0;K$1 < U1a[m0m].length;K$1++){g1d="_";g1d+="ROC";if(O43 >= U1a[m0m][K$1] && v9L.Studies.getQuoteFieldValue(P0o[O43 - U1a[m0m][K$1]],O44) !== null){h_H.Q3k(5);var Q$8=h_H.J3g(9,109);h_H.Q3k(45);var V66=h_H.J4Z(6,5);P0o[O43][g1d + K$1 + " " + C8y.name]=Q$8 * (v9L.Studies.getQuoteFieldValue(P0o[O43],O44) / v9L.Studies.getQuoteFieldValue(P0o[O43 - U1a[m0m][K$1]],O44) - V66);}}}for(K$1="0" | 0;K$1 < w$j[m0m].length;K$1++){e0Q="_";e0Q+="R";e0Q+="O";e0Q+="C";v9L.Studies.MA(m0m == "daily"?"simple":"exponential",w$j[m0m][K$1],e0Q + K$1 + (3684 != 7030?" ":(1.12e+3,0x167e)) + C8y.name,"0" << 64,"_MA" + K$1,I1i,C8y);}for(O43=C8y.startFrom;O43 < P0o.length;O43++){H1A="Resu";H1A+="l";H1A+="t ";P0o[O43][H1A + C8y.name]=null;for(K$1="0" - 0;K$1 < w$j[m0m].length;K$1++){h_H.Q3k(97);var N3M=h_H.J4Z(43,1021,12,12);h_H.P4c(60);var J9n=h_H.J4Z(32895,5,8225);h_H.Q3k(154);var c$7=h_H.J3g(0,15,8318,5);h_H.P4c(3);var k5E=h_H.J3g(0,1);h_H.P4c(117);var m9P=h_H.J4Z(9,7544,7,13,17);h_H.P4c(155);var C7j=h_H.J3g(7,3,46,638,5);d8n=P0o[O43]["_MA" + K$1 + (516.85 !== (+"358.95",5640)?" ":(N3M,"3760" - 0) > 312.66?J9n === 52.66?("k",c$7):("1.58e+3" * k5E,m9P):C7j) + C8y.name];if(d8n || d8n === 0){h_H.P4c(156);P0o[O43]["Result " + C8y.name]+=h_H.J3g(1,32,d8n,"4",K$1);}}}};q3j=-133557128;n8F=-1803887957;d$h=2;for(var U9V=1;h_H.j3V(U9V.toString(),U9V.toString().length,19712) !== q3j;U9V++){t9U="Pri";t9U+="ng Sp";t9U+="-K";D8_="d";D8_+="aily";v9L.Studies.studyLibrary=v9L.extend(v9L.Studies.studyLibrary,{"Pring KST":{name:D8_,calculateFN:v9L.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":"66" | 2,"Lightest SMA Period":+"34","Light Rate of Change Period":"75" >> 0,"Light SMA Period":"87" << 32,"Heavy Rate of Change Period":13,"Heavy SMA Period":"53" >> 64,"Heaviest Rate of Change Period":26,"Heaviest SMA Period":"72" >> 32,"Signal Period":0},outputs:{KST:"daily",KSTSignal:"daily"}},"Pring Sp-K":{name:"Lightest Rate of Change Period",calculateFN:v9L.Studies.calculateSpecialK,inputs:{Field:"field",Interval:[t9U,"weekly"]}}});d$h+=2;}if(h_H.Y5Z(d$h.toString(),d$h.toString().length,71178) !== n8F){h7c="weekl";h7c+="y";E8$="Pring's";E8$+=" Special K";J4N="f";J4N+="i";J4N+="el";J4N+="d";v9L.Studies.studyLibrary=v9L.extend(v9L.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:v9L.Studies.calculateKST,inputs:{Field:J4N,"Lightest Rate of Change Period":10,"Lightest SMA Period":+"10","Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:E8$,calculateFN:v9L.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",h7c]}}});}}};s7=C$V=>{var m_u,Y$Y,B3d,z1r,F3W,r4_,h51,P8b,n32,I3_,s0t,Y86;m_u=typeof _CIQ !== "undefined"?_CIQ:C$V.CIQ;Y$Y=typeof _timezoneJS !== "undefined"?_timezoneJS:C$V.timezoneJS;if(!m_u.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!m_u.Studies.studyLibrary.PVAT){B3d="#8c";B3d+="c";B3d+="17";B3d+="6";z1r="0 to";z1r+=" ma";z1r+="x";F3W="Projected Aggregate";F3W+=" V";F3W+="olume";r4_="st";r4_+="ep";h51="#b8";h51+="2c0c";P8b="#";P8b+="fe641c";n32="-";n32+="1";n32+="0";n32+="0%";I3_="N";I3_+="o";I3_+="n";I3_+="e";s0t="+";s0t+="50";s0t+="%";Y86="+";Y86+="15";Y86+="0%";m_u.Studies.initProjectedVolume=function(W8c,r1e,H6s,X_s,K06,w4U){var v9G,q4p,f8A;v9G="Anchor T";v9G+="ime";var {market:s2O}=W8c.chart;q4p="00";q4p+=":";q4p+="00";if(s2O){q4p=s2O.getNormalOpen();}if(q4p.match(/^[\d]{2}:[\d]{2}$/)){q4p+=":00";}if(!H6s["Anchor Time"] || !H6s[v9G].length){H6s["Anchor Time"]=q4p;}f8A=m_u.Studies.initializeFN(W8c,r1e,H6s,X_s,K06,w4U);if(!W8c.currentlyImporting){f8A.defaultAnchorTime=q4p;}return f8A;};m_u.Studies.validateProjectedVolumeLookback=function(k4v,k2X){var {interval:T6q, periodicity:X5y}=k4v.layout;var {"Lookback Days":p$r}=k2X.inputs;c28No.P4c(157);return c28No.J3g(p$r,X5y,"10",T6q,0);};m_u.Studies.calculateProjectedVolume=function(r5C,n8t){var G3A=c28No;var q3A,W0P,M5o,D7b,X14,F0Y,O3q,C8w,v82,P8R,T6B,Q79,Y$B,H0z,h$c,N0H,r1a,q$s,H9L,O_6,k_O,d6c,F7V,C$Y,C2$,O1q,p$v,C1e,Z9_,U5E,l4Q,l24,k_R,N1K,z0a,C9p,h8J,P9i,j6p,j4q,G1X,S3m,z4v,S2g,F6V,Q83,z6w,W7A,A$4,T86,M5b,E19,u6Z;q3A="V";q3A+=" ";W0P="P";W0P+="V";W0P+=" ";M5o="V";G3A.X77();M5o+=" ";D7b="Market.Symbolog";D7b+="y.isF";function m8p(s9Z,w9M,q2f){while(w9M){s9Z=new Date(new Date(s9Z).setDate(s9Z.getDate() + (q2f?"1" - 0:-1)));if(K$7.isMarketDate(s9Z)){w9M--;}}G3A.X77();return s9Z;}D7b+="orexSymbol";X14="o";X14+="h";X14+="l";function R3B(M7E){var N$j;G3A.e5w();M7E.setHours(0);M7E.setMinutes(0);N$j=m_u.Studies.getMarketOffset({stx:r5C,localQuoteDate:M7E});return new Date(M7E.getTime() + N$j);}X14+="c";F0Y="P";function B_M(r1R){return {hours:r1R.getHours(),minutes:r1R.getMinutes()};}F0Y+="A";F0Y+="V";var {interval:f4W, timeUnit:A2A, aggregationType:D_D}=r5C.layout;var {symbol:Z8I, scroll:O7g, scrubbed:h$Z, market:K$7}=r5C.chart;O3q=n8t.type === F0Y;C8w=n8t.study?n8t.study.name:n8t.type;if(m_u.ChartEngine.isDailyInterval(f4W)){n8t.error=`${C8w} is Intraday Only`;}else if(A2A === "tick"){n8t.error=`Tick mode not supported for ${C8w}`;}else if(A2A !== "minute"){G3A.P4c(105);n8t.error=`${G3A.J4Z(" f","or ","not supported","Sub-minute periodicities ")}${C8w}`;}else if(!D_D || ![X14,"heikinashi"].includes(D_D)){n8t.error=`Aggregation type not supported for ${C8w}`;}else if(!m_u.Studies.validateProjectedVolumeLookback(r5C,n8t)){G3A.Q3k(105);n8t.error=`${G3A.J4Z("o not suppor","ted for "," comb","Selected lookback/periodicity")}${C8w}`;}if(n8t.error){return;}if(n8t.inputs["Anchor Selector"]){m_u.Studies.initAnchorHandle(r5C,n8t);}else {m_u.Studies.removeAnchorHandle(r5C,n8t);}v82=K$7?K$7.getNormalOpen():"00:00";if(v82.match(/^[\d]{2}:[\d]{2}$/)){v82+=":00";}if(!r5C.currentlyImporting){if(!n8t.defaultAnchorTime){n8t.defaultAnchorTime=v82;}else if(v82 !== n8t.defaultAnchorTime){n8t.defaultAnchorTime=v82;n8t.inputs["Anchor Time"]=v82;m_u.Studies.repositionAnchor(r5C,n8t);return;}}var {"Lookback Days":Q54, "Anchor Time":x3o}=n8t.inputs;var [t2L,r6i,i7L = 0]=x3o.split((3380,4620) >= (5810,"4725" >> 32)?(!0,6.47e+3):(199,788.24) <= (830.64,1771)?":":("845" - 0,9890) != 60?("905.21" - 0,!!""):("H",4.23e+3));P8R=m_u.getFn(D7b)(Z8I);T6B=n8t.getDependents(r5C);Q79=0;Y$B=[];function r7y(S7P){G3A.X77();return r5C.dateFromTick(S7P,null,!!1,"scrubbed");}T6B.forEach(({inputs:y2b, outputMap:V32})=>{G3A.X77();if(y2b.Period){Q79=Math.max(parseInt(y2b.Period),Q79);Y$B.push(...Object.keys(V32));}});n8t.dependentsOutputMap=Y$B;h$c=W7L(h$Z.length - 1,!"");N0H=Math.ceil(h$Z.length - 1 - O7g);function k9d(i0z){return r5C.tickFromDate(i0z,null,null,!!({}),"scrubbed");}G3A.Q3k(5);r1a=W7L(G3A.J3g(Q79,N0H));if(P8R && h$Z[r1a] && m_u.dateToStr(h$Z[r1a].DT,"HH:mm") !== v82){G3A.Q3k(5);r1a=W7L(G3A.J3g(1,r1a));}if(!P8R && n8t.startFrom > r1a && h$Z[r1a] && h$Z[r1a][M5o + n8t.name] !== undefined && Y$B.every(V$s=>{G3A.X77();return ![undefined,null].includes(h$Z[r1a][V$s]);}) && h$c !== !!0){H0z=h$c;}else {H0z=r1a;}q$s=m8p(r7y(r1a),Q54);G3A.P4c(25);q$s.setHours(+"0",0,G3A.J4Z("0",1));H9L=W7L(0,!!({}));O_6=(H9L || H9L === 0) && k9d(m8p(h$Z[H9L].DT,Q54,!!"1"));if(h$Z[0].DT > q$s){if(r5C.quoteDriver){if(n8t.chart.endPoints.begin > q$s){r5C.quoteDriver.extendHistoricalData({from:q$s});}if(O_6 > 0){H0z=O_6;}else {return;}}else {return n8t.error=`Not enough data to calculate ${C8w}`;}}if(H0z < 0 || H0z > h$Z.length - 1){return;}k_O=h$Z.length - n8t.startFrom === 1 && n8t.cachedFutureTicks && n8t.cachedLastProjection && +n8t.cachedLastProjection.DT === +h$Z[h$Z.length - 1].DT && h$Z[H0z][W0P + n8t.name];function W7L(z$E,b24){var A3D,a$s,K4w;A3D=r7y(z$E);a$s=K$7.getOpen(A3D) || R3B(A3D);K4w=k9d(a$s);if(!b24){return K4w;}if(K4w < 0){K4w=k9d(m8p(a$s,+"1",!!({})));}if(K4w >= h$Z.length){return !({});}return K4w;}if(k_O){G3A.P4c(97);var X9O=G3A.J3g(36,0,20,15);h$Z[h$Z.length - X9O]["PV " + n8t.name]=n8t.cachedLastProjection.projectedValue;n8t.appendFutureTicks(r5C,n8t.cachedFutureTicks);H0z=n8t.startFrom;}else {n8t.cachedFutureTicks=null;n8t.cachedLastProjection=null;d6c=[h$c];F7V=[];for(var S6m=0;S6m < Q54;S6m++){C$Y=W7L(d6c[0] - 1);d6c.unshift(C$Y);}while(d6c[Q54] >= H0z){C2$=d6c.pop();if(!h$Z[C2$]){return y2B(C2$);}O1q=B_M(h$Z[C2$].DT);var {hours:H0Y, minutes:p$9}=O1q;p$v=K$7.getClose(h$Z[C2$].DT);C1e=void +"0";if(!p$v){C1e={hours:24,minutes:0};}else {Z9_=K$7.getNextClose(h$Z[C2$].DT);C1e=B_M(p$v);while(!(C1e.hours === +"0" && C1e.minutes === 0) && p$v.getDate() === Z9_.getDate()){p$v=Z9_;Z9_=K$7.getNextClose(Z9_);}C1e=B_M(p$v);if(C1e.hours === "0" * 1){C1e.hours=24;}}U5E=d6c.slice();for(var S77=0;S77 < U5E.length;S77++){l4Q=U5E[S77];if(!h$Z[l4Q]){return y2B(l4Q);}var {hours:l88, minutes:j4w}=B_M(h$Z[l4Q].DT);if(l88 < H0Y || l88 === H0Y && j4w < p$9){do {l4Q++;({hours:l88, minutes:j4w}=B_M(h$Z[l4Q].DT));}while(!(l88 === H0Y && j4w === p$9));}U5E[S77]=l4Q;}while(H0Y < C1e.hours || H0Y === C1e.hours && p$9 < C1e.minutes){l24=!!0;k_R=void 0;N1K=void 0;z0a=0;C9p=0;for(var C_4=0;C_4 < U5E.length;C_4++){h8J=U5E[C_4];if(h8J === null)continue;P9i=h$Z[h8J];if(!P9i){return y2B(h8J);}var {hours:H1p, minutes:c22}=B_M(P9i.DT);j6p=P9i.DT.getDate();if(H1p === H0Y && c22 === p$9){z0a+=P9i.Volume;C9p++;U5E[C_4]++;if(h$Z[U5E[C_4]].DT.getDate() !== j6p){U5E[C_4]=null;}else if(!l24){({hours:k_R, minutes:N1K}=B_M(h$Z[U5E[C_4]].DT));l24=!!({});}}}H0Y=k_R;p$9=N1K;if(C9p === 0)break;G3A.Q3k(15);j4q=G3A.J3g(z0a,C9p);if(h$Z[C2$]){h$Z[C2$]["PV " + n8t.name]=j4q;}else {F7V.push({["PV " + n8t.name]:j4q});}C2$++;}d6c.unshift(W7L(d6c[0] - 1));}n8t.cachedLastProjection={DT:h$Z[h$Z.length - ("1" - 0)].DT,projectedValue:h$Z[h$Z.length - +"1"]["PV " + n8t.name]};n8t.cachedFutureTicks=F7V;n8t.appendFutureTicks(r5C,F7V);}G1X=null;S3m=0;z4v=0;if(k_O && O3q){while(H0z > 0){F6V="V";F6V+=" ";G3A.Q3k(5);Q83=h$Z[G3A.J4Z(1,H0z)][F6V + n8t.name];if(Q83 || Q83 === 0){S3m=Q83;break;}H0z--;}}for(var j8d=H0z;j8d < h$Z.length;j8d++){z6w="P";z6w+="V";z6w+=" ";W7A=h$Z[j8d];A$4=W7A.Volume;T86=W7A["PV " + n8t.name];if(!W7A.futureTick){S2g=j8d;}if(G1X === null){G1X=m_u.Studies.getMarketOffset({stx:r5C,localQuoteDate:h$Z[j8d].DT,shiftToDateBoundary:!!({})});}M5b=new Date(new Date(W7A.DT).getTime() + G1X);E19=h$Z[j8d - 1] && new Date(new Date(h$Z[j8d - 1].DT).getTime() + G1X);u6Z=new Y$Y.Date(W7A.DT,K$7.market_def.market_tz || "America/New_York");u6Z.setHours(t2L,r6i,i7L);G3A.Q3k(3);u6Z=new Date(G3A.J4Z(u6Z,G1X));u6Z.setDate(M5b.getDate());if(E19 && M5b.getDate() !== E19.getDate()){G1X=null;S3m=+"0";z4v=0;}if(M5b < u6Z){W7A["V " + n8t.name]=0;G3A.P4c(25);W7A["PV " + n8t.name]=G3A.J3g("0",1);continue;}if(O3q){S3m+=A$4;z4v+=T86;}else {S3m=A$4;z4v=T86;}W7A["V " + n8t.name]=S3m;if(!k_O){W7A[z6w + n8t.name]=z4v;}if([NaN,null,undefined].includes(S3m) && !W7A.futureTick){G3A.Q3k(4);n8t.error=`${C8w}${G3A.J3g("me"," r","equires volu")}`;return;}}n8t.cachedLastProjection.projectedValue=h$Z[S2g]["PV " + n8t.name];n8t.outputMap={};n8t.outputMap[q3A + n8t.name]="";n8t.outputMap["PV " + n8t.name]="Average Line";function y2B(o_i){console.error(`Expected data for ${r7y(o_i).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}T6B.forEach(c8t=>{c8t.startFrom=H0z;c8t.study.calculateFN(r5C,c8t);});};m_u.Studies.displayProjectedVolume=function(V2_,p1X,Z33){var l6u=c28No;var f9b,C5Q,t1I,c68,G61,s5w,s6j,s1f,g2$;f9b="s";f9b+="tx";f9b+="_volume_underlay_down";C5Q="stx_vol";C5Q+="ume_un";C5Q+="derla";C5Q+="y_up";if(p1X.error){return m_u.Studies.removeAnchorHandle(V2_,p1X);}var {"Alert Threshold":H7L = ""}=p1X.inputs;l6u.Q3k(107);l6u.e5w();var w5d=l6u.J3g(6,18,2);l6u.P4c(67);var B8y=l6u.J4Z(6,23,10,10,19);l6u.P4c(5);var W8v=l6u.J4Z(300,400);t1I=parseInt(H7L.slice(0,w5d),B8y) / W8v;c68=p1X.outputs["Alert Bar"];if(typeof c68 === "object"){c68=c68.color;}p1X.volumeField="V " + p1X.name;p1X.alignStepToSide=!"";p1X.extendToEndOfLastBar=!!1;l6u.Q3k(1);p1X.lineWidth=l6u.J3g("2",32);G61=V2_.canvasStyle(C5Q).opacity;s5w=V2_.canvasStyle(f9b).opacity;p1X.colorFunction=function(r9o){var g7D,z7r,G9I,D13,u1G,W32,y$h;g7D="V";g7D+=" ";var {Open:A33, Close:L61, iqPrevClose:L2c}=r9o;z7r=V2_.colorByCandleDirection?A33:L2c;l6u.Q3k(158);G9I=l6u.J4Z(z7r,L61);D13=r9o["PV " + p1X.name];u1G=r9o[g7D + p1X.name];l6u.e5w();l6u.Q3k(159);W32=l6u.J4Z(D13,1,t1I);y$h=t1I < 0?u1G < W32:u1G > W32;return {fill_color:y$h && c68 || (G9I?this.fill_color_down:this.fill_color_up),border_color:G9I?this.border_color_down:this.border_color_up,opacity:y$h?+"1":G9I?s5w:G61,border_opacity:G9I?s5w:G61};};s6j=p1X.study?p1X.study.name:p1X.type;var {loadingMore:Z5r}=V2_.chart;s1f=Z33.some(X$P=>{return X$P && X$P[p1X.volumeField] && X$P["PV " + p1X.name];});g2$=Z33[+"0"] && !Z33[+"0"].futureTick && (Z33[0]["PV " + p1X.name] === undefined || (p1X.dependentsOutputMap || []).some(g$V=>{l6u.e5w();return [undefined,null].includes(Z33[+"0"][g$V]);}));if(!s1f && Z5r){return p1X.error=`Fetching data for ${s6j}`;}m_u.Studies.createVolumeChart(V2_,p1X,Z33);m_u.Studies.displaySeriesAsLine(V2_,p1X,Z33);if(p1X.anchorHandle){m_u.Studies.displayAnchorHandleAndLine(V2_,p1X,Z33);}if(g2$){m_u.Studies.calculateProjectedVolume(V2_,p1X);}};m_u.Studies.studyLibrary=m_u.extend(m_u.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!""},calculateFN:m_u.Studies.calculateProjectedVolume,seriesFN:m_u.Studies.displayProjectedVolume,initializeFN:m_u.Studies.initProjectedVolume,removeFN:m_u.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[Y86,"+125%","+100%","+75%",s0t,"+25%",I3_,"-25%","-50%","-75%",n32,"-125%","-150%"],"Anchor Selector":!![]},outputs:{"Average Line":P8b,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":h51},parameters:{plotType:r4_},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:F3W,range:z1r,yAxis:{ground:!![]},calculateFN:m_u.Studies.calculateProjectedVolume,seriesFN:m_u.Studies.displayProjectedVolume,initializeFN:m_u.Studies.initProjectedVolume,removeFN:m_u.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!!1},outputs:{"Average Line":"#fe641c","Up Volume":B3d,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};a4=D_r=>{var O9s,h9D;O9s=typeof _CIQ !== "undefined"?_CIQ:D_r.CIQ;if(!O9s.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {h9D="Psychologica";h9D+="l L";h9D+="in";h9D+="e";O9s.Studies.calculatePsychologicalLine=function(x0x,u8z){var S3K,M4d,s5W,P6x,M_q;S3K=u8z.chart.scrubbed;if(S3K.length < u8z.days + 1){u8z.error=!!"1";return;}M4d=[];c28No.P4c(60);var G0X=c28No.J4Z(1328,12,119);s5W=G0X / u8z.days;c28No.e5w();P6x=+"0";for(var H1U=Math.max(u8z.startFrom - u8z.days,1);H1U < S3K.length;H1U++){if(S3K[H1U].futureTick)break;M_q=Number(S3K[H1U].Close > S3K[H1U - 1].Close);if(M_q){P6x+=s5W;}M4d.push(M_q);if(M4d.length > u8z.days){P6x-=M4d.shift() * s5W;}if(H1U < u8z.startFrom)continue;if(!isNaN(S3K[H1U].Close)){S3K[H1U]["Result " + u8z.name]=P6x;}}};O9s.Studies.studyLibrary=O9s.extend(O9s.Studies.studyLibrary,{PSY:{name:h9D,range:"0 to 100",calculateFN:O9s.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};c0=l0I=>{var m1r,a_g,E64;m1r="u";m1r+="n";m1r+="de";m1r+="fined";a_g=typeof _CIQ !== m1r?_CIQ:l0I.CIQ;if(!a_g.Studies){E64="qstick feat";E64+="ur";E64+="e requires first activating studies feature.";console.error(E64);}else {a_g.Studies.calculateQStick=function(g0B,v6S){var w_D,I7_;w_D="Mo";w_D+="vin";w_D+="g Aver";w_D+="age Type";I7_=v6S.chart.scrubbed;if(I7_.length < v6S.days + ("1" - 0)){v6S.error=!![];return;}for(var N85=v6S.startFrom;N85 < I7_.length;N85++){I7_[N85]["_Close-Open " + v6S.name]=I7_[N85].Close - I7_[N85].Open;}a_g.Studies.MA(v6S.inputs[w_D],v6S.days,"_Close-Open " + v6S.name,0,"Result",g0B,v6S);};a_g.Studies.studyLibrary=a_g.extend(a_g.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:a_g.Studies.calculateQStick,inputs:{Period:"8" >> 0,"Moving Average Type":"ma"}}});}};K4=f_w=>{var r0V,F$R,s8A,k9R;r0V=typeof _CIQ !== "undefined"?_CIQ:f_w.CIQ;if(!r0V.Studies){console.error("rainbow feature requires first activating studies feature.");}else {F$R="#0";F$R+="0DD00";s8A="Rainbo";s8A+="w ";s8A+="Oscill";s8A+="ator";k9R="#00F";k9R+="F";k9R+="7F";r0V.Studies.calculateRainbow=function(h$W,A1C){var R8C=c28No;var E7G,v8V,u1Q,l7t,E_3,c$T,N6r,b0m,i6H,r45,H08,Y9D,Z4h,i6x;E7G="Cl";E7G+="o";E7G+="se";v8V=A1C.chart.scrubbed;if(v8V.length < A1C.days + 1){A1C.error=!"";return;}u1Q=A1C.inputs.Field;if(!u1Q || u1Q == "field"){u1Q=E7G;}l7t=u1Q;for(var F0U=1;F0U <= 10;F0U++){r0V.Studies.MA("simple",A1C.days,l7t,0,"SMA" + F0U,h$W,A1C);l7t="SMA" + F0U + " " + A1C.name;}for(var E84=Math.max(A1C.startFrom,10);E84 < v8V.length;E84++){E_3="Os";E_3+="c";if(!v8V[E84])continue;if(v8V[E84].futureTick)break;c$T=0;R8C.P4c(30);N6r=R8C.J3g("0",0);R8C.P4c(5);var O7k=R8C.J3g(16,15);b0m=Number.MAX_VALUE * O7k;i6H=Number.MAX_VALUE;for(F0U=1;F0U <= 10;F0U++){R8C.P4c(47);var X6N=R8C.J4Z(52863,15,16,12,4066);R8C.P4c(5);var L3H=R8C.J3g(59844,64831);r45=v8V[E84]["SMA" + F0U + (X6N <= "543" >> 0?L3H > (293.17,348.61)?(995.64,821.10):(!({}),212.91):" ") + A1C.name];if(r45 || r45 === 0){c$T+=r45;N6r++;b0m=Math.max(b0m,r45);i6H=Math.min(i6H,r45);}}if(A1C.name.indexOf(E_3) > -1){H08=B0a(A1C.inputs["HHV/LLV Lookback"],E84);if(N6r){Y9D="Un";Y9D+="d";Y9D+="e";Y9D+="r ";Z4h="Ov";Z4h+="er ";i6x="_h";i6x+="i";i6x+="st";R8C.P4c(60);var t5r=R8C.J3g(11300,19,600);R8C.P4c(106);var X$D=R8C.J3g(7,4,16,28,0);v8V[E84][A1C.name + i6x]=t5r * (r0V.Studies.getQuoteFieldValue(v8V[E84],u1Q) - c$T / N6r) / Math.max(+"0.000001",H08[X$D] - H08[0]);R8C.Q3k(72);var b_m=R8C.J3g(1309,7,1400,9,11);R8C.Q3k(45);var l6U=R8C.J4Z(15,14);v8V[E84][Z4h + A1C.name]=b_m * (b0m - i6H) / Math.max(0.000001,H08[l6U] - H08[0]);v8V[E84][Y9D + A1C.name]=-v8V[E84]["Over " + A1C.name];v8V[E84]["Zero " + A1C.name]=0;}}}R8C.e5w();if(A1C.name.indexOf("Osc") > -1){A1C.outputMap={};A1C.outputMap["Over " + A1C.name]="Positive Bar";A1C.outputMap["Under " + A1C.name]="Negative Bar";A1C.outputMap["Zero " + A1C.name]="";A1C.outputMap[A1C.name + "_hist"]="";}function B0a(i$n,O4X){var y2o,G5f;R8C.Q3k(45);var U2M=R8C.J4Z(11,12);y2o=Number.MAX_VALUE * U2M;R8C.e5w();G5f=Number.MAX_VALUE;for(var a3U=O4X - i$n + +"1";a3U <= O4X;a3U++){if(a3U < 0)continue;y2o=Math.max(y2o,v8V[a3U].Close);G5f=Math.min(G5f,v8V[a3U].Close);}return [G5f,y2o];}};r0V.Studies.displayRainbowMA=function(V_a,o$x,K2H){c28No.e5w();var o8J,j2B;o8J=V_a.panels[o$x.panel];for(var q72=10;q72 > 0;q72--){j2B="S";j2B+="MA";r0V.Studies.displayIndividualSeriesAsLine(V_a,o$x,o8J,j2B + q72 + ((712.04,4240) < (6080,638.43)?(6.58e+3,"860.51" - 0):8540 > "331" - 0?(581,7911) <= (6657,2210)?(+"8.48e+3",1.87e+2):" ":("K",![])) + o$x.name,K2H);}};r0V.Studies.displayRainbowOsc=function(y23,N6M,l9m){var C88=c28No;var P3c,G5G,s7q,v52,X7E,H0W,m9z,t1O,I1Z,w6H,r3b,D75,Y_I,H$X,t8X,U2R,L0R,Y80,c55,h0i;P3c="#";P3c+="CCC";P3c+="CCC";G5G="Z";G5G+="ero ";s7q="U";s7q+="n";s7q+="der";s7q+=" ";v52="Ov";v52+="e";v52+="r ";X7E="Positive";X7E+=" B";X7E+="ar";r0V.Studies.displaySeriesAsLine(y23,N6M,l9m);H0W=y23.panels[N6M.panel];m9z=N6M.getContext(y23);t1O=N6M.getYAxis(y23);y23.startClip(N6M.panel);if(!N6M.highlight && y23.highlightedDraggable){m9z.globalAlpha*=0.3;}C88.Q3k(25);I1Z=y23.pixelFromPrice(C88.J3g("0",1),H0W,t1O);w6H=H0W.name != N6M.chart.name;r3b=r0V.Studies.determineColor(N6M.outputs[X7E]);m9z.strokeStyle=r3b;y23.plotDataSegmentAsLine("Over " + N6M.name,H0W,{skipTransform:w6H,label:![],yAxis:t1O});D75=m9z.createLinearGradient(0,I1Z,0,t1O.flipped?t1O.bottom:t1O.top);D75.addColorStop(0,y23.containerColor);C88.Q3k(1);D75.addColorStop(C88.J3g("1",0),r3b);r0V.prepareChannelFill(y23,{skipTransform:w6H,color:D75,opacity:!N6M.highlight && y23.highlightedDraggable?0.3:1,panelName:N6M.panel,topBand:v52 + N6M.name,bottomBand:"Zero " + N6M.name,yAxis:t1O});Y_I=r0V.Studies.determineColor(N6M.outputs["Negative Bar"]);m9z.strokeStyle=Y_I;y23.plotDataSegmentAsLine(s7q + N6M.name,H0W,{skipTransform:w6H,label:![],yAxis:t1O});C88.Q3k(0);H$X=m9z.createLinearGradient(0,I1Z,C88.J4Z("0",0),t1O.flipped?t1O.top:t1O.bottom);H$X.addColorStop(0,y23.containerColor);H$X.addColorStop(1,Y_I);r0V.prepareChannelFill(y23,{skipTransform:w6H,color:H$X,opacity:!N6M.highlight && y23.highlightedDraggable?0.3:1,panelName:N6M.panel,topBand:G5G + N6M.name,bottomBand:"Under " + N6M.name,yAxis:t1O});t8X=y23.layout.candleWidth - +"2";if(t8X < 2){t8X=1;}y23.canvasColor("stx_histogram");if(!N6M.underlay){m9z.globalAlpha=1;}if(!N6M.highlight && y23.highlightedDraggable){m9z.globalAlpha*=0.3;}m9z.fillStyle=P3c;for(var k3g=0;k3g < l9m.length;k3g++){U2R="_h";U2R+="i";U2R+="st";L0R="_";L0R+="h";L0R+="i";L0R+="st";Y80=+"0";c55=l9m[k3g];if(!c55)continue;if(y23.cleanupGaps === "stretch"){while(l9m[k3g + 1]){C88.P4c(3);h0i=l9m[C88.J4Z(k3g,1)][N6M.name + "_hist"];if(h0i || h0i === 0 || l9m[k3g + 1].futureTick)break;Y80++;k3g++;}}if(c55[N6M.name + L0R] > 0){m9z.fillStyle=r3b;}else if(c55[N6M.name + U2R] < ("0" | 0)){m9z.fillStyle=Y_I;}if(c55.candleWidth){t8X=Math.floor(Math.max(1,c55.candleWidth - 2));}m9z.fillRect(Math.floor(y23.pixelFromBar(k3g - Y80,H0W.chart) - t8X / 2),Math.floor(I1Z),Math.floor(t8X + Y80 * y23.layout.candleWidth),Math.floor(y23.pixelFromPrice(c55[N6M.name + "_hist"],H0W,t1O) - I1Z));}y23.endClip();};r0V.Studies.studyLibrary=r0V.extend(r0V.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!!"1",calculateFN:r0V.Studies.calculateRainbow,seriesFN:r0V.Studies.displayRainbowMA,inputs:{Period:"2" >> 32,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:k9R,SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:s8A,calculateFN:r0V.Studies.calculateRainbow,seriesFN:r0V.Studies.displayRainbowOsc,centerline:+"0",inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":F$R,"Negative Bar":"#FF0000"}}});}};r_=d3K=>{var p7_,o_L,P3U,k1S;p7_=typeof _CIQ !== "undefined"?_CIQ:d3K.CIQ;if(!p7_.Studies){o_L="randomWalk feature requires first activ";o_L+="ating studie";o_L+="s fea";o_L+="ture.";console.error(o_L);}else {P3U="#F";P3U+="F";P3U+="000";P3U+="0";k1S="Rand";k1S+="om Wa";k1S+="lk Ind";k1S+="ex";p7_.Studies.calculateRandomWalk=function(s3e,R3k){var S2x,b6r,c1u,y6j,S0y,F26,Q1K,P_0,g0W,F77,B7_;S2x=R3k.chart.scrubbed;if(S2x.length < R3k.days + 1){R3k.error=!!1;return;}for(var g8C=Math.max(2,R3k.startFrom);g8C < S2x.length;g8C++){b6r=0;c1u=S2x[g8C].High;y6j=S2x[g8C].Low;S0y=+"0";F26=0;for(var b2a=+"1";b2a <= R3k.days;b2a++){if(S2x[g8C].futureTick)break;if(g8C <= b2a){S0y=F26=0;break;}b6r+=S2x[g8C - b2a].trueRange;Q1K=b6r / b2a * Math.sqrt(b2a);if(Q1K){P_0=(c1u - S2x[g8C - b2a].Low) / Q1K;g0W=(S2x[g8C - b2a].High - y6j) / Q1K;S0y=Math.max(S0y,P_0);F26=Math.max(F26,g0W);}}if(!S2x[g8C].futureTick && (!isNaN(c1u) || !isNaN(y6j))){F77="Random Walk ";F77+="Low ";B7_="Random W";B7_+="alk H";B7_+="igh ";S2x[g8C][B7_ + R3k.name]=S0y;S2x[g8C][F77 + R3k.name]=F26;}}};p7_.Studies.studyLibrary=p7_.extend(p7_.Studies.studyLibrary,{"Random Walk":{name:k1S,calculateFN:p7_.Studies.calculateRandomWalk,outputs:{"Random Walk High":P3U,"Random Walk Low":"#0000FF"}}});}};M6=M6o=>{var g7m=c28No;g7m.e5w();var K7r,s$I;K7r=typeof _CIQ !== "undefined"?_CIQ:M6o.CIQ;if(!K7r.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {s$I="#00D";s$I+="D0";s$I+="0";K7r.Studies.calculateRelativeVigor=function(O0s,O6I){var M9V,I6L,h3E,E85,I4s,j0C,Z1x,W8G,V0G,z6n,j4K,d0z,e2N;M9V="_";M9V+="Num";M9V+="er";I6L=O6I.chart.scrubbed;if(I6L.length < O6I.days + +"1"){O6I.error=!!1;return;}for(h3E=O6I.startFrom;h3E < I6L.length;h3E++){E85="_Ch";E85+="an";E85+="ge";E85+=" ";I4s=I6L[h3E];if(!isNaN(I4s.Close) && !isNaN(I4s.Open)){I4s[E85 + O6I.name]=I4s.Close - I4s.Open;}if(!isNaN(I4s.High) && !isNaN(I4s.Low)){I4s["_Range " + O6I.name]=I4s.High - I4s.Low;}}K7r.Studies.MA("triangular",4,"_Change " + O6I.name,0,M9V,O0s,O6I);K7r.Studies.MA("triangular",4,"_Range " + O6I.name,0,"_Denom",O0s,O6I);j0C=[];Z1x=[];for(h3E=Math.max(O6I.startFrom - O6I.days,0);h3E < I6L.length;h3E++){W8G="R";W8G+="el V";W8G+="ig";W8G+=" ";V0G="_Den";V0G+="om ";if(I6L[h3E].futureTick)break;if(I6L[h3E]["_Numer " + O6I.name] === null && I6L[h3E]["_Denom " + O6I.name] === null)continue;j0C.push(I6L[h3E]["_Numer " + O6I.name]);Z1x.push(I6L[h3E][V0G + O6I.name]);if(j0C.length > O6I.days){j0C.shift();Z1x.shift();}z6n=0;j4K=0;for(d0z=0;d0z < j0C.length;d0z++){z6n+=j0C[d0z];}for(d0z=0;d0z < Z1x.length;d0z++){j4K+=Z1x[d0z];}if(j4K === 0){j4K=0.00000001;}if(h3E < O6I.startFrom)continue;g7m.P4c(15);I6L[h3E][W8G + O6I.name]=g7m.J4Z(z6n,j4K);}g7m.P4c(25);K7r.Studies.MA("triangular",g7m.J4Z("4",1),"Rel Vig " + O6I.name,0,"RelVigSignal",O0s,O6I);for(h3E=O6I.startFrom;h3E < I6L.length;h3E++){e2N="_h";e2N+="ist";I6L[h3E][O6I.name + e2N]=I6L[h3E]["Rel Vig " + O6I.name] - I6L[h3E]["RelVigSignal " + O6I.name];}O6I.outputMap[O6I.name + "_hist"]="";};K7r.Studies.studyLibrary=K7r.extend(K7r.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:K7r.Studies.displayHistogramWithSeries,calculateFN:K7r.Studies.calculateRelativeVigor,inputs:{Period:+"10"},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":s$I,"Decreasing Bar":"#FF0000"}}});}};S8=h5i=>{var H9X,S28;H9X=typeof _CIQ !== "undefined"?_CIQ:h5i.CIQ;if(!H9X.Studies){console.error("rsi feature requires first activating studies feature.");}else {S28="a";S28+="uto";H9X.Studies.calculateRSI=function(I7E,X5_){var O9o=c28No;var S08,p_C,O_q,h_I,n8o,J97,x06,B6e,s2f,d6P,E7t,F_f,E8U,A$j,I2R;S08="R";S08+="S";S08+="I";p_C="C";p_C+="l";function Y7v(f1z,l6S){var u4I;if(l6S === 0){return 100;}O9o.Q3k(15);u4I=O9o.J4Z(f1z,l6S);O9o.e5w();O9o.Q3k(160);return O9o.J3g(100,u4I,100,1);}p_C+="ose";O_q=X5_.chart.scrubbed;h_I=X5_.inputs.Field;if(!h_I || h_I == "field"){h_I=p_C;}if(O_q.length < X5_.days + +"1"){X5_.error=!"";return;}for(var h7_=X5_.startFrom;h7_ < O_q.length;h7_++){n8o="_";n8o+="a";n8o+="v";n8o+="gL ";J97="_";J97+="a";J97+="vgG ";x06="_a";x06+="vg";x06+="G";x06+=" ";if(!h7_)continue;B6e=O_q[h7_];O9o.P4c(5);s2f=O_q[O9o.J4Z(1,h7_)];d6P=H9X.Studies.getQuoteFieldValue(B6e,h_I);E7t=H9X.Studies.getQuoteFieldValue(s2f,h_I);if(d6P === null || E7t === null)continue;O9o.P4c(5);F_f=O9o.J4Z(E7t,d6P);E8U=Math.min(h7_,X5_.days);A$j=s2f[x06 + X5_.name];if(!A$j){O9o.Q3k(0);A$j=O9o.J3g("0",0);}O9o.Q3k(15);A$j-=O9o.J3g(A$j,E8U);I2R=s2f["_avgL " + X5_.name];if(!I2R){I2R=0;}O9o.P4c(15);I2R-=O9o.J3g(I2R,E8U);if(F_f > 0){O9o.Q3k(15);A$j+=O9o.J4Z(F_f,E8U);}else if(F_f <= 0){O9o.P4c(15);I2R-=O9o.J4Z(F_f,E8U);}else continue;if(h7_ >= X5_.days){if((A$j || A$j === 0) && (I2R || I2R === 0)){B6e["RSI " + X5_.name]=Y7v(A$j,I2R);}}B6e[J97 + X5_.name]=A$j;B6e[n8o + X5_.name]=I2R;}X5_.zoneOutput=S08;};H9X.Studies.studyLibrary=H9X.extend(H9X.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:H9X.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" * 1,studyOverSoldColor:S28}}}});}};W3=Z4g=>{var f2F=c28No;var g1J,L4A,k6X,p0U,S8v,u_4,O6h;g1J="un";g1J+="defi";f2F.e5w();g1J+="ned";L4A=typeof _CIQ !== g1J?_CIQ:Z4g.CIQ;if(!L4A.Studies){k6X="schaffTrendCyc";k6X+="le feature requires ";k6X+="first activating st";k6X+="udies feature.";console.error(k6X);}else {p0U="au";p0U+="to";S8v="e";S8v+="ma";u_4="0 t";u_4+="o 1";u_4+="0";u_4+="0";O6h="Schaf";O6h+="f Trend ";O6h+="Cycle";L4A.Studies.calculateSchaff=function(J6n,N1z){var K7x,b0U,o07,k5e,T69,f7V,p5p,r2e,b9u,O2x,J4_,B0X,N60,X5s,v72,r0r,i9Q;K7x=N1z.chart.scrubbed;b0U=N1z.days;o07=Number(N1z.inputs["Short Cycle"]);k5e=Number(N1z.inputs["Long Cycle"]);if(K7x.length < Math.max(b0U,o07,k5e) + 1){N1z.error=!!1;return;}T69=N1z.inputs.Field;if(!T69 || T69 == "field"){T69="Close";}f7V=0.5;L4A.Studies.MA(N1z.inputs["Moving Average Type"],o07,T69,0,"_MACD1",J6n,N1z);L4A.Studies.MA(N1z.inputs["Moving Average Type"],k5e,T69,0,"_MACD2",J6n,N1z);f2F.Q3k(30);p5p=f2F.J3g("0",32);f2F.Q3k(25);r2e=f2F.J4Z("0",1);function M30(I2W,J_Z,U4P){var n6i,O4z,C2c;n6i=null;O4z=null;f2F.X77();for(var O_c=J_Z - I2W + 1;O_c <= J_Z;O_c++){f2F.Q3k(161);var K5h=f2F.J3g(1,1,15,4,3031);f2F.Q3k(48);var U9p=f2F.J4Z(6761,18,28,16);f2F.Q3k(162);var R8$=f2F.J4Z(71160,924,15,7,12);f2F.Q3k(2);var v1R=f2F.J3g(6,18,17,976);f2F.Q3k(163);var E6f=f2F.J4Z(2,85400,7114,16,8534);f2F.Q3k(3);var n5X=f2F.J3g(355,4613);f2F.Q3k(66);var i3D=f2F.J3g(23,1,3,5,5);C2c=K7x[O_c][U4P + (K5h == 746.57?(329.41,U9p) <= (R8$,v1R)?!0:E6f != (n5X,"3200" * i3D)?"v":37.68:" ") + N1z.name];if(!C2c)continue;n6i=n6i === null?C2c:Math.min(n6i,C2c);O4z=O4z === null?C2c:Math.max(O4z,C2c);}return [n6i,O4z];}for(var X$c=N1z.startFrom;X$c < K7x.length;X$c++){b9u=K7x[X$c];if(X$c < k5e - 1)continue;O2x=b9u["_MACD1 " + N1z.name];J4_=b9u["_MACD2 " + N1z.name];if(O2x || O2x === 0 || J4_ || J4_ === 0){f2F.Q3k(5);b9u["_MACD " + N1z.name]=f2F.J3g(J4_,O2x);}B0X=b9u["_MACD " + N1z.name];if(X$c < k5e + (b0U - +"1"))continue;N60=M30(b0U,X$c,"_MACD");p5p=N60[1] > N60[0]?("100" << 0) * (B0X - N60[0]) / (N60[1] - N60[+"0"]):p5p;if(B0X || B0X === 0){X5s="_";X5s+="P";X5s+="F ";b9u[X5s + N1z.name]=K7x[X$c - 1]["_PF " + N1z.name]?K7x[X$c - 1]["_PF " + N1z.name] + f7V * (p5p - K7x[X$c - +"1"]["_PF " + N1z.name]):p5p;}v72=b9u["_PF " + N1z.name];if(X$c < k5e + 2 * (b0U - 1))continue;N60=M30(b0U,X$c,"_PF");r2e=N60[1] > N60[+"0"]?100 * (v72 - N60[0]) / (N60[1] - N60[0]):r2e;if(v72 || v72 === 0){r0r="Result";r0r+=" ";i9Q="R";i9Q+="e";i9Q+="s";i9Q+="ult ";b9u[i9Q + N1z.name]=K7x[X$c - 1]["Result " + N1z.name]?K7x[X$c - 1]["Result " + N1z.name] + f7V * (r2e - K7x[X$c - +"1"][r0r + N1z.name]):r2e;}}};L4A.Studies.studyLibrary=L4A.extend(L4A.Studies.studyLibrary,{Schaff:{name:O6h,range:u_4,calculateFN:L4A.Studies.calculateSchaff,inputs:{Period:+"10",Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":S8v},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"75",studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:p0U}}}});}};v9=f_o=>{var E_j=c28No;var s7z,u0P;E_j.X77();s7z=typeof _CIQ !== "undefined"?_CIQ:f_o.CIQ;if(!s7z.Studies){console.error("shinohara feature requires first activating studies feature.");}else {u0P="#E99";u0P+="B5";u0P+="4";s7z.Studies.calculateShinohara=function(I6T,j25){E_j.e5w();var l$x,E0R;l$x=j25.chart.scrubbed;if(l$x.length < j25.days + 1){j25.error=!![];return;}E0R={weakNum:"0" >> 64,weakDen:0,strongNum:0,strongDen:0};if(j25.startFrom > 1){E0R=s7z.clone(l$x[j25.startFrom - 1]["_accums " + j25.name]);}for(var Y4V=j25.startFrom;Y4V < l$x.length;Y4V++){E0R.weakNum+=l$x[Y4V].High - l$x[Y4V].Close;E0R.weakDen+=l$x[Y4V].Close - l$x[Y4V].Low;if(Y4V > 0){E_j.Q3k(29);var C3d=E_j.J4Z(23,13,1,11);E0R.strongNum+=l$x[Y4V].High - l$x[Y4V - C3d].Close;E_j.P4c(5);var s2Y=E_j.J3g(13,14);E0R.strongDen+=l$x[Y4V - s2Y].Close - l$x[Y4V].Low;}if(Y4V >= j25.days){E0R.weakNum-=l$x[Y4V - j25.days].High - l$x[Y4V - j25.days].Close;E0R.weakDen-=l$x[Y4V - j25.days].Close - l$x[Y4V - j25.days].Low;if(E0R.weakDen){E_j.P4c(164);var I2V=E_j.J3g(15,25,12,70,11);l$x[Y4V]["Weak Ratio " + j25.name]=I2V * E0R.weakNum / E0R.weakDen;}if(Y4V > j25.days){E_j.P4c(132);var P4R=E_j.J3g(5,0,20,10,4);E0R.strongNum-=l$x[Y4V - j25.days].High - l$x[Y4V - j25.days - P4R].Close;E_j.P4c(3);var h8A=E_j.J4Z(0,1);E0R.strongDen-=l$x[Y4V - j25.days - h8A].Close - l$x[Y4V - j25.days].Low;if(E0R.strongDen){E_j.P4c(105);var r8t=E_j.J4Z(12,42,6,4);l$x[Y4V]["Strong Ratio " + j25.name]=("100" >> r8t) * E0R.strongNum / E0R.strongDen;}}}l$x[Y4V]["_accums " + j25.name]=s7z.clone(E0R);}};s7z.Studies.studyLibrary=s7z.extend(s7z.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:s7z.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":u0P,"Weak Ratio":"#5F7CB8"}}});}};Z7=a2U=>{var I4z=c28No;var R9o,n6A,v81,j_a,H$f;R9o="u";I4z.X77();R9o+="ndefined";n6A=typeof _CIQ !== R9o?_CIQ:a2U.CIQ;if(!n6A.Studies){console.error("stochastics feature requires first activating studies feature.");}else {v81="a";v81+="u";v81+="t";v81+="o";j_a="a";j_a+="uto";H$f="fi";H$f+="e";H$f+="l";H$f+="d";n6A.Studies.calculateStochastics=function(A9T,o5$){var K1M,e$A,D6I,U4r,q8p,y$_,C_o,O5g,p9J,f2C,g_f,e5M,D5Q;K1M="sim";K1M+="p";K1M+="l";K1M+="e";function h07(x2V,F5y,M05){var L$c,j5D,P3d,H9E,n2q,U9b,W$e,P7o;I4z.P4c(165);L$c=I4z.J3g(M05,"1",x2V,1);I4z.P4c(92);var n1X=I4z.J4Z(9,109,7,13);j5D=Number.MAX_VALUE * n1X;P3d=Number.MAX_VALUE;for(var W$L=L$c;W$L <= x2V;W$L++){H9E="H";H9E+="i";H9E+="gh";n2q="L";n2q+="o";n2q+="w";U9b=n6A.Studies.getQuoteFieldValue(p9J[W$L],F5y == "Close"?"Low":F5y,n2q);W$e=n6A.Studies.getQuoteFieldValue(p9J[W$L],F5y == "Close"?"High":F5y,H9E);if(!U9b && U9b !== 0)continue;if(!W$e && W$e !== 0)continue;P3d=Math.min(P3d,U9b);j5D=Math.max(j5D,W$e);}if(j5D == Number.MAX_VALUE * -1 || P3d == Number.MAX_VALUE){return null;}P7o=j5D == P3d?0:(n6A.Studies.getQuoteFieldValue(p9J[x2V],F5y) - P3d) / (j5D - P3d) * +"100";return P7o;}e$A="%";e$A+="K";D6I="_";D6I+="Fast";D6I+="%K ";U4r="%K Smo";U4r+="othin";U4r+="g Perio";U4r+="ds";q8p="C";q8p+="l";q8p+="os";q8p+="e";y$_="f";y$_+="i";y$_+="el";y$_+="d";if(!o5$.smooth){o5$.smooth=o5$.inputs.Smooth;}C_o=o5$.inputs.Field;if(!C_o || C_o == y$_){C_o=q8p;}O5g=o5$.inputs["%K Periods"];I4z.X77();if(!O5g){O5g=o5$.days;}p9J=o5$.chart.scrubbed;if(p9J.length < Math.max(O5g,o5$.days) + 1){o5$.error=!!({});return;}f2C=o5$.inputs[U4r];if(f2C && !o5$.inputs.Fast){o5$.smooth=!!({});}else if(o5$.smooth){f2C=3;}g_f=o5$.inputs["%D Periods"];if(!g_f){g_f=3;}if(o5$.outputs.Fast){e5M="Fa";e5M+="s";e5M+="t";o5$.outputMap={};o5$.outputMap["%K " + o5$.name]=e5M;o5$.outputMap["%D " + o5$.name]="Slow";}for(var h$q=Math.max(O5g,o5$.startFrom);h$q < p9J.length;h$q++){D5Q=h07(h$q,C_o,O5g);if(D5Q !== null){p9J[h$q]["_Fast%K " + o5$.name]=D5Q;}}n6A.Studies.MA("simple",o5$.smooth?f2C:1,D6I + o5$.name,0,e$A,A9T,o5$);n6A.Studies.MA(K1M,g_f,"%K " + o5$.name,0,"%D",A9T,o5$);};n6A.Studies.calculateStochMomentum=function(p6_,v4x){var h2j,x9q,j5U,o8K,c6r,y_7,c$N,c51,G8Z,a9X,t9I,b4K,p$I,V$3;h2j="%";h2j+="D";x9q="ex";x9q+="ponen";x9q+="tial";j5U="_D";j5U+="HL ";o8K="_";o8K+="HS";o8K+="2";c6r="%K Smooth";c6r+="ing ";c6r+="Period";c6r+="s";y_7=Number(v4x.inputs["%K Periods"]);c$N=Number(v4x.inputs[c6r]);c51=Number(v4x.inputs["%K Double Smoothing Periods"]);G8Z=Number(v4x.inputs["%D Periods"]);a9X=v4x.chart.scrubbed;if(a9X.length < y_7 + c$N + c51 - ("1" << 32) || a9X.length < G8Z){v4x.error=!!"1";return;}for(t9I=Math.max(y_7,v4x.startFrom) - 1;t9I < a9X.length;t9I++){b4K=a9X[t9I];p$I=F7m(y_7,t9I);I4z.P4c(100);var l__=I4z.J3g(13,1367,6,9,8);I4z.P4c(60);var G3P=I4z.J3g(318,8,40);b4K["_H " + v4x.name]=b4K.Close - (p$I[+"0"] + p$I[l__]) / G3P;I4z.P4c(5);var U5K=I4z.J4Z(20,21);b4K["_DHL " + v4x.name]=p$I[U5K] - p$I[0];}n6A.Studies.MA("exponential",c$N,"_H " + v4x.name,0,"_HS1",p6_,v4x);n6A.Studies.MA("exponential",c51,"_HS1 " + v4x.name,0,o8K,p6_,v4x);n6A.Studies.MA("exponential",c$N,j5U + v4x.name,0,"_DHL1",p6_,v4x);n6A.Studies.MA(x9q,c51,"_DHL1 " + v4x.name,0,"_DHL2",p6_,v4x);for(t9I=y_7 - 1;t9I < a9X.length;t9I++){V$3="_D";V$3+="HL2 ";I4z.P4c(52);var C77=I4z.J4Z(17,19,17,118);a9X[t9I]["%K " + v4x.name]=a9X[t9I]["_HS2 " + v4x.name] / (0.5 * a9X[t9I][V$3 + v4x.name]) * C77;}n6A.Studies.MA(v4x.inputs["%D Moving Average Type"],G8Z,"%K " + v4x.name,0,h2j,p6_,v4x);v4x.zoneOutput="%K";function F7m(P8X,z91){I4z.e5w();var o2O,D$B;o2O=null;D$B=null;for(var t7j=z91 - P8X + 1;t7j <= z91;t7j++){o2O=o2O === null?a9X[t7j].Low:Math.min(o2O,a9X[t7j].Low);D$B=D$B === null?a9X[t7j].High:Math.max(D$B,a9X[t7j].High);}return [o2O,D$B];}};n6A.Studies.studyLibrary=n6A.extend(n6A.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:n6A.Studies.calculateStochMomentum,inputs:{"%K Periods":+"10","%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:n6A.Studies.calculateStochastics,inputs:{Period:14,Field:H$f,Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:n6A.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:!"1","%K Smoothing Periods":"3" * 1,"%D Periods":3},outputs:{"%K":j_a,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:"80" ^ 0,studyOverBoughtColor:v81,studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){I4z.X77();return this.inputs.Fast;}}},centerline:50}});}};M1=m1b=>{var o08,D0s;o08=typeof _CIQ !== "undefined"?_CIQ:m1b.CIQ;if(!o08.Studies){console.error("supertrend feature requires first activating studies feature.");}else {D0s="#b";D0s+="82c0";D0s+="c";o08.Studies.calculateSupertrend=function(p4i,v1g){var x2Y=c28No;var j4b,K8z,I05,c3q,E_q,B8h,S8p,U$y,y$O,z0N,z3C,T7L,w8Z;j4b=v1g.chart.scrubbed;if(j4b.length < v1g.days + 1){v1g.error=!0;return;}o08.Studies.calculateStudyATR(p4i,v1g);for(var Q9P=v1g.startFrom;Q9P < j4b.length;Q9P++){K8z="A";K8z+="TR";K8z+=" ";I05=j4b[Q9P];if(!I05)continue;x2Y.Q3k(7);var R98=x2Y.J4Z(0,5,7);c3q=(I05.High + I05.Low) / R98;E_q=v1g.inputs.Multiplier * I05[K8z + v1g.name];x2Y.Q3k(5);B8h=x2Y.J4Z(E_q,c3q);x2Y.P4c(3);S8p=x2Y.J3g(c3q,E_q);if(Q9P){U$y="_";U$y+="Do";U$y+="wntrend";U$y+=" ";y$O="_D";y$O+="owntrend ";z0N="_Up";z0N+="t";z0N+="rend ";z3C="_U";z3C+="ptrend ";if(j4b[Q9P - +"1"] && j4b[Q9P - 1].Close && j4b[Q9P - 1].Close > j4b[Q9P - +"1"][z3C + v1g.name] && j4b[Q9P - 1]["_Uptrend " + v1g.name] > B8h){x2Y.P4c(5);B8h=j4b[x2Y.J4Z(1,Q9P)][z0N + v1g.name];}if(j4b[Q9P - 1] && j4b[Q9P - 1].Close && j4b[Q9P - +"1"].Close < j4b[Q9P - 1][y$O + v1g.name] && j4b[Q9P - 1][U$y + v1g.name] < S8p){x2Y.Q3k(5);S8p=j4b[x2Y.J3g(1,Q9P)]["_Downtrend " + v1g.name];}}I05["_Direction " + v1g.name]=1;if(Q9P){T7L="_Down";T7L+="trend ";w8Z="_Dire";w8Z+="cti";w8Z+="on";w8Z+=" ";x2Y.P4c(5);I05["_Direction " + v1g.name]=j4b[x2Y.J3g(1,Q9P)][w8Z + v1g.name];if(I05.Close > j4b[Q9P - 1][T7L + v1g.name]){x2Y.P4c(0);I05["_Direction " + v1g.name]=x2Y.J4Z("1",1);}else if(I05.Close < j4b[Q9P - 1]["_Uptrend " + v1g.name]){I05["_Direction " + v1g.name]=-1;}}I05["_Uptrend " + v1g.name]=B8h;I05["_Downtrend " + v1g.name]=S8p;I05["Trend " + v1g.name]=I05["_Direction " + v1g.name] > 0?B8h:S8p;if(!Q9P)continue;}v1g.outputMap={};x2Y.X77();v1g.outputMap["Trend " + v1g.name]="";};o08.Studies.displaySupertrend=function(p7T,i9$,Z5I){var u1F,V8H,J6$,Q4V,p7v,m74,f_I,W7n,z_l,T0G,X1R,P4v,e9w;u1F=p7T.panels[i9$.panel];V8H=i9$.getContext(p7T);J6$=i9$.getYAxis(p7T);Q4V={skipTransform:u1F.name != i9$.chart.name,skipProjections:!![],label:p7T.preferences.labels,yAxis:J6$,highlight:i9$.highlight};p7v="Trend " + i9$.name;for(var j4i=0;u1F.chart.transformFunc && J6$ != u1F.chart.yAxis && j4i < Z5I.length;j4i++){m74=Z5I[j4i];if(m74 && m74.transform){m74.transform[p7v]=u1F.chart.transformFunc(p7T,u1F.chart,m74[p7v]);}}c28No.e5w();p7T.plotDataSegmentAsLine(p7v,u1F,Q4V,E9x);V8H.lineWidth=1;V8H.globalAlpha=1;p7T.startClip(i9$.panel);function E9x(s9u,v5f,n4R){var M_P;M_P="_";M_P+="Dir";M_P+="ec";M_P+="tion ";if(v5f && v5f[M_P + i9$.name] < 0){return i9$.outputs.Downtrend;}return i9$.outputs.Uptrend;}if(!i9$.highlight && p7T.highlightedDraggable){V8H.globalAlpha*=0.3;}c28No.P4c(5);var R2V=c28No.J4Z(6,8);f_I=V8H.measureText("\u25B2").width / R2V;for(W7n=0;W7n < Z5I.length;W7n++){if(!Z5I[W7n])continue;X1R=Z5I[W7n]["_Direction " + i9$.name];if(!X1R)continue;if(T0G > X1R){z_l=o08.Studies.determineColor(i9$.outputs.Downtrend);if(!z_l || z_l == "auto" || o08.isTransparent(z_l)){z_l=p7T.defaultColor;}V8H.fillStyle=z_l;V8H.textBaseline="bottom";P4v=p7T.pixelFromPrice(Z5I[W7n].High,u1F,J6$);for(var j9k=5;j9k <= "45" >> 96;j9k+=10){if(J6$.flipped){V8H.fillText((117,4120) > (9840,2590)?"\u25B2":457.81 !== 220.5?8.00e+3:!!1,p7T.pixelFromBar(W7n) - f_I,P4v + j9k);}else {V8H.fillText(1040 != (7273,"673" ^ 0)?"\u25BC":3997 >= (6820,5200)?"524.53" - 0:1820 == (6738,2544)?3.19e+3:258.20,p7T.pixelFromBar(W7n) - f_I,P4v - j9k);}}}else if(T0G < X1R){z_l=o08.Studies.determineColor(i9$.outputs.Uptrend);if(!z_l || z_l == "auto" || o08.isTransparent(z_l)){z_l=p7T.defaultColor;}V8H.fillStyle=z_l;V8H.textBaseline="top";e9w=p7T.pixelFromPrice(Z5I[W7n].Low,u1F,J6$);for(var z0l=5;z0l <= 45;z0l+=10){if(J6$.flipped){V8H.fillText(960 <= "931" << 64?("f",0xab2):9020 == (278.49,4130)?("M",+"413.37"):671.03 <= (4023,9600)?"\u25BC":(7.89e+3,"C"),p7T.pixelFromBar(W7n) - f_I,e9w - z0l);}else {V8H.fillText((+"4490",172.34) != "9933" >> 0?"\u25B2":0x976,p7T.pixelFromBar(W7n) - f_I,e9w + z0l);}}}T0G=X1R;}p7T.endClip();};o08.Studies.studyLibrary=o08.extend(o08.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!!1,seriesFN:o08.Studies.displaySupertrend,calculateFN:o08.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:"3" | 0},outputs:{Uptrend:"#8cc176",Downtrend:D0s},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};l2=L43=>{var s45,r$B,g54;s45="und";s45+="efine";s45+="d";r$B=typeof _CIQ !== s45?_CIQ:L43.CIQ;if(!r$B.Studies){g54="swingIndex ";g54+="feature re";g54+="quires first activating studies feature.";console.error(g54);}else {r$B.Studies.calculateSwingIndex=function(s_W,m5Z){var H2J=c28No;H2J.X77();var G8v,a7p,L5q,F$p,P_o,j49,I6r,W9C,z2N,J8M,d89,N1Y,g5P;G8v="Limi";G8v+="t M";G8v+="ove V";G8v+="alue";a7p=m5Z.inputs[G8v];if(a7p <= 0 || isNaN(a7p)){a7p=99999;}L5q=m5Z.chart.scrubbed;F$p=+"0";if(m5Z.startFrom > 1){F$p=L5q[m5Z.startFrom - +"1"]["Result " + m5Z.name];}for(var J2w=Math.max(1,m5Z.startFrom);J2w < L5q.length;J2w++){P_o="Sw";P_o+="in";P_o+="g";j49=Math.abs(L5q[J2w].High - L5q[J2w - +"1"].Close);I6r=Math.abs(L5q[J2w].Low - L5q[J2w - 1].Close);W9C=Math.abs(L5q[J2w].High - L5q[J2w].Low);z2N=Math.abs(L5q[J2w - 1].Close - L5q[J2w - 1].Open);J8M=Math.max(j49,I6r);d89=Math.max(W9C,J8M);H2J.Q3k(26);N1Y=H2J.J3g(z2N,d89,0.25);if(d89 == j49){H2J.P4c(25);N1Y-=H2J.J4Z(0.5,I6r);}else if(d89 == I6r){H2J.P4c(25);N1Y-=H2J.J3g(0.5,j49);}H2J.Q3k(124);var H9m=H2J.J3g(70,14,7,832);H2J.P4c(45);var R0M=H2J.J4Z(17,16);H2J.P4c(166);var r9q=H2J.J4Z(2,33,0,15,18);H2J.P4c(124);var S8m=H2J.J3g(10,15,6,59);g5P=H9m * (L5q[J2w].Close - L5q[J2w - R0M].Close + 0.5 * (L5q[J2w].Close - L5q[J2w].Open) + ("0.25" - 0) * (L5q[J2w - r9q].Close - L5q[J2w - S8m].Open)) / N1Y * (J8M / a7p);if(N1Y === 0 || a7p === 0){g5P=0;}if(m5Z.type == P_o){F$p=0;}F$p+=g5P;L5q[J2w]["Result " + m5Z.name]=F$p;}};r$B.Studies.studyLibrary=r$B.extend(r$B.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:r$B.Studies.calculateSwingIndex,inputs:{"Limit Move Value":"0.5" * 1},attributes:{"Limit Move Value":{min:0.01,step:+"0.01"}}},Swing:{name:"Swing Index",calculateFN:r$B.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5},attributes:{"Limit Move Value":{min:0.01,step:0.01}}}});}};m0=n8c=>{var F8j,x8f,Z6K,p9n,W8E,w$p;F8j="undef";F8j+="in";F8j+="e";F8j+="d";x8f=typeof _CIQ !== F8j?_CIQ:n8c.CIQ;if(!x8f.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {Z6K="au";Z6K+="t";Z6K+="o";p9n="#FF0";p9n+="0";p9n+="0";p9n+="0";W8E="0 to ";W8E+="100";w$p="Trend";w$p+=" ";w$p+="Intens";w$p+="ity Index";x8f.Studies.calculateTrendIntensity=function(P55,W9k){var k4s=c28No;var d79,U3s,n8Q,X3Y,C1u,v1t,A4H,D4x,w3j,Y7K,J7y,l3n;function g4P(n5w,I$b){if(Math.abs(I$b) < "0.00000001" - 0){return 100;}k4s.P4c(167);return k4s.J4Z(100,I$b,"100",n5w,1);}d79="Signal Perio";d79+="d";U3s="e";U3s+="ma";n8Q=W9k.chart.scrubbed;if(n8Q.length < W9k.days + ("1" | 1)){W9k.error=!!"1";return;}X3Y=W9k.inputs.Field;if(!X3Y || X3Y == "field"){X3Y="Close";}x8f.Studies.MA("ma",W9k.days,X3Y,0,"_SMA",P55,W9k);k4s.X77();C1u=0;v1t=0;w3j=[];Y7K=Math.ceil(W9k.days / +"2");for(A4H=Math.max(0,W9k.startFrom - Y7K);A4H < n8Q.length;A4H++){J7y="_SM";J7y+="A ";l3n="_";l3n+="SM";l3n+="A";l3n+=" ";if(!n8Q[A4H][l3n + W9k.name] && n8Q[A4H]["_SMA " + W9k.name] !== 0)continue;D4x=x8f.Studies.getQuoteFieldValue(n8Q[A4H],X3Y) - n8Q[A4H][J7y + W9k.name];if(D4x < +"0"){k4s.Q3k(168);v1t+=k4s.J4Z(1,D4x);}else {C1u+=D4x;}w3j.push(D4x);if(w3j.length > Y7K){D4x=w3j.shift();if(D4x < 0){k4s.Q3k(168);v1t-=k4s.J4Z(1,D4x);}else {C1u-=D4x;}}if(A4H < W9k.startFrom)continue;n8Q[A4H]["TII " + W9k.name]=g4P(C1u,v1t);}x8f.Studies.MA(U3s,W9k.inputs[d79],"TII " + W9k.name,0,"Signal",P55,W9k);};x8f.Studies.studyLibrary=x8f.extend(x8f.Studies.studyLibrary,{"Trend Int":{name:w$p,calculateFN:x8f.Studies.calculateTrendIntensity,range:W8E,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:p9n},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:80,studyOverBoughtColor:Z6K,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};w7=B6t=>{var i6X,H$8;i6X=typeof _CIQ !== "undefined"?_CIQ:B6t.CIQ;if(!i6X.Studies){H$8="trix feature requires first activating studies fe";H$8+="ature.";console.error(H$8);}else {i6X.Studies.calculateTRIX=function(u5h,V88){var j8f=c28No;var E5K,A0o,W0L,E3G,Q_H,D50,q5X,k_i;j8f.X77();E5K="_";E5K+="M";E5K+="A";E5K+="2 ";A0o="Cl";A0o+="os";A0o+="e";W0L=V88.chart.scrubbed;if(W0L.length < V88.days + 1){V88.error=!!({});return;}E3G=V88.name;j8f.Q3k(3);Q_H=[A0o,j8f.J4Z("_MA1 ",E3G),j8f.J4Z(E5K,E3G),j8f.J3g("_MA3 ",E3G)];for(var g_Z=0;g_Z < Q_H.length - 1;g_Z++){i6X.Studies.MA("exponential",V88.days,Q_H[g_Z],0,"_MA" + (g_Z + 1).toString(),u5h,V88);}D50=Q_H[3];for(var F2A=Math.max(1,V88.startFrom);F2A < W0L.length;F2A++){j8f.Q3k(5);q5X=W0L[j8f.J3g(1,F2A)][D50];if(!q5X)continue;k_i=W0L[F2A][D50];if(k_i || k_i === 0){j8f.Q3k(3);W0L[F2A][j8f.J3g("Result ",E3G)]=j8f.J3g(q5X,k_i,"1",100,j8f.Q3k(169));}}};i6X.Studies.studyLibrary=i6X.extend(i6X.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:i6X.Studies.calculateTRIX}});}};O6=v0B=>{var t9y,k5Y;t9y=typeof _CIQ !== "undefined"?_CIQ:v0B.CIQ;if(!t9y.Studies){k5Y="twiggsMoneyFlow feature re";k5Y+="quires first activating studies feature.";console.error(k5Y);}else {t9y.Studies.calculateTwiggsMoneyFlow=function(L5X,F$a){var Z7Y=c28No;Z7Y.X77();var z_o,z$i,C67,i$r,O7M,x0M,H19,B73,b6c;z_o=F$a.chart.scrubbed;if(z_o.length < F$a.days){F$a.error=!!1;return;}z$i=0;C67=0;Z7Y.P4c(3);var S4x=Z7Y.J3g(0,1);i$r=z_o[F$a.startFrom - "1" * S4x];if(i$r){O7M="_s";O7M+="umM";O7M+="F";O7M+=" ";if(i$r[O7M + F$a.name]){z$i=i$r["_sumMF " + F$a.name];}if(i$r["_sumV " + F$a.name]){C67=i$r["_sumV " + F$a.name];}}for(var c5R=Math.max(+"1",F$a.startFrom);c5R < z_o.length;c5R++){x0M="_";x0M+="sumMF";x0M+=" ";H19="_";H19+="M";H19+="FV";H19+=" ";B73=Math.max(z_o[c5R - +"1"].Close,z_o[c5R].High);b6c=Math.min(z_o[c5R - 1].Close,z_o[c5R].Low);Z7Y.Q3k(5);var Z5T=Z7Y.J3g(16,18);Z7Y.P4c(170);var A5Z=Z7Y.J4Z(6,2,3,66667,10);z_o[c5R]["_MFV " + F$a.name]=z_o[c5R].Volume * (Z5T * z_o[c5R].Close - B73 - b6c) / (B73 - b6c === 0?A5Z:B73 - b6c);if(c5R > F$a.days - 1){z$i*=(F$a.days - +"1") / F$a.days;Z7Y.Q3k(41);var Y_A=Z7Y.J3g(19,19,94,6);C67*=(F$a.days - Y_A) / F$a.days;}z$i+=z_o[c5R][H19 + F$a.name];C67+=z_o[c5R].Volume;if(c5R > F$a.days - +"1"){if(C67){Z7Y.P4c(15);z_o[c5R]["Result " + F$a.name]=Z7Y.J4Z(z$i,C67 > "0" >> 64?C67:999999);}}z_o[c5R][x0M + F$a.name]=z$i;z_o[c5R]["_sumV " + F$a.name]=C67;}};t9y.Studies.studyLibrary=t9y.extend(t9y.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:t9y.Studies.calculateTwiggsMoneyFlow,inputs:{Period:"21" >> 0}}});}};E0=h1T=>{var m2i,K8K,I8p,o_Y,z5a,b86,W9W;m2i=-1262279001;c28No.X77();K8K=-1065529750;I8p=2;for(var S3W=+"1";c28No.Y5Z(S3W.toString(),S3W.toString().length,5933) !== m2i;S3W++){o_Y=+_CIQ === ""?_CIQ:h1T.CIQ;I8p+=2;}if(c28No.Y5Z(I8p.toString(),I8p.toString().length,35987) !== K8K){z5a="undef";z5a+="ined";o_Y=typeof _CIQ !== z5a?_CIQ:h1T.CIQ;}if(!o_Y.Studies){b86="typicalPrice feature require";b86+="s first activating";b86+=" studies f";b86+="eature.";console.error(b86);}else if(!o_Y.Studies.calculateTypicalPrice){W9W="typicalPrice feature requires first activating median";W9W+="Price feature.";console.error(W9W);}else {o_Y.Studies.studyLibrary=o_Y.extend(o_Y.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:o_Y.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:o_Y.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};G3=q04=>{var S1P;S1P=typeof _CIQ !== "undefined"?_CIQ:q04.CIQ;if(!S1P.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {S1P.Studies.calculateUlcerIndex=function(Y$c,J4U){var Y42,i2K,Y7F,o4T,Y$A,e2m,j8L;Y42="_";Y42+="MA";i2K="C";i2K+="l";i2K+="os";i2K+="e";Y7F=J4U.chart.scrubbed;if(Y7F.length < 2 * J4U.days - ("1" - 0)){J4U.error=!![];return;}o4T=J4U.inputs.Field;if(!o4T || o4T == "field"){o4T=i2K;}function D7j(c2L,Z_D,i8a){var R7B;R7B=null;c28No.X77();for(var s_A=Z_D - c2L + 1;s_A <= Z_D;s_A++){if(s_A < 0)continue;R7B=R7B === null?S1P.Studies.getQuoteFieldValue(Y7F[s_A],i8a):Math.max(R7B,S1P.Studies.getQuoteFieldValue(Y7F[s_A],i8a));}return R7B;}for(Y$A=Math.max(J4U.startFrom,J4U.days - ("1" >> 64));Y$A < Y7F.length;Y$A++){Y7F[Y$A]["_PD2 " + J4U.name]=Math.pow(100 * (S1P.Studies.getQuoteFieldValue(Y7F[Y$A],o4T) / D7j(J4U.days,Y$A,o4T) - 1),2);}S1P.Studies.MA("simple",J4U.days,"_PD2 " + J4U.name,0,Y42,Y$c,J4U);for(Y$A=Math.max(J4U.startFrom,2 * (J4U.days - 1));Y$A < Y7F.length;Y$A++){e2m="_M";e2m+="A";e2m+=" ";j8L=Y7F[Y$A][e2m + J4U.name];if(j8L || j8L === 0){Y7F[Y$A]["Result " + J4U.name]=Math.sqrt(j8L);}}};S1P.Studies.studyLibrary=S1P.extend(S1P.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:S1P.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};S7=Q6_=>{var d6G,H2h,W1$,L2f;d6G="u";d6G+="nde";d6G+="fined";H2h=typeof _CIQ !== d6G?_CIQ:Q6_.CIQ;if(!H2h.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {W1$="au";W1$+="to";L2f="Ultimate";L2f+=" ";L2f+="Os";L2f+="cillator";H2h.Studies.calculateUltimateOscillator=function(X9Q,L5M){var D8n=c28No;var s97,q$y,q77,O3W,w_Z,I$5,d68,B6r,H7B,f4X,t4j,F5W,c44,l4z,B2v,v$C,W2d,u1U;s97=L5M.chart.scrubbed;q$y=[L5M.inputs["Cycle 1"],L5M.inputs["Cycle 2"],L5M.inputs["Cycle 3"]];q77=Math.max(q$y[0],q$y["1" ^ 0],q$y[2]);if(s97.length < q77 + ("1" - 0)){L5M.error=!"";return;}O3W=q$y[0] * q$y[+"1"];D8n.Q3k(60);var G$l=D8n.J3g(134,17,8);w_Z=q$y[0] * q$y[G$l];D8n.Q3k(62);var Z2Y=D8n.J3g(0,2,3,1);I$5=q$y[Z2Y] * q$y[+"2"];d68=[+"0",0,0];B6r=[+"0",0,0];if(L5M.startFrom){H7B="_ac";H7B+="ctr";H7B+=" ";if(s97[L5M.startFrom - 1]["_accbp " + L5M.name]){d68=s97[L5M.startFrom - "1" * 1]["_accbp " + L5M.name].slice();}if(s97[L5M.startFrom - ("1" ^ 0)][H7B + L5M.name]){B6r=s97[L5M.startFrom - 1]["_acctr " + L5M.name].slice();}}for(var I6H=Math.max(1,L5M.startFrom);I6H < s97.length;I6H++){f4X="_";f4X+="acct";f4X+="r ";t4j=Math.min(s97[I6H].Low,s97[I6H - 1].Close);F5W=s97[I6H].Close - t4j;D8n.P4c(171);var e5t=D8n.J4Z(17,3,3,3,13);c44=Math.max(s97[I6H].High,s97[I6H - e5t].Close) - t4j;for(var h$u=0;h$u < q$y.length;h$u++){d68[h$u]+=F5W;B6r[h$u]+=c44;if(I6H > q$y[h$u]){l4z=Math.min(s97[I6H - q$y[h$u]].Low,s97[I6H - q$y[h$u] - +"1"].Close);B2v=s97[I6H - q$y[h$u]].Close - l4z;D8n.Q3k(172);var f7s=D8n.J4Z(127,7,0,9,17);v$C=Math.max(s97[I6H - q$y[h$u]].High,s97[I6H - q$y[h$u] - f7s].Close) - l4z;d68[h$u]-=B2v;B6r[h$u]-=v$C;}}s97[I6H]["_accbp " + L5M.name]=d68.slice();s97[I6H][f4X + L5M.name]=B6r.slice();if(I6H < q77)continue;D8n.P4c(173);var u2h=D8n.J3g(7,8,8,12,20);D8n.P4c(42);var w$P=D8n.J3g(3,14,8,113);W2d=I$5 * d68["0" << 32] / B6r[0] + w_Z * d68[+"1"] / B6r["1" - 0] + O3W * d68[u2h] / B6r[w$P];D8n.P4c(4);u1U=D8n.J4Z(O3W,I$5,w_Z);D8n.P4c(95);s97[I6H]["Result " + L5M.name]=D8n.J3g(u1U,100,W2d);}};H2h.Studies.studyLibrary=H2h.extend(H2h.Studies.studyLibrary,{Ultimate:{name:L2f,calculateFN:H2h.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:+"70",studyOverBoughtColor:W1$,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};E2=g4M=>{var c7K=c28No;var H_h,i5m,z1Y,O0I,h_n;c7K.e5w();H_h=typeof _CIQ !== "undefined"?_CIQ:g4M.CIQ;if(!H_h.Studies){i5m="valuationLines f";i5m+="eature requires first a";i5m+="ctivating studies feature.";console.error(i5m);}else {z1Y="#00a";z1Y+="fed";O0I="m";O0I+="ed";O0I+="ian";h_n="m";h_n+="e";h_n+="an";H_h.Studies.calculateValuationLines=function(j_S,f2U,G9s){var h6s,v0U,q12,X3Q,a$C,G6m,S2r,c74,C70,b5q,O0p,H9o,j4M,R$q;h6s=f2U.inputs.Field == "field"?"Close":f2U.inputs.Field;v0U=f2U.inputs["Average Type"];q12=f2U.inputs["Display Average"];X3Q=f2U.inputs["Display 1 Standard Deviation (1\u03C3)"];a$C=f2U.inputs["Display 2 Standard Deviation (2\u03C3)"];G6m=f2U.inputs["Display 3 Standard Deviation (3\u03C3)"];S2r=[];for(var E$E=0;E$E < G9s.length;++E$E){c74=H_h.Studies.getQuoteFieldValue(G9s[E$E],h6s);if(c74 !== null){S2r.push(c74);}}C70=(function(u_C,F7p){var p96,n86,l2R,R8H,J9j,T$t,w9y;p96="ha";p96+="r";p96+="mon";p96+="ic";n86=u_C.length;l2R=0;c7K.X77();R8H=+"0";J9j=0;switch(F7p){case "mean":R8H=n86;for(;J9j < n86;++J9j){l2R+=u_C[J9j];}break;case p96:l2R=n86;for(;J9j < n86;++J9j){c7K.P4c(10);var C0Q=c7K.J3g(0,3,4);R8H+=C0Q / u_C[J9j];}break;case "median":c7K.Q3k(74);T$t=Math.floor(c7K.J4Z("2",n86));w9y=u_C.slice().sort(function(k$H,q_U){if(k$H > q_U){return 1;}if(k$H < q_U){return -1;}return 0;});if(n86 % 2 === 0){c7K.Q3k(5);var J9P=c7K.J3g(11,12);l2R=w9y[T$t] + w9y[T$t - J9P];R8H=+"2";}else {l2R=w9y[T$t];R8H=1;}break;}c7K.Q3k(15);return c7K.J3g(l2R,R8H);})(S2r,v0U);b5q=!(X3Q || a$C || G6m) || (function(v46,y$T){var o_r,T63;o_r=v46.length;T63=0;for(var f_k=0;f_k < o_r;++f_k){T63+=Math.pow(v46[f_k] - y$T,2);}c7K.Q3k(15);return Math.sqrt(c7K.J3g(T63,o_r));})(S2r,C70);f2U.data={Average:q12?[C70]:null,"1 Standard Deviation (1\u03C3)":X3Q?[C70 + b5q,C70 - b5q]:null,"2 Standard Deviation (2\u03C3)":a$C?[C70 + b5q * 2,C70 - b5q * ("2" | 0)]:null,"3 Standard Deviation (3\u03C3)":G6m?[C70 + b5q * 3,C70 - b5q * 3]:null};O0p=b5q;if(!f2U.parameters){f2U.parameters={};}if(G6m){c7K.P4c(174);f2U.parameters.range=[c7K.J3g("3",C70,O0p,b5q,0),c7K.J4Z(O0p,3,C70,b5q,c7K.Q3k(175))];}else if(a$C){c7K.P4c(176);f2U.parameters.range=[c7K.J3g(C70,"2",b5q,O0p),c7K.J4Z(O0p,2,C70,b5q,c7K.P4c(175))];}else if(X3Q){c7K.Q3k(38);f2U.parameters.range=[c7K.J4Z(b5q,C70,O0p),c7K.J4Z(O0p,C70,b5q,c7K.Q3k(4))];}else if(q12){c7K.P4c(5);f2U.parameters.range=[c7K.J4Z(O0p,C70),c7K.J4Z(C70,O0p,c7K.Q3k(3))];}if(f2U.panel){H9o=j_S.panels[f2U.panel];j4M=j_S.getYAxisByName(H9o,f2U.name);if(j4M){j4M.decimalPlaces=H9o.chart.yAxis.printDecimalPlaces;R$q={yAxis:j4M};j_S.calculateYAxisRange(H9o,j4M,f2U.parameters.range[0],f2U.parameters.range[1]);j_S.createYAxis(H9o,R$q);j_S.drawYAxis(H9o,R$q);}}};H_h.Studies.displayValuationLines=function(j73,h_6){var B9X,q_W,S6a,l5h,i86,M9i,r55,L5Q,m$5,H$h,A15,W6J,O6b,x1z,d5n,Q2j,Y9G,R96,g6c,y2F,c9_,K5B,b6L,x5C,z$j,t$C,I3m;B9X="A";B9X+="V";B9X+="G";q_W="Average Typ";q_W+="e";S6a=j73.panels[h_6.panel];l5h=h_6.getYAxis(j73);i86=h_6.getContext(j73);M9i=h_6.data;r55=h_6.parameters.labels;L5Q=h_6.inputs[q_W];m$5={mean:B9X,median:"MED",harmonic:"HAVG"};H$h=j73.canvasStyle("ciq-valuation-average-line");A15=j73.canvasStyle("ciq-valuation-deviation-line");c7K.Q3k(0);W6J=c7K.J4Z("3",0);c7K.Q3k(45);var l_i=c7K.J3g(6,4);O6b=j73.getCanvasFontSize("stx_yaxis") + W6J * l_i;for(var I1K in M9i){if(!M9i[I1K])continue;c7K.P4c(177);x1z=c7K.J4Z("Average",I1K);d5n=H_h.Studies.determineColor(h_6.outputs[I1K]);Q2j=M9i[I1K];for(Y9G=0;Y9G < Q2j.length;++Y9G){b6L=":";b6L+=" ";x5C="ya";x5C+="x";x5C+="is";z$j="li";z$j+="n";z$j+="e";t$C="n";t$C+="o";t$C+="ne";R96=Q2j[Y9G];g6c=j73.pixelFromPrice(R96,S6a,l5h);if(g6c <= S6a.top || g6c >= S6a.yAxis.bottom)continue;K5B=x1z?{pattern:H$h.borderStyle != "none"?H$h.borderStyle || "solid":"solid",lineWidth:parseFloat(H$h.borderWidth) || +"1",opacity:parseFloat(H$h.opacity) || 1,yAxis:l5h}:{pattern:A15.borderStyle != t$C?A15.borderStyle || "dashed":"dashed",lineWidth:parseFloat(A15.borderWidth) || 1,opacity:parseFloat(A15.opacity) || 1,yAxis:l5h};j73.plotLine(S6a.left,S6a.right,g6c,g6c,d5n,z$j,i86,S6a,K5B);if(r55 === x5C){j73.createYAxisLabel(S6a,j73.formatYAxisPrice(R96,S6a),g6c,d5n,null,i86,l5h);continue;}g6c+=Math.floor(K5B.lineWidth / 2);if(g6c + O6b >= S6a.yAxis.bottom)continue;y2F=(x1z?m$5[L5Q] + b6L:I1K[+"0"] + "\u03C3: ") + j73.formatYAxisPrice(R96,S6a);c9_=i86.measureText(y2F).width;I3m=S6a.right - c9_ - W6J;if(l5h && l5h.position == "left"){I3m=S6a.left + W6J;}c7K.Q3k(178);i86.strokeText(y2F,I3m,c7K.J4Z(O6b,0.5,g6c,2));}}};H_h.Studies.studyLibrary=H_h.extend(H_h.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(U9J,S2n,i7H){H_h.Studies.calculateValuationLines(U9J,S2n,i7H);H_h.Studies.displayValuationLines(U9J,S2n);},overlay:!![],yAxisFN:function(){},inputs:{Field:"field","Average Type":[h_n,O0I,"harmonic"],"Display Average":!!({}),"Display 1 Standard Deviation (1\u03C3)":!1,"Display 2 Standard Deviation (2\u03C3)":!({}),"Display 3 Standard Deviation (3\u03C3)":!!0},outputs:{Average:z1Y,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};E5=A0M=>{var P1p=c28No;var W9w,k67,T7u,M6W,H0d;W9w=typeof _CIQ !== "undefined"?_CIQ:A0M.CIQ;P1p.e5w();if(!W9w.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {k67="a";k67+="u";k67+="to";T7u="au";T7u+="to";M6W="au";M6W+="t";M6W+="o";H0d="0 to ";H0d+="100";W9w.Studies.calculateRelativeVolatility=function(Y_9,m4y){var B6w,I5X,r1G,Y3F,b7e,T4l,t3e,B3U,R0k,D7v,o5_,A5w,a3J;B6w="m";B6w+="a";I5X="Smoothin";function I3q(o05,X1a){P1p.X77();if(o05 + X1a === 0){return 100;}P1p.Q3k(179);return P1p.J3g(o05,100,X1a,o05);}I5X+="g";I5X+=" ";I5X+="Period";m4y.days=Number(m4y.inputs[I5X]);r1G=Number(m4y.inputs["STD Period"]);Y3F=m4y.chart.scrubbed;if(Y3F.length < m4y.days + r1G){m4y.error=!!1;return;}b7e=m4y.inputs.Field;if(!b7e || b7e == "field"){b7e="Close";}m4y.std=new W9w.Studies.StudyDescriptor(m4y.name,"sdev",m4y.panel);m4y.std.chart=m4y.chart;m4y.std.days=r1G;m4y.std.startFrom=m4y.startFrom;m4y.std.inputs={Field:b7e,"Standard Deviations":1,Type:B6w};m4y.std.outputs={_STD:null};W9w.Studies.calculateStandardDeviation(Y_9,m4y.std);T4l=0;P1p.Q3k(0);t3e=P1p.J4Z("0",0);if(m4y.startFrom > +"1"){T4l=Y3F[m4y.startFrom - "1" * 1]["_avgG " + m4y.name] || 0;t3e=Y3F[m4y.startFrom - 1]["_avgL " + m4y.name] || +"0";}for(var G1W=Math.max(m4y.startFrom,m4y.days);G1W < Y3F.length;G1W++){B3U="_avg";B3U+="L";B3U+=" ";R0k="_";R0k+="S";R0k+="T";R0k+="D ";D7v=Y3F[G1W];P1p.Q3k(89);o5_=Y3F[P1p.J4Z("1",G1W,0)];A5w=W9w.Studies.getQuoteFieldValue(D7v,b7e);a3J=W9w.Studies.getQuoteFieldValue(o5_,b7e);if(A5w === null || a3J === null)continue;if(!D7v[R0k + m4y.name] && D7v["_STD " + m4y.name] !== 0)continue;if(A5w > a3J){P1p.P4c(45);var j_Q=P1p.J4Z(7,6);T4l=(T4l * (m4y.days - j_Q) + D7v["_STD " + m4y.name]) / m4y.days;P1p.P4c(164);var n5Q=P1p.J4Z(12,10,16,193,10);t3e=t3e * (m4y.days - n5Q) / m4y.days;}else {P1p.Q3k(120);var s3F=P1p.J3g(11,11,122);t3e=(t3e * (m4y.days - s3F) + D7v["_STD " + m4y.name]) / m4y.days;P1p.Q3k(5);var T04=P1p.J3g(12,13);T4l=T4l * (m4y.days - T04) / m4y.days;}D7v["Rel Vol " + m4y.name]=I3q(T4l,t3e);D7v["_avgG " + m4y.name]=T4l;D7v[B3U + m4y.name]=t3e;}m4y.zoneOutput="Rel Vol";};W9w.Studies.calculateHistoricalVolatility=function(V8z,x7E){var X5W,v8L,g7O,M6N,E_T,m3a,H2M,a17,Z21,r$S,A84,A9I;X5W="fie";X5W+="l";X5W+="d";v8L=x7E.chart.scrubbed;if(v8L.length < x7E.days + 1){x7E.error=!"";return;}g7O=x7E.inputs.Field;if(!g7O || g7O == X5W){g7O="Close";}function T1c(c8C){var u_8;u_8="da";u_8+="y";if(isNaN(c8C)){c8C=365;}if(V8z.layout.interval == u_8){return c8C;}else if(V8z.layout.interval == "week"){P1p.P4c(25);return P1p.J4Z("52",1);}else if(V8z.layout.interval == "month"){return 12;}P1p.X77();return c8C;}M6N=x7E.inputs["Standard Deviations"];if(M6N < 0){P1p.Q3k(5);M6N=P1p.J4Z(0,"1");}E_T=+"100" * Math.sqrt(T1c(x7E.inputs["Days Per Year"])) * M6N;m3a=[];H2M=0;if(x7E.startFrom > 1){a17="_stat";a17+="e";a17+=" ";Z21="_sta";Z21+="te ";P1p.P4c(3);var C7b=P1p.J3g(0,1);H2M=v8L[x7E.startFrom - C7b][Z21 + x7E.name][0];m3a=v8L[x7E.startFrom - +"1"][a17 + x7E.name][1].slice();}for(var X1l=Math.max(1,x7E.startFrom);X1l < v8L.length;X1l++){r$S=W9w.Studies.getQuoteFieldValue(v8L[X1l - 1],g7O);if(r$S){A84=Math.log(W9w.Studies.getQuoteFieldValue(v8L[X1l],g7O) / r$S);m3a.push(A84);H2M+=A84;if(X1l >= x7E.days){A9I=0;H2M/=x7E.days;for(var P4X=0;P4X < m3a.length;P4X++){A9I+=Math.pow(m3a[P4X] - H2M,+"2");}H2M*=x7E.days;H2M-=m3a.shift();v8L[X1l]["Result " + x7E.name]=Math.sqrt(A9I / x7E.days) * E_T;}}v8L[X1l]["_state " + x7E.name]=[H2M,m3a.slice()];}};W9w.Studies.studyLibrary=W9w.extend(W9w.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:W9w.Studies.calculateHistoricalVolatility,inputs:{Period:+"10",Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:H0d,calculateFN:W9w.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":M6W},centerline:50,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:"70" * 1,studyOverBoughtColor:T7u,studyOverSoldValue:"30" ^ 0,studyOverSoldColor:k67}}}});}};s8=g7n=>{var T_5=c28No;var e2O,X5A,V1w,t_3;e2O="undef";e2O+="i";T_5.X77();e2O+="ned";X5A=typeof _CIQ !== e2O?_CIQ:g7n.CIQ;if(!X5A.Studies){V1w="volumeProfile feature requires first";V1w+=" activ";V1w+="ating studies feature.";console.error(V1w);}else {t_3="Volume Pro";t_3+="file";X5A.Studies.displayVolumeProfile=function(a0m,H9R,y7r){var m_$,Q5Z,R$6,y9i,G5o,I_h,r8O,g19,Z5n,P_$,e6o,s5V,Z2i,z5Z,s$N,W5H,L37,f1E,d9J,W$R,C0l,i9L,Z2K;m_$="c";m_$+="o";m_$+="lor";Q5Z="P";Q5Z+="ri";Q5Z+="ce Buckets";R$6="Width";R$6+=" P";R$6+="erc";R$6+="entage";if(!a0m || !a0m.chart.dataSet){return;}y9i="stx_volume_profile";G5o="stx-float-date";function D9M(s9y){var Z0Z,P3n,f7h,p_b,D30,P$d,s3u,a1A,E5B,K3c,x34,p1d,V_E,X6v,F5H,M6U;a0m.canvasColor(y9i);I_h.beginPath();Z0Z=H5c=>{return Math.round(H5c);};P3n=z2u=>{return Z0Z(a0m.pixelFromTransformedValue(z2u));};f7h=Z0Z(Q4_.width * p_N);p_b=Z0Z(Q4_.right) - 2.5;D30=p_b;var [K18]=g19[0];for(var J36=+"1";J36 < g19.length;J36++){var [A2_,z9d]=g19[J36];if(z9d){T_5.Q3k(95);P$d=T_5.J3g(P_$,z9d,f7h);s3u=Z0Z(p_b - P$d) + (s9y?-("0.5" - 0):0);T_5.P4c(34);var a$0=T_5.J3g(4,20,4);a1A=P3n(A2_) + (s9y?0.5:a$0);E5B=P3n(K18) + (s9y?0.5:0);K3c=Math.max(a1A,O1l.top);x34=Math.min(E5B,O1l.bottom);p1d=K3c <= O1l.bottom && x34 >= O1l.top;if(p1d){I_h.moveTo(p_b,x34);I_h.lineTo(p_b,K3c);I_h.lineTo(s3u,K3c);I_h.lineTo(s3u,x34);if(s9y){if(J36 == 1 || D30 > s3u){I_h.lineTo(D30,x34);}}else {I_h.lineTo(p_b,x34);if(Y4U){V_E=X5A.condenseInt(z9d);T_5.P4c(5);X6v=T_5.J3g(K3c,x34);if(C0l <= X6v - 2){F5H=void 0;try{({width:F5H}=I_h.measureText(V_E));}catch(n$9){F5H=0;}I_h.textBaseline="top";M6U=I_h.fillStyle;I_h.fillStyle=i9L;T_5.P4c(38);I_h.fillText(V_E,T_5.J4Z(F5H,s3u,3),T_5.J4Z(2,X6v,K3c,2,C0l,T_5.P4c(180)));I_h.fillStyle=M6U;}}}}D30=s3u;}else {D30=p_b;}K18=A2_;}if(!H9R.highlight && a0m.highlightedDraggable){I_h.globalAlpha*=0.3;}if(!s9y){I_h.fill();}I_h.strokeStyle=i9L;if(s9y){I_h.stroke();}I_h.closePath();}I_h=H9R.getContext(a0m);var {chart:Q4_}=a0m;var {panel:C7e}=Q4_;var {yAxis:O1l}=C7e;var {flipped:R0C}=O1l;var {highValue:U0M, lowValue:Q$C}=Q4_;var {displayBorder:f2$ = H9R.inputs["Display Border"], displayVolume:Y4U = H9R.inputs["Display Volume"], widthPercentage:p_N = H9R.inputs[R$6], numberBars:b9l = H9R.inputs[Q5Z]}=H9R.parameters;if(f2$ !== !!""){f2$=!!"1";}if(Y4U !== !![]){Y4U=!1;}if(!p_N || p_N < 0){p_N=0.25;}if(!b9l || b9l < 0){b9l=30;}b9l=Math.ceil(b9l);T_5.Q3k(33);r8O=T_5.J4Z(b9l,U0M,Q$C);if(r8O === 0){return;}g19=[];if(R0C){[U0M,Q$C]=[Q$C,U0M];}Z5n=R0C?-1:1;for(var W2I=Q$C,w8q=0;w8q <= b9l;(W2I+=r8O * Z5n,w8q++)){g19.push([W2I,0]);}P_$=0;for(var W5R="0" - 0;W5R < y7r.length;W5R++){e6o=y7r[W5R];if(e6o === null)continue;var {Volume:x8C}=e6o;if(!x8C)continue;var {High:t1Y, Low:q8n}=e6o.transform || e6o;s5V=[];T_5.P4c(25);Z2i=g19[+"0"][T_5.J4Z("0",1)];z5Z=null;for(var O2O=1;O2O < g19.length;O2O++){z5Z=g19[O2O][0];s$N=q8n >= Z2i && q8n <= z5Z;W5H=t1Y >= Z2i && t1Y <= z5Z;L37=q8n < Z2i && t1Y > z5Z;if(s$N || W5H || L37){s5V.push(O2O);}Z2i=z5Z;}if(s5V.length){f1E=x8C / s5V.length;for(var J9a=0;J9a < s5V.length;J9a++){d9J=g19[s5V[J9a]][1]+=f1E;if(d9J > P_$){P_$=d9J;}}}}if(P_$ === 0){W$R="N";W$R+="ot enough data to re";W$R+="nder the Volume Profile";a0m.displayErrorAsWatermark("chart",a0m.translateIf(W$R));return;}a0m.setStyle(y9i,m_$,X5A.Studies.determineColor(H9R.outputs["Bars Color"]));C0l=a0m.getCanvasFontSize(G5o);i9L=a0m.canvasStyle(y9i).borderTopColor;Z2K=f2$ && !X5A.isTransparent(i9L);a0m.canvasFont(G5o,I_h);D9M();if(Z2K){D9M(!!({}));}I_h.globalAlpha=1;};X5A.Studies.studyLibrary=X5A.extend(X5A.Studies.studyLibrary,{"vol profile":{name:t_3,underlay:!![],seriesFN:X5A.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!0,"Display Volume":!({}),"Price Buckets":30,"Width Percentage":0.25},outputs:{"Bars Color":"#b64a96"},customRemoval:!![],attributes:{yaxisDisplayValue:{hidden:!![]},panelName:{hidden:!!({})},flippedEnabled:{hidden:!0}}}});}};H7=c3k=>{var d71=c28No;var J6h,s7T,r_Y,I3w,s5E,z_$,U$w,S_i;J6h=typeof _CIQ !== "undefined"?_CIQ:c3k.CIQ;d71.e5w();if(!J6h.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {s7T="serie";s7T+="s";r_Y="#";r_Y+="FF000";r_Y+="0";I3w="Positive ";I3w+="Volume Index";s5E="O";s5E+="n";s5E+=" Bala";s5E+="nce Volume";z_$="m";z_$+="a";U$w="f";U$w+="ie";U$w+="l";U$w+="d";S_i="Negative ";S_i+="Volume ";S_i+="In";S_i+="dex";J6h.Studies.calculateOnBalanceVolume=function(s7W,R51){var K4i,g_p,f3c,K2O,r6h,V7I,e1_,I$B,Z8n,X13,Z0B,p4O,j$8;K4i="Mi";K4i+="n T";K4i+="i";K4i+="ck Value";g_p=R51.inputs.Field;if(!g_p || g_p == "field"){g_p="Close";}f3c=R51.inputs[K4i];K2O=!({});if(!f3c && f3c !== 0){K2O=!0;f3c=0;}d71.X77();r6h=R51.chart.scrubbed;V7I=0;for(var E9q=R51.startFrom;E9q < r6h.length;E9q++){Z8n="Re";Z8n+="sult ";e1_=r6h[E9q];X13=J6h.Studies.getQuoteFieldValue(e1_,g_p);if(!E9q || !X13)continue;if(r6h[E9q - ("1" | 1)][g_p]){d71.P4c(5);I$B=r6h[d71.J4Z(1,E9q)];}if(!I$B)continue;Z0B=J6h.Studies.getQuoteFieldValue(I$B,g_p);if(X13 - Z0B > f3c){V7I=1;}else if(Z0B - X13 > f3c){d71.P4c(25);V7I=-d71.J3g("1",1);}else if(K2O){V7I=0;}p4O=I$B[Z8n + R51.name];if(!p4O){p4O=0;}j$8=e1_.Volume;if(typeof e1_[g_p] === "object"){j$8=e1_[g_p].Volume;}d71.Q3k(25);p4O+=d71.J4Z(j$8,V7I);e1_["Result " + R51.name]=p4O;}};J6h.Studies.calculatePriceVolumeTrend=function(f$J,c0n){var H$t,U1T,f8V,P4Q,e7l,D8X;d71.X77();H$t="C";H$t+="lose";U1T=c0n.inputs.Field;if(!U1T || U1T == "field"){U1T=H$t;}f8V=c0n.chart.scrubbed;P4Q=0;if(c0n.startFrom > 1){d71.Q3k(45);var x4D=d71.J3g(8,7);P4Q=f8V[c0n.startFrom - x4D]["Result " + c0n.name];}for(var q24=Math.max(+"1",c0n.startFrom);q24 < f8V.length;q24++){e7l=J6h.Studies.getQuoteFieldValue(f8V[q24],U1T);D8X=J6h.Studies.getQuoteFieldValue(f8V[q24 - 1],U1T);if(e7l === null || D8X === null)continue;P4Q+=f8V[q24].Volume * (e7l - D8X) / D8X;f8V[q24]["Result " + c0n.name]=P4Q;}};J6h.Studies.calculateVolumeIndex=function(r_k,U4T){var s0J,o_j,k6H,Q8S,V$h,S5O,J3_,B3N,Q6K,M$4,J8X;s0J="M";s0J+="A";o_j=U4T.inputs.Field;if(!o_j || o_j == "field"){o_j="Close";}k6H=U4T.chart.scrubbed;if(k6H.length < U4T.days + 1){U4T.error=!!({});return;}d71.Q3k(1);Q8S=d71.J4Z("100",0);if(U4T.startFrom > "1" - 0){d71.Q3k(39);var Q6Y=d71.J3g(12,11,229,10);Q8S=k6H[U4T.startFrom - ("1" | Q6Y)]["Index " + U4T.name];}for(var k54=Math.max(1,U4T.startFrom);k54 < k6H.length;k54++){V$h="N";V$h+="e";V$h+="g ";V$h+="Vol";S5O="Pos";S5O+=" ";S5O+="Vol";J3_="ob";J3_+="j";J3_+="ec";J3_+="t";B3N=k6H[k54][o_j];Q6K=k6H[k54].Volume;if(B3N && typeof B3N == "object"){Q6K=B3N.Volume;B3N=B3N[U4T.subField];}d71.Q3k(5);M$4=k6H[d71.J3g(1,k54)][o_j];J8X=k6H[k54 - 1].Volume;if(M$4 && typeof M$4 == J3_){J8X=M$4.Volume;M$4=M$4[U4T.subField];}if(!B3N)continue;if(!M$4)continue;if(U4T.type == S5O && Q6K > J8X || U4T.type == V$h && Q6K < J8X){d71.Q3k(15);Q8S*=d71.J3g(B3N,M$4);}k6H[k54]["Index " + U4T.name]=Q8S;}J6h.Studies.MA(U4T.inputs["Moving Average Type"],U4T.days,"Index " + U4T.name,0,s0J,r_k,U4T);};J6h.Studies.studyLibrary=J6h.extend(J6h.Studies.studyLibrary,{"Neg Vol":{name:S_i,calculateFN:J6h.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:U$w,"Moving Average Type":z_$},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:s5E,calculateFN:J6h.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:I3w,calculateFN:J6h.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:r_Y}},"Price Vol":{name:"Price Volume Trend",calculateFN:J6h.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:J6h.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(P5O,v8Y){if(J6h.Studies.calculateRateOfChange){J6h.Studies.calculateRateOfChange(P5O,v8Y);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");J6h.Studies.calculateRateOfChange=function(P6v,O5Z){};}},parameters:{init:{isVolume:!!({})}}},"vol undr":{name:"Volume Underlay",underlay:!!1,range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,position:"none",heightFactor:0.25},seriesFN:J6h.Studies.createVolumeChart,calculateFN:J6h.Studies.calculateVolume,inputs:{Series:s7T},attributes:{Series:{hidden:function(){return !Object.keys(this.chart.series).length;}}},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},removeFN:function(R4d,y4I){R4d.layout.volumeUnderlay=![];d71.X77();R4d.changeOccurred("layout");}}});}};v7=k7f=>{var o$F=c28No;var E8S,q4B;o$F.X77();E8S=typeof _CIQ !== "undefined"?_CIQ:k7f.CIQ;if(!E8S.Studies){console.error("vortex feature requires first activating studies feature.");}else {q4B="0";q4B+=".0";q4B+="1";E8S.Studies.calculateVortex=function(Z23,O8v){var O8W,L5P,Q$K,U6$,U3x,W2n,M4k,J9e,r8q,P1z;O8W=O8v.chart.scrubbed;L5P=O8v.days;if(O8W.length < L5P + 1){O8v.error=!!"1";return;}Q$K={tr:"0" >> 0,vmPlus:0,vmMinus:"0" << 0};o$F.X77();if(O8v.startFrom > ("1" ^ 0)){Q$K=E8S.clone(O8W[O8v.startFrom - 1]["_totals " + O8v.name]);}for(var O3K=Math.max(O8v.startFrom,+"1");O3K < O8W.length;O3K++){U6$="_totals";U6$+=" ";U3x="_Tru";U3x+="e Range ";W2n=O8W[O3K];o$F.Q3k(5);M4k=O8W[o$F.J3g(1,O3K)];J9e=Math.abs(W2n.High - M4k.Low);r8q=Math.abs(W2n.Low - M4k.High);P1z=Math.max(W2n.High,M4k.Close) - Math.min(W2n.Low,M4k.Close);Q$K.tr+=P1z;Q$K.vmPlus+=J9e;Q$K.vmMinus+=r8q;if(O3K > L5P){o$F.Q3k(5);Q$K.tr-=O8W[o$F.J4Z(L5P,O3K)]["_True Range " + O8v.name];o$F.P4c(5);Q$K.vmPlus-=O8W[o$F.J3g(L5P,O3K)]["_VMPlus " + O8v.name];o$F.Q3k(5);Q$K.vmMinus-=O8W[o$F.J3g(L5P,O3K)]["_VMMinus " + O8v.name];}W2n[U3x + O8v.name]=P1z;W2n["_VMPlus " + O8v.name]=J9e;W2n["_VMMinus " + O8v.name]=r8q;if(O3K >= L5P){W2n["+VI " + O8v.name]=Q$K.vmPlus / Q$K.tr;W2n["-VI " + O8v.name]=Q$K.vmMinus / Q$K.tr;}W2n[U6$ + O8v.name]=E8S.clone(Q$K);}};E8S.Studies.studyLibrary=E8S.extend(E8S.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:E8S.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:q4B}}}});}};f9=z3q=>{var m1h=c28No;var B5T,s8y,H65,r4C,m2S,D7W,Z1D;B5T=-374514188;s8y=2110491319;m1h.P4c(20);H65=m1h.J4Z(0,"2");for(var u9l="1" * 1;m1h.j3V(u9l.toString(),u9l.toString().length,+"6222") !== B5T;u9l++){r4C=!_CIQ == ""?_CIQ:z3q.CIQ;H65+=2;}if(m1h.j3V(H65.toString(),H65.toString().length,56012) !== s8y){r4C=typeof _CIQ !== "undefined"?_CIQ:z3q.CIQ;}m1h.X77();if(!r4C.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {m2S="#ffd";m2S+="0";m2S+="cf";D7W="#8bc";D7W+="176";Z1D="Market Fac";Z1D+="i";Z1D+="li";Z1D+="tation Index";r4C.Studies.calculateMFI=function(f5c,R4F){var B$t,p44,j3j,c_3,K8M,S_d,w8p,c1o,C2q;B$t="_h";B$t+="ig";B$t+="h";m1h.X77();B$t+=" ";p44="Scal";p44+="e Fact";p44+="or";j3j=R4F.chart.scrubbed;m1h.P4c(5);K8M=m1h.J3g(0,"0");S_d=R4F.inputs["Scale Factor"];if(!S_d){S_d=R4F.study.inputs[p44];}w8p=Math.pow(10,Number(S_d));if(R4F.startFrom > 1){m1h.Q3k(126);var t7y=m1h.J3g(20,0,2,15,4);K8M=j3j[R4F.startFrom - t7y][B$t + R4F.name];}for(c1o=R4F.startFrom;c1o < j3j.length;c1o++){if(!j3j[c1o])continue;if(j3j[c1o].Volume){C2q="_hi";C2q+="st";j3j[c1o][R4F.name + C2q]=c_3=w8p * (j3j[c1o].High - j3j[c1o].Low) / j3j[c1o].Volume;j3j[c1o]["_high " + R4F.name]=K8M=Math.max(K8M,c_3);}}R4F.outputMap={};R4F.outputMap[R4F.name + "_hist"]="";};r4C.Studies.displayMFI=function(j35,i1G,p6F){var K2Y,Z2c,J9E,a8a,n01,z93,V0V,T6e,z8Q,X0R,P0D,q_m,s34,A_9,s1l,P53,N_K,g9R;K2Y="stx";K2Y+="_histogra";K2Y+="m";Z2c=j35.panels[i1G.panel];J9E=i1G.getContext(j35);a8a=i1G.getYAxis(j35);n01=a8a.flipped?a8a.top:a8a.bottom;m1h.Q3k(38);var P0z=m1h.J4Z(3,28,23);z93=j35.layout.candleWidth - P0z;if(z93 < 2){z93=+"1";}V0V=r4C.Studies.determineColor(i1G.outputs.Green);T6e=r4C.Studies.determineColor(i1G.outputs.Fade);z8Q=r4C.Studies.determineColor(i1G.outputs.Fake);X0R=r4C.Studies.determineColor(i1G.outputs.Squat);j35.canvasColor(K2Y);if(!i1G.underlay){m1h.P4c(5);J9E.globalAlpha=m1h.J4Z(0,"1");}J9E.fillStyle="#CCCCCC";j35.startClip(i1G.panel);if(!i1G.highlight && j35.highlightedDraggable){J9E.globalAlpha*=0.3;}for(var D0D=0;D0D < p6F.length;D0D++){P0D="_";P0D+="hi";P0D+="s";P0D+="t";q_m="_his";q_m+="t";s34="_";s34+="h";s34+="is";s34+="t";A_9="_h";A_9+="ist";s1l=0;P53=p6F[D0D];m1h.P4c(5);N_K=p6F[m1h.J3g(1,D0D)];if(!N_K){N_K=j35.getPreviousBar(j35.chart,i1G.name + A_9,D0D);}if(!P53)continue;if(j35.cleanupGaps === "stretch"){while(p6F[D0D + 1]){m1h.P4c(3);g9R=p6F[m1h.J3g(D0D,1)][i1G.name + "_hist"];if(g9R || g9R === +"0" || p6F[D0D + ("1" | 1)].futureTick)break;s1l++;D0D++;}}if(!N_K || N_K[i1G.name + "_hist"] === undefined){N_K=j35.getPreviousBar(j35.chart,i1G.name + s34,D0D - s1l);}if(!N_K);else if(N_K[i1G.name + "_hist"] < P53[i1G.name + "_hist"]){if(N_K.Volume < P53.Volume){J9E.fillStyle=V0V;}else if(N_K.Volume > P53.Volume){J9E.fillStyle=z8Q;}}else if(N_K[i1G.name + q_m] > P53[i1G.name + P0D]){if(N_K.Volume < P53.Volume){J9E.fillStyle=X0R;}else if(N_K.Volume > P53.Volume){J9E.fillStyle=T6e;}}if(P53.candleWidth){z93=Math.floor(Math.max("1" << 0,P53.candleWidth - 2));}J9E.fillRect(Math.floor(j35.pixelFromBar(D0D - s1l,Z2c.chart) - z93 / ("2" ^ 0)),Math.floor(n01),Math.floor(z93 + s1l * j35.layout.candleWidth),Math.floor(j35.pixelFromPrice(P53[i1G.name + "_hist"],Z2c,a8a) - n01));}j35.endClip();};r4C.Studies.studyLibrary=r4C.extend(r4C.Studies.studyLibrary,{"W MFI":{name:Z1D,seriesFN:r4C.Studies.displayMFI,calculateFN:r4C.Studies.calculateMFI,yAxis:{ground:!!1},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:D7W,Fade:"#ab611f",Fake:"#5f7cb8",Squat:m2S}}});}};F_={CIQ:a7,SplinePlotter:T1,timezoneJS:a1,$$:j1,$$$:R6};export {a3 as aggregations};export {N5 as drawingAdvanced};export {k6 as equationsAdvanced};export {s0 as highPerformanceMarkers};export {a9 as renderersAdvanced};export {m3 as typedefs};export {Z5 as accumulationDistribution};export {q$ as adx};export {J0 as alligator};export {o5 as aroon};export {w8 as atr};export {o2 as awesomeOscillator};export {x9 as balanceOfPower};export {r1 as bollinger};export {g2 as cci};export {B3 as centerOfGravity};export {E3 as chaikin};export {c4 as chande};export {g7 as choppiness};export {W$ as comparisonStudies};export {f3 as coppock};export {h6 as darvasBox};export {p5 as detrended};export {r9 as disparity};export {k0 as easeOfMovement};export {T_ as ehlerFisher};export {M5 as elder};export {F6 as fractalChaos};export {e1 as goNoGo};export {j7 as highLowStudies};export {o0 as ichimoku};export {A5 as intradayMomentum};export {u7 as keltner};export {B$ as klinger};export {T9 as linearRegression};export {i5 as macd};export {a2 as massIndex};export {I_ as moneyFlow};export {g4 as movingAverages};export {c6 as parabolicSAR};export {U5 as pivotPoints};export {T0 as prettyGoodOscillator};export {b7 as priceMomentumOscillator};export {H$ as priceVolumeOscillator};export {m6 as primeNumber};export {X9 as pring};export {s7 as projectedVolume};export {a4 as psychologicalLine};export {c0 as qstick};export {K4 as rainbow};export {r_ as randomWalk};export {M6 as relativeVigor};export {S8 as rsi};export {W3 as schaffTrendCycle};export {v9 as shinohara};export {Z7 as stochastics};export {M1 as supertrend};export {l2 as swingIndex};export {m0 as trendIntensity};export {w7 as trix};export {O6 as twiggsMoneyFlow};export {E0 as typicalPrice};export {G3 as ulcerIndex};export {S7 as ultimateOscillator};export {E2 as valuationLines};export {E5 as volatilityIndex};export {s8 as volumeProfile};export {H7 as volumeStudies};export {v7 as vortex};export {f9 as williamsMFI};export {a7 as CIQ, T1 as SplinePlotter, a1 as timezoneJS, j1 as $$, R6 as $$$};if(typeof __TREE_SHAKE__ === S$9pGt || !__TREE_SHAKE__){F_.CIQ.activateImports(a3,N5,k6,s0,a9,m3,Z5,q$,J0,o5,w8,o2,x9,r1,g2,B3,E3,c4,g7,W$,f3,h6,p5,r9,k0,T_,M5,F6,e1,j7,o0,A5,u7,B$,T9,i5,a2,I_,g4,c6,U5,T0,b7,H$,m6,X9,s7,a4,c0,K4,r_,M6,S8,W3,v9,Z7,M1,l2,m0,w7,O6,E0,G3,S7,E2,E5,s8,H7,v7,f9,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
